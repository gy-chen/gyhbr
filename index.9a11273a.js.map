{"mappings":"+0BAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,8I,cCA1C,SAAAC,EAAmBC,EAAGC,GACnC,OAAY,MAALD,GAAkB,MAALC,EAAYC,IAAMF,EAAIC,GAAI,EAAKD,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIC,GAC9E,CCFe,SAAAC,EAAoBH,EAAGC,GACpC,OAAY,MAALD,GAAkB,MAALC,EAAYC,IAC5BD,EAAID,GAAI,EACRC,EAAID,EAAI,EACRC,GAAKD,EAAI,EACTE,GACN,CCHe,SAAAE,EAAkBC,GAC/B,IAAIC,EAAUC,EAAUC,EAiBxB,SAASC,EAAKT,EAAGU,EAAGC,EAAK,EAAGC,EAAKZ,EAAET,QACjC,GAAIoB,EAAKC,EAAI,CACX,GAAuB,IAAnBN,EAASI,EAAGA,GAAU,OAAOE,EACjC,EAAG,CACD,MAAMC,EAAMF,EAAMC,IAAQ,EACtBL,EAASP,EAAEa,GAAMH,GAAK,EAAGC,EAAKE,EAAM,EACnCD,EAAKC,CACZ,OAASF,EAAKC,EAChB,CACA,OAAOD,CACT,CAmBA,OAvCiB,IAAbN,EAAEd,QACJe,EAAWP,EACXQ,EAAW,CAACO,EAAGJ,IAAMX,EAAUM,EAAES,GAAIJ,GACrCF,EAAQ,CAACM,EAAGJ,IAAML,EAAES,GAAKJ,IAEzBJ,EAAWD,IAAMN,GAAaM,IAAMF,EAAaE,EAAIU,EACrDR,EAAWF,EACXG,EAAQH,GAgCH,C,KAACI,E,OALR,SAAgBT,EAAGU,EAAGC,EAAK,EAAGC,EAAKZ,EAAET,QACnC,MAAMD,EAAImB,EAAKT,EAAGU,EAAGC,EAAIC,EAAK,GAC9B,OAAOtB,EAAIqB,GAAMH,EAAMR,EAAEV,EAAI,GAAIoB,IAAMF,EAAMR,EAAEV,GAAIoB,GAAKpB,EAAI,EAAIA,CAClE,E,MAfA,SAAeU,EAAGU,EAAGC,EAAK,EAAGC,EAAKZ,EAAET,QAClC,GAAIoB,EAAKC,EAAI,CACX,GAAuB,IAAnBN,EAASI,EAAGA,GAAU,OAAOE,EACjC,EAAG,CACD,MAAMC,EAAMF,EAAMC,IAAQ,EACtBL,EAASP,EAAEa,GAAMH,IAAM,EAAGC,EAAKE,EAAM,EACpCD,EAAKC,CACZ,OAASF,EAAKC,EAChB,CACA,OAAOD,CACT,EAQF,CAEA,SAASI,IACP,OAAO,CACT,CCvDe,SAAAC,EAAgBN,GAC7B,OAAa,OAANA,EAAaR,KAAOQ,CAC7B,CAEO,SAAUO,EAAQC,EAAQC,GAC/B,QAAgBC,IAAZD,EACF,IAAK,IAAIE,KAASH,EACH,MAATG,IAAkBA,GAASA,IAAUA,UACjCA,OAGL,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAAqBG,GAASA,IAAUA,UACrEA,EAGZ,CACF,C,k3DCfA,MAAME,EAAkBnB,EAASL,GACpByB,EAAcD,EAAgBE,MAC9BC,EAAaH,EAAgBd,KAC7BkB,EAAevB,EAASY,GAAQY,O,IAC7CC,EAAeL,ECRR,SAASM,EAAKZ,EAAQa,GAC3B,MAAOA,GAAKA,IAAM,GAAI,MAAM,IAAIC,WAAW,aAC3C,IAAIzC,EAAS2B,EAAO3B,OACpB,MAAOA,EAAS0C,KAAKC,MAAM3C,KAAY,GAAI,MAAM,IAAIyC,WAAW,kBAChE,IAAKzC,IAAWwC,EAAG,OAAOb,EAC1B,MAAMiB,EAAOC,EAAML,GACbM,EAAOnB,EAAOoB,QAIpB,OAHAH,EAAKjB,EAAQmB,EAAM,EAAG9C,EAAQ,GAC9B4C,EAAKE,EAAMnB,EAAQ,EAAG3B,EAAQ,GAC9B4C,EAAKjB,EAAQmB,EAAM,EAAG9C,EAAQ,GACvB2B,CACT,CAEO,MAAMqB,EAAQC,EAAMJ,GAEdK,EAAYD,GA6CzB,SAAoBE,GAClB,MAAMP,EAAOC,EAAMM,GACnB,MAAO,CAACC,EAAGC,EAAGC,EAAOC,EAAMC,KAEzBZ,EAAKQ,EAAGC,GADRC,IAAU,GACS,GADNC,IAAS,GACO,EADJC,IAAS,GAElCZ,EAAKQ,EAAGC,EAAGC,EAAQ,EAAGC,EAAO,EAAGC,GAChCZ,EAAKQ,EAAGC,EAAGC,EAAQ,EAAGC,EAAO,EAAGC,GAChCZ,EAAKQ,EAAGC,EAAGC,EAAQ,EAAGC,EAAO,EAAGC,EAAA,CAEpC,IApDA,SAASP,EAAML,GACb,OAAO,SAASa,EAAMC,EAAIC,EAAKD,GAC7B,MAAOA,GAAMA,IAAO,GAAI,MAAM,IAAIjB,WAAW,cAC7C,MAAOkB,GAAMA,IAAO,GAAI,MAAM,IAAIlB,WAAW,cAC7C,IAAKgB,KAAM9B,EAAMiC,MAAEA,EAAKC,OAAEA,GAAUJ,EACpC,MAAOG,EAAQlB,KAAKC,MAAMiB,KAAW,GAAI,MAAM,IAAInB,WAAW,iBAC9D,MAAOoB,EAASnB,KAAKC,WAAiBd,IAAXgC,EAAuBA,EAASlC,EAAO3B,OAAS4D,KAAW,GAAI,MAAM,IAAInB,WAAW,kBAC/G,IAAKmB,IAAUC,IAAYH,IAAOC,EAAK,OAAOF,EAC9C,MAAMK,EAAQJ,GAAMd,EAAKc,GACnBK,EAAQJ,GAAMf,EAAKe,GACnBb,EAAOnB,EAAOoB,QAiBpB,OAhBIe,GAASC,GACXC,EAAMF,EAAOhB,EAAMnB,EAAQiC,EAAOC,GAClCG,EAAMF,EAAOnC,EAAQmB,EAAMc,EAAOC,GAClCG,EAAMF,EAAOhB,EAAMnB,EAAQiC,EAAOC,GAClCI,EAAMF,EAAOpC,EAAQmB,EAAMc,EAAOC,GAClCI,EAAMF,EAAOjB,EAAMnB,EAAQiC,EAAOC,GAClCI,EAAMF,EAAOpC,EAAQmB,EAAMc,EAAOC,IACzBC,GACTE,EAAMF,EAAOnC,EAAQmB,EAAMc,EAAOC,GAClCG,EAAMF,EAAOhB,EAAMnB,EAAQiC,EAAOC,GAClCG,EAAMF,EAAOnC,EAAQmB,EAAMc,EAAOC,IACzBE,IACTE,EAAMF,EAAOpC,EAAQmB,EAAMc,EAAOC,GAClCI,EAAMF,EAAOjB,EAAMnB,EAAQiC,EAAOC,GAClCI,EAAMF,EAAOpC,EAAQmB,EAAMc,EAAOC,IAE7BJ,CACT,CACF,CAEA,SAASO,EAAMpB,EAAMQ,EAAGC,EAAGa,EAAGC,GAC5B,IAAK,IAAIC,EAAI,EAAGC,EAAIH,EAAIC,EAAGC,EAAIC,GAC7BzB,EAAKQ,EAAGC,EAAGe,EAAGA,GAAKF,EAAG,EAE1B,CAEA,SAASD,EAAMrB,EAAMQ,EAAGC,EAAGa,EAAGC,GAC5B,IAAK,IAAIhD,EAAI,EAAGkD,EAAIH,EAAIC,EAAGhD,EAAI+C,IAAK/C,EAClCyB,EAAKQ,EAAGC,EAAGlC,EAAGA,EAAIkD,EAAGH,EAEzB,CAmBA,SAASrB,EAAMM,GACb,MAAMmB,EAAU5B,KAAKC,MAAMQ,GAC3B,GAAImB,IAAYnB,EAAQ,OAoB1B,SAAeA,GACb,MAAMe,EAAI,EAAIf,EAAS,EACvB,MAAO,CAACC,EAAGC,EAAGC,EAAOC,EAAMC,KACzB,MAAOD,GAAQC,IAASF,GAAQ,OAChC,IAAIiB,EAAMpB,EAASE,EAAEC,GACrB,MAAMkB,EAAIhB,EAAOL,EACjB,IAAK,IAAIpD,EAAIuD,EAAOmB,EAAInB,EAAQkB,EAAGzE,EAAI0E,EAAG1E,GAAKyD,EAC7Ce,GAAOlB,EAAEX,KAAKgC,IAAInB,EAAMxD,IAE1B,IAAK,IAAIA,EAAIuD,EAAOmB,EAAIlB,EAAMxD,GAAK0E,EAAG1E,GAAKyD,EACzCe,GAAOlB,EAAEX,KAAKgC,IAAInB,EAAMxD,EAAIyE,IAC5BpB,EAAErD,GAAKwE,EAAML,EACbK,GAAOlB,EAAEX,KAAKiC,IAAIrB,EAAOvD,EAAIyE,GAC/B,CAEJ,CAnCiCI,CAAMzB,GACrC,MAAM0B,EAAI1B,EAASmB,EACbJ,EAAI,EAAIf,EAAS,EACvB,MAAO,CAACC,EAAGC,EAAGC,EAAOC,EAAMC,KACzB,MAAOD,GAAQC,IAASF,GAAQ,OAChC,IAAIiB,EAAMD,EAAUjB,EAAEC,GACtB,MAAMwB,EAAKtB,EAAOc,EACZS,EAAKD,EAAKtB,EAChB,IAAK,IAAIzD,EAAIuD,EAAOmB,EAAInB,EAAQwB,EAAI/E,EAAI0E,EAAG1E,GAAKyD,EAC9Ce,GAAOlB,EAAEX,KAAKgC,IAAInB,EAAMxD,IAE1B,IAAK,IAAIA,EAAIuD,EAAOmB,EAAIlB,EAAMxD,GAAK0E,EAAG1E,GAAKyD,EACzCe,GAAOlB,EAAEX,KAAKgC,IAAInB,EAAMxD,EAAI+E,IAC5B1B,EAAErD,IAAMwE,EAAMM,GAAKxB,EAAEX,KAAKiC,IAAIrB,EAAOvD,EAAIgF,IAAO1B,EAAEX,KAAKgC,IAAInB,EAAMxD,EAAIgF,MAASb,EAC9EK,GAAOlB,EAAEX,KAAKiC,IAAIrB,EAAOvD,EAAI+E,GAC/B,CAEJ,CChGe,SAAAE,EAAerD,EAAQC,GACpC,IAAIqD,EAAQ,EACZ,QAAgBpD,IAAZD,EACF,IAAK,IAAIE,KAASH,EACH,MAATG,IAAkBA,GAASA,IAAUA,KACrCmD,MAGD,CACL,IAAIlD,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAAqBG,GAASA,IAAUA,KACzEmD,CAGR,CACA,OAAOA,CACT,CCjBA,SAASC,EAAOC,GACd,OAAsB,EAAfA,EAAMnF,MACf,CAEA,SAASoF,EAAMpF,GACb,QAASA,EAAS,EACpB,CAEA,SAASqF,EAAS1D,GAChB,MAAyB,iBAAXA,GAAuB,WAAYA,EAASA,EAAS2D,MAAMC,KAAK5D,EAChF,CAMe,SAAA6D,KAAkB7D,GAC/B,MAAM8D,EAA8C,mBAA9B9D,EAAOA,EAAO3B,OAAS,IAL/C,SAAiByF,GACf,OAAO9D,GAAU8D,KAAU9D,EAC7B,CAGoE+D,CAAQ/D,EAAOgE,OAE3EC,GADNjE,EAASA,EAAOkE,IAAIR,IACGQ,IAAIX,GACrBT,EAAI9C,EAAO3B,OAAS,EACpB+B,EAAQ,IAAIuD,MAAMb,EAAI,GAAGqB,KAAK,GAC9BC,EAAU,GAChB,GAAItB,EAAI,GAAKmB,EAAQI,KAAKZ,GAAQ,OAAOW,EACzC,OAAa,CACXA,EAAQE,KAAKlE,EAAM8D,KAAI,CAACpB,EAAG1E,IAAM4B,EAAO5B,GAAG0E,MAC3C,IAAI1E,EAAI0E,EACR,OAAS1C,EAAMhC,KAAO6F,EAAQ7F,IAAI,CAChC,GAAU,IAANA,EAAS,OAAO0F,EAASM,EAAQF,IAAIJ,GAAUM,EACnDhE,EAAMhC,KAAO,CACf,CACF,CACF,CChCe,SAAAmG,EAAgBvE,EAAQC,GACrC,IAAI2C,EAAM,EAAGxC,EAAQ,EACrB,OAAOoE,aAAaZ,KAAK5D,OAAoBE,IAAZD,EAC7BwE,GAAM7B,IAAQ6B,GAAK,EACnBA,GAAM7B,IAAQ3C,EAAQwE,EAAGrE,IAASJ,IAAW,EACnD,CCLe,SAAA0E,EAAkB1E,EAAQC,GACvC,IACIX,EADAgE,EAAQ,EAERqB,EAAO,EACP/B,EAAM,EACV,QAAgB1C,IAAZD,EACF,IAAK,IAAIE,KAASH,EACH,MAATG,IAAkBA,GAASA,IAAUA,IACvCb,EAAQa,EAAQwE,EAChBA,GAAQrF,IAAUgE,EAClBV,GAAOtD,GAASa,EAAQwE,QAGvB,CACL,IAAIvE,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAAqBG,GAASA,IAAUA,IAC3Eb,EAAQa,EAAQwE,EAChBA,GAAQrF,IAAUgE,EAClBV,GAAOtD,GAASa,EAAQwE,GAG9B,CACA,GAAIrB,EAAQ,EAAG,OAAOV,GAAOU,EAAQ,EACvC,CCtBe,SAAAsB,EAAmB5E,EAAQC,GACxC,MAAMwE,EAAIC,EAAS1E,EAAQC,GAC3B,OAAOwE,EAAI1D,KAAK8D,KAAKJ,GAAKA,CAC5B,CCLe,SAAAK,EAAgB9E,EAAQC,GACrC,IAAI8C,EACAC,EACJ,QAAgB9C,IAAZD,EACF,IAAK,MAAME,KAASH,EACL,MAATG,SACUD,IAAR6C,EACE5C,GAASA,IAAO4C,EAAMC,EAAM7C,IAE5B4C,EAAM5C,IAAO4C,EAAM5C,GACnB6C,EAAM7C,IAAO6C,EAAM7C,SAIxB,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,WACvBE,IAAR6C,EACE5C,GAASA,IAAO4C,EAAMC,EAAM7C,IAE5B4C,EAAM5C,IAAO4C,EAAM5C,GACnB6C,EAAM7C,IAAO6C,EAAM7C,IAI/B,CACA,MAAO,CAAC4C,EAAKC,EACf,CC3BO,MAAM+B,EACXC,cACEC,KAAKC,UAAY,IAAIV,aAAa,IAClCS,KAAKE,GAAK,CACZ,CACAC,IAAI5F,GACF,MAAM6F,EAAIJ,KAAKC,UACf,IAAI9G,EAAI,EACR,IAAK,IAAI0E,EAAI,EAAGA,EAAImC,KAAKE,IAAMrC,EAAI,GAAIA,IAAK,CAC1C,MAAML,EAAI4C,EAAEvC,GACVpD,EAAKF,EAAIiD,EACThD,EAAKsB,KAAKuE,IAAI9F,GAAKuB,KAAKuE,IAAI7C,GAAKjD,GAAKE,EAAK+C,GAAKA,GAAK/C,EAAKF,GACxDC,IAAI4F,EAAEjH,KAAOqB,GACjBD,EAAIE,CACN,CAGA,OAFA2F,EAAEjH,GAAKoB,EACPyF,KAAKE,GAAK/G,EAAI,EACP6G,IACT,CACAM,UACE,MAAMF,EAAIJ,KAAKC,UACf,IAAiB1F,EAAGiD,EAAGhD,EAAnBiD,EAAIuC,KAAKE,GAAczF,EAAK,EAChC,GAAIgD,EAAI,EAAG,CAET,IADAhD,EAAK2F,IAAI3C,GACFA,EAAI,IACTlD,EAAIE,EACJ+C,EAAI4C,IAAI3C,GACRhD,EAAKF,EAAIiD,EACThD,EAAKgD,GAAK/C,EAAKF,IACXC,KAEFiD,EAAI,IAAMjD,EAAM,GAAK4F,EAAE3C,EAAI,GAAK,GAAOjD,EAAK,GAAK4F,EAAE3C,EAAI,GAAK,KAC9DD,EAAS,EAALhD,EACJD,EAAIE,EAAK+C,EACLA,GAAKjD,EAAIE,IAAIA,EAAKF,GAE1B,CACA,OAAOE,CACT,EAGK,SAAS8F,EAAKxF,EAAQC,GAC3B,MAAMwF,EAAQ,IAAIV,EAClB,QAAgB7E,IAAZD,EACF,IAAK,IAAIE,KAASH,GACZG,GAASA,IACXsF,EAAML,IAAIjF,OAGT,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,GACZG,GAASF,EAAQE,IAASC,EAAOJ,KACnCyF,EAAML,IAAIjF,EAGhB,CACA,OAAQsF,CACV,CAEO,SAASC,EAAQ1F,EAAQC,GAC9B,MAAMwF,EAAQ,IAAIV,EAClB,IAAI3E,GAAQ,EACZ,OAAOoE,aAAaZ,KAAK5D,OAAoBE,IAAZD,EAC3BwE,GAAKgB,EAAML,KAAKX,GAAK,GACrBA,GAAKgB,EAAML,KAAKnF,EAAQwE,IAAKrE,EAAOJ,IAAW,GAEvD,CCpEO,MAAM2F,UAAkBC,IAC7BZ,YAAYa,EAASC,EAAMC,GAGzB,GAFAC,QACA7H,OAAO8H,iBAAiBhB,KAAM,CAACiB,QAAS,CAAC/F,MAAO,IAAIyF,KAAQO,KAAM,CAAChG,MAAO2F,KAC3D,MAAXD,EAAiB,IAAK,MAAOC,EAAK3F,KAAU0F,EAASZ,KAAKmB,IAAIN,EAAK3F,EACzE,CACAkG,IAAIP,GACF,OAAOE,MAAMK,IAAIC,EAAWrB,KAAMa,GACpC,CACAS,IAAIT,GACF,OAAOE,MAAMO,IAAID,EAAWrB,KAAMa,GACpC,CACAM,IAAIN,EAAK3F,GACP,OAAO6F,MAAMI,IAAII,EAAWvB,KAAMa,GAAM3F,EAC1C,CACAsG,OAAOX,GACL,OAAOE,MAAMS,OAAOC,EAAczB,KAAMa,GAC1C,EAGK,MAAMa,UAAkBC,IAC7B5B,YAAYhF,EAAQ8F,EAAMC,GAGxB,GAFAC,QACA7H,OAAO8H,iBAAiBhB,KAAM,CAACiB,QAAS,CAAC/F,MAAO,IAAIyF,KAAQO,KAAM,CAAChG,MAAO2F,KAC5D,MAAV9F,EAAgB,IAAK,MAAMG,KAASH,EAAQiF,KAAKG,IAAIjF,EAC3D,CACAoG,IAAIpG,GACF,OAAO6F,MAAMO,IAAID,EAAWrB,KAAM9E,GACpC,CACAiF,IAAIjF,GACF,OAAO6F,MAAMZ,IAAIoB,EAAWvB,KAAM9E,GACpC,CACAsG,OAAOtG,GACL,OAAO6F,MAAMS,OAAOC,EAAczB,KAAM9E,GAC1C,EAGF,SAASmG,GAAWJ,QAACA,EAAOC,KAAEA,GAAOhG,GACnC,MAAM2F,EAAMK,EAAKhG,GACjB,OAAO+F,EAAQK,IAAIT,GAAOI,EAAQG,IAAIP,GAAO3F,CAC/C,CAEA,SAASqG,GAAWN,QAACA,EAAOC,KAAEA,GAAOhG,GACnC,MAAM2F,EAAMK,EAAKhG,GACjB,OAAI+F,EAAQK,IAAIT,GAAaI,EAAQG,IAAIP,IACzCI,EAAQE,IAAIN,EAAK3F,GACVA,EACT,CAEA,SAASuG,GAAcR,QAACA,EAAOC,KAAEA,GAAOhG,GACtC,MAAM2F,EAAMK,EAAKhG,GAKjB,OAJI+F,EAAQK,IAAIT,KACd3F,EAAQ+F,EAAQG,IAAIP,GACpBI,EAAQO,OAAOX,IAEV3F,CACT,CAEA,SAAS4F,EAAM5F,GACb,OAAiB,OAAVA,GAAmC,iBAAVA,EAAqBA,EAAMoF,UAAYpF,CACzE,CC5De,SAAA0G,EAAkBrH,GAC/B,OAAOA,CACT,CCCe,SAAAsH,EAAe9G,KAAW9B,GACvC,OAAO6I,GAAK/G,EAAQ6G,EAAUA,EAAU3I,EAC1C,CAEO,SAAS8I,EAAOhH,KAAW9B,GAChC,OAAO6I,GAAK/G,EAAQ2D,MAAMC,KAAMiD,EAAU3I,EAC5C,CAEA,SAAS+I,EAAQC,EAAQhJ,GACvB,IAAK,IAAIE,EAAI,EAAGsE,EAAIxE,EAAKG,OAAQD,EAAIsE,IAAKtE,EACxC8I,EAASA,EAAOC,SAAQC,GAAKA,EAAEpD,MAAME,KAAI,EAAE4B,EAAK3F,KAAW,IAAIiH,EAAGtB,EAAK3F,OAEzE,OAAO+G,CACT,CAEO,SAASG,EAAUrH,KAAW9B,GACnC,OAAO+I,EAAQD,EAAOhH,KAAW9B,GAAOA,EAC1C,CAEO,SAASoJ,EAAWtH,EAAQ8D,KAAW5F,GAC5C,OAAO+I,EAAQM,EAAQvH,EAAQ8D,KAAW5F,GAAOA,EACnD,CAEO,SAASsJ,EAAOxH,EAAQ8D,KAAW5F,GACxC,OAAO6I,GAAK/G,EAAQ6G,EAAU/C,EAAQ5F,EACxC,CAEO,SAASqJ,EAAQvH,EAAQ8D,KAAW5F,GACzC,OAAO6I,GAAK/G,EAAQ2D,MAAMC,KAAME,EAAQ5F,EAC1C,CAEO,SAASuJ,EAAMzH,KAAW9B,GAC/B,OAAO6I,GAAK/G,EAAQ6G,EAAUa,GAAQxJ,EACxC,CAEO,SAASyJ,GAAQ3H,KAAW9B,GACjC,OAAO6I,GAAK/G,EAAQ2D,MAAMC,KAAM8D,GAAQxJ,EAC1C,CAEA,SAASwJ,GAAO1H,GACd,GAAsB,IAAlBA,EAAO3B,OAAc,MAAM,IAAIG,MAAM,iBACzC,OAAOwB,EAAO,EAChB,CAEA,SAAS+G,GAAK/G,EAAQkE,EAAKJ,EAAQ5F,GACjC,OAAO,SAAU0J,EAAQ5H,EAAQ5B,GAC/B,GAAIA,GAAKF,EAAKG,OAAQ,OAAOyF,EAAO9D,GACpC,MAAMkH,EAAS,IAAIvB,EACbkC,EAAQ3J,EAAKE,KACnB,IAAIgC,GAAQ,EACZ,IAAK,MAAMD,KAASH,EAAQ,CAC1B,MAAM8F,EAAM+B,EAAM1H,IAASC,EAAOJ,GAC5B8H,EAAQZ,EAAOb,IAAIP,GACrBgC,EAAOA,EAAMxD,KAAKnE,GACjB+G,EAAOd,IAAIN,EAAK,CAAC3F,GACxB,CACA,IAAK,MAAO2F,EAAK9F,KAAWkH,EAC1BA,EAAOd,IAAIN,EAAK8B,EAAQ5H,EAAQ5B,IAElC,OAAO8F,EAAIgD,EACb,CAfO,CAeJlH,EAAQ,EACb,CChEe,SAAA+H,GAAiBC,EAAQ9J,GACtC,OAAOyF,MAAMC,KAAK1F,GAAM4H,GAAOkC,EAAOlC,IACxC,CCCe,SAAAmC,GAAcjI,KAAWkI,GACtC,GAAuC,mBAA5BlI,EAAOmI,OAAOC,UAA0B,MAAM,IAAIC,UAAU,0BACvErI,EAAS2D,MAAMC,KAAK5D,GACpB,IAAKb,GAAK+I,EACV,GAAI/I,GAAmB,IAAbA,EAAEd,QAAiB6J,EAAE7J,OAAS,EAAG,CACzC,MAAM+B,EAAQkI,YAAY1E,KAAK5D,GAAQ,CAACJ,EAAGxB,IAAMA,IAajD,OAZI8J,EAAE7J,OAAS,GACb6J,EAAIA,EAAEhE,KAAI/E,GAAKa,EAAOkE,IAAI/E,KAC1BiB,EAAMmI,MAAK,CAACnK,EAAG0E,KACb,IAAK,MAAM3D,KAAK+I,EAAG,CACjB,MAAMM,EAAIC,GAAiBtJ,EAAEf,GAAIe,EAAE2D,IACnC,GAAI0F,EAAG,OAAOA,CAChB,OAGFrJ,EAAIa,EAAOkE,IAAI/E,GACfiB,EAAMmI,MAAK,CAACnK,EAAG0E,IAAM2F,GAAiBtJ,EAAEf,GAAIe,EAAE2D,OAEzCiF,GAAQ/H,EAAQI,EACzB,CACA,OAAOJ,EAAOuI,KAAKG,GAAevJ,GACpC,CAEO,SAASuJ,GAAeC,EAAU9J,GACvC,GAAI8J,IAAY9J,EAAW,OAAO4J,GAClC,GAAuB,mBAAZE,EAAwB,MAAM,IAAIN,UAAU,6BACvD,MAAO,CAACvJ,EAAGC,KACT,MAAMS,EAAImJ,EAAQ7J,EAAGC,GACrB,OAAIS,GAAW,IAANA,EAAgBA,GACC,IAAlBmJ,EAAQ5J,EAAGA,KAA+B,IAAlB4J,EAAQ7J,EAAGA,GAAO,CAEtD,CAEO,SAAS2J,GAAiB3J,EAAGC,GAClC,OAAa,MAALD,KAAeA,GAAKA,KAAY,MAALC,KAAeA,GAAKA,MAAQD,EAAIC,GAAI,EAAKD,EAAIC,EAAI,EAAI,EAC1F,CClCe,SAAA6J,GAAmB5I,EAAQ8D,EAAQgC,GAChD,OAA0B,IAAlBhC,EAAOzF,OACX4J,GAAKT,EAAOxH,EAAQ8D,EAAQgC,IAAO,EAAE+C,EAAIC,IAAMC,EAAIC,KAAQnK,EAAUiK,EAAIE,IAAOnK,EAAUgK,EAAIE,KAC9Fd,GAAKnB,EAAM9G,EAAQ8F,IAAO,EAAE+C,EAAIC,IAAMC,EAAIC,KAAQlF,EAAOgF,EAAIE,IAAOnK,EAAUgK,EAAIE,MACnF7E,KAAI,EAAE4B,KAASA,GACpB,CCTA,IAAImD,GAAQtF,MAAMuF,UAEPC,GAAQF,GAAM7H,MACR6H,GAAM/E,ICHR,SAAAkF,GAAkB5J,GAC/B,MAAO,IAAMA,CACf,CCFA,MAAM6J,GAAMtI,KAAK8D,KAAK,IAClByE,GAAKvI,KAAK8D,KAAK,IACf0E,GAAKxI,KAAK8D,KAAK,GAEnB,SAAS2E,GAAS7H,EAAOC,EAAM0B,GAC7B,MAAMzB,GAAQD,EAAOD,GAASZ,KAAKiC,IAAI,EAAGM,GACtCmG,EAAQ1I,KAAKC,MAAMD,KAAK2I,MAAM7H,IAC9B8H,EAAQ9H,EAAOd,KAAK6I,IAAI,GAAIH,GAC5BI,EAASF,GAASN,GAAM,GAAKM,GAASL,GAAK,EAAIK,GAASJ,GAAK,EAAI,EACrE,IAAIO,EAAIC,EAAIC,EAeZ,OAdIP,EAAQ,GACVO,EAAMjJ,KAAK6I,IAAI,IAAKH,GAASI,EAC7BC,EAAK/I,KAAKkJ,MAAMtI,EAAQqI,GACxBD,EAAKhJ,KAAKkJ,MAAMrI,EAAOoI,GACnBF,EAAKE,EAAMrI,KAASmI,EACpBC,EAAKC,EAAMpI,KAAQmI,EACvBC,GAAOA,IAEPA,EAAMjJ,KAAK6I,IAAI,GAAIH,GAASI,EAC5BC,EAAK/I,KAAKkJ,MAAMtI,EAAQqI,GACxBD,EAAKhJ,KAAKkJ,MAAMrI,EAAOoI,GACnBF,EAAKE,EAAMrI,KAASmI,EACpBC,EAAKC,EAAMpI,KAAQmI,GAErBA,EAAKD,GAAM,IAAOxG,GAASA,EAAQ,EAAUkG,GAAS7H,EAAOC,EAAc,EAAR0B,GAChE,CAACwG,EAAIC,EAAIC,EAClB,CAEe,SAAAE,GAAevI,EAAOC,EAAM0B,GAEzC,MAD8BA,GAASA,GACzB,GAAI,MAAO,GACzB,IAFc3B,GAASA,MAAvBC,GAAQA,GAEY,MAAO,CAACD,GAC5B,MAAMwI,EAAUvI,EAAOD,GAAQmI,EAAIC,EAAIC,GAAOG,EAAUX,GAAS5H,EAAMD,EAAO2B,GAASkG,GAAS7H,EAAOC,EAAM0B,GAC7G,KAAMyG,GAAMD,GAAK,MAAO,GACxB,MAAMpH,EAAIqH,EAAKD,EAAK,EAAGM,EAAQ,IAAIzG,MAAMjB,GACzC,GAAIyH,EACF,GAAIH,EAAM,EAAG,IAAK,IAAI5L,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGgM,EAAMhM,IAAM2L,EAAK3L,IAAM4L,OAC3D,IAAK,IAAI5L,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGgM,EAAMhM,IAAM2L,EAAK3L,GAAK4L,OAEvD,GAAIA,EAAM,EAAG,IAAK,IAAI5L,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGgM,EAAMhM,IAAM0L,EAAK1L,IAAM4L,OAC3D,IAAK,IAAI5L,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGgM,EAAMhM,IAAM0L,EAAK1L,GAAK4L,EAEzD,OAAOI,CACT,CAEO,SAASC,GAAc1I,EAAOC,EAAM0B,GAEzC,OAAOkG,GADO7H,GAASA,EAAvBC,GAAQA,EAAsB0B,GAASA,GACH,EACtC,CAEO,SAASgH,GAAS3I,EAAOC,EAAM0B,GACNA,GAASA,EACvC,MAAM6G,GADNvI,GAAQA,IAAMD,GAASA,GACOqI,EAAMG,EAAUE,GAAczI,EAAMD,EAAO2B,GAAS+G,GAAc1I,EAAOC,EAAM0B,GAC7G,OAAQ6G,GAAU,EAAK,IAAMH,EAAM,EAAI,GAAKA,EAAMA,EACpD,CCpDe,SAAAO,GAAc5I,EAAOC,EAAM0B,GACxC,IAAIkH,EACJ,OAAa,CACX,MAAM3I,EAAOwI,GAAc1I,EAAOC,EAAM0B,GACxC,GAAIzB,IAAS2I,GAAoB,IAAT3I,IAAe4I,SAAS5I,GAC9C,MAAO,CAACF,EAAOC,GACNC,EAAO,GAChBF,EAAQZ,KAAKC,MAAMW,EAAQE,GAAQA,EACnCD,EAAOb,KAAK2J,KAAK9I,EAAOC,GAAQA,GACvBA,EAAO,IAChBF,EAAQZ,KAAK2J,KAAK/I,EAAQE,GAAQA,EAClCD,EAAOb,KAAKC,MAAMY,EAAOC,GAAQA,GAEnC2I,EAAU3I,CACZ,CACF,CCfe,SAAA8I,GAA0B3K,GACvC,OAAOe,KAAKiC,IAAI,EAAGjC,KAAK2J,KAAK3J,KAAK6J,IAAIvH,EAAMrD,IAAWe,KAAK8J,KAAO,EACrE,CCKe,SAAAC,KACb,IAAI3K,EAAQ0G,EACRkE,EAASjG,EACTkG,EAAYL,GAEhB,SAASM,EAAUnJ,GACZ6B,MAAMuH,QAAQpJ,KAAOA,EAAO6B,MAAMC,KAAK9B,IAE5C,IAAI1D,EAEAoB,EACAqC,EAFAa,EAAIZ,EAAKzD,OAGT2B,EAAS,IAAI2D,MAAMjB,GAEvB,IAAKtE,EAAI,EAAGA,EAAIsE,IAAKtE,EACnB4B,EAAO5B,GAAK+B,EAAM2B,EAAK1D,GAAIA,EAAG0D,GAGhC,IAAIqJ,EAAKJ,EAAO/K,GACZoL,EAAKD,EAAG,GACRE,EAAKF,EAAG,GACRG,EAAKN,EAAUhL,EAAQoL,EAAIC,GAI/B,IAAK1H,MAAMuH,QAAQI,GAAK,CACtB,MAAMtI,EAAMqI,EAAIE,GAAMD,EAgBtB,GAfIP,IAAWjG,KAASsG,EAAIC,GAAMd,GAAKa,EAAIC,EAAIE,KAC/CD,EAAKpB,GAAMkB,EAAIC,EAAIE,IAKZ,IAAMH,IAAIvJ,EAAOwI,GAAce,EAAIC,EAAIE,IAS1CD,EAAGA,EAAGjN,OAAS,IAAMgN,EACvB,GAAIrI,GAAOqI,GAAMN,IAAWjG,EAAQ,CAClC,MAAMjD,EAAOwI,GAAce,EAAIC,EAAIE,GAC/Bd,SAAS5I,KACPA,EAAO,EACTwJ,GAAMtK,KAAKC,MAAMqK,EAAKxJ,GAAQ,GAAKA,EAC1BA,EAAO,IAChBwJ,GAAMtK,KAAK2J,KAAKW,GAAMxJ,GAAQ,IAAMA,GAG1C,MACEyJ,EAAGtH,KAGT,CAKA,IADA,IAAIwH,EAAIF,EAAGjN,OAAQS,EAAI,EAAGC,EAAIyM,EACvBF,EAAGxM,IAAMsM,KAAMtM,EACtB,KAAOwM,EAAGvM,EAAI,GAAKsM,KAAMtM,GACrBD,GAAKC,EAAIyM,KAAGF,EAAKA,EAAGlK,MAAMtC,EAAGC,GAAIyM,EAAIzM,EAAID,GAE7C,IACI2M,EADAC,EAAO,IAAI/H,MAAM6H,EAAI,GAIzB,IAAKpN,EAAI,EAAGA,GAAKoN,IAAKpN,GACpBqN,EAAMC,EAAKtN,GAAK,IACZgN,GAAKhN,EAAI,EAAIkN,EAAGlN,EAAI,GAAKgN,EAC7BK,EAAIJ,GAAKjN,EAAIoN,EAAIF,EAAGlN,GAAKiN,EAI3B,GAAIZ,SAAS5I,IACX,GAAIA,EAAO,EACT,IAAKzD,EAAI,EAAGA,EAAIsE,IAAKtE,EACI,OAAlBoB,EAAIQ,EAAO5B,KAAegN,GAAM5L,GAAKA,GAAK6L,GAC7CK,EAAK3K,KAAKgC,IAAIyI,EAAGzK,KAAKC,OAAOxB,EAAI4L,GAAMvJ,KAAQyC,KAAKxC,EAAK1D,SAGxD,GAAIyD,EAAO,EAChB,IAAKzD,EAAI,EAAGA,EAAIsE,IAAKtE,EACnB,GAAuB,OAAlBoB,EAAIQ,EAAO5B,KAAegN,GAAM5L,GAAKA,GAAK6L,EAAI,CACjD,MAAMvI,EAAI/B,KAAKC,OAAOoK,EAAK5L,GAAKqC,GAChC6J,EAAK3K,KAAKgC,IAAIyI,EAAG1I,GAAKwI,EAAGxI,IAAMtD,KAAK8E,KAAKxC,EAAK1D,GAChD,OAIJ,IAAKA,EAAI,EAAGA,EAAIsE,IAAKtE,EACI,OAAlBoB,EAAIQ,EAAO5B,KAAegN,GAAM5L,GAAKA,GAAK6L,GAC7CK,EAAK/K,EAAO2K,EAAI9L,EAAG,EAAGgM,IAAIlH,KAAKxC,EAAK1D,IAK1C,OAAOsN,CACT,CAcA,OAZAT,EAAU9K,MAAQ,SAASwL,GACzB,OAAOC,UAAUvN,QAAU8B,EAAqB,mBAANwL,EAAmBA,EAAIvC,GAASuC,GAAIV,GAAa9K,CAC7F,EAEA8K,EAAUF,OAAS,SAASY,GAC1B,OAAOC,UAAUvN,QAAU0M,EAAsB,mBAANY,EAAmBA,EAAIvC,GAAS,CAACuC,EAAE,GAAIA,EAAE,KAAMV,GAAaF,CACzG,EAEAE,EAAUY,WAAa,SAASF,GAC9B,OAAOC,UAAUvN,QAAU2M,EAAyB,mBAANW,EAAmBA,EAAIvC,GAASzF,MAAMuH,QAAQS,GAAKxC,GAAM2C,KAAKH,GAAKA,GAAIV,GAAaD,CACpI,EAEOC,CACT,CC5He,SAAAc,GAAa/L,EAAQC,GAClC,IAAI+C,EACJ,QAAgB9C,IAAZD,EACF,IAAK,MAAME,KAASH,EACL,MAATG,IACI6C,EAAM7C,QAAkBD,IAAR8C,GAAqB7C,GAASA,KACpD6C,EAAM7C,OAGL,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAC7BgD,EAAM7C,QAAkBD,IAAR8C,GAAqB7C,GAASA,KACpD6C,EAAM7C,EAGZ,CACA,OAAO6C,CACT,CCnBe,SAAAgJ,GAAkBhM,EAAQC,GACvC,IAAI+C,EACAiJ,GAAW,EACX7L,GAAQ,EACZ,QAAgBF,IAAZD,EACF,IAAK,MAAME,KAASH,IAChBI,EACW,MAATD,IACI6C,EAAM7C,QAAkBD,IAAR8C,GAAqB7C,GAASA,KACpD6C,EAAM7C,EAAO8L,EAAW7L,QAI5B,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAC7BgD,EAAM7C,QAAkBD,IAAR8C,GAAqB7C,GAASA,KACpD6C,EAAM7C,EAAO8L,EAAW7L,GAI9B,OAAO6L,CACT,CCrBe,SAAAC,GAAalM,EAAQC,GAClC,IAAI8C,EACJ,QAAgB7C,IAAZD,EACF,IAAK,MAAME,KAASH,EACL,MAATG,IACI4C,EAAM5C,QAAkBD,IAAR6C,GAAqB5C,GAASA,KACpD4C,EAAM5C,OAGL,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAC7B+C,EAAM5C,QAAkBD,IAAR6C,GAAqB5C,GAASA,KACpD4C,EAAM5C,EAGZ,CACA,OAAO4C,CACT,CCnBe,SAAAoJ,GAAkBnM,EAAQC,GACvC,IAAI8C,EACAqJ,GAAW,EACXhM,GAAQ,EACZ,QAAgBF,IAAZD,EACF,IAAK,MAAME,KAASH,IAChBI,EACW,MAATD,IACI4C,EAAM5C,QAAkBD,IAAR6C,GAAqB5C,GAASA,KACpD4C,EAAM5C,EAAOiM,EAAWhM,QAI5B,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAC7B+C,EAAM5C,QAAkBD,IAAR6C,GAAqB5C,GAASA,KACpD4C,EAAM5C,EAAOiM,EAAWhM,GAI9B,OAAOgM,CACT,CCjBe,SAAAC,GAAqB7I,EAAO8I,EAAG/M,EAAO,EAAGgB,EAAQgM,IAAU5D,GAKxE,GAJA2D,EAAIvL,KAAKC,MAAMsL,GACf/M,EAAOwB,KAAKC,MAAMD,KAAKiC,IAAI,EAAGzD,IAC9BgB,EAAQQ,KAAKC,MAAMD,KAAKgC,IAAIS,EAAMnF,OAAS,EAAGkC,MAExChB,GAAQ+M,GAAKA,GAAK/L,GAAQ,OAAOiD,EAIvC,IAFAmF,OAAsBzI,IAAZyI,EAAwBF,GAAmBC,GAAeC,GAE7DpI,EAAQhB,GAAM,CACnB,GAAIgB,EAAQhB,EAAO,IAAK,CACtB,MAAMmD,EAAInC,EAAQhB,EAAO,EACnBiM,EAAIc,EAAI/M,EAAO,EACfiN,EAAIzL,KAAK6J,IAAIlI,GACbG,EAAI,GAAM9B,KAAK0L,IAAI,EAAID,EAAI,GAC3BE,EAAK,GAAM3L,KAAK8D,KAAK2H,EAAI3J,GAAKH,EAAIG,GAAKH,IAAM8I,EAAI9I,EAAI,EAAI,GAAI,EAAK,GAGxE2J,GAAY7I,EAAO8I,EAFHvL,KAAKiC,IAAIzD,EAAMwB,KAAKC,MAAMsL,EAAId,EAAI3I,EAAIH,EAAIgK,IACzC3L,KAAKgC,IAAIxC,EAAOQ,KAAKC,MAAMsL,GAAK5J,EAAI8I,GAAK3I,EAAIH,EAAIgK,IACzB/D,EAC3C,CAEA,MAAMzF,EAAIM,EAAM8I,GAChB,IAAIlO,EAAImB,EACJuD,EAAIvC,EAKR,IAHAoM,GAAKnJ,EAAOjE,EAAM+M,GACd3D,EAAQnF,EAAMjD,GAAQ2C,GAAK,GAAGyJ,GAAKnJ,EAAOjE,EAAMgB,GAE7CnC,EAAI0E,GAAG,CAEZ,IADA6J,GAAKnJ,EAAOpF,EAAG0E,KAAM1E,IAAK0E,EACnB6F,EAAQnF,EAAMpF,GAAI8E,GAAK,KAAK9E,EACnC,KAAOuK,EAAQnF,EAAMV,GAAII,GAAK,KAAKJ,CACrC,CAEgC,IAA5B6F,EAAQnF,EAAMjE,GAAO2D,GAAUyJ,GAAKnJ,EAAOjE,EAAMuD,MAC9CA,EAAG6J,GAAKnJ,EAAOV,EAAGvC,IAErBuC,GAAKwJ,IAAG/M,EAAOuD,EAAI,GACnBwJ,GAAKxJ,IAAGvC,EAAQuC,EAAI,EAC1B,CAEA,OAAOU,CACT,CAEA,SAASmJ,GAAKnJ,EAAOpF,EAAG0E,GACtB,MAAMI,EAAIM,EAAMpF,GAChBoF,EAAMpF,GAAKoF,EAAMV,GACjBU,EAAMV,GAAKI,CACb,CClDe,SAAA0J,GAAkB5M,EAAQ2I,EAAU9J,GACjD,IAAImE,EACA6J,GAAU,EACd,GAAuB,IAAnBlE,EAAQtK,OAAc,CACxB,IAAIyO,EACJ,IAAK,MAAMC,KAAW/M,EAAQ,CAC5B,MAAMG,EAAQwI,EAAQoE,IAClBF,EACEhO,EAAUsB,EAAO2M,GAAY,EACD,IAA5BjO,EAAUsB,EAAOA,MACrB6C,EAAM+J,EACND,EAAW3M,EACX0M,GAAU,EAEd,CACF,MACE,IAAK,MAAM1M,KAASH,GACd6M,EACElE,EAAQxI,EAAO6C,GAAO,EACI,IAA1B2F,EAAQxI,EAAOA,MACnB6C,EAAM7C,EACN0M,GAAU,GAIhB,OAAO7J,CACT,CCnBe,SAAAgK,GAAkBhN,EAAQqF,EAAGpF,GAE1C,IAAMyC,GADN1C,EAASwE,aAAaZ,KAAK7D,EAAQC,EAAQC,KAC1B5B,UAAW4O,MAAM5H,GAAKA,GAAvC,CACA,GAAIA,GAAK,GAAK3C,EAAI,EAAG,OAAOwJ,GAAIlM,GAChC,GAAIqF,GAAK,EAAG,OAAO0G,GAAI/L,GACvB,IAAI0C,EACAtE,GAAKsE,EAAI,GAAK2C,EACd6H,EAAKnM,KAAKC,MAAM5C,GAChB+O,EAASpB,GAAIM,GAAYrM,EAAQkN,GAAIE,SAAS,EAAGF,EAAK,IAE1D,OAAOC,GADMjB,GAAIlM,EAAOoN,SAASF,EAAK,IACZC,IAAW/O,EAAI8O,EARE,CAS7C,CAEO,SAASG,GAAerN,EAAQqF,EAAGpF,EAAUH,GAClD,IAAM4C,EAAI1C,EAAO3B,UAAW4O,MAAM5H,GAAKA,GAAvC,CACA,GAAIA,GAAK,GAAK3C,EAAI,EAAG,OAAQzC,EAAQD,EAAO,GAAI,EAAGA,GACnD,GAAIqF,GAAK,EAAG,OAAQpF,EAAQD,EAAO0C,EAAI,GAAIA,EAAI,EAAG1C,GAClD,IAAI0C,EACAtE,GAAKsE,EAAI,GAAK2C,EACd6H,EAAKnM,KAAKC,MAAM5C,GAChB+O,GAAUlN,EAAQD,EAAOkN,GAAKA,EAAIlN,GAEtC,OAAOmN,IADOlN,EAAQD,EAAOkN,EAAK,GAAIA,EAAK,EAAGlN,GACpBmN,IAAW/O,EAAI8O,EARE,CAS7C,CAEO,SAASI,GAActN,EAAQqF,EAAGpF,GAEvC,IAAMyC,GADN1C,EAASwE,aAAaZ,KAAK7D,EAAQC,EAAQC,KAC1B5B,UAAW4O,MAAM5H,GAAKA,GAAvC,CACA,GAAIA,GAAK,GAAK3C,EAAI,EAAG,OAAOyJ,GAASnM,GACrC,GAAIqF,GAAK,EAAG,OAAO2G,GAAShM,GAC5B,IAAI0C,EACAtE,EAAI2C,KAAKC,OAAO0B,EAAI,GAAK2C,GAEzBjF,EAAQiM,GAAY/D,YAAY1E,KAAK5D,GAAQ,CAAC2L,EAAGvN,IAAMA,IAAIA,EAAG,EAAGsE,EAAI,GAD7D,CAACtE,EAAG0E,IAAM2F,GAAiBzI,EAAO5B,GAAI4B,EAAO8C,MAEzD,OAAO8J,GAASxM,EAAMgN,SAAS,EAAGhP,EAAI,IAAIA,GAAK4B,EAAO5B,IAPX,CAQ7C,CCzCe,SAAAmP,GAAmCvN,EAAQ+C,EAAKC,GAC7D,MAAMwF,EAAInF,EAAMrD,GAASJ,EAAIoN,GAAShN,EAAQ,KAAQgN,GAAShN,EAAQ,KACvE,OAAOwI,GAAK5I,EAAImB,KAAK2J,MAAM1H,EAAMD,IAAQ,EAAInD,EAAImB,KAAK6I,IAAIpB,GAAG,EAAK,KAAO,CAC3E,CCHe,SAAAgF,GAAwBxN,EAAQ+C,EAAKC,GAClD,MAAMwF,EAAInF,EAAMrD,GAASJ,EAAIgF,EAAU5E,GACvC,OAAOwI,GAAK5I,EAAImB,KAAK2J,MAAM1H,EAAMD,GAAOhC,KAAK0M,KAAKjF,IAAM,KAAO5I,IAAM,CACvE,CCNe,SAAA8N,GAAc1N,EAAQC,GACnC,IAAIqD,EAAQ,EACRV,EAAM,EACV,QAAgB1C,IAAZD,EACF,IAAK,IAAIE,KAASH,EACH,MAATG,IAAkBA,GAASA,IAAUA,MACrCmD,EAAOV,GAAOzC,OAGf,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,MAAqBG,GAASA,IAAUA,MACzEmD,EAAOV,GAAOzC,EAGtB,CACA,GAAImD,EAAO,OAAOV,EAAMU,CAC1B,CChBe,SAAAqK,GAAgB3N,EAAQC,GACrC,OAAO+M,GAAShN,EAAQ,GAAKC,EAC/B,CAEO,SAAS2N,GAAY5N,EAAQC,GAClC,OAAOqN,GAActN,EAAQ,GAAKC,EACpC,CCFe,SAAA4N,GAAeC,GAC5B,OAAOnK,MAAMC,KAPf,UAAkBkK,GAChB,IAAK,MAAMtK,KAASsK,QACXtK,CAEX,CAGoBuK,CAAQD,GAC5B,CCNe,SAAAE,GAAchO,EAAQC,GACnC,MAAMgO,EAAS,IAAItI,EACnB,QAAgBzF,IAAZD,EACF,IAAK,IAAIE,KAASH,EACH,MAATG,GAAiBA,GAASA,GAC5B8N,EAAO7H,IAAIjG,GAAQ8N,EAAO5H,IAAIlG,IAAU,GAAK,OAG5C,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,EACiC,OAA5CG,EAAQF,EAAQE,IAASC,EAAOJ,KAAoBG,GAASA,GAChE8N,EAAO7H,IAAIjG,GAAQ8N,EAAO5H,IAAIlG,IAAU,GAAK,EAGnD,CACA,IAAI+N,EACAC,EAAY,EAChB,IAAK,MAAOhO,EAAOmD,KAAU2K,EACvB3K,EAAQ6K,IACVA,EAAY7K,EACZ4K,EAAY/N,GAGhB,OAAO+N,CACT,CC3Be,SAAAE,GAAepO,EAAQqO,EAASC,IAC7C,MAAMrQ,EAAQ,GACd,IAAIsQ,EACAC,GAAQ,EACZ,IAAK,MAAMrO,KAASH,EACdwO,GAAOvQ,EAAMqG,KAAK+J,EAAOE,EAAUpO,IACvCoO,EAAWpO,EACXqO,GAAQ,EAEV,OAAOvQ,CACT,CAEO,SAASqQ,GAAKxP,EAAGC,GACtB,MAAO,CAACD,EAAGC,EACb,CCde,SAAA0P,GAAe9M,EAAOC,EAAMC,GACzCF,GAASA,EAAOC,GAAQA,EAAMC,GAAQa,EAAIkJ,UAAUvN,QAAU,GAAKuD,EAAOD,EAAOA,EAAQ,EAAG,GAAKe,EAAI,EAAI,GAAKb,EAM9G,IAJA,IAAIzD,GAAI,EACJsE,EAAoD,EAAhD3B,KAAKiC,IAAI,EAAGjC,KAAK2J,MAAM9I,EAAOD,GAASE,IAC3C6M,EAAQ,IAAI/K,MAAMjB,KAEbtE,EAAIsE,GACXgM,EAAMtQ,GAAKuD,EAAQvD,EAAIyD,EAGzB,OAAO6M,CACT,CCTe,SAAAC,GAAc3O,EAAQC,EAAUpB,GAC7C,GAAuC,mBAA5BmB,EAAOmI,OAAOC,UAA0B,MAAM,IAAIC,UAAU,0BACvE,IAAIuG,EAAIjL,MAAMC,KAAK5D,GACnB,MAAM6O,EAAI,IAAIrK,aAAaoK,EAAEvQ,QACN,IAAnB4B,EAAQ5B,SAAcuQ,EAAIA,EAAE1K,IAAIjE,GAAUA,EAAUpB,GACxD,MAAMiQ,EAAe,CAAC1Q,EAAG0E,IAAM7C,EAAQ2O,EAAExQ,GAAIwQ,EAAE9L,IAC/C,IAAIwJ,EAAGzL,EAaP,OAZAb,EAASsI,YAAY1E,KAAKgL,GAAG,CAACjD,EAAGvN,IAAMA,KAEhCmK,KAAKtI,IAAYpB,EAAY,CAACT,EAAG0E,IAAM2F,GAAiBmG,EAAExQ,GAAIwQ,EAAE9L,IAAM4F,GAAeoG,IAC5F9O,EAAO+O,SAAQ,CAACjM,EAAG1E,KACf,MAAMoK,EAAIsG,EAAahM,OAAS5C,IAANoM,EAAkBxJ,EAAIwJ,GAC5C9D,GAAK,SACGtI,IAANoM,GAAmB9D,EAAI,KAAG8D,EAAIxJ,EAAGjC,EAAIzC,GACzCyQ,EAAE/L,GAAKjC,GAEPgO,EAAE/L,GAAK9D,GAAA,IAGN6P,CACT,CCrBe,SAAAG,GAAehP,EAAQ2I,EAAU9J,GAC9C,IAAIkE,EACA8J,GAAU,EACd,GAAuB,IAAnBlE,EAAQtK,OAAc,CACxB,IAAI4Q,EACJ,IAAK,MAAMlC,KAAW/M,EAAQ,CAC5B,MAAMG,EAAQwI,EAAQoE,IAClBF,EACEhO,EAAUsB,EAAO8O,GAAY,EACD,IAA5BpQ,EAAUsB,EAAOA,MACrB4C,EAAMgK,EACNkC,EAAW9O,EACX0M,GAAU,EAEd,CACF,MACE,IAAK,MAAM1M,KAASH,GACd6M,EACElE,EAAQxI,EAAO4C,GAAO,EACI,IAA1B4F,EAAQxI,EAAOA,MACnB4C,EAAM5C,EACN0M,GAAU,GAIhB,OAAO9J,CACT,CCzBe,SAAAmM,GAAoBlP,EAAQ2I,EAAU9J,GACnD,GAAuB,IAAnB8J,EAAQtK,OAAc,OAAO8N,GAASnM,EAAQ2I,GAClD,IAAIsG,EACAlM,GAAM,EACN3C,GAAQ,EACZ,IAAK,MAAMD,KAASH,IAChBI,GACE2C,EAAM,EACsB,IAA1B4F,EAAQxI,EAAOA,GACfwI,EAAQxI,EAAO8O,GAAY,KAC/BA,EAAW9O,EACX4C,EAAM3C,GAGV,OAAO2C,CACT,CCfe,SAAAoM,GAAuBnP,EAAQ2I,EAAU9J,GACtD,GAAuB,IAAnB8J,EAAQtK,OAAc,OAAO2N,GAAShM,EAAQ2I,GAClD,IAAImE,EACA9J,GAAM,EACN5C,GAAQ,EACZ,IAAK,MAAMD,KAASH,IAChBI,GACE4C,EAAM,EACsB,IAA1B2F,EAAQxI,EAAOA,GACfwI,EAAQxI,EAAO2M,GAAY,KAC/BA,EAAW3M,EACX6C,EAAM5C,GAGV,OAAO4C,CACT,CChBe,SAAAoM,GAAcpP,EAAQ2I,GACnC,MAAMvI,EAAQ8O,GAAWlP,EAAQ2I,GACjC,OAAOvI,EAAQ,OAAIF,EAAYE,CACjC,CCLA,IAAAiP,GAAeC,GAASvO,KAAKwO,QAEtB,SAASD,GAASC,GACvB,OAAO,SAAiB/L,EAAO0J,EAAK,EAAGpD,EAAKtG,EAAMnF,QAChD,IAAImN,EAAI1B,GAAMoD,GAAMA,GACpB,KAAO1B,GAAG,CACR,MAAMpN,EAAImR,IAAW/D,IAAM,EAAGtI,EAAIM,EAAMgI,EAAI0B,GAC5C1J,EAAMgI,EAAI0B,GAAM1J,EAAMpF,EAAI8O,GAC1B1J,EAAMpF,EAAI8O,GAAMhK,CAClB,CACA,OAAOM,CACT,CACF,CCZe,SAAAgM,GAAaxP,EAAQC,GAClC,IAAI2C,EAAM,EACV,QAAgB1C,IAAZD,EACF,IAAK,IAAIE,KAASH,GACZG,GAASA,KACXyC,GAAOzC,OAGN,CACL,IAAIC,GAAQ,EACZ,IAAK,IAAID,KAASH,GACZG,GAASF,EAAQE,IAASC,EAAOJ,MACnC4C,GAAOzC,EAGb,CACA,OAAOyC,CACT,CCfe,SAAA6M,GAAmBC,GAChC,KAAMhN,EAAIgN,EAAOrR,QAAS,MAAO,GACjC,IAAK,IAAID,GAAI,EAAIoN,EAAIU,GAAIwD,EAAQC,IAASC,EAAY,IAAIjM,MAAM6H,KAAMpN,EAAIoN,GACxE,IAAK,IAAY9I,EAARI,GAAI,EAAO+M,EAAMD,EAAUxR,GAAK,IAAIuF,MAAMjB,KAAMI,EAAIJ,GAC3DmN,EAAI/M,GAAK4M,EAAO5M,GAAG1E,GAGvB,OAAOwR,CACT,CAEA,SAASD,GAAO/P,GACd,OAAOA,EAAEvB,MACX,CCZe,SAAAyR,KACb,OAAOL,GAAU7D,UACnB,CCJe,SAAAmE,GAAe/P,EAAQgQ,GACpC,GAAoB,mBAATA,EAAqB,MAAM,IAAI3H,UAAU,0BACpD,IAAIjI,GAAQ,EACZ,IAAK,MAAMD,KAASH,EAClB,IAAKgQ,EAAK7P,IAASC,EAAOJ,GACxB,OAAO,EAGX,OAAO,CACT,CCTe,SAAAiQ,GAAcjQ,EAAQgQ,GACnC,GAAoB,mBAATA,EAAqB,MAAM,IAAI3H,UAAU,0BACpD,IAAIjI,GAAQ,EACZ,IAAK,MAAMD,KAASH,EAClB,GAAIgQ,EAAK7P,IAASC,EAAOJ,GACvB,OAAO,EAGX,OAAO,CACT,CCTe,SAAAkQ,GAAgBlQ,EAAQgQ,GACrC,GAAoB,mBAATA,EAAqB,MAAM,IAAI3H,UAAU,0BACpD,MAAM7E,EAAQ,GACd,IAAIpD,GAAQ,EACZ,IAAK,MAAMD,KAASH,EACdgQ,EAAK7P,IAASC,EAAOJ,IACvBwD,EAAMc,KAAKnE,GAGf,OAAOqD,CACT,CCVe,SAAA2M,GAAanQ,EAAQoQ,GAClC,GAAuC,mBAA5BpQ,EAAOmI,OAAOC,UAA0B,MAAM,IAAIC,UAAU,0BACvE,GAAsB,mBAAX+H,EAAuB,MAAM,IAAI/H,UAAU,4BACtD,OAAO1E,MAAMC,KAAK5D,GAAQ,CAACG,EAAOC,IAAUgQ,EAAOjQ,EAAOC,EAAOJ,IACnE,CCJe,SAAAqQ,GAAgBrQ,EAAQsQ,EAASnQ,GAC9C,GAAuB,mBAAZmQ,EAAwB,MAAM,IAAIjI,UAAU,6BACvD,MAAMD,EAAWpI,EAAOmI,OAAOC,YAC/B,IAAImI,EAAMC,EAAMpQ,GAAQ,EACxB,GAAIwL,UAAUvN,OAAS,EAAG,CAExB,KADCkS,KAACA,EAAIpQ,MAAEA,GAASiI,EAASoI,QACtBD,EAAM,SACRnQ,CACJ,CACA,OAAQmQ,KAACA,EAAMpQ,MAAOqQ,GAAQpI,EAASoI,SAAUD,GAC/CpQ,EAAQmQ,EAAQnQ,EAAOqQ,IAAQpQ,EAAOJ,GAExC,OAAOG,CACT,CCbe,SAAAsQ,GAAiBzQ,GAC9B,GAAuC,mBAA5BA,EAAOmI,OAAOC,UAA0B,MAAM,IAAIC,UAAU,0BACvE,OAAO1E,MAAMC,KAAK5D,GAAQmK,SAC5B,CCDe,SAAAuG,GAAoB1Q,KAAW2Q,GAC5C3Q,EAAS,IAAI2G,EAAU3G,GACvB,IAAK,MAAM4Q,KAASD,EAClB,IAAK,MAAMxQ,KAASyQ,EAClB5Q,EAAOyG,OAAOtG,GAGlB,OAAOH,CACT,CCRe,SAAA6Q,GAAkB7Q,EAAQ4Q,GACvC,MAAMxI,EAAWwI,EAAMzI,OAAOC,YAAahC,EAAM,IAAIO,EACrD,IAAK,MAAMlC,KAAKzE,EAAQ,CACtB,GAAIoG,EAAIG,IAAI9B,GAAI,OAAO,EACvB,IAAItE,EAAOoQ,EACX,OAAQpQ,MAACA,EAAKoQ,KAAEA,GAAQnI,EAASoI,UAC3BD,GADoC,CAExC,GAAIpS,OAAO2S,GAAGrM,EAAGtE,GAAQ,OAAO,EAChCiG,EAAIhB,IAAIjF,EACV,CACF,CACA,OAAO,CACT,CCZe,SAAA4Q,GAAsB/Q,KAAW2Q,GAC9C3Q,EAAS,IAAI2G,EAAU3G,GACvB2Q,EAASA,EAAOzM,IAAI8M,IACpBC,EAAK,IAAK,MAAM9Q,KAASH,EACvB,IAAK,MAAM4Q,KAASD,EAClB,IAAKC,EAAMrK,IAAIpG,GAAQ,CACrBH,EAAOyG,OAAOtG,GACd,SAAS8Q,CACX,CAGJ,OAAOjR,CACT,CAEA,SAASgR,GAAIhR,GACX,OAAOA,aAAkB2G,EAAY3G,EAAS,IAAI2G,EAAU3G,EAC9D,CClBe,SAAAkR,GAAkBlR,EAAQ4Q,GACvC,MAAMxI,EAAWpI,EAAOmI,OAAOC,YAAahC,EAAM,IAAIQ,IACtD,IAAK,MAAMuK,KAAKP,EAAO,CACrB,MAAMQ,EAAKC,GAAOF,GAClB,GAAI/K,EAAIG,IAAI6K,GAAK,SACjB,IAAIjR,EAAOoQ,EACX,OAAQpQ,MAACA,EAAKoQ,KAAEA,GAAQnI,EAASoI,SAAS,CACxC,GAAID,EAAM,OAAO,EACjB,MAAMe,EAASD,GAAOlR,GAEtB,GADAiG,EAAIhB,IAAIkM,GACJnT,OAAO2S,GAAGM,EAAIE,GAAS,KAC7B,CACF,CACA,OAAO,CACT,CAEA,SAASD,GAAOlR,GACd,OAAiB,OAAVA,GAAmC,iBAAVA,EAAqBA,EAAMoF,UAAYpF,CACzE,CChBe,SAAAoR,GAAgBvR,EAAQ4Q,GACrC,OAAOM,GAASN,EAAO5Q,EACzB,CCFe,SAAAwR,MAAkBb,GAC/B,MAAMvK,EAAM,IAAIO,EAChB,IAAK,MAAMiK,KAASD,EAClB,IAAK,MAAMQ,KAAKP,EACdxK,EAAIhB,IAAI+L,GAGZ,OAAO/K,CACT,C,UCVe,SAAAqL,GAASjS,GACtB,OAAOA,CACT,C,0GCAA,IAAIkS,GAAM,EACNC,GAAQ,EACRC,GAAS,EACTC,GAAO,EACPC,GAAU,KAEd,SAASC,GAAWvS,GAClB,MAAO,aAAeA,EAAI,KAC5B,CAEA,SAASwS,GAAWvP,GAClB,MAAO,eAAiBA,EAAI,GAC9B,CAEA,SAASwP,GAAOC,GACd,OAAOtS,IAAMsS,EAAMtS,EACrB,CAEA,SAASuS,GAAOD,EAAOE,GAGrB,OAFAA,EAASrR,KAAKiC,IAAI,EAAGkP,EAAMG,YAAuB,EAATD,GAAc,EACnDF,EAAMjI,UAASmI,EAASrR,KAAKkJ,MAAMmI,IAChCxS,IAAMsS,EAAMtS,GAAKwS,CAC1B,CAEA,SAASE,KACP,OAAQrN,KAAKsN,MACf,CAEA,SAASC,GAAKC,EAAQP,GACpB,IAAIQ,EAAgB,GAChBC,EAAa,KACbC,EAAa,KACbC,EAAgB,EAChBC,EAAgB,EAChBC,EAAc,EACdX,EAA2B,oBAAXY,QAA0BA,OAAOC,iBAAmB,EAAI,EAAI,GAC5E3G,EAAImG,IAAWf,IAAOe,IAAWZ,IAAO,EAAK,EAC7CrS,EAAIiT,IAAWZ,IAAQY,IAAWd,GAAQ,IAAM,IAChDuB,EAAYT,IAAWf,IAAOe,IAAWb,GAASG,GAAaC,GAEnE,SAASmB,EAAKC,GACZ,IAAIpT,EAAuB,MAAd2S,EAAsBT,EAAM9H,MAAQ8H,EAAM9H,MAAMiJ,MAAMnB,EAAOQ,GAAiBR,EAAMnH,SAAY4H,EACzGW,EAAuB,MAAdV,EAAsBV,EAAMU,WAAaV,EAAMU,WAAWS,MAAMnB,EAAOQ,GAAiBjB,GAAYmB,EAC7GW,EAAUxS,KAAKiC,IAAI6P,EAAe,GAAKE,EACvCrE,EAAQwD,EAAMxD,QACd8E,GAAU9E,EAAM,GAAK0D,EACrBqB,GAAU/E,EAAMA,EAAMrQ,OAAS,GAAK+T,EACpCsB,GAAYxB,EAAMG,UAAYF,GAASF,IAAQC,EAAMyB,OAAQvB,GAC7DwB,EAAYR,EAAQQ,UAAYR,EAAQQ,YAAcR,EACtDS,EAAOD,EAAUE,UAAU,WAAWhS,KAAK,CAAC,OAC5CiS,EAAOH,EAAUE,UAAU,SAAShS,KAAK9B,EAAQkS,GAAO8B,QACxDC,EAAWF,EAAKG,OAChBC,EAAYJ,EAAKK,QAAQC,OAAO,KAAKC,KAAK,QAAS,QACnDC,EAAOR,EAAKS,OAAO,QACnBC,EAAOV,EAAKS,OAAO,QAEvBX,EAAOA,EAAKa,MAAMb,EAAKO,QAAQO,OAAO,OAAQ,SACzCL,KAAK,QAAS,UACdA,KAAK,SAAU,iBAEpBP,EAAOA,EAAKW,MAAMP,GAElBI,EAAOA,EAAKG,MAAMP,EAAUE,OAAO,QAC9BC,KAAK,SAAU,gBACfA,KAAK9U,EAAI,IAAK8M,EAAIuG,IAEvB4B,EAAOA,EAAKC,MAAMP,EAAUE,OAAO,QAC9BC,KAAK,OAAQ,gBACbA,KAAK9U,EAAG8M,EAAIiH,GACZe,KAAK,KAAM7B,IAAWf,GAAM,MAAQe,IAAWb,GAAS,SAAW,WAEpEwB,IAAYQ,IACdC,EAAOA,EAAKe,WAAWxB,GACvBW,EAAOA,EAAKa,WAAWxB,GACvBmB,EAAOA,EAAKK,WAAWxB,GACvBqB,EAAOA,EAAKG,WAAWxB,GAEvBa,EAAWA,EAASW,WAAWxB,GAC1BkB,KAAK,UAAWxC,IAChBwC,KAAK,aAAa,SAAS1U,GAAK,OAAO6K,SAAS7K,EAAI8T,EAAS9T,IAAMsT,EAAUtT,EAAIwS,GAAUnN,KAAK4P,aAAa,YAAc,IAEhIV,EACKG,KAAK,UAAWxC,IAChBwC,KAAK,aAAa,SAAS1U,GAAK,IAAIyF,EAAIJ,KAAK6P,WAAWvC,OAAQ,OAAOW,GAAW7N,GAAKoF,SAASpF,EAAIA,EAAEzF,IAAMyF,EAAIqO,EAAS9T,IAAMwS,EAAS,KAG/I6B,EAASc,SAETlB,EACKS,KAAK,IAAK7B,IAAWZ,IAAQY,IAAWd,GAClCmB,EAAgB,IAAMxG,EAAIwG,EAAgB,IAAMU,EAAS,IAAMpB,EAAS,IAAMqB,EAAS,IAAMnH,EAAIwG,EAAgB,IAAMV,EAAS,IAAMoB,EAAS,IAAMC,EACrJX,EAAgB,IAAMU,EAAS,IAAMlH,EAAIwG,EAAgB,IAAMV,EAAS,IAAMqB,EAAS,IAAMnH,EAAIwG,EAAgB,IAAMU,EAAS,IAAMpB,EAAS,IAAMqB,GAEhKM,EACKO,KAAK,UAAW,GAChBA,KAAK,aAAa,SAAS1U,GAAK,OAAOsT,EAAUQ,EAAS9T,GAAKwS,EAAS,IAE7EmC,EACKD,KAAK9U,EAAI,IAAK8M,EAAIuG,GAEvB4B,EACKH,KAAK9U,EAAG8M,EAAIiH,GACZkB,KAAKnB,GAEVM,EAAUoB,OAAO1C,IACZgC,KAAK,OAAQ,QACbA,KAAK,YAAa,IAClBA,KAAK,cAAe,cACpBA,KAAK,cAAe7B,IAAWd,GAAQ,QAAUc,IAAWZ,GAAO,MAAQ,UAEhF+B,EACKqB,MAAK,WAAahQ,KAAKsN,OAASmB,CAAU,GACjD,CA0CA,OAxCAP,EAAKjB,MAAQ,SAASvG,GACpB,OAAOC,UAAUvN,QAAU6T,EAAQvG,EAAGwH,GAAQjB,CAChD,EAEAiB,EAAK/I,MAAQ,WACX,OAAOsI,EAAgB/O,MAAMC,KAAKgI,WAAYuH,CAChD,EAEAA,EAAKT,cAAgB,SAAS/G,GAC5B,OAAOC,UAAUvN,QAAUqU,EAAqB,MAAL/G,EAAY,GAAKhI,MAAMC,KAAK+H,GAAIwH,GAAQT,EAActR,OACnG,EAEA+R,EAAKR,WAAa,SAAShH,GACzB,OAAOC,UAAUvN,QAAUsU,EAAkB,MAALhH,EAAY,KAAOhI,MAAMC,KAAK+H,GAAIwH,GAAQR,GAAcA,EAAWvR,OAC7G,EAEA+R,EAAKP,WAAa,SAASjH,GACzB,OAAOC,UAAUvN,QAAUuU,EAAajH,EAAGwH,GAAQP,CACrD,EAEAO,EAAK+B,SAAW,SAASvJ,GACvB,OAAOC,UAAUvN,QAAUwU,EAAgBC,GAAiBnH,EAAGwH,GAAQN,CACzE,EAEAM,EAAKN,cAAgB,SAASlH,GAC5B,OAAOC,UAAUvN,QAAUwU,GAAiBlH,EAAGwH,GAAQN,CACzD,EAEAM,EAAKL,cAAgB,SAASnH,GAC5B,OAAOC,UAAUvN,QAAUyU,GAAiBnH,EAAGwH,GAAQL,CACzD,EAEAK,EAAKJ,YAAc,SAASpH,GAC1B,OAAOC,UAAUvN,QAAU0U,GAAepH,EAAGwH,GAAQJ,CACvD,EAEAI,EAAKf,OAAS,SAASzG,GACrB,OAAOC,UAAUvN,QAAU+T,GAAUzG,EAAGwH,GAAQf,CAClD,EAEOe,CACT,CAEO,SAASgC,GAAQjD,GACtB,OAAOM,GAAKd,GAAKQ,EACnB,CAEO,SAASkD,GAAUlD,GACxB,OAAOM,GAAKb,GAAOO,EACrB,CAEO,SAASmD,GAAWnD,GACzB,OAAOM,GAAKZ,GAAQM,EACtB,CAEO,SAASoD,GAASpD,GACvB,OAAOM,GAAKX,GAAMK,EACpB,C,iHC7KA,IAAIqD,GAAO,CAACpV,MAAO,QAEnB,SAASqV,KACP,IAAK,IAAyCtS,EAArC9E,EAAI,EAAGsE,EAAIkJ,UAAUvN,OAAQsN,EAAI,CAAC,EAAMvN,EAAIsE,IAAKtE,EAAG,CAC3D,KAAM8E,EAAI0I,UAAUxN,GAAK,KAAQ8E,KAAKyI,GAAM,QAAQqE,KAAK9M,GAAI,MAAM,IAAI1E,MAAM,iBAAmB0E,GAChGyI,EAAEzI,GAAK,EACT,CACA,OAAO,IAAIuS,GAAS9J,EACtB,CAEA,SAAS8J,GAAS9J,GAChB1G,KAAK0G,EAAIA,CACX,CAoDA,SAAS+J,GAAIC,EAAMC,GACjB,IAAK,IAA4BpN,EAAxBpK,EAAI,EAAGsE,EAAIiT,EAAKtX,OAAWD,EAAIsE,IAAKtE,EAC3C,IAAKoK,EAAImN,EAAKvX,IAAIwX,OAASA,EACzB,OAAOpN,EAAErI,KAGf,CAEA,SAAS0V,GAAIF,EAAMC,EAAME,GACvB,IAAK,IAAI1X,EAAI,EAAGsE,EAAIiT,EAAKtX,OAAQD,EAAIsE,IAAKtE,EACxC,GAAIuX,EAAKvX,GAAGwX,OAASA,EAAM,CACzBD,EAAKvX,GAAKmX,GAAMI,EAAOA,EAAKvU,MAAM,EAAGhD,GAAG2X,OAAOJ,EAAKvU,MAAMhD,EAAI,IAC9D,KACF,CAGF,OADgB,MAAZ0X,GAAkBH,EAAKrR,KAAK,CAACsR,KAAMA,EAAMzV,MAAO2V,IAC7CH,CACT,CA1DAF,GAASvM,UAAYsM,GAAStM,UAAY,CACxClE,YAAayQ,GACbO,GAAI,SAASC,EAAUH,GACrB,IAEI5S,EAd2BgT,EAY3BvK,EAAI1G,KAAK0G,EACTlK,GAb2ByU,EAaOvK,GAAfsK,EAAW,IAZnBE,OAAOC,MAAM,SAASlS,KAAI,SAAShB,GAClD,IAAI0S,EAAO,GAAIxX,EAAI8E,EAAEmT,QAAQ,KAE7B,GADIjY,GAAK,IAAGwX,EAAO1S,EAAE9B,MAAMhD,EAAI,GAAI8E,EAAIA,EAAE9B,MAAM,EAAGhD,IAC9C8E,IAAMgT,EAAMI,eAAepT,GAAI,MAAM,IAAI1E,MAAM,iBAAmB0E,GACtE,MAAO,CAACyS,KAAMzS,EAAG0S,KAAMA,EACzB,KASMxX,GAAI,EACJsE,EAAIjB,EAAEpD,OAGV,KAAIuN,UAAUvN,OAAS,GAAvB,CAOA,GAAgB,MAAZyX,GAAwC,mBAAbA,EAAyB,MAAM,IAAItX,MAAM,qBAAuBsX,GAC/F,OAAS1X,EAAIsE,GACX,GAAIQ,GAAK+S,EAAWxU,EAAErD,IAAIuX,KAAMhK,EAAEzI,GAAK2S,GAAIlK,EAAEzI,GAAI+S,EAASL,KAAME,QAC3D,GAAgB,MAAZA,EAAkB,IAAK5S,KAAKyI,EAAGA,EAAEzI,GAAK2S,GAAIlK,EAAEzI,GAAI+S,EAASL,KAAM,MAG1E,OAAO3Q,IAVP,CAFE,OAAS7G,EAAIsE,OAAQQ,GAAK+S,EAAWxU,EAAErD,IAAIuX,QAAUzS,EAAIwS,GAAI/J,EAAEzI,GAAI+S,EAASL,OAAQ,OAAO1S,CAa/F,EACAyQ,KAAM,WACJ,IAAIA,EAAO,CAAC,EAAGhI,EAAI1G,KAAK0G,EACxB,IAAK,IAAIzI,KAAKyI,EAAGgI,EAAKzQ,GAAKyI,EAAEzI,GAAG9B,QAChC,OAAO,IAAIqU,GAAS9B,EACtB,EACA7H,KAAM,SAAS6J,EAAMY,GACnB,IAAK7T,EAAIkJ,UAAUvN,OAAS,GAAK,EAAG,IAAK,IAAgCqE,EAAGQ,EAA/BsT,EAAO,IAAI7S,MAAMjB,GAAItE,EAAI,EAASA,EAAIsE,IAAKtE,EAAGoY,EAAKpY,GAAKwN,UAAUxN,EAAI,GACnH,IAAK6G,KAAK0G,EAAE2K,eAAeX,GAAO,MAAM,IAAInX,MAAM,iBAAmBmX,GACrE,IAAuBvX,EAAI,EAAGsE,GAAzBQ,EAAI+B,KAAK0G,EAAEgK,IAAoBtX,OAAQD,EAAIsE,IAAKtE,EAAG8E,EAAE9E,GAAG+B,MAAMkT,MAAMkD,EAAMC,EACjF,EACAnD,MAAO,SAASsC,EAAMY,EAAMC,GAC1B,IAAKvR,KAAK0G,EAAE2K,eAAeX,GAAO,MAAM,IAAInX,MAAM,iBAAmBmX,GACrE,IAAK,IAAIzS,EAAI+B,KAAK0G,EAAEgK,GAAOvX,EAAI,EAAGsE,EAAIQ,EAAE7E,OAAQD,EAAIsE,IAAKtE,EAAG8E,EAAE9E,GAAG+B,MAAMkT,MAAMkD,EAAMC,EACrF,G,IAsBFC,GAAejB,GCnFf,SAASkB,KAAQ,CAEF,SAAAC,GAASC,GACtB,OAAmB,MAAZA,EAAmBF,GAAO,WAC/B,OAAOzR,KAAK4R,cAAcD,EAC5B,CACF,CCAe,SAAAE,GAAetX,GAC5B,OAAY,MAALA,EAAY,GAAKmE,MAAMuH,QAAQ1L,GAAKA,EAAImE,MAAMC,KAAKpE,EAC5D,CCRA,SAASuX,KACP,MAAO,EACT,CAEe,SAAAC,GAASJ,GACtB,OAAmB,MAAZA,EAAmBG,GAAQ,WAChC,OAAO9R,KAAKgS,iBAAiBL,EAC/B,CACF,CCRe,SAAAM,GAASN,GACtB,OAAO,WACL,OAAO3R,KAAKkS,QAAQP,EACtB,CACF,CAEO,SAASQ,GAAaR,GAC3B,OAAO,SAASS,GACd,OAAOA,EAAKF,QAAQP,EACtB,CACF,CCRA,IAAIU,GAAO3T,MAAMuF,UAAUqO,KAQ3B,SAASC,KACP,OAAOvS,KAAKwS,iBACd,CCVA,IAAIC,GAAS/T,MAAMuF,UAAU8L,OAE7B,SAAS2C,KACP,OAAOhU,MAAMC,KAAKqB,KAAK2S,SACzB,CCNe,SAAAC,GAASC,GACtB,OAAO,IAAInU,MAAMmU,EAAOzZ,OAC1B,CCKO,SAAS0Z,GAAUC,EAAQC,GAChChT,KAAKiT,cAAgBF,EAAOE,cAC5BjT,KAAKkT,aAAeH,EAAOG,aAC3BlT,KAAKmT,MAAQ,KACbnT,KAAKoT,QAAUL,EACf/S,KAAKqT,SAAWL,CAClB,CCTA,SAASM,GAAUP,EAAQlQ,EAAOsM,EAAO0D,EAAQ5D,EAAMpS,GASrD,IARA,IACIuV,EADAjZ,EAAI,EAEJoa,EAAc1Q,EAAMzJ,OACpBoa,EAAa3W,EAAKzD,OAKfD,EAAIqa,IAAcra,GACnBiZ,EAAOvP,EAAM1J,KACfiZ,EAAKiB,SAAWxW,EAAK1D,GACrB0Z,EAAO1Z,GAAKiZ,GAEZjD,EAAMhW,GAAK,IAAI2Z,GAAUC,EAAQlW,EAAK1D,IAK1C,KAAOA,EAAIoa,IAAepa,GACpBiZ,EAAOvP,EAAM1J,MACf8V,EAAK9V,GAAKiZ,EAGhB,CAEA,SAASqB,GAAQV,EAAQlQ,EAAOsM,EAAO0D,EAAQ5D,EAAMpS,EAAMgE,GACzD,IAAI1H,EACAiZ,EAKAsB,EAJAC,EAAiB,IAAIhT,IACrB4S,EAAc1Q,EAAMzJ,OACpBoa,EAAa3W,EAAKzD,OAClBwa,EAAY,IAAIlV,MAAM6U,GAK1B,IAAKpa,EAAI,EAAGA,EAAIoa,IAAepa,GACzBiZ,EAAOvP,EAAM1J,MACfya,EAAUza,GAAKua,EAAW7S,EAAIgG,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,GAAS,GAChE8Q,EAAerS,IAAIoS,GACrBzE,EAAK9V,GAAKiZ,EAEVuB,EAAexS,IAAIuS,EAAUtB,IAQnC,IAAKjZ,EAAI,EAAGA,EAAIqa,IAAcra,EAC5Bua,EAAW7S,EAAIgG,KAAKkM,EAAQlW,EAAK1D,GAAIA,EAAG0D,GAAQ,IAC5CuV,EAAOuB,EAAevS,IAAIsS,KAC5Bb,EAAO1Z,GAAKiZ,EACZA,EAAKiB,SAAWxW,EAAK1D,GACrBwa,EAAenS,OAAOkS,IAEtBvE,EAAMhW,GAAK,IAAI2Z,GAAUC,EAAQlW,EAAK1D,IAK1C,IAAKA,EAAI,EAAGA,EAAIoa,IAAepa,GACxBiZ,EAAOvP,EAAM1J,KAAQwa,EAAevS,IAAIwS,EAAUza,MAAQiZ,IAC7DnD,EAAK9V,GAAKiZ,EAGhB,CAEA,SAASyB,GAAMzB,GACb,OAAOA,EAAKiB,QACd,CA+CA,SAASS,GAAUjX,GACjB,MAAuB,iBAATA,GAAqB,WAAYA,EAC3CA,EACA6B,MAAMC,KAAK9B,EACjB,CC1GA,SAASkX,GAAUla,EAAGC,GACpB,OAAOD,EAAIC,GAAI,EAAKD,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIC,GAC/C,CFRA+Y,GAAU7O,UAAY,CACpBlE,YAAa+S,GACbkB,YAAa,SAASC,GAAS,OAAOjU,KAAKoT,QAAQc,aAAaD,EAAOjU,KAAKmT,MAAQ,EACpFe,aAAc,SAASD,EAAO1I,GAAQ,OAAOvL,KAAKoT,QAAQc,aAAaD,EAAO1I,EAAO,EACrFqG,cAAe,SAASD,GAAY,OAAO3R,KAAKoT,QAAQxB,cAAcD,EAAW,EACjFK,iBAAkB,SAASL,GAAY,OAAO3R,KAAKoT,QAAQpB,iBAAiBL,EAAW,GGpBlF,IAAIwC,GAAQ,+BAEnBC,GAAe,CACbC,IAAK,6BACLC,MAAOH,GACPI,MAAO,+BACPC,IAAK,uCACLC,MAAO,iCCLM,SAAAC,GAAS/D,GACtB,IAAIgE,EAAShE,GAAQ,GAAIxX,EAAIwb,EAAOvD,QAAQ,KAE5C,OADIjY,GAAK,GAAqC,WAA/Bwb,EAAShE,EAAKxU,MAAM,EAAGhD,MAAiBwX,EAAOA,EAAKxU,MAAMhD,EAAI,IACtEib,GAAW/C,eAAesD,GAAU,CAACC,MAAOR,GAAWO,GAASE,MAAOlE,GAAQA,CACxF,CCJA,SAASmE,GAAWnE,GAClB,OAAO,WACL3Q,KAAK+U,gBAAgBpE,EACvB,CACF,CAEA,SAASqE,GAAaC,GACpB,OAAO,WACLjV,KAAKkV,kBAAkBD,EAASL,MAAOK,EAASJ,MAClD,CACF,CAEA,SAASM,GAAaxE,EAAMzV,GAC1B,OAAO,WACL8E,KAAKoV,aAAazE,EAAMzV,EAC1B,CACF,CAEA,SAASma,GAAeJ,EAAU/Z,GAChC,OAAO,WACL8E,KAAKsV,eAAeL,EAASL,MAAOK,EAASJ,MAAO3Z,EACtD,CACF,CAEA,SAASqa,GAAa5E,EAAMzV,GAC1B,OAAO,WACL,IAAIsE,EAAItE,EAAMkT,MAAMpO,KAAM2G,WACjB,MAALnH,EAAWQ,KAAK+U,gBAAgBpE,GAC/B3Q,KAAKoV,aAAazE,EAAMnR,EAC/B,CACF,CAEA,SAASgW,GAAeP,EAAU/Z,GAChC,OAAO,WACL,IAAIsE,EAAItE,EAAMkT,MAAMpO,KAAM2G,WACjB,MAALnH,EAAWQ,KAAKkV,kBAAkBD,EAASL,MAAOK,EAASJ,OAC1D7U,KAAKsV,eAAeL,EAASL,MAAOK,EAASJ,MAAOrV,EAC3D,CACF,CCxCe,SAAAiW,GAASrD,GACtB,OAAOA,EAAMa,eAAiBb,EAAKa,cAAcyC,aACzCtD,EAAKuD,UAAYvD,GAClBA,EAAKsD,WACd,CCFA,SAASE,GAAYjF,GACnB,OAAO,WACL3Q,KAAK6V,MAAMC,eAAenF,EAC5B,CACF,CAEA,SAASoF,GAAcpF,EAAMzV,EAAO8a,GAClC,OAAO,WACLhW,KAAK6V,MAAMI,YAAYtF,EAAMzV,EAAO8a,EACtC,CACF,CAEA,SAASE,GAAcvF,EAAMzV,EAAO8a,GAClC,OAAO,WACL,IAAIxW,EAAItE,EAAMkT,MAAMpO,KAAM2G,WACjB,MAALnH,EAAWQ,KAAK6V,MAAMC,eAAenF,GACpC3Q,KAAK6V,MAAMI,YAAYtF,EAAMnR,EAAGwW,EACvC,CACF,CAWO,SAASG,GAAW/D,EAAMzB,GAC/B,OAAOyB,EAAKyD,MAAMO,iBAAiBzF,IAC5B8E,GAAYrD,GAAMiE,iBAAiBjE,EAAM,MAAMgE,iBAAiBzF,EACzE,CClCA,SAAS2F,GAAe3F,GACtB,OAAO,kBACE3Q,KAAK2Q,EACd,CACF,CAEA,SAAS4F,GAAiB5F,EAAMzV,GAC9B,OAAO,WACL8E,KAAK2Q,GAAQzV,CACf,CACF,CAEA,SAASsb,GAAiB7F,EAAMzV,GAC9B,OAAO,WACL,IAAIsE,EAAItE,EAAMkT,MAAMpO,KAAM2G,WACjB,MAALnH,SAAkBQ,KAAK2Q,GACtB3Q,KAAK2Q,GAAQnR,CACpB,CACF,CClBA,SAASiX,GAAWC,GAClB,OAAOA,EAAOxF,OAAOC,MAAM,QAC7B,CAEA,SAASwF,GAAUvE,GACjB,OAAOA,EAAKwE,WAAa,IAAIC,GAAUzE,EACzC,CAEA,SAASyE,GAAUzE,GACjBpS,KAAK8W,MAAQ1E,EACbpS,KAAK+W,OAASN,GAAWrE,EAAKxC,aAAa,UAAY,GACzD,CAsBA,SAASoH,GAAW5E,EAAM6E,GAExB,IADA,IAAIC,EAAOP,GAAUvE,GAAOjZ,GAAI,EAAIsE,EAAIwZ,EAAM7d,SACrCD,EAAIsE,GAAGyZ,EAAK/W,IAAI8W,EAAM9d,GACjC,CAEA,SAASge,GAAc/E,EAAM6E,GAE3B,IADA,IAAIC,EAAOP,GAAUvE,GAAOjZ,GAAI,EAAIsE,EAAIwZ,EAAM7d,SACrCD,EAAIsE,GAAGyZ,EAAKpH,OAAOmH,EAAM9d,GACpC,CAEA,SAASie,GAAYH,GACnB,OAAO,WACLD,GAAWhX,KAAMiX,EACnB,CACF,CAEA,SAASI,GAAaJ,GACpB,OAAO,WACLE,GAAcnX,KAAMiX,EACtB,CACF,CAEA,SAASK,GAAgBL,EAAO/b,GAC9B,OAAO,YACJA,EAAMkT,MAAMpO,KAAM2G,WAAaqQ,GAAaG,IAAenX,KAAMiX,EACpE,CACF,CC3DA,SAASM,KACPvX,KAAKwX,YAAc,EACrB,CAEA,SAASC,GAAavc,GACpB,OAAO,WACL8E,KAAKwX,YAActc,CACrB,CACF,CAEA,SAASwc,GAAaxc,GACpB,OAAO,WACL,IAAIsE,EAAItE,EAAMkT,MAAMpO,KAAM2G,WAC1B3G,KAAKwX,YAAmB,MAALhY,EAAY,GAAKA,CACtC,CACF,CCfA,SAASmY,KACP3X,KAAK4X,UAAY,EACnB,CAEA,SAASC,GAAa3c,GACpB,OAAO,WACL8E,KAAK4X,UAAY1c,CACnB,CACF,CAEA,SAAS4c,GAAa5c,GACpB,OAAO,WACL,IAAIsE,EAAItE,EAAMkT,MAAMpO,KAAM2G,WAC1B3G,KAAK4X,UAAiB,MAALpY,EAAY,GAAKA,CACpC,CACF,CCfA,SAASuY,KACH/X,KAAKgY,aAAahY,KAAK6P,WAAWmE,YAAYhU,KACpD,CCFA,SAASiY,KACHjY,KAAKkY,iBAAiBlY,KAAK6P,WAAWqE,aAAalU,KAAMA,KAAK6P,WAAWsI,WAC/E,CCCA,SAASC,GAAezH,GACtB,OAAO,WACL,IAAIgF,EAAW3V,KAAKiT,cAChBoF,EAAMrY,KAAKkT,aACf,OAAOmF,IAAQlE,IAASwB,EAAS2C,gBAAgBpF,eAAiBiB,GAC5DwB,EAAS4C,cAAc5H,GACvBgF,EAAS6C,gBAAgBH,EAAK1H,EACtC,CACF,CAEA,SAAS8H,GAAaxD,GACpB,OAAO,WACL,OAAOjV,KAAKiT,cAAcuF,gBAAgBvD,EAASL,MAAOK,EAASJ,MACrE,CACF,CAEe,SAAA6D,GAAS/H,GACtB,IAAIsE,EAAWP,GAAU/D,GACzB,OAAQsE,EAASJ,MACX4D,GACAL,IAAgBnD,EACxB,CCrBA,SAAS0D,KACP,OAAO,IACT,CCLA,SAASC,KACP,IAAI7F,EAAS/S,KAAK6P,WACdkD,GAAQA,EAAO8F,YAAY7Y,KACjC,CCHA,SAAS8Y,KACP,IAAIC,EAAQ/Y,KAAKgZ,WAAU,GAAQjG,EAAS/S,KAAK6P,WACjD,OAAOkD,EAASA,EAAOmB,aAAa6E,EAAO/Y,KAAKgY,aAAee,CACjE,CAEA,SAASE,KACP,IAAIF,EAAQ/Y,KAAKgZ,WAAU,GAAOjG,EAAS/S,KAAK6P,WAChD,OAAOkD,EAASA,EAAOmB,aAAa6E,EAAO/Y,KAAKgY,aAAee,CACjE,CCMA,SAASG,GAASlI,GAChB,OAAO,WACL,IAAID,EAAK/Q,KAAKmZ,KACd,GAAKpI,EAAL,CACA,IAAK,IAAkC7E,EAA9BrO,EAAI,EAAG1E,GAAI,EAAIoN,EAAIwK,EAAG3X,OAAWyE,EAAI0I,IAAK1I,EAC7CqO,EAAI6E,EAAGlT,GAAMmT,EAASN,MAAQxE,EAAEwE,OAASM,EAASN,MAASxE,EAAEyE,OAASK,EAASL,KAGjFI,IAAK5X,GAAK+S,EAFVlM,KAAKoZ,oBAAoBlN,EAAEwE,KAAMxE,EAAEmN,SAAUnN,EAAEoN,WAK7CngB,EAAG4X,EAAG3X,OAASD,SACT6G,KAAKmZ,IATR,CAUX,CACF,CAEA,SAASI,GAAMvI,EAAU9V,EAAOoe,GAC9B,OAAO,WACL,IAAoBpN,EAAhB6E,EAAK/Q,KAAKmZ,KAASE,EAhC3B,SAAyBA,GACvB,OAAO,SAASG,GACdH,EAASxS,KAAK7G,KAAMwZ,EAAOxZ,KAAKqT,SAClC,CACF,CA4BsCoG,CAAgBve,GAClD,GAAI6V,EAAI,IAAK,IAAIlT,EAAI,EAAG0I,EAAIwK,EAAG3X,OAAQyE,EAAI0I,IAAK1I,EAC9C,IAAKqO,EAAI6E,EAAGlT,IAAI6S,OAASM,EAASN,MAAQxE,EAAEyE,OAASK,EAASL,KAI5D,OAHA3Q,KAAKoZ,oBAAoBlN,EAAEwE,KAAMxE,EAAEmN,SAAUnN,EAAEoN,SAC/CtZ,KAAK0Z,iBAAiBxN,EAAEwE,KAAMxE,EAAEmN,SAAWA,EAAUnN,EAAEoN,QAAUA,QACjEpN,EAAEhR,MAAQA,GAId8E,KAAK0Z,iBAAiB1I,EAASN,KAAM2I,EAAUC,GAC/CpN,EAAI,CAACwE,KAAMM,EAASN,KAAMC,KAAMK,EAASL,KAAMzV,MAAOA,EAAOme,SAAUA,EAAUC,QAASA,GACrFvI,EACAA,EAAG1R,KAAK6M,GADJlM,KAAKmZ,KAAO,CAACjN,EAExB,CACF,CC5CA,SAASyN,GAAcvH,EAAM1B,EAAMkJ,GACjC,IAAI7L,EAAS0H,GAAYrD,GACrBoH,EAAQzL,EAAO8L,YAEE,mBAAVL,EACTA,EAAQ,IAAIA,EAAM9I,EAAMkJ,IAExBJ,EAAQzL,EAAO4H,SAASmE,YAAY,SAChCF,GAAQJ,EAAMO,UAAUrJ,EAAMkJ,EAAOI,QAASJ,EAAOK,YAAaT,EAAMU,OAASN,EAAOM,QACvFV,EAAMO,UAAUrJ,GAAM,GAAO,IAGpC0B,EAAK+H,cAAcX,EACrB,CAEA,SAASY,GAAiB1J,EAAMkJ,GAC9B,OAAO,WACL,OAAOD,GAAc3Z,KAAM0Q,EAAMkJ,EACnC,CACF,CAEA,SAASS,GAAiB3J,EAAMkJ,GAC9B,OAAO,WACL,OAAOD,GAAc3Z,KAAM0Q,EAAMkJ,EAAOxL,MAAMpO,KAAM2G,WACtD,CACF,CVdAkQ,GAAU5S,UAAY,CACpB9D,IAAK,SAASwQ,GACJ3Q,KAAK+W,OAAO3F,QAAQT,GACpB,IACN3Q,KAAK+W,OAAO1X,KAAKsR,GACjB3Q,KAAK8W,MAAM1B,aAAa,QAASpV,KAAK+W,OAAOuD,KAAK,MAEtD,EACAxK,OAAQ,SAASa,GACf,IAAIxX,EAAI6G,KAAK+W,OAAO3F,QAAQT,GACxBxX,GAAK,IACP6G,KAAK+W,OAAOwD,OAAOphB,EAAG,GACtB6G,KAAK8W,MAAM1B,aAAa,QAASpV,KAAK+W,OAAOuD,KAAK,MAEtD,EACAE,SAAU,SAAS7J,GACjB,OAAO3Q,KAAK+W,OAAO3F,QAAQT,IAAS,CACtC,GWKK,IAAI8J,GAAO,CAAC,MAEZ,SAASC,GAAUzY,EAAQ0Y,GAChC3a,KAAK4a,QAAU3Y,EACfjC,KAAK6a,SAAWF,CAClB,CAEA,SAASG,KACP,OAAO,IAAIJ,GAAU,CAAC,CAAC/E,SAAS2C,kBAAmBmC,GACrD,CAMAC,GAAUzW,UAAY6W,GAAU7W,UAAY,CAC1ClE,YAAa2a,GACbnL,OCjDa,SAASA,GACA,mBAAXA,IAAuBA,EAASmC,GAASnC,IAEpD,IAAK,IAAItN,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQ2hB,EAAY,IAAIrc,MAAM6H,GAAI1I,EAAI,EAAGA,EAAI0I,IAAK1I,EAC3F,IAAK,IAAiFuU,EAAM4I,EAAnFnY,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAQ6hB,EAAWF,EAAUld,GAAK,IAAIa,MAAMjB,GAAmBtE,EAAI,EAAGA,EAAIsE,IAAKtE,GAC9GiZ,EAAOvP,EAAM1J,MAAQ6hB,EAAUzL,EAAO1I,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,MAClE,aAAcuP,IAAM4I,EAAQ3H,SAAWjB,EAAKiB,UAChD4H,EAAS9hB,GAAK6hB,GAKpB,OAAO,IAAIN,GAAUK,EAAW/a,KAAK6a,SACvC,EDqCEhM,UE3Ca,SAASU,GACYA,EAAZ,mBAAXA,EAPb,SAAkBA,GAChB,OAAO,WACL,OAAOsC,GAAMtC,EAAOnB,MAAMpO,KAAM2G,WAClC,CACF,CAG6CuU,CAAS3L,GACtCwC,GAAYxC,GAE1B,IAAK,IAAItN,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQ2hB,EAAY,GAAIJ,EAAU,GAAI9c,EAAI,EAAGA,EAAI0I,IAAK1I,EAC/F,IAAK,IAAyCuU,EAArCvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAcD,EAAI,EAAGA,EAAIsE,IAAKtE,GAC9DiZ,EAAOvP,EAAM1J,MACf4hB,EAAU1b,KAAKkQ,EAAO1I,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,IACnD8X,EAAQtb,KAAK+S,IAKnB,OAAO,IAAIsI,GAAUK,EAAWJ,EAClC,EF8BEQ,YvBxCa,SAASC,GACtB,OAAOpb,KAAKuP,OAAgB,MAAT6L,EAAgB7I,GAXrC,SAAmB6I,GACjB,OAAO,WACL,OAAO/I,GAAKxL,KAAK7G,KAAK2S,SAAUyI,EAClC,CACF,CAQQC,CAA2B,mBAAVD,EAAuBA,EAAQjJ,GAAaiJ,IACrE,EuBsCEE,etBzCa,SAASF,GACtB,OAAOpb,KAAK6O,UAAmB,MAATuM,EAAgB1I,GAPxC,SAAwB0I,GACtB,OAAO,WACL,OAAO3I,GAAO5L,KAAK7G,KAAK2S,SAAUyI,EACpC,CACF,CAIQG,CAAgC,mBAAVH,EAAuBA,EAAQjJ,GAAaiJ,IAC1E,EsBuCErL,OGrDa,SAASqL,GACD,mBAAVA,IAAsBA,EAAQnJ,GAAQmJ,IAEjD,IAAK,IAAInZ,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQ2hB,EAAY,IAAIrc,MAAM6H,GAAI1I,EAAI,EAAGA,EAAI0I,IAAK1I,EAC3F,IAAK,IAAuEuU,EAAnEvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAQ6hB,EAAWF,EAAUld,GAAK,GAAU1E,EAAI,EAAGA,EAAIsE,IAAKtE,GAC3FiZ,EAAOvP,EAAM1J,KAAOiiB,EAAMvU,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,IAC1DoY,EAAS5b,KAAK+S,GAKpB,OAAO,IAAIsI,GAAUK,EAAW/a,KAAK6a,SACvC,EH0CEhe,KnBqBa,SAAS3B,EAAO2F,GAC7B,IAAK8F,UAAUvN,OAAQ,OAAOsF,MAAMC,KAAKqB,KAAM6T,IAE/C,IuBjFsBtZ,EvBiFlBihB,EAAO3a,EAAM4S,GAAUH,GACvBqH,EAAU3a,KAAK6a,SACf5Y,EAASjC,KAAK4a,QAEG,mBAAV1f,IuBrFWX,EvBqF4BW,EAAjBA,EuBpF1B,WACL,OAAOX,CACT,GvBoFA,IAAK,IAAIgM,EAAItE,EAAO7I,OAAQyZ,EAAS,IAAInU,MAAM6H,GAAI4I,EAAQ,IAAIzQ,MAAM6H,GAAI0I,EAAO,IAAIvQ,MAAM6H,GAAI1I,EAAI,EAAGA,EAAI0I,IAAK1I,EAAG,CAC/G,IAAIkV,EAAS4H,EAAQ9c,GACjBgF,EAAQZ,EAAOpE,GACf0V,EAAc1Q,EAAMzJ,OACpByD,EAAOiX,GAAU5Y,EAAM2L,KAAKkM,EAAQA,GAAUA,EAAOM,SAAUxV,EAAG8c,IAClEnH,EAAa3W,EAAKzD,OAClBqiB,EAAatM,EAAMtR,GAAK,IAAIa,MAAM8U,GAClCkI,EAAc7I,EAAOhV,GAAK,IAAIa,MAAM8U,GAGxCgI,EAAKzI,EAAQlQ,EAAO4Y,EAAYC,EAFhBzM,EAAKpR,GAAK,IAAIa,MAAM6U,GAEoB1W,EAAMgE,GAK9D,IAAK,IAAoByI,EAAUiC,EAA1BtD,EAAK,EAAGpD,EAAK,EAAmBoD,EAAKuL,IAAcvL,EAC1D,GAAIqB,EAAWmS,EAAWxT,GAAK,CAE7B,IADIA,GAAMpD,IAAIA,EAAKoD,EAAK,KACfsD,EAAOmQ,EAAY7W,OAAUA,EAAK2O,IAC3ClK,EAAS6J,MAAQ5H,GAAQ,IAC3B,CAEJ,CAKA,OAHAsH,EAAS,IAAI6H,GAAU7H,EAAQ8H,IACxBgB,OAASxM,EAChB0D,EAAO+I,MAAQ3M,EACR4D,CACT,EmBzDE1D,MpBvDa,WACb,OAAO,IAAIuL,GAAU1a,KAAK2b,QAAU3b,KAAK4a,QAAQ3b,IAAI2T,IAAS5S,KAAK6a,SACrE,EoBsDE5L,KKxDa,WACb,OAAO,IAAIyL,GAAU1a,KAAK4b,OAAS5b,KAAK4a,QAAQ3b,IAAI2T,IAAS5S,KAAK6a,SACpE,ELuDEP,KM5Da,SAASuB,EAASC,EAAUC,GACzC,IAAI5M,EAAQnP,KAAKmP,QAAS0D,EAAS7S,KAAMiP,EAAOjP,KAAKiP,OAYrD,MAXuB,mBAAZ4M,GACT1M,EAAQ0M,EAAQ1M,MACLA,EAAQA,EAAMR,aAEzBQ,EAAQA,EAAMC,OAAOyM,EAAU,IAEjB,MAAZC,IACFjJ,EAASiJ,EAASjJ,MACNA,EAASA,EAAOlE,aAEhB,MAAVoN,EAAgB9M,EAAKa,SAAeiM,EAAO9M,GACxCE,GAAS0D,EAAS1D,EAAMM,MAAMoD,GAAQ9D,QAAU8D,CACzD,EN+CEpD,MO3Da,SAAStB,GAGtB,IAFA,IAAIQ,EAAYR,EAAQQ,UAAYR,EAAQQ,YAAcR,EAEjD6N,EAAUhc,KAAK4a,QAASqB,EAAUtN,EAAUiM,QAASsB,EAAKF,EAAQ5iB,OAAQ+iB,EAAKF,EAAQ7iB,OAAQmN,EAAIzK,KAAKgC,IAAIoe,EAAIC,GAAKC,EAAS,IAAI1d,MAAMwd,GAAKre,EAAI,EAAGA,EAAI0I,IAAK1I,EACpK,IAAK,IAAmGuU,EAA/FiK,EAASL,EAAQne,GAAIye,EAASL,EAAQpe,GAAIJ,EAAI4e,EAAOjjB,OAAQqW,EAAQ2M,EAAOve,GAAK,IAAIa,MAAMjB,GAAUtE,EAAI,EAAGA,EAAIsE,IAAKtE,GACxHiZ,EAAOiK,EAAOljB,IAAMmjB,EAAOnjB,MAC7BsW,EAAMtW,GAAKiZ,GAKjB,KAAOvU,EAAIqe,IAAMre,EACfue,EAAOve,GAAKme,EAAQne,GAGtB,OAAO,IAAI6c,GAAU0B,EAAQpc,KAAK6a,SACpC,EP4CElM,UAhBF,WACE,OAAO3O,IACT,EAeE+O,MQ/Da,WAEb,IAAK,IAAI9M,EAASjC,KAAK4a,QAAS/c,GAAI,EAAI0I,EAAItE,EAAO7I,SAAUyE,EAAI0I,GAC/D,IAAK,IAA8D6L,EAA1DvP,EAAQZ,EAAOpE,GAAI1E,EAAI0J,EAAMzJ,OAAS,EAAGmS,EAAO1I,EAAM1J,KAAYA,GAAK,IAC1EiZ,EAAOvP,EAAM1J,MACXoS,GAA6C,EAArC6G,EAAKmK,wBAAwBhR,IAAWA,EAAKsE,WAAWqE,aAAa9B,EAAM7G,GACvFA,EAAO6G,GAKb,OAAOpS,IACT,ERoDEsD,KlB9Da,SAASI,GAGtB,SAAS8Y,EAAY3iB,EAAGC,GACtB,OAAOD,GAAKC,EAAI4J,EAAQ7J,EAAEwZ,SAAUvZ,EAAEuZ,WAAaxZ,GAAKC,CAC1D,CAJK4J,IAASA,EAAUqQ,IAMxB,IAAK,IAAI9R,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQqjB,EAAa,IAAI/d,MAAM6H,GAAI1I,EAAI,EAAGA,EAAI0I,IAAK1I,EAAG,CAC/F,IAAK,IAAmFuU,EAA/EvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAQsjB,EAAYD,EAAW5e,GAAK,IAAIa,MAAMjB,GAAUtE,EAAI,EAAGA,EAAIsE,IAAKtE,GACxGiZ,EAAOvP,EAAM1J,MACfujB,EAAUvjB,GAAKiZ,GAGnBsK,EAAUpZ,KAAKkZ,EACjB,CAEA,OAAO,IAAI9B,GAAU+B,EAAYzc,KAAK6a,UAAU9L,OAClD,EkB8CElI,KSjEa,WACb,IAAIgK,EAAWlK,UAAU,GAGzB,OAFAA,UAAU,GAAK3G,KACf6Q,EAASzC,MAAM,KAAMzH,WACd3G,IACT,ET6DE2c,MUlEa,WACb,OAAOje,MAAMC,KAAKqB,KACpB,EViEEoS,KWnEa,WAEb,IAAK,IAAInQ,EAASjC,KAAK4a,QAAS/c,EAAI,EAAG0I,EAAItE,EAAO7I,OAAQyE,EAAI0I,IAAK1I,EACjE,IAAK,IAAIgF,EAAQZ,EAAOpE,GAAI1E,EAAI,EAAGsE,EAAIoF,EAAMzJ,OAAQD,EAAIsE,IAAKtE,EAAG,CAC/D,IAAIiZ,EAAOvP,EAAM1J,GACjB,GAAIiZ,EAAM,OAAOA,CACnB,CAGF,OAAO,IACT,EX0DEwK,KYpEa,WACb,IAAIA,EAAO,EACX,IAAK,MAAMxK,KAAQpS,OAAQ4c,EAC3B,OAAOA,CACT,EZiEEC,MarEa,WACb,OAAQ7c,KAAKoS,MACf,EboEEpC,KctEa,SAASa,GAEtB,IAAK,IAAI5O,EAASjC,KAAK4a,QAAS/c,EAAI,EAAG0I,EAAItE,EAAO7I,OAAQyE,EAAI0I,IAAK1I,EACjE,IAAK,IAAgDuU,EAA5CvP,EAAQZ,EAAOpE,GAAI1E,EAAI,EAAGsE,EAAIoF,EAAMzJ,OAAcD,EAAIsE,IAAKtE,GAC9DiZ,EAAOvP,EAAM1J,KAAI0X,EAAShK,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,GAI/D,OAAO7C,IACT,Ed8DEqP,Kf7Ba,SAASsB,EAAMzV,GAC5B,IAAI+Z,EAAWP,GAAU/D,GAEzB,GAAIhK,UAAUvN,OAAS,EAAG,CACxB,IAAIgZ,EAAOpS,KAAKoS,OAChB,OAAO6C,EAASJ,MACVzC,EAAK0K,eAAe7H,EAASL,MAAOK,EAASJ,OAC7CzC,EAAKxC,aAAaqF,EAC1B,CAEA,OAAOjV,KAAKgQ,MAAe,MAAT9U,EACX+Z,EAASJ,MAAQG,GAAeF,GAAgC,mBAAV5Z,EACtD+Z,EAASJ,MAAQW,GAAiBD,GAClCN,EAASJ,MAAQQ,GAAiBF,IAAgBF,EAAU/Z,GACrE,EegBE2a,MblDa,SAASlF,EAAMzV,EAAO8a,GACnC,OAAOrP,UAAUvN,OAAS,EACpB4G,KAAKgQ,MAAe,MAAT9U,EACL0a,GAA+B,mBAAV1a,EACrBgb,GACAH,IAAepF,EAAMzV,EAAmB,MAAZ8a,EAAmB,GAAKA,IAC1DG,GAAWnW,KAAKoS,OAAQzB,EAChC,Ea4CEoM,SZrDa,SAASpM,EAAMzV,GAC5B,OAAOyL,UAAUvN,OAAS,EACpB4G,KAAKgQ,MAAe,MAAT9U,EACPob,GAAkC,mBAAVpb,EACxBsb,GACAD,IAAkB5F,EAAMzV,IAC5B8E,KAAKoS,OAAOzB,EACpB,EY+CEqM,QXba,SAASrM,EAAMzV,GAC5B,IAAI+b,EAAQR,GAAW9F,EAAO,IAE9B,GAAIhK,UAAUvN,OAAS,EAAG,CAExB,IADA,IAAI8d,EAAOP,GAAU3W,KAAKoS,QAASjZ,GAAI,EAAIsE,EAAIwZ,EAAM7d,SAC5CD,EAAIsE,OAAQyZ,EAAKsD,SAASvD,EAAM9d,IAAK,OAAO,EACrD,OAAO,CACT,CAEA,OAAO6G,KAAKgQ,MAAuB,mBAAV9U,EACnBoc,GAAkBpc,EAClBkc,GACAC,IAAcJ,EAAO/b,GAC7B,EWCEsU,KV1Da,SAAStU,GACtB,OAAOyL,UAAUvN,OACX4G,KAAKgQ,KAAc,MAAT9U,EACNqc,IAA+B,mBAAVrc,EACrBwc,GACAD,IAAcvc,IAClB8E,KAAKoS,OAAOoF,WACpB,EUoDEyF,KT3Da,SAAS/hB,GACtB,OAAOyL,UAAUvN,OACX4G,KAAKgQ,KAAc,MAAT9U,EACNyc,IAA+B,mBAAVzc,EACrB4c,GACAD,IAAc3c,IAClB8E,KAAKoS,OAAOwF,SACpB,ESqDEsF,MRzEa,WACb,OAAOld,KAAKgQ,KAAK+H,GACnB,EQwEEoF,MP1Ea,WACb,OAAOnd,KAAKgQ,KAAKiI,GACnB,EOyEE7I,Oe7Ea,SAASuB,GACtB,IAAIyM,EAAyB,mBAATzM,EAAsBA,EAAO+H,GAAQ/H,GACzD,OAAO3Q,KAAKuP,QAAO,WACjB,OAAOvP,KAAKgU,YAAYoJ,EAAOhP,MAAMpO,KAAM2G,WAC7C,GACF,EfyEE+I,OLzEa,SAASiB,EAAM0M,GAC5B,IAAID,EAAyB,mBAATzM,EAAsBA,EAAO+H,GAAQ/H,GACrDpB,EAAmB,MAAV8N,EAAiB1E,GAAiC,mBAAX0E,EAAwBA,EAAS3L,GAAS2L,GAC9F,OAAOrd,KAAKuP,QAAO,WACjB,OAAOvP,KAAKkU,aAAakJ,EAAOhP,MAAMpO,KAAM2G,WAAY4I,EAAOnB,MAAMpO,KAAM2G,YAAc,KAC3F,GACF,EKoEEmJ,OJ5Ea,WACb,OAAO9P,KAAKgQ,KAAK4I,GACnB,EI2EEG,MHxEa,SAASuE,GACtB,OAAOtd,KAAKuP,OAAO+N,EAAOrE,GAAsBH,GAClD,EGuEE9F,MgBnFa,SAAS9X,GACtB,OAAOyL,UAAUvN,OACX4G,KAAK+c,SAAS,WAAY7hB,GAC1B8E,KAAKoS,OAAOiB,QACpB,EhBgFEtC,GFpCa,SAASC,EAAU9V,EAAOoe,GACvC,IAA+CngB,EAAyB8E,EAApEsf,EA3CN,SAAwBA,GACtB,OAAOA,EAAUrM,OAAOC,MAAM,SAASlS,KAAI,SAAShB,GAClD,IAAI0S,EAAO,GAAIxX,EAAI8E,EAAEmT,QAAQ,KAE7B,OADIjY,GAAK,IAAGwX,EAAO1S,EAAE9B,MAAMhD,EAAI,GAAI8E,EAAIA,EAAE9B,MAAM,EAAGhD,IAC3C,CAACuX,KAAMzS,EAAG0S,KAAMA,EACzB,GACF,CAqCkB6M,CAAexM,EAAW,IAAQvT,EAAI8f,EAAUnkB,OAEhE,KAAIuN,UAAUvN,OAAS,GAAvB,CAaA,IADA2X,EAAK7V,EAAQqe,GAAQL,GAChB/f,EAAI,EAAGA,EAAIsE,IAAKtE,EAAG6G,KAAKgQ,KAAKe,EAAGwM,EAAUpkB,GAAI+B,EAAOoe,IAC1D,OAAOtZ,IAJP,CATE,IAAI+Q,EAAK/Q,KAAKoS,OAAO+G,KACrB,GAAIpI,EAAI,IAAK,IAA0B7E,EAAtBrO,EAAI,EAAG0I,EAAIwK,EAAG3X,OAAWyE,EAAI0I,IAAK1I,EACjD,IAAK1E,EAAI,EAAG+S,EAAI6E,EAAGlT,GAAI1E,EAAIsE,IAAKtE,EAC9B,IAAK8E,EAAIsf,EAAUpkB,IAAIuX,OAASxE,EAAEwE,MAAQzS,EAAE0S,OAASzE,EAAEyE,KACrD,OAAOzE,EAAEhR,KAUnB,EEmBEuiB,SDxDa,SAAS/M,EAAMkJ,GAC5B,OAAO5Z,KAAKgQ,MAAwB,mBAAX4J,EACnBS,GACAD,IAAkB1J,EAAMkJ,GAChC,ECqDE,CAAC1W,OAAOC,UiBtFK,YACb,IAAK,IAAIlB,EAASjC,KAAK4a,QAAS/c,EAAI,EAAG0I,EAAItE,EAAO7I,OAAQyE,EAAI0I,IAAK1I,EACjE,IAAK,IAAgDuU,EAA5CvP,EAAQZ,EAAOpE,GAAI1E,EAAI,EAAGsE,EAAIoF,EAAMzJ,OAAcD,EAAIsE,IAAKtE,GAC9DiZ,EAAOvP,EAAM1J,YAAUiZ,EAGjC,G,IjBmFAsL,GAAe5C,GkBvFA,SAAA6C,GAAShM,GACtB,MAA2B,iBAAbA,EACR,IAAI+I,GAAU,CAAC,CAAC/E,SAAS/D,cAAcD,KAAa,CAACgE,SAAS2C,kBAC9D,IAAIoC,GAAU,CAAC,CAAC/I,IAAY8I,GACpC,CCJO,MAAMmD,GAAa,CAACC,SAAS,GACvBC,GAAoB,CAACC,SAAS,EAAMF,SAAS,GAEnD,SAASG,GAAcxE,GAC5BA,EAAMyE,0BACR,CAEe,SAAAC,GAAS1E,GACtBA,EAAM2E,iBACN3E,EAAMyE,0BACR,CCTe,SAAAG,GAASC,GACtB,IAAIC,EAAOD,EAAK1I,SAAS2C,gBACrB3J,EAAYgP,GAAOU,GAAMtN,GAAG,iBAAkBmN,GAASJ,IACvD,kBAAmBQ,EACrB3P,EAAUoC,GAAG,mBAAoBmN,GAASJ,KAE1CQ,EAAKC,WAAaD,EAAKzI,MAAM2I,cAC7BF,EAAKzI,MAAM2I,cAAgB,OAE/B,CAEO,SAASC,GAAQJ,EAAMK,GAC5B,IAAIJ,EAAOD,EAAK1I,SAAS2C,gBACrB3J,EAAYgP,GAAOU,GAAMtN,GAAG,iBAAkB,MAC9C2N,IACF/P,EAAUoC,GAAG,aAAcmN,GAASJ,IACpCa,YAAW,WAAahQ,EAAUoC,GAAG,aAAc,KAAO,GAAG,IAE3D,kBAAmBuN,EACrB3P,EAAUoC,GAAG,mBAAoB,OAEjCuN,EAAKzI,MAAM2I,cAAgBF,EAAKC,kBACzBD,EAAKC,WAEhB,CC3Be,SAAAK,GAAS7e,EAAa8e,EAAS5a,GAC5ClE,EAAYkE,UAAY4a,EAAQ5a,UAAYA,EAC5CA,EAAUlE,YAAcA,CAC1B,CAEO,SAAS+e,GAAO/L,EAAQgM,GAC7B,IAAI9a,EAAY/K,OAAOkkB,OAAOrK,EAAO9O,WACrC,IAAK,IAAIpD,KAAOke,EAAY9a,EAAUpD,GAAOke,EAAWle,GACxD,OAAOoD,CACT,CCPO,SAAS+a,KAAS,CAElB,IAAIC,GAAS,GACTC,GAAW,mBAElBC,GAAM,sBACNC,GAAM,oDACNC,GAAM,qDACNC,GAAQ,qBACRC,GAAe,IAAIC,OAAO,UAAUL,MAAOA,MAAOA,UAClDM,GAAe,IAAID,OAAO,UAAUH,MAAOA,MAAOA,UAClDK,GAAgB,IAAIF,OAAO,WAAWL,MAAOA,MAAOA,MAAOC,UAC3DO,GAAgB,IAAIH,OAAO,WAAWH,MAAOA,MAAOA,MAAOD,UAC3DQ,GAAe,IAAIJ,OAAO,UAAUJ,MAAOC,MAAOA,UAClDQ,GAAgB,IAAIL,OAAO,WAAWJ,MAAOC,MAAOA,MAAOD,UAE3DU,GAAQ,CACVC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAkBf,SAASC,KACP,OAAOnpB,KAAKopB,MAAMC,WACpB,CAUA,SAASC,KACP,OAAOtpB,KAAKopB,MAAMG,WACpB,CAEe,SAAAC,GAAenb,GAC5B,IAAI9H,EAAGkjB,EAEP,OADApb,GAAUA,EAAS,IAAI6C,OAAOwY,eACtBnjB,EAAI+Y,GAAMqK,KAAKtb,KAAYob,EAAIljB,EAAE,GAAGnN,OAAQmN,EAAIqjB,SAASrjB,EAAE,GAAI,IAAW,IAANkjB,EAAUI,GAAKtjB,GAC/E,IAANkjB,EAAU,IAAIK,GAAIvjB,GAAM,EAAI,GAAQA,GAAK,EAAI,IAAOA,GAAM,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAANkjB,EAAUM,GAAKxjB,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAANkjB,EAAUM,GAAKxjB,GAAM,GAAK,GAAQA,GAAK,EAAI,IAAOA,GAAM,EAAI,GAAQA,GAAK,EAAI,IAAOA,GAAM,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KAClJ,OACCA,EAAIgZ,GAAaoK,KAAKtb,IAAW,IAAIyb,GAAIvjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAIkZ,GAAakK,KAAKtb,IAAW,IAAIyb,GAAW,IAAPvjB,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAImZ,GAAciK,KAAKtb,IAAW0b,GAAKxjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAIoZ,GAAcgK,KAAKtb,IAAW0b,GAAY,IAAPxjB,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAIqZ,GAAa+J,KAAKtb,IAAW2b,GAAKzjB,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAIsZ,GAAc8J,KAAKtb,IAAW2b,GAAKzjB,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxEuZ,GAAMzO,eAAehD,GAAUwb,GAAK/J,GAAMzR,IAC/B,gBAAXA,EAA2B,IAAIyb,GAAI/vB,IAAKA,IAAKA,IAAK,GAClD,IACR,CAEA,SAAS8vB,GAAKpsB,GACZ,OAAO,IAAIqsB,GAAIrsB,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,EAC1D,CAEA,SAASssB,GAAKnuB,EAAGuG,EAAGrI,EAAGD,GAErB,OADIA,GAAK,IAAG+B,EAAIuG,EAAIrI,EAAIC,KACjB,IAAI+vB,GAAIluB,EAAGuG,EAAGrI,EAAGD,EAC1B,CAEO,SAASowB,GAAW/d,GAEzB,OADMA,aAAa8S,KAAQ9S,EAAIsd,GAAMtd,IAChCA,EAEE,IAAI4d,IADX5d,EAAIA,EAAEkd,OACWxtB,EAAGsQ,EAAE/J,EAAG+J,EAAEpS,EAAGoS,EAAEge,SAFjB,IAAIJ,EAGrB,CAEO,SAASK,GAAIvuB,EAAGuG,EAAGrI,EAAGowB,GAC3B,OAA4B,IAArBvjB,UAAUvN,OAAe6wB,GAAWruB,GAAK,IAAIkuB,GAAIluB,EAAGuG,EAAGrI,EAAc,MAAXowB,EAAkB,EAAIA,EACzF,CAEO,SAASJ,GAAIluB,EAAGuG,EAAGrI,EAAGowB,GAC3BlqB,KAAKpE,GAAKA,EACVoE,KAAKmC,GAAKA,EACVnC,KAAKlG,GAAKA,EACVkG,KAAKkqB,SAAWA,CAClB,CA8BA,SAASE,KACP,MAAO,IAAIC,GAAIrqB,KAAKpE,KAAKyuB,GAAIrqB,KAAKmC,KAAKkoB,GAAIrqB,KAAKlG,IAClD,CAMA,SAASwwB,KACP,MAAMzwB,EAAI0wB,GAAOvqB,KAAKkqB,SACtB,MAAO,GAAS,IAANrwB,EAAU,OAAS,UAAU2wB,GAAOxqB,KAAKpE,OAAO4uB,GAAOxqB,KAAKmC,OAAOqoB,GAAOxqB,KAAKlG,KAAW,IAAND,EAAU,IAAM,KAAKA,MACrH,CAEA,SAAS0wB,GAAOL,GACd,OAAOliB,MAAMkiB,GAAW,EAAIpuB,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAGosB,GACtD,CAEA,SAASM,GAAOtvB,GACd,OAAOY,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,MAAM9J,IAAU,GACxD,CAEA,SAASmvB,GAAInvB,GAEX,QADAA,EAAQsvB,GAAOtvB,IACC,GAAK,IAAM,IAAMA,EAAMuvB,SAAS,GAClD,CAEA,SAAST,GAAKzsB,EAAGK,EAAG6rB,EAAG5vB,GAIrB,OAHIA,GAAK,EAAG0D,EAAIK,EAAI6rB,EAAI1vB,IACf0vB,GAAK,GAAKA,GAAK,EAAGlsB,EAAIK,EAAI7D,IAC1B6D,GAAK,IAAGL,EAAIxD,KACd,IAAI2wB,GAAIntB,EAAGK,EAAG6rB,EAAG5vB,EAC1B,CAEO,SAAS8wB,GAAWze,GACzB,GAAIA,aAAawe,GAAK,OAAO,IAAIA,GAAIxe,EAAE3O,EAAG2O,EAAEtO,EAAGsO,EAAEud,EAAGvd,EAAEge,SAEtD,GADMhe,aAAa8S,KAAQ9S,EAAIsd,GAAMtd,KAChCA,EAAG,OAAO,IAAIwe,GACnB,GAAIxe,aAAawe,GAAK,OAAOxe,EAE7B,IAAItQ,GADJsQ,EAAIA,EAAEkd,OACIxtB,EAAI,IACVuG,EAAI+J,EAAE/J,EAAI,IACVrI,EAAIoS,EAAEpS,EAAI,IACVgE,EAAMhC,KAAKgC,IAAIlC,EAAGuG,EAAGrI,GACrBiE,EAAMjC,KAAKiC,IAAInC,EAAGuG,EAAGrI,GACrByD,EAAIxD,IACJ6D,EAAIG,EAAMD,EACV2rB,GAAK1rB,EAAMD,GAAO,EAUtB,OATIF,GACaL,EAAX3B,IAAMmC,GAAUoE,EAAIrI,GAAK8D,EAAc,GAATuE,EAAIrI,GAC7BqI,IAAMpE,GAAUjE,EAAI8B,GAAKgC,EAAI,GAC5BhC,EAAIuG,GAAKvE,EAAI,EACvBA,GAAK6rB,EAAI,GAAM1rB,EAAMD,EAAM,EAAIC,EAAMD,EACrCP,GAAK,IAELK,EAAI6rB,EAAI,GAAKA,EAAI,EAAI,EAAIlsB,EAEpB,IAAImtB,GAAIntB,EAAGK,EAAG6rB,EAAGvd,EAAEge,QAC5B,CAEO,SAASU,GAAIrtB,EAAGK,EAAG6rB,EAAGS,GAC3B,OAA4B,IAArBvjB,UAAUvN,OAAeuxB,GAAWptB,GAAK,IAAImtB,GAAIntB,EAAGK,EAAG6rB,EAAc,MAAXS,EAAkB,EAAIA,EACzF,CAEA,SAASQ,GAAIntB,EAAGK,EAAG6rB,EAAGS,GACpBlqB,KAAKzC,GAAKA,EACVyC,KAAKpC,GAAKA,EACVoC,KAAKypB,GAAKA,EACVzpB,KAAKkqB,SAAWA,CAClB,CAsCA,SAASW,GAAO3vB,GAEd,OADAA,GAASA,GAAS,GAAK,KACR,EAAIA,EAAQ,IAAMA,CACnC,CAEA,SAAS4vB,GAAO5vB,GACd,OAAOY,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAG5C,GAAS,GAC1C,CAGA,SAAS6vB,GAAQxtB,EAAG4e,EAAI6O,GACtB,OAGY,KAHJztB,EAAI,GAAK4e,GAAM6O,EAAK7O,GAAM5e,EAAI,GAChCA,EAAI,IAAMytB,EACVztB,EAAI,IAAM4e,GAAM6O,EAAK7O,IAAO,IAAM5e,GAAK,GACvC4e,EACR,CC3YO,SAAS8O,GAAMC,EAAIC,EAAIC,EAAIC,EAAIC,GACpC,IAAIC,EAAKL,EAAKA,EAAIM,EAAKD,EAAKL,EAC5B,QAAS,EAAI,EAAIA,EAAK,EAAIK,EAAKC,GAAML,GAC9B,EAAI,EAAII,EAAK,EAAIC,GAAMJ,GACvB,EAAI,EAAIF,EAAK,EAAIK,EAAK,EAAIC,GAAMH,EACjCG,EAAKF,GAAM,CACnB,CAEe,SAAAG,GAAS1wB,GACtB,IAAI0C,EAAI1C,EAAO3B,OAAS,EACxB,OAAO,SAAS6E,GACd,IAAI9E,EAAI8E,GAAK,EAAKA,EAAI,EAAKA,GAAK,GAAKA,EAAI,EAAGR,EAAI,GAAK3B,KAAKC,MAAMkC,EAAIR,GAChE2tB,EAAKrwB,EAAO5B,GACZkyB,EAAKtwB,EAAO5B,EAAI,GAChBgyB,EAAKhyB,EAAI,EAAI4B,EAAO5B,EAAI,GAAK,EAAIiyB,EAAKC,EACtCC,EAAKnyB,EAAIsE,EAAI,EAAI1C,EAAO5B,EAAI,GAAK,EAAIkyB,EAAKD,EAC9C,OAAOH,IAAOhtB,EAAI9E,EAAIsE,GAAKA,EAAG0tB,EAAIC,EAAIC,EAAIC,EAC5C,CACF,CChBe,SAAAI,GAAS3wB,GACtB,IAAI0C,EAAI1C,EAAO3B,OACf,OAAO,SAAS6E,GACd,IAAI9E,EAAI2C,KAAKC,QAAQkC,GAAK,GAAK,IAAMA,EAAIA,GAAKR,GAC1C0tB,EAAKpwB,GAAQ5B,EAAIsE,EAAI,GAAKA,GAC1B2tB,EAAKrwB,EAAO5B,EAAIsE,GAChB4tB,EAAKtwB,GAAQ5B,EAAI,GAAKsE,GACtB6tB,EAAKvwB,GAAQ5B,EAAI,GAAKsE,GAC1B,OAAOwtB,IAAOhtB,EAAI9E,EAAIsE,GAAKA,EAAG0tB,EAAIC,EAAIC,EAAIC,EAC5C,CACF,CF6JA1M,GAAOI,GAAOwK,GAAO,CACnB9a,KAAKid,GACH,OAAOzyB,OAAO0yB,OAAO,IAAI5rB,KAAKD,YAAaC,KAAM2rB,EACnD,EACAE,cACE,OAAO7rB,KAAKopB,MAAMyC,aACpB,EACAC,IAAK3C,GACLE,UAAWF,GACX4C,WAUF,WACE,OAAO/rB,KAAKopB,MAAM2C,YACpB,EAXEC,UAaF,WACE,OAAOrB,GAAW3qB,MAAMgsB,WAC1B,EAdEzC,UAAWD,GACXmB,SAAUnB,KAiEZ1K,GAAOkL,GAAKK,GAAKrL,GAAOE,GAAO,CAC7BiN,SAAS5kB,GAEP,OADAA,EAAS,MAALA,EAAY6X,GAAWpjB,KAAK6I,IAAIua,GAAU7X,GACvC,IAAIyiB,GAAI9pB,KAAKpE,EAAIyL,EAAGrH,KAAKmC,EAAIkF,EAAGrH,KAAKlG,EAAIuN,EAAGrH,KAAKkqB,QAC1D,EACAgC,OAAO7kB,GAEL,OADAA,EAAS,MAALA,EAAY4X,GAASnjB,KAAK6I,IAAIsa,GAAQ5X,GACnC,IAAIyiB,GAAI9pB,KAAKpE,EAAIyL,EAAGrH,KAAKmC,EAAIkF,EAAGrH,KAAKlG,EAAIuN,EAAGrH,KAAKkqB,QAC1D,EACAd,MACE,OAAOppB,IACT,EACAmsB,QACE,OAAO,IAAIrC,GAAIU,GAAOxqB,KAAKpE,GAAI4uB,GAAOxqB,KAAKmC,GAAIqoB,GAAOxqB,KAAKlG,GAAIywB,GAAOvqB,KAAKkqB,SAC7E,EACA2B,cACE,OAAQ,IAAQ7rB,KAAKpE,GAAKoE,KAAKpE,EAAI,QAC3B,IAAQoE,KAAKmC,GAAKnC,KAAKmC,EAAI,QAC3B,IAAQnC,KAAKlG,GAAKkG,KAAKlG,EAAI,OAC3B,GAAKkG,KAAKkqB,SAAWlqB,KAAKkqB,SAAW,CAC/C,EACA4B,IAAK1B,GACLf,UAAWe,GACX2B,WASF,WACE,MAAO,IAAI1B,GAAIrqB,KAAKpE,KAAKyuB,GAAIrqB,KAAKmC,KAAKkoB,GAAIrqB,KAAKlG,KAAKuwB,GAA+C,KAA1CriB,MAAMhI,KAAKkqB,SAAW,EAAIlqB,KAAKkqB,WAC3F,EAVEX,UAAWe,GACXG,SAAUH,MAyEZ1L,GAAO8L,GAAKE,GAAK9L,GAAOE,GAAO,CAC7BiN,SAAS5kB,GAEP,OADAA,EAAS,MAALA,EAAY6X,GAAWpjB,KAAK6I,IAAIua,GAAU7X,GACvC,IAAIqjB,GAAI1qB,KAAKzC,EAAGyC,KAAKpC,EAAGoC,KAAKypB,EAAIpiB,EAAGrH,KAAKkqB,QAClD,EACAgC,OAAO7kB,GAEL,OADAA,EAAS,MAALA,EAAY4X,GAASnjB,KAAK6I,IAAIsa,GAAQ5X,GACnC,IAAIqjB,GAAI1qB,KAAKzC,EAAGyC,KAAKpC,EAAGoC,KAAKypB,EAAIpiB,EAAGrH,KAAKkqB,QAClD,EACAd,MACE,IAAI7rB,EAAIyC,KAAKzC,EAAI,IAAqB,KAAdyC,KAAKzC,EAAI,GAC7BK,EAAIoK,MAAMzK,IAAMyK,MAAMhI,KAAKpC,GAAK,EAAIoC,KAAKpC,EACzC6rB,EAAIzpB,KAAKypB,EACTuB,EAAKvB,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAK7rB,EACjCue,EAAK,EAAIsN,EAAIuB,EACjB,OAAO,IAAIlB,GACTiB,GAAQxtB,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAK4e,EAAI6O,GAC1CD,GAAQxtB,EAAG4e,EAAI6O,GACfD,GAAQxtB,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAK4e,EAAI6O,GACzChrB,KAAKkqB,QAET,EACAiC,QACE,OAAO,IAAIzB,GAAIG,GAAO7qB,KAAKzC,GAAIutB,GAAO9qB,KAAKpC,GAAIktB,GAAO9qB,KAAKypB,GAAIc,GAAOvqB,KAAKkqB,SAC7E,EACA2B,cACE,OAAQ,GAAK7rB,KAAKpC,GAAKoC,KAAKpC,GAAK,GAAKoK,MAAMhI,KAAKpC,KACzC,GAAKoC,KAAKypB,GAAKzpB,KAAKypB,GAAK,GACzB,GAAKzpB,KAAKkqB,SAAWlqB,KAAKkqB,SAAW,CAC/C,EACA8B,YACE,MAAMnyB,EAAI0wB,GAAOvqB,KAAKkqB,SACtB,MAAO,GAAS,IAANrwB,EAAU,OAAS,UAAUgxB,GAAO7qB,KAAKzC,OAAwB,IAAjButB,GAAO9qB,KAAKpC,QAA+B,IAAjBktB,GAAO9qB,KAAKypB,MAAkB,IAAN5vB,EAAU,IAAM,KAAKA,MACnI,KGzXF,IAAAuyB,GAAe7xB,GAAK,IAAMA,ECE1B,SAAS8xB,GAAOxyB,EAAGc,GACjB,OAAO,SAASsD,GACd,OAAOpE,EAAIoE,EAAItD,CACjB,CACF,CAQO,SAAS2xB,GAAIzyB,EAAGC,GACrB,IAAIa,EAAIb,EAAID,EACZ,OAAOc,EAAI0xB,GAAOxyB,EAAGc,EAAI,KAAOA,GAAI,IAAOA,EAAI,IAAMmB,KAAKkJ,MAAMrK,EAAI,KAAOA,GAAKyxB,GAASpkB,MAAMnO,GAAKC,EAAID,EAC1G,CAEO,SAAS0yB,GAAM/uB,GACpB,OAAoB,IAAZA,GAAKA,GAAWgvB,GAAU,SAAS3yB,EAAGC,GAC5C,OAAOA,EAAID,EAbf,SAAqBA,EAAGC,EAAG0D,GACzB,OAAO3D,EAAIiC,KAAK6I,IAAI9K,EAAG2D,GAAI1D,EAAIgC,KAAK6I,IAAI7K,EAAG0D,GAAK3D,EAAG2D,EAAI,EAAIA,EAAG,SAASS,GACrE,OAAOnC,KAAK6I,IAAI9K,EAAIoE,EAAInE,EAAG0D,EAC7B,CACF,CASmBivB,CAAY5yB,EAAGC,EAAG0D,GAAK4uB,GAASpkB,MAAMnO,GAAKC,EAAID,EAChE,CACF,CAEe,SAAA2yB,GAAiB3yB,EAAGC,GACjC,IAAIa,EAAIb,EAAID,EACZ,OAAOc,EAAI0xB,GAAOxyB,EAAGc,GAAKyxB,GAASpkB,MAAMnO,GAAKC,EAAID,EACpD,C,ICvBA6yB,GAAe,SAAUC,EAASnvB,GAChC,IAAIovB,EAAQL,GAAM/uB,GAElB,SAAS4rB,EAAI1sB,EAAOmwB,GAClB,IAAIjxB,EAAIgxB,GAAOlwB,EAAQytB,GAASztB,IAAQd,GAAIixB,EAAM1C,GAAS0C,IAAMjxB,GAC7DuG,EAAIyqB,EAAMlwB,EAAMyF,EAAG0qB,EAAI1qB,GACvBrI,EAAI8yB,EAAMlwB,EAAM5C,EAAG+yB,EAAI/yB,GACvBowB,EAAUsC,GAAQ9vB,EAAMwtB,QAAS2C,EAAI3C,SACzC,OAAO,SAASjsB,GAKd,OAJAvB,EAAMd,EAAIA,EAAEqC,GACZvB,EAAMyF,EAAIA,EAAElE,GACZvB,EAAM5C,EAAIA,EAAEmE,GACZvB,EAAMwtB,QAAUA,EAAQjsB,GACjBvB,EAAQ,EACjB,CACF,CAIA,OAFA0sB,EAAI0D,MAAQH,EAELvD,CACT,CApBe,CAoBZ,GAEH,SAAS2D,GAAUC,GACjB,OAAO,SAASC,GACd,IAII9zB,EAAGyzB,EAJHnvB,EAAIwvB,EAAO7zB,OACXwC,EAAI,IAAI8C,MAAMjB,GACd0E,EAAI,IAAIzD,MAAMjB,GACd3D,EAAI,IAAI4E,MAAMjB,GAElB,IAAKtE,EAAI,EAAGA,EAAIsE,IAAKtE,EACnByzB,EAAQzC,GAAS8C,EAAO9zB,IACxByC,EAAEzC,GAAKyzB,EAAMhxB,GAAK,EAClBuG,EAAEhJ,GAAKyzB,EAAMzqB,GAAK,EAClBrI,EAAEX,GAAKyzB,EAAM9yB,GAAK,EAMpB,OAJA8B,EAAIoxB,EAAOpxB,GACXuG,EAAI6qB,EAAO7qB,GACXrI,EAAIkzB,EAAOlzB,GACX8yB,EAAM1C,QAAU,EACT,SAASjsB,GAId,OAHA2uB,EAAMhxB,EAAIA,EAAEqC,GACZ2uB,EAAMzqB,EAAIA,EAAElE,GACZ2uB,EAAM9yB,EAAIA,EAAEmE,GACL2uB,EAAQ,EACjB,CACF,CACF,CAEO,IAAIM,GAAWH,GAAUtB,IACrB0B,GAAiBJ,GAAUrB,ICtDvB,SAAA0B,GAASvzB,EAAGC,GACpBA,IAAGA,EAAI,IACZ,IAEIX,EAFAsE,EAAI5D,EAAIiC,KAAKgC,IAAIhE,EAAEV,OAAQS,EAAET,QAAU,EACvCmK,EAAIzJ,EAAEqC,QAEV,OAAO,SAAS8B,GACd,IAAK9E,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGoK,EAAEpK,GAAKU,EAAEV,IAAM,EAAI8E,GAAKnE,EAAEX,GAAK8E,EACvD,OAAOsF,CACT,CACF,CAEO,SAAS8pB,GAAc9yB,GAC5B,OAAO+yB,YAAYC,OAAOhzB,MAAQA,aAAaizB,SACjD,CCVe,SAAAC,GAAS5zB,EAAGC,GACzB,OAAQuzB,GAAcvzB,GAAKszB,GAAcM,IAAc7zB,EAAGC,EAC5D,CAEO,SAAS4zB,GAAa7zB,EAAGC,GAC9B,IAIIX,EAJAw0B,EAAK7zB,EAAIA,EAAEV,OAAS,EACpBw0B,EAAK/zB,EAAIiC,KAAKgC,IAAI6vB,EAAI9zB,EAAET,QAAU,EAClCmB,EAAI,IAAImE,MAAMkvB,GACdrqB,EAAI,IAAI7E,MAAMivB,GAGlB,IAAKx0B,EAAI,EAAGA,EAAIy0B,IAAMz0B,EAAGoB,EAAEpB,GAAK00B,GAAMh0B,EAAEV,GAAIW,EAAEX,IAC9C,KAAOA,EAAIw0B,IAAMx0B,EAAGoK,EAAEpK,GAAKW,EAAEX,GAE7B,OAAO,SAAS8E,GACd,IAAK9E,EAAI,EAAGA,EAAIy0B,IAAMz0B,EAAGoK,EAAEpK,GAAKoB,EAAEpB,GAAG8E,GACrC,OAAOsF,CACT,CACF,CCrBe,SAAAuqB,GAASj0B,EAAGC,GACzB,IAAIa,EAAI,IAAIozB,KACZ,OAAOl0B,GAAKA,EAAGC,GAAKA,EAAG,SAASmE,GAC9B,OAAOtD,EAAEqzB,QAAQn0B,GAAK,EAAIoE,GAAKnE,EAAImE,GAAItD,CACzC,CACF,CCLe,SAAAszB,GAASp0B,EAAGC,GACzB,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAASmE,GAC9B,OAAOpE,GAAK,EAAIoE,GAAKnE,EAAImE,CAC3B,CACF,CCFe,SAAAiwB,GAASr0B,EAAGC,GACzB,IAEIuN,EAFAlO,EAAI,CAAC,EACLoK,EAAI,CAAC,EAMT,IAAK8D,KAHK,OAANxN,GAA2B,iBAANA,IAAgBA,EAAI,CAAC,GACpC,OAANC,GAA2B,iBAANA,IAAgBA,EAAI,CAAC,GAEpCA,EACJuN,KAAKxN,EACPV,EAAEkO,GAAKwmB,GAAMh0B,EAAEwN,GAAIvN,EAAEuN,IAErB9D,EAAE8D,GAAKvN,EAAEuN,GAIb,OAAO,SAASpJ,GACd,IAAKoJ,KAAKlO,EAAGoK,EAAE8D,GAAKlO,EAAEkO,GAAGpJ,GACzB,OAAOsF,CACT,CACF,CCpBA,IAAI4qB,GAAM,8CACNC,GAAM,IAAI5O,OAAO2O,GAAIprB,OAAQ,KAclB,SAAAsrB,GAASx0B,EAAGC,GACzB,IACIw0B,EACAC,EACAC,EAHAC,EAAKN,GAAIO,UAAYN,GAAIM,UAAY,EAIrCv1B,GAAI,EACJyE,EAAI,GACJ+wB,EAAI,GAMR,IAHA90B,GAAQ,GAAIC,GAAQ,IAGZw0B,EAAKH,GAAIxE,KAAK9vB,MACd00B,EAAKH,GAAIzE,KAAK7vB,MACf00B,EAAKD,EAAGpzB,OAASszB,IACpBD,EAAK10B,EAAEqC,MAAMsyB,EAAID,GACb5wB,EAAEzE,GAAIyE,EAAEzE,IAAMq1B,EACb5wB,IAAIzE,GAAKq1B,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxB3wB,EAAEzE,GAAIyE,EAAEzE,IAAMo1B,EACb3wB,IAAIzE,GAAKo1B,GAEd3wB,IAAIzE,GAAK,KACTw1B,EAAEtvB,KAAK,CAAClG,EAAGA,EAAGoB,EAAG0zB,GAAOK,EAAIC,MAE9BE,EAAKL,GAAIM,UAYX,OARID,EAAK30B,EAAEV,SACTo1B,EAAK10B,EAAEqC,MAAMsyB,GACT7wB,EAAEzE,GAAIyE,EAAEzE,IAAMq1B,EACb5wB,IAAIzE,GAAKq1B,GAKT5wB,EAAExE,OAAS,EAAKu1B,EAAE,GA7C3B,SAAa70B,GACX,OAAO,SAASmE,GACd,OAAOnE,EAAEmE,GAAK,EAChB,CACF,CA0CQ2wB,CAAID,EAAE,GAAGp0B,GApDjB,SAAcT,GACZ,OAAO,WACL,OAAOA,CACT,CACF,CAiDQ+0B,CAAK/0B,IACJA,EAAI60B,EAAEv1B,OAAQ,SAAS6E,GACtB,IAAK,IAAWiO,EAAP/S,EAAI,EAAMA,EAAIW,IAAKX,EAAGyE,GAAGsO,EAAIyiB,EAAEx1B,IAAIA,GAAK+S,EAAE3R,EAAE0D,GACrD,OAAOL,EAAE0c,KAAK,GAChB,EACR,CCrDe,SAAAuT,GAASh0B,EAAGC,GACzB,IAAkByJ,EAAdtF,SAAWnE,EACf,OAAY,MAALA,GAAmB,YAANmE,EAAkBmuB,GAAStyB,IAClC,WAANmE,EAAiBgwB,GACZ,WAANhwB,GAAmBsF,EAAIimB,GAAM1vB,KAAOA,EAAIyJ,EAAGmpB,IAAO2B,GAClDv0B,aAAa0vB,GAAQkD,GACrB5yB,aAAai0B,KAAOD,GACpBT,GAAcvzB,GAAKszB,GACnB1uB,MAAMuH,QAAQnM,GAAK4zB,GACE,mBAAd5zB,EAAEwG,SAAgD,mBAAfxG,EAAE2wB,UAA2BziB,MAAMlO,GAAKo0B,GAClFD,IAAQp0B,EAAGC,EACnB,CCrBe,SAAAg1B,GAAStV,GACtB,IAAIuV,EACJ,KAAOA,EAAcvV,EAAMuV,aAAavV,EAAQuV,EAChD,OAAOvV,CACT,CCFe,SAAAwV,GAASxV,EAAOpH,GAG7B,GAFAoH,EAAQsV,GAAYtV,QACPve,IAATmX,IAAoBA,EAAOoH,EAAMyV,eACjC7c,EAAM,CACR,IAAIiC,EAAMjC,EAAK8c,iBAAmB9c,EAClC,GAAIiC,EAAI8a,eAAgB,CACtB,IAAIC,EAAQ/a,EAAI8a,iBAGhB,OAFAC,EAAM70B,EAAIif,EAAM6V,QAASD,EAAM5xB,EAAIgc,EAAM8V,QAElC,EADPF,EAAQA,EAAMG,gBAAgBnd,EAAKod,eAAeC,YACpCl1B,EAAG60B,EAAM5xB,EACzB,CACA,GAAI4U,EAAKsd,sBAAuB,CAC9B,IAAIC,EAAOvd,EAAKsd,wBAChB,MAAO,CAAClW,EAAM6V,QAAUM,EAAKr1B,KAAO8X,EAAKwd,WAAYpW,EAAM8V,QAAUK,EAAKE,IAAMzd,EAAK0d,UACvF,CACF,CACA,MAAO,CAACtW,EAAMuW,MAAOvW,EAAMwW,MAC7B,C,yFCnBA,IAIIC,GACAC,GALAC,GAAQ,EACRC,GAAU,EACVC,GAAW,EACXC,GAAY,IAGZC,GAAY,EACZC,GAAW,EACXC,GAAY,EACZC,GAA+B,iBAAhBC,aAA4BA,YAAYC,IAAMD,YAAc5C,KAC3E8C,GAA6B,iBAAX9iB,QAAuBA,OAAO+iB,sBAAwB/iB,OAAO+iB,sBAAsBtV,KAAKzN,QAAU,SAAS7T,GAAKykB,WAAWzkB,EAAG,GAAK,EAElJ,SAAS62B,KACd,OAAOP,KAAaK,GAASG,IAAWR,GAAWE,GAAME,MAAQH,GACnE,CAEA,SAASO,KACPR,GAAW,CACb,CAEO,SAASS,KACdjxB,KAAKkxB,MACLlxB,KAAKmxB,MACLnxB,KAAKmT,MAAQ,IACf,CAyBO,SAASie,GAAMvgB,EAAUwgB,EAAOC,GACrC,IAAIrzB,EAAI,IAAIgzB,GAEZ,OADAhzB,EAAEszB,QAAQ1gB,EAAUwgB,EAAOC,GACpBrzB,CACT,CAEO,SAASuzB,KACdT,OACEZ,GAEF,IADA,IAAkBsB,EAAdxzB,EAAIgyB,GACDhyB,IACAwzB,EAAIjB,GAAWvyB,EAAEkzB,QAAU,GAAGlzB,EAAEizB,MAAMrqB,UAAK5L,EAAWw2B,GAC3DxzB,EAAIA,EAAEkV,QAENgd,EACJ,CAEA,SAASuB,KACPlB,IAAYD,GAAYG,GAAME,OAASH,GACvCN,GAAQC,GAAU,EAClB,IACEoB,IACF,SACErB,GAAQ,EAWZ,WACE,IAAIwB,EAAmBpG,EAAfL,EAAK+E,GAAcqB,EAAOhqB,IAClC,KAAO4jB,GACDA,EAAGgG,OACDI,EAAOpG,EAAGiG,QAAOG,EAAOpG,EAAGiG,OAC/BQ,EAAKzG,EAAIA,EAAKA,EAAG/X,QAEjBoY,EAAKL,EAAG/X,MAAO+X,EAAG/X,MAAQ,KAC1B+X,EAAKyG,EAAKA,EAAGxe,MAAQoY,EAAK0E,GAAW1E,GAGzC2E,GAAWyB,EACXC,GAAMN,EACR,CAvBIO,GACArB,GAAW,CACb,CACF,CAEA,SAASsB,KACP,IAAIlB,EAAMF,GAAME,MAAOS,EAAQT,EAAML,GACjCc,EAAQf,KAAWG,IAAaY,EAAOd,GAAYK,EACzD,CAiBA,SAASgB,GAAMN,GACTnB,KACAC,KAASA,GAAU2B,aAAa3B,KACxBkB,EAAOd,GACP,IACNc,EAAOhqB,MAAU8oB,GAAUzR,WAAW+S,GAAMJ,EAAOZ,GAAME,MAAQH,KACjEJ,KAAUA,GAAW2B,cAAc3B,OAElCA,KAAUE,GAAYG,GAAME,MAAOP,GAAW4B,YAAYH,GAAMxB,KACrEH,GAAQ,EAAGU,GAASa,KAExB,CC3Ge,SAAAQ,GAASrhB,EAAUwgB,EAAOC,GACvC,IAAIrzB,EAAI,IAAIgzB,GAMZ,OALAI,EAAiB,MAATA,EAAgB,GAAKA,EAC7BpzB,EAAEszB,SAAQY,IACRl0B,EAAEtB,OACFkU,EAASshB,EAAUd,EAAA,GAClBA,EAAOC,GACHrzB,CACT,CDgBAgzB,GAAMhtB,UAAYmtB,GAAMntB,UAAY,CAClClE,YAAakxB,GACbM,QAAS,SAAS1gB,EAAUwgB,EAAOC,GACjC,GAAwB,mBAAbzgB,EAAyB,MAAM,IAAIzN,UAAU,8BACxDkuB,GAAgB,MAARA,EAAeP,MAASO,IAAkB,MAATD,EAAgB,GAAKA,GACzDrxB,KAAKmT,OAAS+c,KAAalwB,OAC1BkwB,GAAUA,GAAS/c,MAAQnT,KAC1BiwB,GAAWjwB,KAChBkwB,GAAWlwB,MAEbA,KAAKkxB,MAAQrgB,EACb7Q,KAAKmxB,MAAQG,EACbM,IACF,EACAj1B,KAAM,WACAqD,KAAKkxB,QACPlxB,KAAKkxB,MAAQ,KACblxB,KAAKmxB,MAAQ7pB,IACbsqB,KAEJ,GE3CF,IAAIQ,GAAU5gB,GAAS,QAAS,MAAO,SAAU,aAC7C6gB,GAAa,GAENC,GAAU,EACVC,GAAY,EACZC,GAAW,EACXC,GAAU,EACVC,GAAU,EACVC,GAAS,EACTC,GAAQ,EAEJ,SAAAC,GAASzgB,EAAMzB,EAAMtX,EAAI8B,EAAO0H,EAAOiwB,GACpD,IAAIC,EAAY3gB,EAAK4gB,aACrB,GAAKD,GACA,GAAI15B,KAAM05B,EAAW,YADV3gB,EAAK4gB,aAAe,CAAC,GAmCvC,SAAgB5gB,EAAM/Y,EAAI45B,GACxB,IACIC,EADAH,EAAY3gB,EAAK4gB,aAQrB,SAASG,EAAShB,GAChBc,EAAKG,MAAQb,GACbU,EAAKI,MAAM9B,QAAQ70B,EAAOu2B,EAAK5B,MAAO4B,EAAK3B,MAGvC2B,EAAK5B,OAASc,GAASz1B,EAAMy1B,EAAUc,EAAK5B,MAClD,CAEA,SAAS30B,EAAMy1B,GACb,IAAIh5B,EAAG0E,EAAGJ,EAAGyO,EAGb,GAAI+mB,EAAKG,QAAUb,GAAW,OAAO51B,IAErC,IAAKxD,KAAK45B,EAER,IADA7mB,EAAI6mB,EAAU55B,IACRwX,OAASsiB,EAAKtiB,KAApB,CAKA,GAAIzE,EAAEknB,QAAUX,GAAS,OAAOP,GAAQx1B,GAGpCwP,EAAEknB,QAAUV,IACdxmB,EAAEknB,MAAQR,GACV1mB,EAAEmnB,MAAM12B,OACRuP,EAAE6E,GAAGlK,KAAK,YAAauL,EAAMA,EAAKiB,SAAUnH,EAAE/Q,MAAO+Q,EAAErJ,cAChDkwB,EAAU55B,KAITA,EAAIE,IACZ6S,EAAEknB,MAAQR,GACV1mB,EAAEmnB,MAAM12B,OACRuP,EAAE6E,GAAGlK,KAAK,SAAUuL,EAAMA,EAAKiB,SAAUnH,EAAE/Q,MAAO+Q,EAAErJ,cAC7CkwB,EAAU55B,GApBgB,CAwCrC,GAZA+4B,IAAQ,WACFe,EAAKG,QAAUX,KACjBQ,EAAKG,MAAQV,GACbO,EAAKI,MAAM9B,QAAQziB,EAAMmkB,EAAK5B,MAAO4B,EAAK3B,MAC1CxiB,EAAKqjB,GAET,IAIAc,EAAKG,MAAQZ,GACbS,EAAKliB,GAAGlK,KAAK,QAASuL,EAAMA,EAAKiB,SAAU4f,EAAK93B,MAAO83B,EAAKpwB,OACxDowB,EAAKG,QAAUZ,GAAnB,CAKA,IAJAS,EAAKG,MAAQX,GAGbS,EAAQ,IAAIx0B,MAAMjB,EAAIw1B,EAAKC,MAAM95B,QAC5BD,EAAI,EAAG0E,GAAI,EAAI1E,EAAIsE,IAAKtE,GACvB+S,EAAI+mB,EAAKC,MAAM/5B,GAAG+B,MAAM2L,KAAKuL,EAAMA,EAAKiB,SAAU4f,EAAK93B,MAAO83B,EAAKpwB,UACrEqwB,IAAQr1B,GAAKqO,GAGjBgnB,EAAM95B,OAASyE,EAAI,CAVU,CAW/B,CAEA,SAASiR,EAAKqjB,GAKZ,IAJA,IAAIl0B,EAAIk0B,EAAUc,EAAKK,SAAWL,EAAKM,KAAK1sB,KAAK,KAAMsrB,EAAUc,EAAKK,WAAaL,EAAKI,MAAM9B,QAAQ50B,GAAOs2B,EAAKG,MAAQT,GAAQ,GAC9Hx5B,GAAI,EACJsE,EAAIy1B,EAAM95B,SAELD,EAAIsE,GACXy1B,EAAM/5B,GAAG0N,KAAKuL,EAAMnU,GAIlBg1B,EAAKG,QAAUT,KACjBM,EAAKliB,GAAGlK,KAAK,MAAOuL,EAAMA,EAAKiB,SAAU4f,EAAK93B,MAAO83B,EAAKpwB,OAC1DlG,IAEJ,CAEA,SAASA,IAIP,IAAK,IAAIxD,KAHT85B,EAAKG,MAAQR,GACbK,EAAKI,MAAM12B,cACJo2B,EAAU15B,GACH05B,EAAW,cAClB3gB,EAAK4gB,YACd,CA9FAD,EAAU15B,GAAM45B,EAChBA,EAAKI,MAAQjC,GAAM+B,EAAU,EAAGF,EAAK3B,KA8FvC,CAtIEkC,CAAOphB,EAAM/Y,EAAI,CACfsX,KAAMA,EACNxV,MAAOA,EACP0H,MAAOA,EACPkO,GAAIqhB,GACJc,MAAOb,GACPf,KAAMwB,EAAOxB,KACbD,MAAOyB,EAAOzB,MACdiC,SAAUR,EAAOQ,SACjBC,KAAMT,EAAOS,KACbF,MAAO,KACPD,MAAOd,IAEX,CAEO,SAASmB,GAAKrhB,EAAM/Y,GACzB,IAAI85B,EAAWO,GAAIthB,EAAM/Y,GACzB,GAAI85B,EAASC,MAAQd,GAAS,MAAM,IAAI/4B,MAAM,+BAC9C,OAAO45B,CACT,CAEO,SAASQ,GAAIvhB,EAAM/Y,GACxB,IAAI85B,EAAWO,GAAIthB,EAAM/Y,GACzB,GAAI85B,EAASC,MAAQX,GAAS,MAAM,IAAIl5B,MAAM,6BAC9C,OAAO45B,CACT,CAEO,SAASO,GAAIthB,EAAM/Y,GACxB,IAAI85B,EAAW/gB,EAAK4gB,aACpB,IAAKG,KAAcA,EAAWA,EAAS95B,IAAM,MAAM,IAAIE,MAAM,wBAC7D,OAAO45B,CACT,CC/Ce,SAAAS,GAASxhB,EAAMzB,GAC5B,IACIwiB,EACAU,EAEA16B,EAJA45B,EAAY3gB,EAAK4gB,aAGjBnW,GAAQ,EAGZ,GAAKkW,EAAL,CAIA,IAAK55B,KAFLwX,EAAe,MAARA,EAAe,KAAOA,EAAO,GAE1BoiB,GACHI,EAAWJ,EAAU55B,IAAIwX,OAASA,GACvCkjB,EAASV,EAASC,MAAQZ,IAAYW,EAASC,MAAQT,GACvDQ,EAASC,MAAQR,GACjBO,EAASE,MAAM12B,OACfw2B,EAASpiB,GAAGlK,KAAKgtB,EAAS,YAAc,SAAUzhB,EAAMA,EAAKiB,SAAU8f,EAASh4B,MAAOg4B,EAAStwB,cACzFkwB,EAAU55B,IAL8B0jB,GAAQ,EAQrDA,UAAczK,EAAK4gB,YAbP,CAclB,CCvBA,ICEIc,GDFAC,GAAU,IAAMj4B,KAAKk4B,GAEdC,GAAW,CACpBC,WAAY,EACZC,WAAY,EACZC,OAAQ,EACRC,MAAO,EACPC,OAAQ,EACRC,OAAQ,GAGK,SAAAC,GAAS36B,EAAGC,EAAGyJ,EAAG5I,EAAG82B,EAAGv3B,GACrC,IAAIo6B,EAAQC,EAAQF,EAKpB,OAJIC,EAASx4B,KAAK8D,KAAK/F,EAAIA,EAAIC,EAAIA,MAAID,GAAKy6B,EAAQx6B,GAAKw6B,IACrDD,EAAQx6B,EAAI0J,EAAIzJ,EAAIa,KAAG4I,GAAK1J,EAAIw6B,EAAO15B,GAAKb,EAAIu6B,IAChDE,EAASz4B,KAAK8D,KAAK2D,EAAIA,EAAI5I,EAAIA,MAAI4I,GAAKgxB,EAAQ55B,GAAK45B,EAAQF,GAASE,GACtE16B,EAAIc,EAAIb,EAAIyJ,IAAG1J,GAAKA,EAAGC,GAAKA,EAAGu6B,GAASA,EAAOC,GAAUA,GACtD,CACLJ,WAAYzC,EACZ0C,WAAYj6B,EACZk6B,OAAQt4B,KAAK24B,MAAM36B,EAAGD,GAAKk6B,GAC3BM,MAAOv4B,KAAK44B,KAAKL,GAASN,GAC1BO,OAAQA,EACRC,OAAQA,EAEZ,CEtBA,SAASI,GAAqBh7B,EAAOi7B,EAASC,EAASC,GAErD,SAAS/1B,EAAInB,GACX,OAAOA,EAAExE,OAASwE,EAAEmB,MAAQ,IAAM,EACpC,CAqCA,OAAO,SAASlF,EAAGC,GACjB,IAAI8D,EAAI,GACJ+wB,EAAI,GAOR,OANA90B,EAAIF,EAAME,GAAIC,EAAIH,EAAMG,GAtC1B,SAAmBi7B,EAAIC,EAAIC,EAAIC,EAAIt3B,EAAG+wB,GACpC,GAAIoG,IAAOE,GAAMD,IAAOE,EAAI,CAC1B,IAAI/7B,EAAIyE,EAAEyB,KAAK,aAAc,KAAMu1B,EAAS,KAAMC,GAClDlG,EAAEtvB,KAAK,CAAClG,EAAGA,EAAI,EAAGoB,EAAG0zB,GAAO8G,EAAIE,IAAM,CAAC97B,EAAGA,EAAI,EAAGoB,EAAG0zB,GAAO+G,EAAIE,IACjE,MAAWD,GAAMC,IACft3B,EAAEyB,KAAK,aAAe41B,EAAKL,EAAUM,EAAKL,EAE9C,CAgCEM,CAAUt7B,EAAEq6B,WAAYr6B,EAAEs6B,WAAYr6B,EAAEo6B,WAAYp6B,EAAEq6B,WAAYv2B,EAAG+wB,GA9BvE,SAAgB90B,EAAGC,EAAG8D,EAAG+wB,GACnB90B,IAAMC,GACJD,EAAIC,EAAI,IAAKA,GAAK,IAAcA,EAAID,EAAI,MAAKA,GAAK,KACtD80B,EAAEtvB,KAAK,CAAClG,EAAGyE,EAAEyB,KAAKN,EAAInB,GAAK,UAAW,KAAMk3B,GAAY,EAAGv6B,EAAG0zB,GAAOp0B,EAAGC,MAC/DA,GACT8D,EAAEyB,KAAKN,EAAInB,GAAK,UAAY9D,EAAIg7B,EAEpC,CAwBEV,CAAOv6B,EAAEu6B,OAAQt6B,EAAEs6B,OAAQx2B,EAAG+wB,GAtBhC,SAAe90B,EAAGC,EAAG8D,EAAG+wB,GAClB90B,IAAMC,EACR60B,EAAEtvB,KAAK,CAAClG,EAAGyE,EAAEyB,KAAKN,EAAInB,GAAK,SAAU,KAAMk3B,GAAY,EAAGv6B,EAAG0zB,GAAOp0B,EAAGC,KAC9DA,GACT8D,EAAEyB,KAAKN,EAAInB,GAAK,SAAW9D,EAAIg7B,EAEnC,CAiBET,CAAMx6B,EAAEw6B,MAAOv6B,EAAEu6B,MAAOz2B,EAAG+wB,GAf7B,SAAeoG,EAAIC,EAAIC,EAAIC,EAAIt3B,EAAG+wB,GAChC,GAAIoG,IAAOE,GAAMD,IAAOE,EAAI,CAC1B,IAAI/7B,EAAIyE,EAAEyB,KAAKN,EAAInB,GAAK,SAAU,KAAM,IAAK,KAAM,KACnD+wB,EAAEtvB,KAAK,CAAClG,EAAGA,EAAI,EAAGoB,EAAG0zB,GAAO8G,EAAIE,IAAM,CAAC97B,EAAGA,EAAI,EAAGoB,EAAG0zB,GAAO+G,EAAIE,IACjE,MAAkB,IAAPD,GAAmB,IAAPC,GACrBt3B,EAAEyB,KAAKN,EAAInB,GAAK,SAAWq3B,EAAK,IAAMC,EAAK,IAE/C,CASEjoB,CAAMpT,EAAEy6B,OAAQz6B,EAAE06B,OAAQz6B,EAAEw6B,OAAQx6B,EAAEy6B,OAAQ32B,EAAG+wB,GACjD90B,EAAIC,EAAI,KACD,SAASmE,GAEd,IADA,IAA0BiO,EAAtB/S,GAAI,EAAIsE,EAAIkxB,EAAEv1B,SACTD,EAAIsE,GAAGG,GAAGsO,EAAIyiB,EAAEx1B,IAAIA,GAAK+S,EAAE3R,EAAE0D,GACtC,OAAOL,EAAE0c,KAAK,GAChB,CACF,CACF,CAEO,IAAI8a,GAA0BT,IDxD9B,SAAkBz5B,GACvB,MAAMqL,EAAI,IAA0B,mBAAd8uB,UAA2BA,UAAYC,iBAAiBp6B,EAAQ,IACtF,OAAOqL,EAAEgvB,WAAatB,GAAWO,GAAUjuB,EAAE1M,EAAG0M,EAAEzM,EAAGyM,EAAEhD,EAAGgD,EAAE5L,EAAG4L,EAAEkrB,EAAGlrB,EAAErM,EACxE,GCqDoE,OAAQ,MAAO,QACxEs7B,GAA0Bb,IDpD9B,SAAkBz5B,GACvB,OAAa,MAATA,EAAsB+4B,IACrBH,KAASA,GAAUne,SAAS6C,gBAAgB,6BAA8B,MAC/Esb,GAAQ1e,aAAa,YAAala,IAC5BA,EAAQ44B,GAAQ7lB,UAAUwnB,QAAQC,eAEjClB,IADPt5B,EAAQA,EAAMuP,QACS5Q,EAAGqB,EAAMpB,EAAGoB,EAAMqI,EAAGrI,EAAMP,EAAGO,EAAMu2B,EAAGv2B,EAAMhB,GAFL+5B,GAGjE,GC6CoE,KAAM,IAAK,KC5D/E,SAAS0B,GAAYt8B,EAAIsX,GACvB,IAAIilB,EAAQC,EACZ,OAAO,WACL,IAAI1C,EAAWQ,GAAI3zB,KAAM3G,GACrB65B,EAAQC,EAASD,MAKrB,GAAIA,IAAU0C,EAEZ,IAAK,IAAIz8B,EAAI,EAAGsE,GADhBo4B,EAASD,EAAS1C,GACS95B,OAAQD,EAAIsE,IAAKtE,EAC1C,GAAI08B,EAAO18B,GAAGwX,OAASA,EAAM,EAC3BklB,EAASA,EAAO15B,SACToe,OAAOphB,EAAG,GACjB,KACF,CAIJg6B,EAASD,MAAQ2C,CACnB,CACF,CAEA,SAASC,GAAcz8B,EAAIsX,EAAMzV,GAC/B,IAAI06B,EAAQC,EACZ,GAAqB,mBAAV36B,EAAsB,MAAM,IAAI3B,MAC3C,OAAO,WACL,IAAI45B,EAAWQ,GAAI3zB,KAAM3G,GACrB65B,EAAQC,EAASD,MAKrB,GAAIA,IAAU0C,EAAQ,CACpBC,GAAUD,EAAS1C,GAAO/2B,QAC1B,IAAK,IAAI8B,EAAI,CAAC0S,KAAMA,EAAMzV,MAAOA,GAAQ/B,EAAI,EAAGsE,EAAIo4B,EAAOz8B,OAAQD,EAAIsE,IAAKtE,EAC1E,GAAI08B,EAAO18B,GAAGwX,OAASA,EAAM,CAC3BklB,EAAO18B,GAAK8E,EACZ,KACF,CAEE9E,IAAMsE,GAAGo4B,EAAOx2B,KAAKpB,EAC3B,CAEAk1B,EAASD,MAAQ2C,CACnB,CACF,CAoBO,SAASE,GAAWpmB,EAAYgB,EAAMzV,GAC3C,IAAI7B,EAAKsW,EAAWqmB,IAOpB,OALArmB,EAAWK,MAAK,WACd,IAAImjB,EAAWQ,GAAI3zB,KAAM3G,IACxB85B,EAASj4B,QAAUi4B,EAASj4B,MAAQ,CAAC,IAAIyV,GAAQzV,EAAMkT,MAAMpO,KAAM2G,UACtE,IAEO,SAASyL,GACd,OAAOshB,GAAIthB,EAAM/Y,GAAI6B,MAAMyV,EAC7B,CACF,CC7Ee,SAAAslB,GAASp8B,EAAGC,GACzB,IAAIyJ,EACJ,OAAqB,iBAANzJ,EAAiBm0B,GAC1Bn0B,aAAa0vB,GAAQkD,IACpBnpB,EAAIimB,GAAM1vB,KAAOA,EAAIyJ,EAAGmpB,IACzB2B,IAAmBx0B,EAAGC,EAC9B,CCJA,SAASo8B,GAAWvlB,GAClB,OAAO,WACL3Q,KAAK+U,gBAAgBpE,EACvB,CACF,CAEA,SAASwlB,GAAalhB,GACpB,OAAO,WACLjV,KAAKkV,kBAAkBD,EAASL,MAAOK,EAASJ,MAClD,CACF,CAEA,SAASuhB,GAAazlB,EAAM0lB,EAAaC,GACvC,IAAIC,EAEAC,EADAC,EAAUH,EAAS,GAEvB,OAAO,WACL,IAAII,EAAU12B,KAAK4P,aAAae,GAChC,OAAO+lB,IAAYD,EAAU,KACvBC,IAAYH,EAAWC,EACvBA,EAAeH,EAAYE,EAAWG,EAASJ,EACvD,CACF,CAEA,SAASK,GAAe1hB,EAAUohB,EAAaC,GAC7C,IAAIC,EAEAC,EADAC,EAAUH,EAAS,GAEvB,OAAO,WACL,IAAII,EAAU12B,KAAK8c,eAAe7H,EAASL,MAAOK,EAASJ,OAC3D,OAAO6hB,IAAYD,EAAU,KACvBC,IAAYH,EAAWC,EACvBA,EAAeH,EAAYE,EAAWG,EAASJ,EACvD,CACF,CAEA,SAASM,GAAajmB,EAAM0lB,EAAan7B,GACvC,IAAIq7B,EACAM,EACAL,EACJ,OAAO,WACL,IAAIE,EAA+BD,EAAtBH,EAASp7B,EAAM8E,MAC5B,GAAc,MAAVs2B,EAGJ,OAFAI,EAAU12B,KAAK4P,aAAae,OAC5B8lB,EAAUH,EAAS,IACU,KACvBI,IAAYH,GAAYE,IAAYI,EAAWL,GAC9CK,EAAWJ,EAASD,EAAeH,EAAYE,EAAWG,EAASJ,IAL1Ct2B,KAAK+U,gBAAgBpE,EAMvD,CACF,CAEA,SAASmmB,GAAe7hB,EAAUohB,EAAan7B,GAC7C,IAAIq7B,EACAM,EACAL,EACJ,OAAO,WACL,IAAIE,EAA+BD,EAAtBH,EAASp7B,EAAM8E,MAC5B,GAAc,MAAVs2B,EAGJ,OAFAI,EAAU12B,KAAK8c,eAAe7H,EAASL,MAAOK,EAASJ,WACvD4hB,EAAUH,EAAS,IACU,KACvBI,IAAYH,GAAYE,IAAYI,EAAWL,GAC9CK,EAAWJ,EAASD,EAAeH,EAAYE,EAAWG,EAASJ,IAL1Ct2B,KAAKkV,kBAAkBD,EAASL,MAAOK,EAASJ,MAMlF,CACF,CCvDA,SAASkiB,GAAY9hB,EAAU/Z,GAC7B,IAAIy2B,EAAI1pB,EACR,SAASirB,IACP,IAAI/5B,EAAI+B,EAAMkT,MAAMpO,KAAM2G,WAE1B,OADIxN,IAAM8O,IAAI0pB,GAAM1pB,EAAK9O,IAV7B,SAA2B8b,EAAU9b,GACnC,OAAO,SAAS8E,GACd+B,KAAKsV,eAAeL,EAASL,MAAOK,EAASJ,MAAO1b,EAAE0N,KAAK7G,KAAM/B,GACnE,CACF,CAMmC+4B,CAAkB/hB,EAAU9b,IACpDw4B,CACT,CAEA,OADAuB,EAAM+D,OAAS/7B,EACRg4B,CACT,CAEA,SAASgE,GAAUvmB,EAAMzV,GACvB,IAAIy2B,EAAI1pB,EACR,SAASirB,IACP,IAAI/5B,EAAI+B,EAAMkT,MAAMpO,KAAM2G,WAE1B,OADIxN,IAAM8O,IAAI0pB,GAAM1pB,EAAK9O,IA3B7B,SAAyBwX,EAAMxX,GAC7B,OAAO,SAAS8E,GACd+B,KAAKoV,aAAazE,EAAMxX,EAAE0N,KAAK7G,KAAM/B,GACvC,CACF,CAuBmCk5B,CAAgBxmB,EAAMxX,IAC9Cw4B,CACT,CAEA,OADAuB,EAAM+D,OAAS/7B,EACRg4B,CACT,CChCA,SAASkE,GAAc/9B,EAAI6B,GACzB,OAAO,WACLu4B,GAAKzzB,KAAM3G,GAAIg4B,OAASn2B,EAAMkT,MAAMpO,KAAM2G,UAC5C,CACF,CAEA,SAAS0wB,GAAch+B,EAAI6B,GACzB,OAAOA,GAASA,EAAO,WACrBu4B,GAAKzzB,KAAM3G,GAAIg4B,MAAQn2B,CACzB,CACF,CCVA,SAASo8B,GAAiBj+B,EAAI6B,GAC5B,OAAO,WACLy4B,GAAI3zB,KAAM3G,GAAIi6B,UAAYp4B,EAAMkT,MAAMpO,KAAM2G,UAC9C,CACF,CAEA,SAAS4wB,GAAiBl+B,EAAI6B,GAC5B,OAAOA,GAASA,EAAO,WACrBy4B,GAAI3zB,KAAM3G,GAAIi6B,SAAWp4B,CAC3B,CACF,CCVA,IAAIs8B,GAAY9Z,GAAUzZ,UAAUlE,YCiBpC,SAAS03B,GAAY9mB,GACnB,OAAO,WACL3Q,KAAK6V,MAAMC,eAAenF,EAC5B,CACF,CCDA,IAAI+mB,GAAK,EAEF,SAASC,GAAW11B,EAAQ0Y,EAAShK,EAAMtX,GAChD2G,KAAK4a,QAAU3Y,EACfjC,KAAK6a,SAAWF,EAChB3a,KAAK43B,MAAQjnB,EACb3Q,KAAKg2B,IAAM38B,CACb,CAEe,SAAAw+B,GAAoBlnB,GACjC,OAAO+M,KAAY/N,WAAWgB,EAChC,CAEO,SAASmnB,KACd,QAASJ,EACX,CAEA,IAAIK,GAAsBra,GAAUzZ,UCvC7B,SAAS+zB,GAAQ/5B,GACtB,OAAOA,EAAIA,EAAIA,CACjB,CAEO,SAASg6B,GAASh6B,GACvB,QAASA,EAAIA,EAAIA,EAAI,CACvB,CAEO,SAASi6B,GAAWj6B,GACzB,QAASA,GAAK,IAAM,EAAIA,EAAIA,EAAIA,GAAKA,GAAK,GAAKA,EAAIA,EAAI,GAAK,CAC9D,CD+BA05B,GAAW1zB,UAAY4zB,GAAW5zB,UAAY,CAC5ClE,YAAa43B,GACbpoB,OEvCa,SAASA,GACtB,IAAIoB,EAAO3Q,KAAK43B,MACZv+B,EAAK2G,KAAKg2B,IAEQ,mBAAXzmB,IAAuBA,EAASmC,GAASnC,IAEpD,IAAK,IAAItN,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQ2hB,EAAY,IAAIrc,MAAM6H,GAAI1I,EAAI,EAAGA,EAAI0I,IAAK1I,EAC3F,IAAK,IAAiFuU,EAAM4I,EAAnFnY,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAQ6hB,EAAWF,EAAUld,GAAK,IAAIa,MAAMjB,GAAmBtE,EAAI,EAAGA,EAAIsE,IAAKtE,GAC9GiZ,EAAOvP,EAAM1J,MAAQ6hB,EAAUzL,EAAO1I,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,MAClE,aAAcuP,IAAM4I,EAAQ3H,SAAWjB,EAAKiB,UAChD4H,EAAS9hB,GAAK6hB,EACd6X,GAAS5X,EAAS9hB,GAAIwX,EAAMtX,EAAIF,EAAG8hB,EAAUyY,GAAIthB,EAAM/Y,KAK7D,OAAO,IAAIs+B,GAAW5c,EAAW/a,KAAK6a,SAAUlK,EAAMtX,EACxD,EFuBEwV,UGxCa,SAASU,GACtB,IAAIoB,EAAO3Q,KAAK43B,MACZv+B,EAAK2G,KAAKg2B,IAEQ,mBAAXzmB,IAAuBA,EAASwC,GAAYxC,IAEvD,IAAK,IAAItN,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQ2hB,EAAY,GAAIJ,EAAU,GAAI9c,EAAI,EAAGA,EAAI0I,IAAK1I,EAC/F,IAAK,IAAyCuU,EAArCvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAcD,EAAI,EAAGA,EAAIsE,IAAKtE,EAClE,GAAIiZ,EAAOvP,EAAM1J,GAAI,CACnB,IAAK,IAA2D8a,EAAvDtB,EAAWpD,EAAO1I,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,GAAes1B,EAAUzE,GAAIthB,EAAM/Y,GAAKgO,EAAI,EAAGoiB,EAAI9W,EAASvZ,OAAQiO,EAAIoiB,IAAKpiB,GAC/H4M,EAAQtB,EAAStL,KACnBwrB,GAAS5e,EAAOtD,EAAMtX,EAAIgO,EAAGsL,EAAUwlB,GAG3Cpd,EAAU1b,KAAKsT,GACfgI,EAAQtb,KAAK+S,EACf,CAIJ,OAAO,IAAIulB,GAAW5c,EAAWJ,EAAShK,EAAMtX,EAClD,EHoBE8hB,YAAa4c,GAAoB5c,YACjCG,eAAgByc,GAAoBzc,eACpCvL,OI5Ca,SAASqL,GACD,mBAAVA,IAAsBA,EAAQnJ,GAAQmJ,IAEjD,IAAK,IAAInZ,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQ2hB,EAAY,IAAIrc,MAAM6H,GAAI1I,EAAI,EAAGA,EAAI0I,IAAK1I,EAC3F,IAAK,IAAuEuU,EAAnEvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAQ6hB,EAAWF,EAAUld,GAAK,GAAU1E,EAAI,EAAGA,EAAIsE,IAAKtE,GAC3FiZ,EAAOvP,EAAM1J,KAAOiiB,EAAMvU,KAAKuL,EAAMA,EAAKiB,SAAUla,EAAG0J,IAC1DoY,EAAS5b,KAAK+S,GAKpB,OAAO,IAAIulB,GAAW5c,EAAW/a,KAAK6a,SAAU7a,KAAK43B,MAAO53B,KAAKg2B,IACnE,EJiCEvmB,MK9Ca,SAASE,GACtB,GAAIA,EAAWqmB,MAAQh2B,KAAKg2B,IAAK,MAAM,IAAIz8B,MAE3C,IAAK,IAAIyiB,EAAUhc,KAAK4a,QAASqB,EAAUtM,EAAWiL,QAASsB,EAAKF,EAAQ5iB,OAAQ+iB,EAAKF,EAAQ7iB,OAAQmN,EAAIzK,KAAKgC,IAAIoe,EAAIC,GAAKC,EAAS,IAAI1d,MAAMwd,GAAKre,EAAI,EAAGA,EAAI0I,IAAK1I,EACrK,IAAK,IAAmGuU,EAA/FiK,EAASL,EAAQne,GAAIye,EAASL,EAAQpe,GAAIJ,EAAI4e,EAAOjjB,OAAQqW,EAAQ2M,EAAOve,GAAK,IAAIa,MAAMjB,GAAUtE,EAAI,EAAGA,EAAIsE,IAAKtE,GACxHiZ,EAAOiK,EAAOljB,IAAMmjB,EAAOnjB,MAC7BsW,EAAMtW,GAAKiZ,GAKjB,KAAOvU,EAAIqe,IAAMre,EACfue,EAAOve,GAAKme,EAAQne,GAGtB,OAAO,IAAI85B,GAAWvb,EAAQpc,KAAK6a,SAAU7a,KAAK43B,MAAO53B,KAAKg2B,IAChE,EL+BErnB,UF7Ca,WACb,OAAO,IAAI6oB,GAAUx3B,KAAK4a,QAAS5a,KAAK6a,SAC1C,EE4CElL,WM/Ca,WAKb,IAJA,IAAIgB,EAAO3Q,KAAK43B,MACZQ,EAAMp4B,KAAKg2B,IACXqC,EAAMP,KAED71B,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQyE,EAAI,EAAGA,EAAI0I,IAAK1I,EACjE,IAAK,IAAyCuU,EAArCvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAcD,EAAI,EAAGA,EAAIsE,IAAKtE,EAClE,GAAIiZ,EAAOvP,EAAM1J,GAAI,CACnB,IAAIg/B,EAAUzE,GAAIthB,EAAMgmB,GACxBvF,GAASzgB,EAAMzB,EAAM0nB,EAAKl/B,EAAG0J,EAAO,CAClCyuB,KAAM6G,EAAQ7G,KAAO6G,EAAQ9G,MAAQ8G,EAAQ7E,SAC7CjC,MAAO,EACPiC,SAAU6E,EAAQ7E,SAClBC,KAAM4E,EAAQ5E,MAElB,CAIJ,OAAO,IAAIoE,GAAW11B,EAAQjC,KAAK6a,SAAUlK,EAAM0nB,EACrD,EN4BExxB,KAAMkxB,GAAoBlxB,KAC1B8V,MAAOob,GAAoBpb,MAC3BvK,KAAM2lB,GAAoB3lB,KAC1BwK,KAAMmb,GAAoBnb,KAC1BC,MAAOkb,GAAoBlb,MAC3B7M,KAAM+nB,GAAoB/nB,KAC1Be,GOhCa,SAASJ,EAAM0I,GAC5B,IAAIhgB,EAAK2G,KAAKg2B,IAEd,OAAOrvB,UAAUvN,OAAS,EACpBs6B,GAAI1zB,KAAKoS,OAAQ/Y,GAAI0X,GAAGA,GAAGJ,GAC3B3Q,KAAKgQ,KApBb,SAAoB3W,EAAIsX,EAAM0I,GAC5B,IAAIif,EAAKC,EAAKC,EAThB,SAAe7nB,GACb,OAAQA,EAAO,IAAIO,OAAOC,MAAM,SAASsnB,OAAM,SAASx6B,GACtD,IAAI9E,EAAI8E,EAAEmT,QAAQ,KAElB,OADIjY,GAAK,IAAG8E,EAAIA,EAAE9B,MAAM,EAAGhD,KACnB8E,GAAW,UAANA,CACf,GACF,CAGsBy6B,CAAM/nB,GAAQ8iB,GAAOE,GACzC,OAAO,WACL,IAAIR,EAAWqF,EAAIx4B,KAAM3G,GACrB0X,EAAKoiB,EAASpiB,GAKdA,IAAOunB,IAAMC,GAAOD,EAAMvnB,GAAIrC,QAAQqC,GAAGJ,EAAM0I,GAEnD8Z,EAASpiB,GAAKwnB,CAChB,CACF,CAOkBI,CAAWt/B,EAAIsX,EAAM0I,GACvC,EP2BEhK,KNaa,SAASsB,EAAMzV,GAC5B,IAAI+Z,EAAWP,GAAU/D,GAAOxX,EAAiB,cAAb8b,EAA2BugB,GAAuBS,GACtF,OAAOj2B,KAAK44B,UAAUjoB,EAAuB,mBAAVzV,GAC5B+Z,EAASJ,MAAQiiB,GAAiBF,IAAc3hB,EAAU9b,EAAG48B,GAAW/1B,KAAM,QAAU2Q,EAAMzV,IACtF,MAATA,GAAiB+Z,EAASJ,MAAQshB,GAAeD,IAAYjhB,IAC5DA,EAASJ,MAAQ8hB,GAAiBP,IAAcnhB,EAAU9b,EAAG+B,GACtE,EMlBE09B,ULvBa,SAASjoB,EAAMzV,GAC5B,IAAI2F,EAAM,QAAU8P,EACpB,GAAIhK,UAAUvN,OAAS,EAAG,OAAQyH,EAAMb,KAAKkzB,MAAMryB,KAASA,EAAIo2B,OAChE,GAAa,MAAT/7B,EAAe,OAAO8E,KAAKkzB,MAAMryB,EAAK,MAC1C,GAAqB,mBAAV3F,EAAsB,MAAM,IAAI3B,MAC3C,IAAI0b,EAAWP,GAAU/D,GACzB,OAAO3Q,KAAKkzB,MAAMryB,GAAMoU,EAASJ,MAAQkiB,GAAcG,IAAWjiB,EAAU/Z,GAC9E,EKiBE2a,MDQa,SAASlF,EAAMzV,EAAO8a,GACnC,IAAI7c,EAAqB,cAAhBwX,GAAQ,IAAsBykB,GAAuBa,GAC9D,OAAgB,MAAT/6B,EAAgB8E,KAClB64B,WAAWloB,EAjElB,SAAmBA,EAAM0lB,GACvB,IAAIE,EACAM,EACAL,EACJ,OAAO,WACL,IAAIE,EAAUvgB,GAAMnW,KAAM2Q,GACtB8lB,GAAWz2B,KAAK6V,MAAMC,eAAenF,GAAOwF,GAAMnW,KAAM2Q,IAC5D,OAAO+lB,IAAYD,EAAU,KACvBC,IAAYH,GAAYE,IAAYI,EAAWL,EAC/CA,EAAeH,EAAYE,EAAWG,EAASG,EAAWJ,EAClE,CACF,CAsDwBqC,CAAUnoB,EAAMxX,IACjC4X,GAAG,aAAeJ,EAAM8mB,GAAY9mB,IACpB,mBAAVzV,EAAuB8E,KAC7B64B,WAAWloB,EArClB,SAAuBA,EAAM0lB,EAAan7B,GACxC,IAAIq7B,EACAM,EACAL,EACJ,OAAO,WACL,IAAIE,EAAUvgB,GAAMnW,KAAM2Q,GACtB2lB,EAASp7B,EAAM8E,MACfy2B,EAAUH,EAAS,GAEvB,OADc,MAAVA,IAAoCt2B,KAAK6V,MAAMC,eAAenF,GAA9C8lB,EAAUH,EAA2CngB,GAAMnW,KAAM2Q,IAC9E+lB,IAAYD,EAAU,KACvBC,IAAYH,GAAYE,IAAYI,EAAWL,GAC9CK,EAAWJ,EAASD,EAAeH,EAAYE,EAAWG,EAASJ,GAC5E,CACF,CAwBwByC,CAAcpoB,EAAMxX,EAAG48B,GAAW/1B,KAAM,SAAW2Q,EAAMzV,KAC1E8U,KAvBP,SAA0B3W,EAAIsX,GAC5B,IAAI2nB,EAAKC,EAAKS,EAAwDlpB,EAA7CjP,EAAM,SAAW8P,EAAM6I,EAAQ,OAAS3Y,EACjE,OAAO,WACL,IAAIsyB,EAAWQ,GAAI3zB,KAAM3G,GACrB0X,EAAKoiB,EAASpiB,GACdsI,EAAkC,MAAvB8Z,EAASj4B,MAAM2F,GAAeiP,IAAWA,EAAS2nB,GAAY9mB,SAAS1V,EAKlF8V,IAAOunB,GAAOU,IAAc3f,IAAWkf,GAAOD,EAAMvnB,GAAIrC,QAAQqC,GAAGyI,EAAOwf,EAAY3f,GAE1F8Z,EAASpiB,GAAKwnB,CAChB,CACF,CASYU,CAAiBj5B,KAAKg2B,IAAKrlB,IACjC3Q,KACC64B,WAAWloB,EApDlB,SAAuBA,EAAM0lB,EAAaC,GACxC,IAAIC,EAEAC,EADAC,EAAUH,EAAS,GAEvB,OAAO,WACL,IAAII,EAAUvgB,GAAMnW,KAAM2Q,GAC1B,OAAO+lB,IAAYD,EAAU,KACvBC,IAAYH,EAAWC,EACvBA,EAAeH,EAAYE,EAAWG,EAASJ,EACvD,CACF,CA0CwB4C,CAAcvoB,EAAMxX,EAAG+B,GAAQ8a,GAChDjF,GAAG,aAAeJ,EAAM,KAC/B,EClBEkoB,WQ5Ca,SAASloB,EAAMzV,EAAO8a,GACnC,IAAInV,EAAM,UAAY8P,GAAQ,IAC9B,GAAIhK,UAAUvN,OAAS,EAAG,OAAQyH,EAAMb,KAAKkzB,MAAMryB,KAASA,EAAIo2B,OAChE,GAAa,MAAT/7B,EAAe,OAAO8E,KAAKkzB,MAAMryB,EAAK,MAC1C,GAAqB,mBAAV3F,EAAsB,MAAM,IAAI3B,MAC3C,OAAOyG,KAAKkzB,MAAMryB,EAhBpB,SAAoB8P,EAAMzV,EAAO8a,GAC/B,IAAI/X,EAAGgK,EACP,SAASirB,IACP,IAAI/5B,EAAI+B,EAAMkT,MAAMpO,KAAM2G,WAE1B,OADIxN,IAAM8O,IAAIhK,GAAKgK,EAAK9O,IAV5B,SAA0BwX,EAAMxX,EAAG6c,GACjC,OAAO,SAAS/X,GACd+B,KAAK6V,MAAMI,YAAYtF,EAAMxX,EAAE0N,KAAK7G,KAAM/B,GAAI+X,EAChD,CACF,CAMkCmjB,CAAiBxoB,EAAMxX,EAAG6c,IACjD/X,CACT,CAEA,OADAi1B,EAAM+D,OAAS/7B,EACRg4B,CACT,CAOyBkG,CAAWzoB,EAAMzV,EAAmB,MAAZ8a,EAAmB,GAAKA,GACzE,ERuCExG,KS/Ca,SAAStU,GACtB,OAAO8E,KAAKkzB,MAAM,OAAyB,mBAAVh4B,EARnC,SAAsBA,GACpB,OAAO,WACL,IAAIo7B,EAASp7B,EAAM8E,MACnBA,KAAKwX,YAAwB,MAAV8e,EAAiB,GAAKA,CAC3C,CACF,CAIQ+C,CAAatD,GAAW/1B,KAAM,OAAQ9E,IAf9C,SAAsBA,GACpB,OAAO,WACL8E,KAAKwX,YAActc,CACrB,CACF,CAYQo+B,CAAsB,MAATp+B,EAAgB,GAAKA,EAAQ,IAClD,ET4CEq+B,UU9Ca,SAASr+B,GACtB,IAAI2F,EAAM,OACV,GAAI8F,UAAUvN,OAAS,EAAG,OAAQyH,EAAMb,KAAKkzB,MAAMryB,KAASA,EAAIo2B,OAChE,GAAa,MAAT/7B,EAAe,OAAO8E,KAAKkzB,MAAMryB,EAAK,MAC1C,GAAqB,mBAAV3F,EAAsB,MAAM,IAAI3B,MAC3C,OAAOyG,KAAKkzB,MAAMryB,EAhBpB,SAAmB3F,GACjB,IAAIy2B,EAAI1pB,EACR,SAASirB,IACP,IAAI/5B,EAAI+B,EAAMkT,MAAMpO,KAAM2G,WAE1B,OADIxN,IAAM8O,IAAI0pB,GAAM1pB,EAAK9O,IAV7B,SAAyBA,GACvB,OAAO,SAAS8E,GACd+B,KAAKwX,YAAcre,EAAE0N,KAAK7G,KAAM/B,EAClC,CACF,CAMmCu7B,CAAgBrgC,IACxCw4B,CACT,CAEA,OADAuB,EAAM+D,OAAS/7B,EACRg4B,CACT,CAOyBuG,CAAUv+B,GACnC,EVyCE4U,OWxDa,WACb,OAAO9P,KAAK+Q,GAAG,cATO1X,EASsB2G,KAAKg2B,IAR1C,WACL,IAAIjjB,EAAS/S,KAAK6P,WAClB,IAAK,IAAI1W,KAAK6G,KAAKgzB,aAAc,IAAK75B,IAAME,EAAI,OAC5C0Z,GAAQA,EAAO8F,YAAY7Y,KACjC,IALF,IAAwB3G,CAUxB,EXuDE65B,MRda,SAASviB,EAAMzV,GAC5B,IAAI7B,EAAK2G,KAAKg2B,IAId,GAFArlB,GAAQ,GAEJhK,UAAUvN,OAAS,EAAG,CAExB,IADA,IACkC6E,EAD9Bi1B,EAAQQ,GAAI1zB,KAAKoS,OAAQ/Y,GAAI65B,MACxB/5B,EAAI,EAAGsE,EAAIy1B,EAAM95B,OAAWD,EAAIsE,IAAKtE,EAC5C,IAAK8E,EAAIi1B,EAAM/5B,IAAIwX,OAASA,EAC1B,OAAO1S,EAAE/C,MAGb,OAAO,IACT,CAEA,OAAO8E,KAAKgQ,MAAe,MAAT9U,EAAgBy6B,GAAcG,IAAez8B,EAAIsX,EAAMzV,GAC3E,EQDEm2B,MJpDa,SAASn2B,GACtB,IAAI7B,EAAK2G,KAAKg2B,IAEd,OAAOrvB,UAAUvN,OACX4G,KAAKgQ,MAAuB,mBAAV9U,EACdk8B,GACAC,IAAeh+B,EAAI6B,IACvBw4B,GAAI1zB,KAAKoS,OAAQ/Y,GAAIg4B,KAC7B,EI6CEiC,SHrDa,SAASp4B,GACtB,IAAI7B,EAAK2G,KAAKg2B,IAEd,OAAOrvB,UAAUvN,OACX4G,KAAKgQ,MAAuB,mBAAV9U,EACdo8B,GACAC,IAAkBl+B,EAAI6B,IAC1Bw4B,GAAI1zB,KAAKoS,OAAQ/Y,GAAIi6B,QAC7B,EG8CEC,KY3Da,SAASr4B,GACtB,IAAI7B,EAAK2G,KAAKg2B,IAEd,OAAOrvB,UAAUvN,OACX4G,KAAKgQ,KAXb,SAAsB3W,EAAI6B,GACxB,GAAqB,mBAAVA,EAAsB,MAAM,IAAI3B,MAC3C,OAAO,WACLo6B,GAAI3zB,KAAM3G,GAAIk6B,KAAOr4B,CACvB,CACF,CAMkBw+B,CAAargC,EAAI6B,IAC3Bw4B,GAAI1zB,KAAKoS,OAAQ/Y,GAAIk6B,IAC7B,EZsDEoG,Ya3Da,SAASz+B,GACtB,GAAqB,mBAAVA,EAAsB,MAAM,IAAI3B,MAC3C,OAAOyG,KAAKgQ,KAVd,SAAqB3W,EAAI6B,GACvB,OAAO,WACL,IAAIsE,EAAItE,EAAMkT,MAAMpO,KAAM2G,WAC1B,GAAiB,mBAANnH,EAAkB,MAAM,IAAIjG,MACvCo6B,GAAI3zB,KAAM3G,GAAIk6B,KAAO/zB,CACvB,CACF,CAImBo6B,CAAY55B,KAAKg2B,IAAK96B,GACzC,EbyDE2xB,IcpEa,WACb,IAAIyL,EAAKC,EAAKjnB,EAAOtR,KAAM3G,EAAKiY,EAAK0kB,IAAKpZ,EAAOtL,EAAKsL,OACtD,OAAO,IAAIid,SAAQ,SAASC,EAASC,GACnC,IAAIC,EAAS,CAAC9+B,MAAO6+B,GACjBlN,EAAM,CAAC3xB,MAAO,WAA4B,KAAT0hB,GAAYkd,GAAW,GAE5DxoB,EAAKtB,MAAK,WACR,IAAImjB,EAAWQ,GAAI3zB,KAAM3G,GACrB0X,EAAKoiB,EAASpiB,GAKdA,IAAOunB,KACTC,GAAOD,EAAMvnB,GAAIrC,QACbhI,EAAEszB,OAAO36B,KAAK26B,GAClBzB,EAAI7xB,EAAEuzB,UAAU56B,KAAK26B,GACrBzB,EAAI7xB,EAAEmmB,IAAIxtB,KAAKwtB,IAGjBsG,EAASpiB,GAAKwnB,CAChB,IAGa,IAAT3b,GAAYkd,GAClB,GACF,Ed2CE,CAAC52B,OAAOC,UAAW40B,GAAoB70B,OAAOC,WelEhD,IAAI+2B,GAAgB,CAClB5I,KAAM,KACND,MAAO,EACPiC,SAAU,IACVC,KAAM2E,IAGR,SAASiC,GAAQ/nB,EAAM/Y,GAErB,IADA,IAAIy5B,IACKA,EAAS1gB,EAAK4gB,iBAAmBF,EAASA,EAAOz5B,KACxD,KAAM+Y,EAAOA,EAAKvC,YAChB,MAAM,IAAItW,MAAM,cAAcF,eAGlC,OAAOy5B,CACT,CChBApV,GAAUzZ,UAAUg2B,UCFL,SAAStpB,GACtB,OAAO3Q,KAAKgQ,MAAK,WACf4jB,GAAU5zB,KAAM2Q,EAClB,GACF,EDDA+M,GAAUzZ,UAAU0L,WDiBL,SAASgB,GACtB,IAAItX,EACAy5B,EAEAniB,aAAgBgnB,IAClBt+B,EAAKsX,EAAKqlB,IAAKrlB,EAAOA,EAAKinB,QAE3Bv+B,EAAKy+B,MAAUhF,EAASoH,IAAe5I,KAAOP,KAAOpgB,EAAe,MAARA,EAAe,KAAOA,EAAO,IAG3F,IAAK,IAAI1O,EAASjC,KAAK4a,QAASrU,EAAItE,EAAO7I,OAAQyE,EAAI,EAAGA,EAAI0I,IAAK1I,EACjE,IAAK,IAAyCuU,EAArCvP,EAAQZ,EAAOpE,GAAIJ,EAAIoF,EAAMzJ,OAAcD,EAAI,EAAGA,EAAIsE,IAAKtE,GAC9DiZ,EAAOvP,EAAM1J,KACf05B,GAASzgB,EAAMzB,EAAMtX,EAAIF,EAAG0J,EAAOiwB,GAAUqH,GAAQ/nB,EAAM/Y,IAKjE,OAAO,IAAIs+B,GAAW11B,EAAQjC,KAAK6a,SAAUlK,EAAMtX,EACrD,EGtCA,IAAI+gC,GAAO,CAAC,MAEG,SAAAC,GAASjoB,EAAMzB,GAC5B,IACIwiB,EACAh6B,EAFA45B,EAAY3gB,EAAK4gB,aAIrB,GAAID,EAEF,IAAK55B,KADLwX,EAAe,MAARA,EAAe,KAAOA,EAAO,GAC1BoiB,EACR,IAAKI,EAAWJ,EAAU55B,IAAIi6B,MAAQb,IAAaY,EAASxiB,OAASA,EACnE,OAAO,IAAIgnB,GAAW,CAAC,CAACvlB,IAAQgoB,GAAMzpB,GAAOxX,GAKnD,OAAO,IACT,CCpBA,IAAAmhC,GAAe//B,GAAK,IAAMA,ECAX,SAAAggC,GAAoB7pB,GAAMqe,YACvCA,EAAWyL,OACXA,EAAM7rB,UACNA,EAAS8rB,KACTA,EAAIhd,SACJA,IAEAvkB,OAAO8H,iBAAiBhB,KAAM,CAC5B0Q,KAAM,CAACxV,MAAOwV,EAAMgqB,YAAY,EAAMC,cAAc,GACpD5L,YAAa,CAAC7zB,MAAO6zB,EAAa2L,YAAY,EAAMC,cAAc,GAClEH,OAAQ,CAACt/B,MAAOs/B,EAAQE,YAAY,EAAMC,cAAc,GACxDhsB,UAAW,CAACzT,MAAOyT,EAAW+rB,YAAY,EAAMC,cAAc,GAC9DF,KAAM,CAACv/B,MAAOu/B,EAAMC,YAAY,EAAMC,cAAc,GACpDj0B,EAAG,CAACxL,MAAOuiB,IAEf,CCfO,SAASmd,GAAcphB,GAC5BA,EAAMyE,0BACR,CAEe,SAAA4c,GAASrhB,GACtBA,EAAM2E,iBACN3E,EAAMyE,0BACR,CCEA,IAAI6c,GAAY,CAACnqB,KAAM,QACnBoqB,GAAa,CAACpqB,KAAM,SACpBqqB,GAAc,CAACrqB,KAAM,UACrBsqB,GAAc,CAACtqB,KAAM,UAEzB,MAAMtQ,IAAC66B,GAAGn9B,IAAEo9B,GAAGr9B,IAAEs9B,IAAOt/B,KAExB,SAASu/B,GAAQ5J,GACf,MAAO,EAAEA,EAAE,IAAKA,EAAE,GACpB,CAEA,SAAS6J,GAAQ7J,GACf,MAAO,CAAC4J,GAAQ5J,EAAE,IAAK4J,GAAQ5J,EAAE,IACnC,CAEA,IAAI8J,GAAI,CACN5qB,KAAM,IACN6qB,QAAS,CAAC,IAAK,KAAKv8B,IAAIw8B,IACxBC,MAAO,SAASnhC,EAAGk3B,GAAK,OAAY,MAALl3B,EAAY,KAAO,CAAC,EAAEA,EAAE,GAAIk3B,EAAE,GAAG,IAAK,EAAEl3B,EAAE,GAAIk3B,EAAE,GAAG,IAAM,EACxFkK,OAAQ,SAASC,GAAM,OAAOA,GAAM,CAACA,EAAG,GAAG,GAAIA,EAAG,GAAG,GAAK,GAGxDC,GAAI,CACNlrB,KAAM,IACN6qB,QAAS,CAAC,IAAK,KAAKv8B,IAAIw8B,IACxBC,MAAO,SAASl+B,EAAGi0B,GAAK,OAAY,MAALj0B,EAAY,KAAO,CAAC,CAACi0B,EAAE,GAAG,IAAKj0B,EAAE,IAAK,CAACi0B,EAAE,GAAG,IAAKj0B,EAAE,IAAM,EACxFm+B,OAAQ,SAASC,GAAM,OAAOA,GAAM,CAACA,EAAG,GAAG,GAAIA,EAAG,GAAG,GAAK,GAGxDE,GAAK,CACPnrB,KAAM,KACN6qB,QAAS,CAAC,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,MAAMv8B,IAAIw8B,IAC1DC,MAAO,SAASE,GAAM,OAAa,MAANA,EAAa,KAAON,GAAQM,EAAK,EAC9DD,OAAQ,SAASC,GAAM,OAAOA,CAAI,GAGhCG,GAAU,CACZC,QAAS,YACTrtB,UAAW,OACXlR,EAAG,YACHg0B,EAAG,YACH7zB,EAAG,YACHN,EAAG,YACH2+B,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,eAGFC,GAAQ,CACV5K,EAAG,IACHn0B,EAAG,IACH2+B,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAGFE,GAAQ,CACV7+B,EAAG,IACHG,EAAG,IACHq+B,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAGFG,GAAS,CACXP,QAAS,EACTrtB,UAAW,EACXlR,EAAG,KACHg0B,EAAG,EACH7zB,EAAG,KACHN,GAAG,EACH2+B,IAAI,EACJC,GAAI,EACJC,GAAI,EACJC,IAAI,GAGFI,GAAS,CACXR,QAAS,EACTrtB,UAAW,EACXlR,GAAG,EACHg0B,EAAG,KACH7zB,EAAG,EACHN,EAAG,KACH2+B,IAAI,EACJC,IAAI,EACJC,GAAI,EACJC,GAAI,GAGN,SAASX,GAAKx9B,GACZ,MAAO,CAACyS,KAAMzS,EAChB,CAGA,SAASw+B,GAAcjjB,GACrB,OAAQA,EAAMkjB,UAAYljB,EAAMmjB,MAClC,CAEA,SAASC,KACP,IAAIvoB,EAAMrU,KAAKkvB,iBAAmBlvB,KAClC,OAAIqU,EAAIwoB,aAAa,WAEZ,CAAC,EADRxoB,EAAMA,EAAIyoB,QAAQrH,SACLl7B,EAAG8Z,EAAI7W,GAAI,CAAC6W,EAAI9Z,EAAI8Z,EAAIrX,MAAOqX,EAAI7W,EAAI6W,EAAIpX,SAEnD,CAAC,CAAC,EAAG,GAAI,CAACoX,EAAIrX,MAAMy4B,QAAQv6B,MAAOmZ,EAAIpX,OAAOw4B,QAAQv6B,OAC/D,CAEA,SAAS6hC,KACP,OAAOC,UAAUC,gBAAmB,iBAAkBj9B,IACxD,CAGA,SAASk9B,GAAM9qB,GACb,MAAQA,EAAK+qB,cAAe/qB,EAAOA,EAAKvC,YAAa,OACrD,OAAOuC,EAAK+qB,OACd,CAOO,SAASC,GAAehrB,GAC7B,IAAIghB,EAAQhhB,EAAK+qB,QACjB,OAAO/J,EAAQA,EAAMiK,IAAI1B,OAAOvI,EAAMzkB,WAAa,IACrD,CAEO,SAAS2uB,KACd,OAAOC,GAAMhC,GACf,CAEO,SAASiC,KACd,OAAOD,GAAM1B,GACf,CAEe,SAAA4B,KACb,OAAOF,GAAMzB,GACf,CAEA,SAASyB,GAAMF,GACb,IAMIK,EANAC,EAASf,GACT7sB,EAAS0sB,GACTmB,EAAYb,GACZ9jC,GAAO,EACP4kC,EAAYrsB,GAAS,QAAS,QAAS,OACvCssB,EAAa,EAGjB,SAASC,EAAMl7B,GACb,IAAIm5B,EAAUn5B,EACTka,SAAS,UAAWihB,GACtBnvB,UAAU,YACVhS,KAAK,CAAC4+B,GAAK,aAEdO,EAAQ7sB,QAAQC,OAAO,QAClBC,KAAK,QAAS,WACdA,KAAK,iBAAkB,OACvBA,KAAK,SAAU0sB,GAAQC,SACzBvsB,MAAMusB,GACJhsB,MAAK,WACJ,IAAI2tB,EAAST,GAAMl9B,MAAM29B,OACzBhgB,GAAO3d,MACFqP,KAAK,IAAKsuB,EAAO,GAAG,IACpBtuB,KAAK,IAAKsuB,EAAO,GAAG,IACpBtuB,KAAK,QAASsuB,EAAO,GAAG,GAAKA,EAAO,GAAG,IACvCtuB,KAAK,SAAUsuB,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC/C,IAEJ96B,EAAMgM,UAAU,cACbhS,KAAK,CAAC4+B,GAAK,eACXtsB,QAAQC,OAAO,QACbC,KAAK,QAAS,aACdA,KAAK,SAAU0sB,GAAQptB,WACvBU,KAAK,OAAQ,QACbA,KAAK,eAAgB,IACrBA,KAAK,SAAU,QACfA,KAAK,kBAAmB,cAE7B,IAAI4uB,EAASp7B,EAAMgM,UAAU,WAC1BhS,KAAKwgC,EAAI7B,SAAS,SAAS7gC,GAAK,OAAOA,EAAE+V,IAAM,IAElDutB,EAAOhvB,OAAOa,SAEdmuB,EAAO9uB,QAAQC,OAAO,QACjBC,KAAK,SAAS,SAAS1U,GAAK,MAAO,kBAAoBA,EAAE+V,IAAM,IAC/DrB,KAAK,UAAU,SAAS1U,GAAK,OAAOohC,GAAQphC,EAAE+V,KAAO,IAE1D7N,EACKmN,KAAKkuB,GACL7uB,KAAK,OAAQ,QACbA,KAAK,iBAAkB,OACvB0B,GAAG,kBAAmBotB,GACxBpuB,OAAO6tB,GACL7sB,GAAG,mBAAoBotB,GACvBptB,GAAG,kBAAmBqtB,GACtBrtB,GAAG,mCAAoCstB,GACvCxoB,MAAM,eAAgB,QACtBA,MAAM,8BAA+B,gBAC5C,CA4CA,SAASqoB,IACP,IAAIr7B,EAAQ8a,GAAO3d,MACf2O,EAAYuuB,GAAMl9B,MAAM2O,UAExBA,GACF9L,EAAMgM,UAAU,cACXgH,MAAM,UAAW,MACjBxG,KAAK,IAAKV,EAAU,GAAG,IACvBU,KAAK,IAAKV,EAAU,GAAG,IACvBU,KAAK,QAASV,EAAU,GAAG,GAAKA,EAAU,GAAG,IAC7CU,KAAK,SAAUV,EAAU,GAAG,GAAKA,EAAU,GAAG,IAEnD9L,EAAMgM,UAAU,WACXgH,MAAM,UAAW,MACjBxG,KAAK,KAAK,SAAS1U,GAAK,MAAqC,MAA9BA,EAAE+V,KAAK/V,EAAE+V,KAAKtX,OAAS,GAAauV,EAAU,GAAG,GAAKmvB,EAAa,EAAInvB,EAAU,GAAG,GAAKmvB,EAAa,CAAG,IACxIzuB,KAAK,KAAK,SAAS1U,GAAK,MAAqB,MAAdA,EAAE+V,KAAK,GAAa/B,EAAU,GAAG,GAAKmvB,EAAa,EAAInvB,EAAU,GAAG,GAAKmvB,EAAa,CAAG,IACxHzuB,KAAK,SAAS,SAAS1U,GAAK,MAAkB,MAAXA,EAAE+V,MAA2B,MAAX/V,EAAE+V,KAAe/B,EAAU,GAAG,GAAKA,EAAU,GAAG,GAAKmvB,EAAaA,CAAY,IACnIzuB,KAAK,UAAU,SAAS1U,GAAK,MAAkB,MAAXA,EAAE+V,MAA2B,MAAX/V,EAAE+V,KAAe/B,EAAU,GAAG,GAAKA,EAAU,GAAG,GAAKmvB,EAAaA,CAAY,KAIzIj7B,EAAMgM,UAAU,sBACXgH,MAAM,UAAW,QACjBxG,KAAK,IAAK,MACVA,KAAK,IAAK,MACVA,KAAK,QAAS,MACdA,KAAK,SAAU,KAExB,CAEA,SAASivB,EAAQhtB,EAAMC,EAAMgtB,GAC3B,IAAIC,EAAOltB,EAAK6rB,QAAQmB,QACxB,OAAOE,GAAUD,GAAUC,EAAKD,MAAgB,IAAIE,EAAQntB,EAAMC,EAAMgtB,GAA/BC,CAC3C,CAEA,SAASC,EAAQntB,EAAMC,EAAMgtB,GAC3Bv+B,KAAKsR,KAAOA,EACZtR,KAAKuR,KAAOA,EACZvR,KAAKozB,MAAQ9hB,EAAK6rB,QAClBn9B,KAAK6zB,OAAS,EACd7zB,KAAKu+B,MAAQA,CACf,CAqCA,SAASJ,EAAQ3kB,GACf,KAAIkkB,GAAgBlkB,EAAMklB,UACrB3uB,EAAO3B,MAAMpO,KAAM2G,WAAxB,CAEA,IAQsBg4B,EAAIC,EACJC,EAAIC,EACJC,EAAIC,EACJ9gC,EAAIC,EAGtB8gC,EAEAC,EACAC,EAjBA7tB,EAAOtR,KACP0Q,EAAO8I,EAAMghB,OAAOnnB,SAAS3C,KAC7B+pB,EAA6D,eAArDxhC,GAAQugB,EAAM4lB,QAAU1uB,EAAO,UAAYA,GAAwBoqB,GAAa7hC,GAAQugB,EAAM6lB,OAASpE,GAAcD,GAC7HsE,EAAQjC,IAAQxB,GAAI,KAAOU,GAAO7rB,GAClC6uB,EAAQlC,IAAQ9B,GAAI,KAAOiB,GAAO9rB,GAClC0iB,EAAQ8J,GAAM5rB,GACdqsB,EAASvK,EAAMuK,OACfhvB,EAAYykB,EAAMzkB,UAClB6wB,EAAI7B,EAAO,GAAG,GACd8B,EAAI9B,EAAO,GAAG,GACd+B,EAAI/B,EAAO,GAAG,GACdlhC,EAAIkhC,EAAO,GAAG,GACdgC,EAAK,EACLC,EAAK,EAELC,EAAWP,GAASC,GAAStmC,GAAQugB,EAAMsmB,SAG3CC,EAASrhC,MAAMC,KAAK6a,EAAMklB,SAAW,CAACllB,IAAQvb,IAC5C,MAAM9E,EAAI8E,EAAE+hC,WAIZ,OAHA/hC,EAAI+wB,GAAQ/wB,EAAGqT,IACb2uB,OAAShiC,EAAE9B,QACb8B,EAAE+hC,WAAa7mC,EACR8E,CAAA,IAGb21B,GAAUtiB,GACV,IAAIktB,EAAOF,EAAQhtB,EAAM3K,WAAW,GAAMu5B,cAE1C,GAAa,YAATxvB,EAAoB,CAClB/B,IAAWswB,GAAS,GACxB,MAAMkB,EAAM,CAACJ,EAAO,GAAIA,EAAO,IAAMA,EAAO,IAC5C3M,EAAMzkB,UAAYA,EAAY,CAAC,CAC3BgwB,EAAKtB,IAAQxB,GAAI2D,EAAIpE,GAAI+E,EAAI,GAAG,GAAIA,EAAI,GAAG,IAC3CtB,EAAKxB,IAAQ9B,GAAIkE,EAAIrE,GAAI+E,EAAI,GAAG,GAAIA,EAAI,GAAG,KAC1C,CACDpB,EAAK1B,IAAQxB,GAAI6D,EAAIvE,GAAIgF,EAAI,GAAG,GAAIA,EAAI,GAAG,IAC3CjiC,EAAKm/B,IAAQ9B,GAAI9+B,EAAI0+B,GAAIgF,EAAI,GAAG,GAAIA,EAAI,GAAG,MAE3CJ,EAAO3mC,OAAS,GAAGgnC,EAAK5mB,EAC9B,MACEmlB,EAAKhwB,EAAU,GAAG,GAClBkwB,EAAKlwB,EAAU,GAAG,GAClBowB,EAAKpwB,EAAU,GAAG,GAClBzQ,EAAKyQ,EAAU,GAAG,GAGpBiwB,EAAKD,EACLG,EAAKD,EACLG,EAAKD,EACL5gC,EAAKD,EAEL,IAAI2E,EAAQ8a,GAAOrM,GACdjC,KAAK,iBAAkB,QAExB2sB,EAAUn5B,EAAMgM,UAAU,YACzBQ,KAAK,SAAU0sB,GAAQrrB,IAE5B,GAAI8I,EAAMklB,QACRF,EAAK6B,MAAQA,EACb7B,EAAK8B,MAAQA,MACR,CACL,IAAIjiB,EAAOV,GAAOnE,EAAM6E,MACnBtN,GAAG,kBAAmBsvB,GAAO,GAC7BtvB,GAAG,gBAAiBuvB,GAAO,GAC5BrnC,GAAMolB,EACLtN,GAAG,iBA0GV,SAAmByI,GACjB,OAAQA,EAAM+mB,SACZ,KAAK,GACHV,EAAWP,GAASC,EACpB,MAEF,KAAK,GACC9E,IAASO,KACPsE,IAAOP,EAAKC,EAAKW,EAAKL,EAAOX,EAAKC,EAAKe,EAAKL,GAC5CC,IAAOrhC,EAAKC,EAAKyhC,EAAKL,EAAOV,EAAKC,EAAKc,EAAKL,GAChD9E,EAAOQ,GACPmF,EAAK5mB,IAEP,MAEF,KAAK,GACCihB,IAASO,IAAeP,IAASQ,KAC/BqE,EAAQ,EAAGP,EAAKC,EAAKW,EAAaL,EAAQ,IAAGX,EAAKC,EAAKe,GACvDJ,EAAQ,EAAGrhC,EAAKC,EAAKyhC,EAAaL,EAAQ,IAAGV,EAAKC,EAAKc,GAC3DnF,EAAOM,GACPiB,EAAQ3sB,KAAK,SAAU0sB,GAAQptB,WAC/ByxB,EAAK5mB,IAEP,MAEF,QAAS,OAEXqhB,GAAQrhB,EACV,IAtIsC,GAC/BzI,GAAG,eAuIV,SAAkByI,GAChB,OAAQA,EAAM+mB,SACZ,KAAK,GACCV,IACFX,EAAQC,EAAQU,GAAW,EAC3BO,EAAK5mB,IAEP,MAEF,KAAK,GACCihB,IAASQ,KACPqE,EAAQ,EAAGP,EAAKC,EAAaM,EAAQ,IAAGX,EAAKC,GAC7CW,EAAQ,EAAGrhC,EAAKC,EAAaohC,EAAQ,IAAGV,EAAKC,GACjDrE,EAAOO,GACPoF,EAAK5mB,IAEP,MAEF,KAAK,GACCihB,IAASM,KACPvhB,EAAM6lB,QACJC,IAAOP,EAAKC,EAAKW,EAAKL,EAAOX,EAAKC,EAAKe,EAAKL,GAC5CC,IAAOrhC,EAAKC,EAAKyhC,EAAKL,EAAOV,EAAKC,EAAKc,EAAKL,GAChD9E,EAAOQ,KAEHqE,EAAQ,EAAGP,EAAKC,EAAaM,EAAQ,IAAGX,EAAKC,GAC7CW,EAAQ,EAAGrhC,EAAKC,EAAaohC,EAAQ,IAAGV,EAAKC,GACjDrE,EAAOO,IAETgB,EAAQ3sB,KAAK,SAAU0sB,GAAQrrB,IAC/B0vB,EAAK5mB,IAEP,MAEF,QAAS,OAEXqhB,GAAQrhB,EACV,IA5KmC,GAEjC4E,GAAY5E,EAAM6E,KACpB,CAEA6f,EAAOr3B,KAAKyK,GACZktB,EAAK9hC,MAAM8c,EAAOihB,EAAK9pB,KA3Ea,CA6EpC,SAAS0vB,EAAM7mB,GACb,IAAK,MAAMpZ,KAAKoZ,EAAMgnB,gBAAkB,CAAChnB,GACvC,IAAK,MAAM7e,KAAKolC,EACVplC,EAAEqlC,aAAe5/B,EAAE4/B,aAAYrlC,EAAE8lC,IAAMzR,GAAQ5uB,EAAGkR,IAE1D,GAAIuuB,IAAaX,IAAUC,GAA2B,IAAlBY,EAAO3mC,OAAc,CACvD,MAAMg2B,EAAQ2Q,EAAO,GACjB7E,GAAI9L,EAAMqR,IAAI,GAAKrR,EAAM,IAAM8L,GAAI9L,EAAMqR,IAAI,GAAKrR,EAAM,IAC1D+P,GAAQ,EAERD,GAAQ,CACZ,CACA,IAAK,MAAM9P,KAAS2Q,EACd3Q,EAAMqR,MAAKrR,EAAM,GAAKA,EAAMqR,IAAI,GAAIrR,EAAM,GAAKA,EAAMqR,IAAI,IAC/DxB,GAAS,EACTpE,GAAQrhB,GACR4mB,EAAK5mB,EACP,CAEA,SAAS4mB,EAAK5mB,GACZ,MAAM4V,EAAQ2Q,EAAO,GAAIE,EAAS7Q,EAAM6Q,OACxC,IAAIhiC,EAKJ,OAHA0hC,EAAKvQ,EAAM,GAAK6Q,EAAO,GACvBL,EAAKxQ,EAAM,GAAK6Q,EAAO,GAEfxF,GACN,KAAKM,GACL,KAAKD,GACCwE,IAAOK,EAAKxE,GAAIqE,EAAIb,EAAIvD,GAAIsE,EAAIX,EAAIY,IAAMf,EAAKD,EAAKgB,EAAIX,EAAKD,EAAKY,GAClEJ,IAAOK,EAAKzE,GAAIsE,EAAIZ,EAAIzD,GAAI3+B,EAAIyB,EAAI0hC,IAAMd,EAAKD,EAAKe,EAAIzhC,EAAKD,EAAK0hC,GACtE,MAEF,KAAK5E,GACC+E,EAAO,IACLT,IAAOV,EAAKzD,GAAIqE,EAAGpE,GAAIsE,EAAGK,EAAO,GAAG,KAAMf,EAAK7D,GAAIqE,EAAGpE,GAAIsE,EAAGK,EAAO,GAAG,KAAMT,EAAQ,GACrFC,IAAOT,EAAK3D,GAAIsE,EAAGrE,GAAI3+B,EAAGsjC,EAAO,GAAG,KAAM5hC,EAAKg9B,GAAIsE,EAAGrE,GAAI3+B,EAAGsjC,EAAO,GAAG,KAAMR,EAAQ,KAErFD,EAAQ,GAAGK,EAAKxE,GAAIqE,EAAIb,EAAIvD,GAAIsE,EAAIf,EAAIgB,IAAMf,EAAKD,EAAKgB,EAAIX,EAAKD,GAC5DO,EAAQ,IAAGK,EAAKxE,GAAIqE,EAAIT,EAAI3D,GAAIsE,EAAIX,EAAIY,IAAMf,EAAKD,EAAIK,EAAKD,EAAKY,GACtEJ,EAAQ,GAAGK,EAAKzE,GAAIsE,EAAIZ,EAAIzD,GAAI3+B,EAAIoiC,EAAIe,IAAMd,EAAKD,EAAKe,EAAIzhC,EAAKD,GAC5DqhC,EAAQ,IAAGK,EAAKzE,GAAIsE,EAAIvhC,EAAIk9B,GAAI3+B,EAAIyB,EAAI0hC,IAAMd,EAAKD,EAAI1gC,EAAKD,EAAK0hC,IAE5E,MAEF,KAAK3E,GACCqE,IAAOV,EAAKzD,GAAIqE,EAAGpE,GAAIsE,EAAGf,EAAKgB,EAAKL,IAASN,EAAK7D,GAAIqE,EAAGpE,GAAIsE,EAAGX,EAAKY,EAAKL,KAC1EC,IAAOT,EAAK3D,GAAIsE,EAAGrE,GAAI3+B,EAAGoiC,EAAKe,EAAKL,IAASphC,EAAKg9B,GAAIsE,EAAGrE,GAAI3+B,EAAGyB,EAAK0hC,EAAKL,KAK9EP,EAAKJ,IACPU,IAAS,EACTrhC,EAAI0gC,EAAIA,EAAKI,EAAIA,EAAK9gC,EACtBA,EAAI2gC,EAAIA,EAAKI,EAAIA,EAAK/gC,EAClByS,KAAQ2rB,IAAOL,EAAQ3sB,KAAK,SAAU0sB,GAAQrrB,EAAO2rB,GAAM3rB,MAG7DvS,EAAK2gC,IACPS,IAAS,EACTthC,EAAI4gC,EAAIA,EAAK3gC,EAAIA,EAAKD,EACtBA,EAAI6gC,EAAIA,EAAK3gC,EAAIA,EAAKF,EAClByS,KAAQ4rB,IAAON,EAAQ3sB,KAAK,SAAU0sB,GAAQrrB,EAAO4rB,GAAM5rB,MAG7D0iB,EAAMzkB,YAAWA,EAAYykB,EAAMzkB,WACnCuwB,IAAON,EAAKjwB,EAAU,GAAG,GAAIqwB,EAAKrwB,EAAU,GAAG,IAC/CwwB,IAAOL,EAAKnwB,EAAU,GAAG,GAAIxQ,EAAKwQ,EAAU,GAAG,IAE/CA,EAAU,GAAG,KAAOiwB,GACjBjwB,EAAU,GAAG,KAAOmwB,GACpBnwB,EAAU,GAAG,KAAOqwB,GACpBrwB,EAAU,GAAG,KAAOxQ,IACzBi1B,EAAMzkB,UAAY,CAAC,CAACiwB,EAAIE,GAAK,CAACE,EAAI7gC,IAClC+/B,EAAOr3B,KAAKyK,GACZktB,EAAKT,MAAMvkB,EAAOihB,EAAK9pB,MAE3B,CAEA,SAAS2vB,EAAM9mB,GAEb,GADAohB,GAAcphB,GACVA,EAAMklB,QAAS,CACjB,GAAIllB,EAAMklB,QAAQtlC,OAAQ,OACtBskC,GAAa3L,aAAa2L,GAC9BA,EAAc/e,YAAW,WAAa+e,EAAc,IAAM,GAAG,IAC/D,MACEjf,GAAWjF,EAAM6E,KAAM4gB,GACvB5gB,EAAKtN,GAAG,0DAA2D,MAErElO,EAAMwM,KAAK,iBAAkB,OAC7B2sB,EAAQ3sB,KAAK,SAAU0sB,GAAQC,SAC3B5I,EAAMzkB,YAAWA,EAAYykB,EAAMzkB,WAtX7C,SAAegvB,GACb,OAAOA,EAAO,GAAG,KAAOA,EAAO,GAAG,IAC3BA,EAAO,GAAG,KAAOA,EAAO,GAAG,EACpC,CAoXU+C,CAAM/xB,KAAYykB,EAAMzkB,UAAY,KAAMuvB,EAAOr3B,KAAKyK,IAC1DktB,EAAK3R,IAAIrT,EAAOihB,EAAK9pB,KACvB,CAsEF,CAEA,SAASytB,EAAW5kB,GAClB8kB,EAAQt+B,KAAM2G,WAAW05B,MAAM7mB,EACjC,CAEA,SAAS6kB,EAAW7kB,GAClB8kB,EAAQt+B,KAAM2G,WAAW25B,MAAM9mB,EACjC,CAEA,SAASwkB,IACP,IAAI5K,EAAQpzB,KAAKm9B,SAAW,CAACxuB,UAAW,MAGxC,OAFAykB,EAAMuK,OAASrC,GAAQqC,EAAOvvB,MAAMpO,KAAM2G,YAC1CysB,EAAMiK,IAAMA,EACLjK,CACT,CA2BA,OAtZA2K,EAAMqC,KAAO,SAASv9B,EAAO8L,EAAW6K,GAClC3W,EAAMqwB,MACRrwB,EACKkO,GAAG,eAAe,SAASyI,GAAS8kB,EAAQt+B,KAAM2G,WAAWu5B,cAAcxjC,MAAM8c,EAAQ,IACzFzI,GAAG,6BAA6B,SAASyI,GAAS8kB,EAAQt+B,KAAM2G,WAAWkmB,IAAIrT,EAAQ,IACvF0Z,MAAM,SAAS,WACd,IAAI5hB,EAAOtR,KACPozB,EAAQ9hB,EAAK6rB,QACbqB,EAAOF,EAAQhtB,EAAM3K,WACrBg6B,EAAavN,EAAMzkB,UACnBiyB,EAAavD,EAAI3B,MAA2B,mBAAd/sB,EAA2BA,EAAUP,MAAMpO,KAAM2G,WAAagI,EAAWykB,EAAMuK,QAC7GxkC,EAAI00B,GAAY8S,EAAYC,GAEhC,SAAS1N,EAAMj1B,GACbm1B,EAAMzkB,UAAkB,IAAN1Q,GAA0B,OAAf2iC,EAAsB,KAAOznC,EAAE8E,GAC5DigC,EAAOr3B,KAAKyK,GACZktB,EAAKT,OACP,CAEA,OAAsB,OAAf4C,GAAsC,OAAfC,EAAsB1N,EAAQA,EAAM,EACpE,IAEJrwB,EACKmN,MAAK,WACJ,IAAIsB,EAAOtR,KACPuR,EAAO5K,UACPysB,EAAQ9hB,EAAK6rB,QACbyD,EAAavD,EAAI3B,MAA2B,mBAAd/sB,EAA2BA,EAAUP,MAAMkD,EAAMC,GAAQ5C,EAAWykB,EAAMuK,QACxGa,EAAOF,EAAQhtB,EAAMC,GAAM2uB,cAE/BtM,GAAUtiB,GACV8hB,EAAMzkB,UAA2B,OAAfiyB,EAAsB,KAAOA,EAC/C1C,EAAOr3B,KAAKyK,GACZktB,EAAK9hC,MAAM8c,GAAOukB,MAAMvkB,GAAOqT,IAAIrT,EACrC,GAER,EAEAukB,EAAM8C,MAAQ,SAASh+B,EAAO2W,GAC5BukB,EAAMqC,KAAKv9B,EAAO,KAAM2W,EAC1B,EA6CAilB,EAAQx6B,UAAY,CAClBi8B,YAAa,WAEX,OADsB,KAAhBlgC,KAAK6zB,SAAc7zB,KAAKozB,MAAMkL,QAAUt+B,KAAMA,KAAK8gC,UAAW,GAC7D9gC,IACT,EACAtD,MAAO,SAAS8c,EAAOihB,GAGrB,OAFIz6B,KAAK8gC,UAAU9gC,KAAK8gC,UAAW,EAAO9gC,KAAKw+B,KAAK,QAAShlB,EAAOihB,IAC/Dz6B,KAAKw+B,KAAK,QAAShlB,GACjBxZ,IACT,EACA+9B,MAAO,SAASvkB,EAAOihB,GAErB,OADAz6B,KAAKw+B,KAAK,QAAShlB,EAAOihB,GACnBz6B,IACT,EACA6sB,IAAK,SAASrT,EAAOihB,GAEnB,OADsB,KAAhBz6B,KAAK6zB,gBAAqB7zB,KAAKozB,MAAMkL,QAASt+B,KAAKw+B,KAAK,MAAOhlB,EAAOihB,IACrEz6B,IACT,EACAw+B,KAAM,SAAS9tB,EAAM8I,EAAOihB,GAC1B,IAAI9/B,EAAIgjB,GAAO3d,KAAKsR,MAAM0B,QAC1B6qB,EAAUh3B,KACR6J,EACA1Q,KAAKsR,KACL,IAAIipB,GAAW7pB,EAAM,CACnBqe,YAAavV,EACbghB,OAAQuD,EACRpvB,UAAW0uB,EAAI1B,OAAO37B,KAAKozB,MAAMzkB,W,KACjC8rB,EACAhd,SAAUogB,IAEZljC,EAEJ,GAwQFojC,EAAMJ,OAAS,SAASj3B,GACtB,OAAOC,UAAUvN,QAAUukC,EAAsB,mBAANj3B,EAAmBA,EAAI4zB,GAASgB,GAAQ50B,IAAKq3B,GAASJ,CACnG,EAEAI,EAAMhuB,OAAS,SAASrJ,GACtB,OAAOC,UAAUvN,QAAU2W,EAAsB,mBAANrJ,EAAmBA,EAAI4zB,KAAW5zB,GAAIq3B,GAAShuB,CAC5F,EAEAguB,EAAMH,UAAY,SAASl3B,GACzB,OAAOC,UAAUvN,QAAUwkC,EAAyB,mBAANl3B,EAAmBA,EAAI4zB,KAAW5zB,GAAIq3B,GAASH,CAC/F,EAEAG,EAAMD,WAAa,SAASp3B,GAC1B,OAAOC,UAAUvN,QAAU0kC,GAAcp3B,EAAGq3B,GAASD,CACvD,EAEAC,EAAMgD,aAAe,SAASr6B,GAC5B,OAAOC,UAAUvN,QAAUH,IAASyN,EAAGq3B,GAAS9kC,CAClD,EAEA8kC,EAAMhtB,GAAK,WACT,IAAI7V,EAAQ2iC,EAAU9sB,GAAG3C,MAAMyvB,EAAWl3B,WAC1C,OAAOzL,IAAU2iC,EAAYE,EAAQ7iC,CACvC,EAEO6iC,CACT,C,qJC5mBO,IAAIiD,GAAMllC,KAAKuE,IACX4gC,GAAMnlC,KAAKolC,IACXC,GAAMrlC,KAAKslC,IACXC,GAAKvlC,KAAKk4B,GACVsN,GAASD,GAAK,EACdE,GAAW,EAALF,GACNG,GAAM1lC,KAAKiC,IACX0jC,GAAU,MCLrB,SAASC,GAAMvoC,EAAG0E,GAChB,OAAOa,MAAMC,KAAK,CAACvF,OAAQyE,EAAI1E,IAAI,CAACuN,EAAGW,IAAMlO,EAAIkO,GACnD,CAWe,SAAAs6B,KACb,OAAOC,IAAM,GAAO,EACtB,CAEO,SAASC,KACd,OAAOD,IAAM,GAAO,EACtB,CAEO,SAASE,KACd,OAAOF,IAAM,GAAM,EACrB,CAEA,SAASA,GAAMG,EAAUp3B,GACvB,IAAIq3B,EAAW,EACXC,EAAa,KACbC,EAAgB,KAChBC,EAAa,KAEjB,SAASC,EAAM33B,GACb,IAKWk1B,EALPliC,EAAIgN,EAAOrR,OACXipC,EAAY,IAAI3jC,MAAMjB,GACtB6kC,EAAaZ,GAAM,EAAGjkC,GACtB8kC,EAAS,IAAI7jC,MAAMjB,EAAIA,GACvBwE,EAAS,IAAIvD,MAAMjB,GACnB4J,EAAI,EAERoD,EAASlL,aAAaZ,KAAK,CAACvF,OAAQqE,EAAIA,GAAIkN,EACtC,CAACjE,EAAGvN,IAAMsR,EAAOtR,EAAIsE,GAAGtE,EAAIsE,EAAI,GAChC,CAACiJ,EAAGvN,IAAMsR,EAAOtR,EAAIsE,EAAI,GAAGtE,EAAIsE,IAGtC,IAAK,IAAItE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAG,CAC1B,IAAIoB,EAAI,EACR,IAAK,IAAIsD,EAAI,EAAGA,EAAIJ,IAAKI,EAAGtD,GAAKkQ,EAAOtR,EAAIsE,EAAII,GAAKkkC,EAAWt3B,EAAO5M,EAAIJ,EAAItE,GAC/EkO,GAAKg7B,EAAUlpC,GAAKoB,CACtB,CAEAolC,GADAt4B,EAAIm6B,GAAI,EAAGD,GAAMS,EAAWvkC,GAAK4J,GACxB26B,EAAWT,GAAM9jC,EAG1B,CACE,IAAIlD,EAAI,EACJ0nC,GAAYK,EAAWh/B,MAAK,CAACzJ,EAAGC,IAAMmoC,EAAWI,EAAUxoC,GAAIwoC,EAAUvoC,MAC7E,IAAK,MAAMX,KAAKmpC,EAAY,CAC1B,MAAMn8B,EAAK5L,EACX,GAAIwnC,EAAU,CACZ,MAAMS,EAAgBd,GAAW,GAAJjkC,EAAOA,GAAGsS,QAAOlS,GAAKA,EAAI,EAAI4M,GAAQ5M,EAAIJ,EAAItE,GAAKsR,EAAOtR,EAAIsE,EAAII,KAC3FqkC,GAAeM,EAAcl/B,MAAK,CAACzJ,EAAGC,IAAMooC,EAAcroC,EAAI,GAAK4Q,GAAQ5Q,EAAI4D,EAAItE,GAAKsR,EAAOtR,EAAIsE,EAAI5D,GAAIC,EAAI,GAAK2Q,GAAQ3Q,EAAI2D,EAAItE,GAAKsR,EAAOtR,EAAIsE,EAAI3D,MAC5J,IAAK,MAAM+D,KAAK2kC,EACd,GAAI3kC,EAAI,EAAG,EACK0kC,GAAQ1kC,EAAIJ,EAAItE,KAAOopC,GAAQ1kC,EAAIJ,EAAItE,GAAK,CAAC4J,OAAQ,KAAMy3B,OAAQ,QAC3EA,OAAS,CAACr/B,MAAOhC,EAAGspC,WAAYloC,EAAGmoC,SAAUnoC,GAAKkQ,GAAQ5M,EAAIJ,EAAItE,GAAKkO,EAAGnM,MAAOuP,GAAQ5M,EAAIJ,EAAItE,GACzG,KAAO,EACSopC,EAAOppC,EAAIsE,EAAII,KAAO0kC,EAAOppC,EAAIsE,EAAII,GAAK,CAACkF,OAAQ,KAAMy3B,OAAQ,QACzEz3B,OAAS,CAAC5H,MAAOhC,EAAGspC,WAAYloC,EAAGmoC,SAAUnoC,GAAKkQ,EAAOtR,EAAIsE,EAAII,GAAKwJ,EAAGnM,MAAOuP,EAAOtR,EAAIsE,EAAII,GACvG,CAEFoE,EAAO9I,GAAK,CAACgC,MAAOhC,EAAGspC,WAAYt8B,EAAIu8B,SAAUnoC,EAAGW,MAAOmnC,EAAUlpC,GACvE,KAAO,CACL,MAAMqpC,EAAgBd,GAAM,EAAGjkC,GAAGsS,QAAOlS,GAAK4M,EAAOtR,EAAIsE,EAAII,IAAM4M,EAAO5M,EAAIJ,EAAItE,KAC9E+oC,GAAeM,EAAcl/B,MAAK,CAACzJ,EAAGC,IAAMooC,EAAcz3B,EAAOtR,EAAIsE,EAAI5D,GAAI4Q,EAAOtR,EAAIsE,EAAI3D,MAChG,IAAK,MAAM+D,KAAK2kC,EAAe,CAC7B,IAAIJ,EASJ,GARIjpC,EAAI0E,GACNukC,EAAQG,EAAOppC,EAAIsE,EAAII,KAAO0kC,EAAOppC,EAAIsE,EAAII,GAAK,CAACkF,OAAQ,KAAMy3B,OAAQ,OACzE4H,EAAMr/B,OAAS,CAAC5H,MAAOhC,EAAGspC,WAAYloC,EAAGmoC,SAAUnoC,GAAKkQ,EAAOtR,EAAIsE,EAAII,GAAKwJ,EAAGnM,MAAOuP,EAAOtR,EAAIsE,EAAII,MAErGukC,EAAQG,EAAO1kC,EAAIJ,EAAItE,KAAOopC,EAAO1kC,EAAIJ,EAAItE,GAAK,CAAC4J,OAAQ,KAAMy3B,OAAQ,OACzE4H,EAAM5H,OAAS,CAACr/B,MAAOhC,EAAGspC,WAAYloC,EAAGmoC,SAAUnoC,GAAKkQ,EAAOtR,EAAIsE,EAAII,GAAKwJ,EAAGnM,MAAOuP,EAAOtR,EAAIsE,EAAII,IACjG1E,IAAM0E,IAAGukC,EAAMr/B,OAASq/B,EAAM5H,SAEhC4H,EAAMr/B,QAAUq/B,EAAM5H,QAAU4H,EAAMr/B,OAAO7H,MAAQknC,EAAM5H,OAAOt/B,MAAO,CAC3E,MAAM6H,EAASq/B,EAAMr/B,OACrBq/B,EAAMr/B,OAASq/B,EAAM5H,OACrB4H,EAAM5H,OAASz3B,CACjB,CACF,CACAd,EAAO9I,GAAK,CAACgC,MAAOhC,EAAGspC,WAAYt8B,EAAIu8B,SAAUnoC,EAAGW,MAAOmnC,EAAUlpC,GACvE,CACAoB,GAAKolC,CACP,CACF,CAKA,OAFA4C,EAASrpC,OAAO6B,OAAOwnC,IAChBtgC,OAASA,EACTkgC,EAAaI,EAAOj/B,KAAK6+B,GAAcI,CAChD,CAkBA,OAhBAH,EAAMJ,SAAW,SAASt7B,GACxB,OAAOC,UAAUvN,QAAU4oC,EAAWR,GAAI,EAAG96B,GAAI07B,GAASJ,CAC5D,EAEAI,EAAMH,WAAa,SAASv7B,GAC1B,OAAOC,UAAUvN,QAAU6oC,EAAav7B,EAAG07B,GAASH,CACtD,EAEAG,EAAMF,cAAgB,SAASx7B,GAC7B,OAAOC,UAAUvN,QAAU8oC,EAAgBx7B,EAAG07B,GAASF,CACzD,EAEAE,EAAMD,WAAa,SAASz7B,GAC1B,OAAOC,UAAUvN,QAAe,MAALsN,EAAYy7B,EAAa,MA/GlCz+B,EA+GoEgD,EAA1By7B,EA9GvD,SAAStoC,EAAGC,GACjB,OAAO4J,EACL7J,EAAEkJ,OAAO7H,MAAQrB,EAAE2gC,OAAOt/B,MAC1BpB,EAAEiJ,OAAO7H,MAAQpB,EAAE0gC,OAAOt/B,MAE9B,GAyG4FwL,EAAIA,EAAG07B,GAASD,GAAcA,EAAWz7B,EA/GvI,IAAsBhD,CAgHpB,EAEO0+B,CACT,CCzHA,MAAMO,GAAK7mC,KAAKk4B,GACZ4O,GAAM,EAAID,GACVE,GAAU,KACVC,GAAaF,GAAMC,GAEvB,SAASE,GAAOC,GACdhjC,KAAK0G,GAAKs8B,EAAQ,GAClB,IAAK,IAAI7pC,EAAI,EAAGsE,EAAIulC,EAAQ5pC,OAAQD,EAAIsE,IAAKtE,EAC3C6G,KAAK0G,GAAKC,UAAUxN,GAAK6pC,EAAQ7pC,EAErC,CAeO,MAAM8pC,GACXljC,YAAYmjC,GACVljC,KAAKmjC,IAAMnjC,KAAKojC,IAChBpjC,KAAKqjC,IAAMrjC,KAAKsjC,IAAM,KACtBtjC,KAAK0G,EAAI,GACT1G,KAAKujC,QAAoB,MAAVL,EAAiBH,GAlBpC,SAAqBG,GACnB,IAAIvoC,EAAImB,KAAKC,MAAMmnC,GACnB,KAAMvoC,GAAK,GAAI,MAAM,IAAIpB,MAAM,mBAAmB2pC,KAClD,GAAIvoC,EAAI,GAAI,OAAOooC,GACnB,MAAM17B,EAAI,IAAM1M,EAChB,OAAO,SAASqoC,GACdhjC,KAAK0G,GAAKs8B,EAAQ,GAClB,IAAK,IAAI7pC,EAAI,EAAGsE,EAAIulC,EAAQ5pC,OAAQD,EAAIsE,IAAKtE,EAC3C6G,KAAK0G,GAAK5K,KAAKkJ,MAAM2B,UAAUxN,GAAKkO,GAAKA,EAAI27B,EAAQ7pC,EAEzD,CACF,CAO6CqqC,CAAYN,EACvD,CACAO,OAAOlpC,EAAGiD,GACRwC,KAAKujC,OAAO,IAAIvjC,KAAKmjC,IAAMnjC,KAAKqjC,KAAO9oC,KAAKyF,KAAKojC,IAAMpjC,KAAKsjC,KAAO9lC,GACrE,CACAkmC,YACmB,OAAb1jC,KAAKqjC,MACPrjC,KAAKqjC,IAAMrjC,KAAKmjC,IAAKnjC,KAAKsjC,IAAMtjC,KAAKojC,IACrCpjC,KAAKujC,OAAO,IAEhB,CACAI,OAAOppC,EAAGiD,GACRwC,KAAKujC,OAAO,IAAIvjC,KAAKqjC,KAAO9oC,KAAKyF,KAAKsjC,KAAO9lC,GAC/C,CACAomC,iBAAiBx9B,EAAIy9B,EAAItpC,EAAGiD,GAC1BwC,KAAKujC,OAAO,KAAKn9B,MAAOy9B,KAAM7jC,KAAKqjC,KAAO9oC,KAAKyF,KAAKsjC,KAAO9lC,GAC7D,CACAsmC,cAAc19B,EAAIy9B,EAAIE,EAAIC,EAAIzpC,EAAGiD,GAC/BwC,KAAKujC,OAAO,KAAKn9B,MAAOy9B,MAAOE,MAAOC,KAAMhkC,KAAKqjC,KAAO9oC,KAAKyF,KAAKsjC,KAAO9lC,GAC3E,CACAymC,MAAM79B,EAAIy9B,EAAIE,EAAIC,EAAIpoC,GAIpB,GAHAwK,GAAMA,EAAIy9B,GAAMA,EAAIE,GAAMA,EAAIC,GAAMA,GAAIpoC,GAAKA,GAGrC,EAAG,MAAM,IAAIrC,MAAM,oBAAoBqC,KAE/C,IAAIuK,EAAKnG,KAAKqjC,IACVa,EAAKlkC,KAAKsjC,IACVa,EAAMJ,EAAK39B,EACXg+B,EAAMJ,EAAKH,EACXQ,EAAMl+B,EAAKC,EACXk+B,EAAMJ,EAAKL,EACXU,EAAQF,EAAMA,EAAMC,EAAMA,EAG9B,GAAiB,OAAbtkC,KAAKqjC,IACPrjC,KAAKujC,OAAO,IAAIvjC,KAAKqjC,IAAMj9B,KAAMpG,KAAKsjC,IAAMO,SAIzC,GAAMU,EAAQ1B,GAKd,GAAM/mC,KAAKuE,IAAIikC,EAAMH,EAAMC,EAAMC,GAAOxB,IAAajnC,EAKrD,CACH,IAAI4oC,EAAMT,EAAK59B,EACXs+B,EAAMT,EAAKE,EACXQ,EAAQP,EAAMA,EAAMC,EAAMA,EAC1BO,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAM9oC,KAAK8D,KAAK8kC,GAChBG,EAAM/oC,KAAK8D,KAAK2kC,GAChB9a,EAAI7tB,EAAIE,KAAK0sB,KAAKma,GAAK7mC,KAAKgpC,MAAMJ,EAAQH,EAAQI,IAAU,EAAIC,EAAMC,KAAS,GAC/EE,EAAMtb,EAAIob,EACVG,EAAMvb,EAAImb,EAGV9oC,KAAKuE,IAAI0kC,EAAM,GAAKlC,IACtB7iC,KAAKujC,OAAO,IAAIn9B,EAAK2+B,EAAMV,KAAOR,EAAKkB,EAAMT,IAG/CtkC,KAAKujC,OAAO,IAAI3nC,KAAKA,WAAW0oC,EAAME,EAAMH,EAAMI,MAAQzkC,KAAKqjC,IAAMj9B,EAAK4+B,EAAMb,KAAOnkC,KAAKsjC,IAAMO,EAAKmB,EAAMZ,GAC/G,MArBEpkC,KAAKujC,OAAO,IAAIvjC,KAAKqjC,IAAMj9B,KAAMpG,KAAKsjC,IAAMO,SAsBhD,CACAoB,IAAI1qC,EAAGiD,EAAG5B,EAAGspC,EAAIC,EAAIC,GAInB,GAHA7qC,GAAKA,EAAGiD,GAAKA,EAAW4nC,IAAQA,GAAhBxpC,GAAKA,GAGb,EAAG,MAAM,IAAIrC,MAAM,oBAAoBqC,KAE/C,IAAI+jC,EAAK/jC,EAAIE,KAAKolC,IAAIgE,GAClBtF,EAAKhkC,EAAIE,KAAKslC,IAAI8D,GAClB/+B,EAAK5L,EAAIolC,EACTuE,EAAK1mC,EAAIoiC,EACTyF,EAAK,EAAID,EACTE,EAAKF,EAAMF,EAAKC,EAAKA,EAAKD,EAGb,OAAbllC,KAAKqjC,IACPrjC,KAAKujC,OAAO,IAAIp9B,KAAM+9B,KAIfpoC,KAAKuE,IAAIL,KAAKqjC,IAAMl9B,GAAM08B,IAAW/mC,KAAKuE,IAAIL,KAAKsjC,IAAMY,GAAMrB,KACtE7iC,KAAKujC,OAAO,IAAIp9B,KAAM+9B,IAInBtoC,IAGD0pC,EAAK,IAAGA,EAAKA,EAAK1C,GAAMA,IAGxB0C,EAAKxC,GACP9iC,KAAKujC,OAAO,IAAI3nC,KAAKA,SAASypC,KAAM9qC,EAAIolC,KAAMniC,EAAIoiC,KAAMhkC,KAAKA,SAASypC,KAAMrlC,KAAKqjC,IAAMl9B,KAAMnG,KAAKsjC,IAAMY,IAIjGoB,EAAKzC,IACZ7iC,KAAKujC,OAAO,IAAI3nC,KAAKA,SAAS0pC,GAAM3C,OAAO0C,KAAMrlC,KAAKqjC,IAAM9oC,EAAIqB,EAAIE,KAAKolC,IAAIiE,MAAOnlC,KAAKsjC,IAAM9lC,EAAI5B,EAAIE,KAAKslC,IAAI+D,KAEpH,CACAxV,KAAKp1B,EAAGiD,EAAGF,EAAGC,GACZyC,KAAKujC,OAAO,IAAIvjC,KAAKmjC,IAAMnjC,KAAKqjC,KAAO9oC,KAAKyF,KAAKojC,IAAMpjC,KAAKsjC,KAAO9lC,KAAKF,GAAKA,MAAMC,MAAMD,IAC3F,CACAmtB,WACE,OAAOzqB,KAAK0G,CACd,EAGK,SAAS6+B,KACd,OAAO,IAAItC,EACb,CAKO,SAASuC,GAAUtC,EAAS,GACjC,OAAO,IAAID,IAAMC,EACnB,CAJAqC,GAAKthC,UAAYg/B,GAAKh/B,UCvJf,IAAIwhC,GAAQ/mC,MAAMuF,UAAU9H,MCApB,SAAAupC,GAASnrC,GACtB,OAAO,WACL,OAAOA,CACT,CACF,CCCA,SAASorC,GAAchrC,GACrB,OAAOA,EAAEoI,MACX,CAEA,SAAS6iC,GAAcjrC,GACrB,OAAOA,EAAE6/B,MACX,CAEA,SAASqL,GAAclrC,GACrB,OAAOA,EAAE4B,MACX,CAEA,SAASupC,GAAkBnrC,GACzB,OAAOA,EAAE8nC,UACX,CAEA,SAASsD,GAAgBprC,GACvB,OAAOA,EAAE+nC,QACX,CAEA,SAASsD,KACP,OAAO,CACT,CAEA,SAASC,KACP,OAAO,EACT,CAEA,SAASC,GAAOC,GACd,IAAIpjC,EAAS4iC,GACTnL,EAASoL,GACTQ,EAAeP,GACfQ,EAAeR,GACfpD,EAAaqD,GACbpD,EAAWqD,GACX/D,EAAWgE,GACX73B,EAAU,KAEd,SAASm4B,IACP,IAAIC,EACA3oC,EAAImF,EAAOqL,MAAMpO,KAAM2G,WACvB1I,EAAIu8B,EAAOpsB,MAAMpO,KAAM2G,WACvB6/B,EAAKxE,EAAS5zB,MAAMpO,KAAM2G,WAAa,EACvC8/B,EAAOhB,GAAM5+B,KAAKF,WAClB+/B,GAAMN,EAAah4B,MAAMpO,MAAOymC,EAAK,GAAK7oC,EAAG6oC,IAC7CE,EAAMlE,EAAWr0B,MAAMpO,KAAMymC,GAAQnF,GACrCsF,EAAMlE,EAASt0B,MAAMpO,KAAMymC,GAAQnF,GACnCuF,GAAMR,EAAaj4B,MAAMpO,MAAOymC,EAAK,GAAKxoC,EAAGwoC,IAC7CK,EAAMrE,EAAWr0B,MAAMpO,KAAMymC,GAAQnF,GACrCyF,EAAMrE,EAASt0B,MAAMpO,KAAMymC,GAAQnF,GAavC,GAXKnzB,IAASA,EAAUo4B,EAAShB,MAE7BiB,EAAK/E,KACHT,GAAI4F,EAAMD,GAAY,EAALH,EAAS/E,GAASmF,EAAMD,GAAOA,GAAOH,EAAII,GAAOJ,IAAOG,GAAOH,EAAII,GAAOJ,GAC1FG,EAAMC,GAAOD,EAAMC,GAAO,EAC3B5F,GAAI+F,EAAMD,GAAY,EAALN,EAAS/E,GAASsF,EAAMD,GAAOA,GAAON,EAAIO,GAAOP,IAAOM,GAAON,EAAIO,GAAOP,GAC1FM,EAAMC,GAAOD,EAAMC,GAAO,GAGjC54B,EAAQs1B,OAAOiD,EAAKzF,GAAI0F,GAAMD,EAAKvF,GAAIwF,IACvCx4B,EAAQ82B,IAAI,EAAG,EAAGyB,EAAIC,EAAKC,GACvBD,IAAQG,GAAOF,IAAQG,EACzB,GAAIZ,EAAY,CACd,IAA6Ca,EAAMH,GAAzCV,EAAW/3B,MAAMpO,KAAM2G,WAA2BsgC,GAAOH,EAAMC,GAAO,EAChF54B,EAAQy1B,iBAAiB,EAAG,EAAGoD,EAAM/F,GAAI6F,GAAME,EAAM7F,GAAI2F,IACzD34B,EAAQw1B,OAAOkD,EAAK5F,GAAIgG,GAAMJ,EAAK1F,GAAI8F,IACvC94B,EAAQw1B,OAAOqD,EAAM/F,GAAI8F,GAAMC,EAAM7F,GAAI4F,GAC3C,MACE54B,EAAQy1B,iBAAiB,EAAG,EAAGiD,EAAK5F,GAAI6F,GAAMD,EAAK1F,GAAI2F,IACvD34B,EAAQ82B,IAAI,EAAG,EAAG4B,EAAIC,EAAKC,GAM/B,GAHA54B,EAAQy1B,iBAAiB,EAAG,EAAG8C,EAAKzF,GAAI0F,GAAMD,EAAKvF,GAAIwF,IACvDx4B,EAAQu1B,YAEJ6C,EAAQ,OAAOp4B,EAAU,KAAMo4B,EAAS,IAAM,IACpD,CA0CA,OAxCIJ,IAAYG,EAAOH,WAAa,SAASz/B,GAC3C,OAAOC,UAAUvN,QAAU+sC,EAA0B,mBAANz/B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAUH,CAChG,GAEAG,EAAO/pC,OAAS,SAASmK,GACvB,OAAOC,UAAUvN,QAAUgtC,EAAeC,EAA4B,mBAAN3/B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAUF,CACjH,EAEAE,EAAOF,aAAe,SAAS1/B,GAC7B,OAAOC,UAAUvN,QAAUgtC,EAA4B,mBAAN1/B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAUF,CAClG,EAEAE,EAAOD,aAAe,SAAS3/B,GAC7B,OAAOC,UAAUvN,QAAUitC,EAA4B,mBAAN3/B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAUD,CAClG,EAEAC,EAAO7D,WAAa,SAAS/7B,GAC3B,OAAOC,UAAUvN,QAAUqpC,EAA0B,mBAAN/7B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAU7D,CAChG,EAEA6D,EAAO5D,SAAW,SAASh8B,GACzB,OAAOC,UAAUvN,QAAUspC,EAAwB,mBAANh8B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAU5D,CAC9F,EAEA4D,EAAOtE,SAAW,SAASt7B,GACzB,OAAOC,UAAUvN,QAAU4oC,EAAwB,mBAANt7B,EAAmBA,EAAIg/B,IAAUh/B,GAAI4/B,GAAUtE,CAC9F,EAEAsE,EAAOvjC,OAAS,SAAS2D,GACvB,OAAOC,UAAUvN,QAAU2J,EAAS2D,EAAG4/B,GAAUvjC,CACnD,EAEAujC,EAAO9L,OAAS,SAAS9zB,GACvB,OAAOC,UAAUvN,QAAUohC,EAAS9zB,EAAG4/B,GAAU9L,CACnD,EAEA8L,EAAOn4B,QAAU,SAASzH,GACxB,OAAOC,UAAUvN,QAAU+U,EAAgB,MAALzH,EAAY,KAAOA,EAAI4/B,GAAUn4B,CACzE,EAEOm4B,CACT,CAEe,SAAAY,KACb,OAAOhB,IACT,CAEO,SAASiB,KACd,OAAOjB,GAAOD,GAChB,C,2LCrIO,MAAMmB,GAAUtrC,KAAKk4B,GAAK,IACpBqT,GAAU,IAAMvrC,KAAKk4B,GCK9BsT,GAAK,OACLC,GAAK,EACLC,GAAK,OACLC,GAAK,EAAI,GACTC,GAAK,EAAI,GACTC,GAAK,mBACLC,GAAKF,oBAET,SAASG,GAAW37B,GAClB,GAAIA,aAAa47B,GAAK,OAAO,IAAIA,GAAI57B,EAAEud,EAAGvd,EAAErS,EAAGqS,EAAEpS,EAAGoS,EAAEge,SACtD,GAAIhe,aAAa67B,GAAK,OAAOC,GAAQ97B,GAC/BA,aAAa4d,KAAM5d,EAAI+d,GAAW/d,IACxC,IAGuE3R,EAAGgN,EAHtE3L,EAAIqsC,GAAS/7B,EAAEtQ,GACfuG,EAAI8lC,GAAS/7B,EAAE/J,GACfrI,EAAImuC,GAAS/7B,EAAEpS,GACf0D,EAAI0qC,IAAS,SAAYtsC,EAAI,SAAYuG,EAAI,SAAYrI,GAAKytC,IAKlE,OAJI3rC,IAAMuG,GAAKA,IAAMrI,EAAGS,EAAIgN,EAAI/J,GAC9BjD,EAAI2tC,IAAS,SAAYtsC,EAAI,SAAYuG,EAAI,SAAYrI,GAAKwtC,IAC9D//B,EAAI2gC,IAAS,SAAYtsC,EAAI,SAAYuG,EAAI,SAAYrI,GAAK0tC,KAEzD,IAAIM,GAAI,IAAMtqC,EAAI,GAAI,KAAOjD,EAAIiD,GAAI,KAAOA,EAAI+J,GAAI2E,EAAEge,QAC/D,CAEO,SAASie,GAAK1e,EAAGS,GACtB,OAAO,IAAI4d,GAAIre,EAAG,EAAG,EAAc,MAAXS,EAAkB,EAAIA,EAChD,CAEe,SAAAke,GAAa3e,EAAG5vB,EAAGC,EAAGowB,GACnC,OAA4B,IAArBvjB,UAAUvN,OAAeyuC,GAAWpe,GAAK,IAAIqe,GAAIre,EAAG5vB,EAAGC,EAAc,MAAXowB,EAAkB,EAAIA,EACzF,CAEO,SAAS4d,GAAIre,EAAG5vB,EAAGC,EAAGowB,GAC3BlqB,KAAKypB,GAAKA,EACVzpB,KAAKnG,GAAKA,EACVmG,KAAKlG,GAAKA,EACVkG,KAAKkqB,SAAWA,CAClB,CAyBA,SAASge,GAAQjqC,GACf,OAAOA,EAAI2pC,GAAK9rC,KAAK6I,IAAI1G,EAAG,EAAI,GAAKA,EAAI0pC,GAAKF,EAChD,CAEA,SAASY,GAAQpqC,GACf,OAAOA,EAAIypC,GAAKzpC,EAAIA,EAAIA,EAAI0pC,IAAM1pC,EAAIwpC,GACxC,CAEA,SAASa,GAAS/tC,GAChB,OAAO,KAAOA,GAAK,SAAY,MAAQA,EAAI,MAAQuB,KAAK6I,IAAIpK,EAAG,EAAI,KAAO,KAC5E,CAEA,SAAS0tC,GAAS1tC,GAChB,OAAQA,GAAK,MAAQ,OAAUA,EAAI,MAAQuB,KAAK6I,KAAKpK,EAAI,MAAS,MAAO,IAC3E,CAEA,SAASguC,GAAWr8B,GAClB,GAAIA,aAAa67B,GAAK,OAAO,IAAIA,GAAI77B,EAAE3O,EAAG2O,EAAE3I,EAAG2I,EAAEud,EAAGvd,EAAEge,SAEtD,GADMhe,aAAa47B,KAAM57B,EAAI27B,GAAW37B,IAC5B,IAARA,EAAErS,GAAmB,IAARqS,EAAEpS,EAAS,OAAO,IAAIiuC,GAAIhuC,IAAK,EAAImS,EAAEud,GAAKvd,EAAEud,EAAI,IAAM,EAAI1vB,IAAKmS,EAAEud,EAAGvd,EAAEge,SACvF,IAAI3sB,EAAIzB,KAAK24B,MAAMvoB,EAAEpS,EAAGoS,EAAErS,GAAKwtC,GAC/B,OAAO,IAAIU,GAAIxqC,EAAI,EAAIA,EAAI,IAAMA,EAAGzB,KAAK8D,KAAKsM,EAAErS,EAAIqS,EAAErS,EAAIqS,EAAEpS,EAAIoS,EAAEpS,GAAIoS,EAAEud,EAAGvd,EAAEge,QAC/E,CAEO,SAASse,GAAI/e,EAAGlmB,EAAGhG,EAAG2sB,GAC3B,OAA4B,IAArBvjB,UAAUvN,OAAemvC,GAAW9e,GAAK,IAAIse,GAAIxqC,EAAGgG,EAAGkmB,EAAc,MAAXS,EAAkB,EAAIA,EACzF,CAEO,SAASue,GAAIlrC,EAAGgG,EAAGkmB,EAAGS,GAC3B,OAA4B,IAArBvjB,UAAUvN,OAAemvC,GAAWhrC,GAAK,IAAIwqC,GAAIxqC,EAAGgG,EAAGkmB,EAAc,MAAXS,EAAkB,EAAIA,EACzF,CAEO,SAAS6d,GAAIxqC,EAAGgG,EAAGkmB,EAAGS,GAC3BlqB,KAAKzC,GAAKA,EACVyC,KAAKuD,GAAKA,EACVvD,KAAKypB,GAAKA,EACVzpB,KAAKkqB,SAAWA,CAClB,CAEA,SAAS8d,GAAQ97B,GACf,GAAIlE,MAAMkE,EAAE3O,GAAI,OAAO,IAAIuqC,GAAI57B,EAAEud,EAAG,EAAG,EAAGvd,EAAEge,SAC5C,IAAI3sB,EAAI2O,EAAE3O,EAAI6pC,GACd,OAAO,IAAIU,GAAI57B,EAAEud,EAAG3tB,KAAKolC,IAAI3jC,GAAK2O,EAAE3I,EAAGzH,KAAKslC,IAAI7jC,GAAK2O,EAAE3I,EAAG2I,EAAEge,QAC9D,CAlEAtL,GAAOkpB,GAAKM,GAAKtpB,GAAOE,GAAO,CAC7BiN,SAAS5kB,GACP,OAAO,IAAIygC,GAAI9nC,KAAKypB,EAzCd,IAyC4B,MAALpiB,EAAY,EAAIA,GAAIrH,KAAKnG,EAAGmG,KAAKlG,EAAGkG,KAAKkqB,QACxE,EACAgC,OAAO7kB,GACL,OAAO,IAAIygC,GAAI9nC,KAAKypB,EA5Cd,IA4C4B,MAALpiB,EAAY,EAAIA,GAAIrH,KAAKnG,EAAGmG,KAAKlG,EAAGkG,KAAKkqB,QACxE,EACAd,MACE,IAAI5rB,GAAKwC,KAAKypB,EAAI,IAAM,IACpBlvB,EAAIyN,MAAMhI,KAAKnG,GAAK2D,EAAIA,EAAIwC,KAAKnG,EAAI,IACrC0N,EAAIS,MAAMhI,KAAKlG,GAAK0D,EAAIA,EAAIwC,KAAKlG,EAAI,IAIzC,OAAO,IAAIgwB,GACTwe,GAAU,WAJZ/tC,EAAI+sC,GAAKe,GAAQ9tC,IAIW,WAH5BiD,EAAI+pC,GAAKc,GAAQ7qC,IAG2B,UAF5C+J,EAAIigC,GAAKa,GAAQ9gC,KAGf+gC,IAAS,SAAa/tC,EAAI,UAAYiD,EAAI,QAAY+J,GACtD+gC,GAAU,SAAY/tC,EAAI,SAAYiD,EAAI,UAAY+J,GACtDvH,KAAKkqB,QAET,KAgDFtL,GAAOmpB,GAAKU,GAAK3pB,GAAOE,GAAO,CAC7BiN,SAAS5kB,GACP,OAAO,IAAI0gC,GAAI/nC,KAAKzC,EAAGyC,KAAKuD,EAAGvD,KAAKypB,EA7G9B,IA6G4C,MAALpiB,EAAY,EAAIA,GAAIrH,KAAKkqB,QACxE,EACAgC,OAAO7kB,GACL,OAAO,IAAI0gC,GAAI/nC,KAAKzC,EAAGyC,KAAKuD,EAAGvD,KAAKypB,EAhH9B,IAgH4C,MAALpiB,EAAY,EAAIA,GAAIrH,KAAKkqB,QACxE,EACAd,MACE,OAAO4e,GAAQhoC,MAAMopB,KACvB,KCrHF,IAAIsf,IAAI,OACJC,GAAI,QACJC,IAAI,OACJC,IAAI,OACJC,GAAI,QACJC,GAAKD,GAAID,GACTG,GAAKF,GAAIH,GACTM,GAAQN,GAAIC,GAAIC,GAAIH,GAgBT,SAAAQ,GAAmB3rC,EAAGK,EAAG6rB,EAAGS,GACzC,OAA4B,IAArBvjB,UAAUvN,OAfnB,SAA0B8S,GACxB,GAAIA,aAAai9B,GAAW,OAAO,IAAIA,GAAUj9B,EAAE3O,EAAG2O,EAAEtO,EAAGsO,EAAEud,EAAGvd,EAAEge,SAC5Dhe,aAAa4d,KAAM5d,EAAI+d,GAAW/d,IACxC,IAAItQ,EAAIsQ,EAAEtQ,EAAI,IACVuG,EAAI+J,EAAE/J,EAAI,IACVrI,EAAIoS,EAAEpS,EAAI,IACV2vB,GAAKwf,GAAQnvC,EAAIivC,GAAKntC,EAAIotC,GAAK7mC,IAAM8mC,GAAQF,GAAKC,IAClDI,EAAKtvC,EAAI2vB,EACTpiB,GAAKyhC,IAAK3mC,EAAIsnB,GAAKmf,GAAIQ,GAAMP,GAC7BjrC,EAAI9B,KAAK8D,KAAKyH,EAAIA,EAAI+hC,EAAKA,IAAON,GAAIrf,GAAK,EAAIA,IAC/ClsB,EAAIK,EAAI9B,KAAK24B,MAAMptB,EAAG+hC,GAAM/B,GAAU,IAAMttC,IAChD,OAAO,IAAIovC,GAAU5rC,EAAI,EAAIA,EAAI,IAAMA,EAAGK,EAAG6rB,EAAGvd,EAAEge,QACpD,CAGkCmf,CAAiB9rC,GAAK,IAAI4rC,GAAU5rC,EAAGK,EAAG6rB,EAAc,MAAXS,EAAkB,EAAIA,EACrG,CAEO,SAASif,GAAU5rC,EAAGK,EAAG6rB,EAAGS,GACjClqB,KAAKzC,GAAKA,EACVyC,KAAKpC,GAAKA,EACVoC,KAAKypB,GAAKA,EACVzpB,KAAKkqB,SAAWA,CAClB,CAEAtL,GAAOuqB,GAAWD,GAAWpqB,GAAOE,GAAO,CACzCiN,SAAS5kB,GAEP,OADAA,EAAS,MAALA,EAAY6X,GAAWpjB,KAAK6I,IAAIua,GAAU7X,GACvC,IAAI8hC,GAAUnpC,KAAKzC,EAAGyC,KAAKpC,EAAGoC,KAAKypB,EAAIpiB,EAAGrH,KAAKkqB,QACxD,EACAgC,OAAO7kB,GAEL,OADAA,EAAS,MAALA,EAAY4X,GAASnjB,KAAK6I,IAAIsa,GAAQ5X,GACnC,IAAI8hC,GAAUnpC,KAAKzC,EAAGyC,KAAKpC,EAAGoC,KAAKypB,EAAIpiB,EAAGrH,KAAKkqB,QACxD,EACAd,MACE,IAAI7rB,EAAIyK,MAAMhI,KAAKzC,GAAK,GAAKyC,KAAKzC,EAAI,KAAO6pC,GACzC3d,GAAKzpB,KAAKypB,EACV5vB,EAAImO,MAAMhI,KAAKpC,GAAK,EAAIoC,KAAKpC,EAAI6rB,GAAK,EAAIA,GAC1C6f,EAAOxtC,KAAKolC,IAAI3jC,GAChBgsC,EAAOztC,KAAKslC,IAAI7jC,GACpB,OAAO,IAAIusB,GACT,KAAOL,EAAI5vB,GAAK6uC,GAAIY,EAAOX,GAAIY,IAC/B,KAAO9f,EAAI5vB,GAAK+uC,GAAIU,EAAOT,GAAIU,IAC/B,KAAO9f,EAAI5vB,GAAKivC,GAAIQ,IACpBtpC,KAAKkqB,QAET,K,oEC3DF,IAEWsf,GAFC9qC,MAAMuF,UAEO9H,MCFV,SAAAstC,GAAS5vC,EAAGC,GACzB,OAAOD,EAAIC,CACb,CCFe,SAAA4vC,GAASC,GAEtB,IADA,IAAIxwC,EAAI,EAAGsE,EAAIksC,EAAKvwC,OAAQwwC,EAAOD,EAAKlsC,EAAI,GAAG,GAAKksC,EAAK,GAAG,GAAKA,EAAKlsC,EAAI,GAAG,GAAKksC,EAAK,GAAG,KACjFxwC,EAAIsE,GAAGmsC,GAAQD,EAAKxwC,EAAI,GAAG,GAAKwwC,EAAKxwC,GAAG,GAAKwwC,EAAKxwC,EAAI,GAAG,GAAKwwC,EAAKxwC,GAAG,GAC/E,OAAOywC,CACT,CCJA,IAAAC,GAAetvC,GAAK,IAAMA,ECAX,SAAAuvC,GAASH,EAAMI,GAE5B,IADA,IAA6BxmC,EAAzBpK,GAAI,EAAIsE,EAAIssC,EAAK3wC,SACZD,EAAIsE,MAAO8F,EAAIymC,GAAaL,EAAMI,EAAK5wC,IAAK,OAAOoK,EAC5D,OAAO,CACT,CAEA,SAASymC,GAAaL,EAAMva,GAE1B,IADA,IAAI70B,EAAI60B,EAAM,GAAI5xB,EAAI4xB,EAAM,GAAI5U,GAAW,EAClCrhB,EAAI,EAAGsE,EAAIksC,EAAKvwC,OAAQyE,EAAIJ,EAAI,EAAGtE,EAAIsE,EAAGI,EAAI1E,IAAK,CAC1D,IAAI8wC,EAAKN,EAAKxwC,GAAI+wC,EAAKD,EAAG,GAAIE,EAAKF,EAAG,GAAIG,EAAKT,EAAK9rC,GAAIwsC,EAAKD,EAAG,GAAIE,EAAKF,EAAG,GAC5E,GAAIG,GAAgBN,EAAIG,EAAIhb,GAAQ,OAAO,EACvC+a,EAAO3sC,GAAQ8sC,EAAK9sC,GAASjD,GAAK8vC,EAAKH,IAAO1sC,EAAI2sC,IAAOG,EAAKH,GAAMD,IAAM1vB,GAAYA,EAC5F,CACA,OAAOA,CACT,CAEA,SAAS+vB,GAAgB1wC,EAAGC,EAAGyJ,GAC7B,IAAIpK,EAOUiH,EAAGuuB,EAAG/yB,EAPb,OAGT,SAAmB/B,EAAGC,EAAGyJ,GACvB,OAAQzJ,EAAE,GAAKD,EAAE,KAAO0J,EAAE,GAAK1J,EAAE,MAAS0J,EAAE,GAAK1J,EAAE,KAAOC,EAAE,GAAKD,EAAE,GACrE,CALgB2wC,CAAU3wC,EAAGC,EAAGyJ,KAOhBnD,EAP6BvG,EAAEV,IAAMU,EAAE,KAAOC,EAAE,KAO7C60B,EAPmDprB,EAAEpK,GAOlDyC,EAPsD9B,EAAEX,GAQrEiH,GAAKuuB,GAAKA,GAAK/yB,GAAKA,GAAK+yB,GAAKA,GAAKvuB,EAP5C,CClBe,SAAAqqC,KAAY,CCQ3B,IAAIC,GAAQ,CACV,GACA,CAAC,CAAC,CAAC,EAAK,KAAM,CAAC,GAAK,KACpB,CAAC,CAAC,CAAC,IAAK,GAAM,CAAC,EAAK,OACpB,CAAC,CAAC,CAAC,IAAK,GAAM,CAAC,GAAK,KACpB,CAAC,CAAC,CAAC,EAAK,IAAM,CAAC,IAAK,KACpB,CAAC,CAAC,CAAC,EAAK,KAAM,CAAC,GAAK,IAAO,CAAC,CAAC,EAAK,IAAM,CAAC,IAAK,KAC9C,CAAC,CAAC,CAAC,EAAK,IAAM,CAAC,EAAK,OACpB,CAAC,CAAC,CAAC,EAAK,IAAM,CAAC,GAAK,KACpB,CAAC,CAAC,CAAC,GAAK,GAAM,CAAC,EAAK,MACpB,CAAC,CAAC,CAAC,EAAK,KAAM,CAAC,EAAK,MACpB,CAAC,CAAC,CAAC,GAAK,GAAM,CAAC,EAAK,KAAO,CAAC,CAAC,IAAK,GAAM,CAAC,EAAK,OAC9C,CAAC,CAAC,CAAC,IAAK,GAAM,CAAC,EAAK,MACpB,CAAC,CAAC,CAAC,GAAK,GAAM,CAAC,IAAK,KACpB,CAAC,CAAC,CAAC,EAAK,KAAM,CAAC,IAAK,KACpB,CAAC,CAAC,CAAC,GAAK,GAAM,CAAC,EAAK,OACpB,IAGa,SAAAC,KACb,IAAIhL,EAAK,EACLC,EAAK,EACL75B,EAAYL,GACZklC,EAASC,EAEb,SAASC,EAAS/vC,GAChB,IAAIsL,EAAKN,EAAUhL,GAGnB,GAAK2D,MAAMuH,QAAQI,GAMjBA,EAAKA,EAAGlK,QAAQmH,KAAKmmC,QANC,CACtB,MAAMhY,EAAI5xB,EAAO9E,EAAQgwC,IAEzB,IADA1kC,EAAKpB,MAASK,GAAKmsB,EAAE,GAAIA,EAAE,GAAIprB,GAAKA,GAC7BA,EAAGA,EAAGjN,OAAS,IAAMq4B,EAAE,IAAIprB,EAAGtH,MACrC,KAAOsH,EAAG,GAAKorB,EAAE,IAAIprB,EAAG2kC,OAC1B,CAIA,OAAO3kC,EAAGpH,KAAI/D,GAAS+vC,EAAQlwC,EAAQG,IACzC,CAIA,SAAS+vC,EAAQlwC,EAAQG,GACvB,MAAMsE,EAAa,MAATtE,EAAgBnB,KAAOmB,EACjC,GAAI8M,MAAMxI,GAAI,MAAM,IAAIjG,MAAM,kBAAkB2B,KAEhD,IAAIgwC,EAAW,GACXC,EAAQ,GAiBZ,OASF,SAAkBpwC,EAAQG,EAAO2V,GAC/B,IAEItW,EAAGiD,EAAGm0B,EAAIzG,EAAIK,EAAIC,EAFlB4f,EAAkB,IAAI1sC,MACtB2sC,EAAgB,IAAI3sC,MAIxBnE,EAAIiD,GAAI,EACR0tB,EAAKogB,GAAMvwC,EAAO,GAAIG,GACtBwvC,GAAMxf,GAAM,GAAGphB,QAAQyhC,GACvB,OAAShxC,EAAIolC,EAAK,GAChBhO,EAAKzG,EAAIA,EAAKogB,GAAMvwC,EAAOR,EAAI,GAAIW,GACnCwvC,GAAM/Y,EAAKzG,GAAM,GAAGphB,QAAQyhC,GAE9Bb,GAAMxf,GAAM,GAAGphB,QAAQyhC,GAGvB,OAAS/tC,EAAIoiC,EAAK,GAAG,CAKnB,IAJArlC,GAAI,EACJ2wB,EAAKogB,GAAMvwC,EAAOyC,EAAImiC,EAAKA,GAAKzkC,GAChCqwB,EAAK+f,GAAMvwC,EAAOyC,EAAImiC,GAAKzkC,GAC3BwvC,GAAMxf,GAAM,EAAIK,GAAM,GAAGzhB,QAAQyhC,KACxBhxC,EAAIolC,EAAK,GAChBhO,EAAKzG,EAAIA,EAAKogB,GAAMvwC,EAAOyC,EAAImiC,EAAKA,EAAKplC,EAAI,GAAIW,GACjDswB,EAAKD,EAAIA,EAAK+f,GAAMvwC,EAAOyC,EAAImiC,EAAKplC,EAAI,GAAIW,GAC5CwvC,GAAM/Y,EAAKzG,GAAM,EAAIK,GAAM,EAAIC,GAAM,GAAG1hB,QAAQyhC,GAElDb,GAAMxf,EAAKK,GAAM,GAAGzhB,QAAQyhC,EAC9B,CAGAhxC,GAAI,EACJgxB,EAAKxwB,EAAOyC,EAAImiC,IAAOzkC,EACvBwvC,GAAMnf,GAAM,GAAGzhB,QAAQyhC,GACvB,OAAShxC,EAAIolC,EAAK,GAChBnU,EAAKD,EAAIA,EAAK+f,GAAMvwC,EAAOyC,EAAImiC,EAAKplC,EAAI,GAAIW,GAC5CwvC,GAAMnf,GAAM,EAAIC,GAAM,GAAG1hB,QAAQyhC,GAInC,SAASA,EAAOj8B,GACd,IAIIpV,EAAGiI,EAJHzF,EAAQ,CAAC4S,EAAK,GAAG,GAAK/U,EAAG+U,EAAK,GAAG,GAAK9R,GACtCqvB,EAAM,CAACvd,EAAK,GAAG,GAAK/U,EAAG+U,EAAK,GAAG,GAAK9R,GACpCguC,EAAarwC,EAAMuB,GACnB+uC,EAAWtwC,EAAM0xB,IAEjB3yB,EAAImxC,EAAcG,KAChBrpC,EAAIipC,EAAgBK,YACfJ,EAAcnxC,EAAE2yB,YAChBue,EAAgBjpC,EAAEzF,OACrBxC,IAAMiI,GACRjI,EAAEyvC,KAAKtqC,KAAKwtB,GACZhc,EAAS3W,EAAEyvC,OAEXyB,EAAgBlxC,EAAEwC,OAAS2uC,EAAclpC,EAAE0qB,KAAO,CAACnwB,MAAOxC,EAAEwC,MAAOmwB,IAAK1qB,EAAE0qB,IAAK8c,KAAMzvC,EAAEyvC,KAAK74B,OAAO3O,EAAEwnC,gBAGhG0B,EAAcnxC,EAAE2yB,KACvB3yB,EAAEyvC,KAAKtqC,KAAKwtB,GACZwe,EAAcnxC,EAAE2yB,IAAM4e,GAAYvxC,IAE3BA,EAAIkxC,EAAgBK,KACzBtpC,EAAIkpC,EAAcG,YACbJ,EAAgBlxC,EAAEwC,cAClB2uC,EAAclpC,EAAE0qB,KACnB3yB,IAAMiI,GACRjI,EAAEyvC,KAAKtqC,KAAKwtB,GACZhc,EAAS3W,EAAEyvC,OAEXyB,EAAgBjpC,EAAEzF,OAAS2uC,EAAcnxC,EAAE2yB,KAAO,CAACnwB,MAAOyF,EAAEzF,MAAOmwB,IAAK3yB,EAAE2yB,IAAK8c,KAAMxnC,EAAEwnC,KAAK74B,OAAO5W,EAAEyvC,gBAGhGyB,EAAgBlxC,EAAEwC,OACzBxC,EAAEyvC,KAAK+B,QAAQhvC,GACf0uC,EAAgBlxC,EAAEwC,MAAQ8uC,GAActxC,GAG1CkxC,EAAgBI,GAAcH,EAAcI,GAAY,CAAC/uC,MAAO8uC,EAAY3e,IAAK4e,EAAU9B,KAAM,CAACjtC,EAAOmwB,GAE7G,CAzCA6d,GAAMnf,GAAM,GAAGzhB,QAAQyhC,EA0CzB,CAvGEI,CAAS5wC,EAAQyE,GAAG,SAASmqC,GAC3BiB,EAAOjB,EAAM5uC,EAAQyE,GACjBkqC,GAAKC,GAAQ,EAAGuB,EAAS7rC,KAAK,CAACsqC,IAC9BwB,EAAM9rC,KAAKsqC,EAClB,IAEAwB,EAAMrhC,SAAQ,SAASigC,GACrB,IAAK,IAAgC6B,EAA5BzyC,EAAI,EAAGsE,EAAIytC,EAAS9xC,OAAiBD,EAAIsE,IAAKtE,EACrD,IAAmD,IAA/C2wC,IAAU8B,EAAUV,EAAS/xC,IAAI,GAAI4wC,GAEvC,YADA6B,EAAQvsC,KAAK0qC,EAInB,IAEO,CACLr5B,KAAM,eACNxV,MAAOA,EACP2wC,YAAaX,EAEjB,CAqFA,SAAS/vC,EAAMi0B,GACb,OAAkB,EAAXA,EAAM,GAASA,EAAM,IAAMuQ,EAAK,GAAK,CAC9C,CAEA,SAASkL,EAAalB,EAAM5uC,EAAQG,GAClCyuC,EAAK7/B,SAAQ,SAASslB,GACpB,IAAI70B,EAAI60B,EAAM,GACV5xB,EAAI4xB,EAAM,GACV0c,EAAS,EAAJvxC,EACLwxC,EAAS,EAAJvuC,EACL4tB,EAAK4gB,GAAMjxC,EAAOgxC,EAAKpM,EAAKmM,IAC5BvxC,EAAI,GAAKA,EAAIolC,GAAMmM,IAAOvxC,IAC5B60B,EAAM,GAAK6c,GAAQ1xC,EAAGyxC,GAAMjxC,EAAOgxC,EAAKpM,EAAKmM,EAAK,IAAK1gB,EAAIlwB,IAEzDsC,EAAI,GAAKA,EAAIoiC,GAAMmM,IAAOvuC,IAC5B4xB,EAAM,GAAK6c,GAAQzuC,EAAGwuC,GAAMjxC,GAAQgxC,EAAK,GAAKpM,EAAKmM,IAAM1gB,EAAIlwB,GAEjE,GACF,CAmBA,OAjBA4vC,EAASG,QAAUA,EAEnBH,EAASluB,KAAO,SAASlW,GACvB,IAAKC,UAAUvN,OAAQ,MAAO,CAACumC,EAAIC,GACnC,IAAIsM,EAAKpwC,KAAKC,MAAM2K,EAAE,IAAKylC,EAAKrwC,KAAKC,MAAM2K,EAAE,IAC7C,KAAMwlC,GAAM,GAAKC,GAAM,GAAI,MAAM,IAAI5yC,MAAM,gBAC3C,OAAOomC,EAAKuM,EAAItM,EAAKuM,EAAIrB,CAC3B,EAEAA,EAASlkC,WAAa,SAASF,GAC7B,OAAOC,UAAUvN,QAAU2M,EAAyB,mBAANW,EAAmBA,EAAIhI,MAAMuH,QAAQS,GAAKmjC,GAASL,GAAM3iC,KAAKH,IAAMmjC,GAASnjC,GAAIokC,GAAY/kC,CAC7I,EAEA+kC,EAASF,OAAS,SAASlkC,GACzB,OAAOC,UAAUvN,QAAUwxC,EAASlkC,EAAImkC,EAAeJ,GAAMK,GAAYF,IAAWC,CACtF,EAEOC,CACT,CAGA,SAASC,GAAOxwC,GACd,OAAOiL,SAASjL,GAAKA,EAAIR,GAC3B,CAIA,SAASuxC,GAAM/wC,EAAGW,GAChB,OAAY,MAALX,IAAqBA,GAAKW,CACnC,CAGA,SAAS8wC,GAAMxsC,GACb,OAAY,MAALA,GAAawI,MAAMxI,GAAKA,IAAM8H,IAAW9H,CAClD,CAEA,SAASysC,GAAQ1xC,EAAG4wB,EAAIC,EAAIlwB,GAC1B,MAAMrB,EAAIqB,EAAQiwB,EACZrxB,EAAIsxB,EAAKD,EACTxwB,EAAI6K,SAAS3L,IAAM2L,SAAS1L,GAAKD,EAAIC,EAAIgC,KAAKswC,KAAKvyC,GAAKiC,KAAKswC,KAAKtyC,GACxE,OAAOkO,MAAMrN,GAAKJ,EAAIA,EAAII,EAAI,EAChC,CC3NA,SAAS0xC,GAAS1xC,GAChB,OAAOA,EAAE,EACX,CAEA,SAAS2xC,GAAS3xC,GAChB,OAAOA,EAAE,EACX,CAEA,SAAS4xC,KACP,OAAO,CACT,CAEe,SAAAC,KACb,IAAIjyC,EAAI8xC,GACJ7uC,EAAI8uC,GACJG,EAASF,GACT5M,EAAK,IACLC,EAAK,IACLhkC,EAAI,GACJyL,EAAI,EACJ6E,EAAQ,EAAJtQ,EACJ6B,EAAIkiC,EAAU,EAAJzzB,GAAU7E,EACpBd,EAAIq5B,EAAU,EAAJ1zB,GAAU7E,EACpBtB,EAAY8jC,GAAS,IAEzB,SAAS6C,EAAK7vC,GACZ,IAAI9B,EAAS,IAAI4xC,aAAalvC,EAAI8I,GAC9BqmC,EAAQ9wC,KAAK6I,IAAI,GAAI0C,GACrBlO,GAAI,EAER,IAAK,MAAMwB,KAAKkC,EAAM,CACpB,IAAIqtC,GAAM3vC,EAAEI,IAAKxB,EAAG0D,GAAQqP,GAAK0gC,EAC7BzC,GAAM3sC,EAAE7C,EAAGxB,EAAG0D,GAAQqP,GAAK0gC,EAC3BC,GAAMJ,EAAO9xC,EAAGxB,EAAG0D,GACvB,GAAIgwC,GAAM3C,GAAM,GAAKA,EAAKzsC,GAAK0sC,GAAM,GAAKA,EAAK5jC,EAAG,CAChD,IAAIJ,EAAKrK,KAAKC,MAAMmuC,GAChBhG,EAAKpoC,KAAKC,MAAMouC,GAChB2B,EAAK5B,EAAK/jC,EAAK,GACf4lC,EAAK5B,EAAKjG,EAAK,GACnBnpC,EAAOoL,EAAK+9B,EAAKzmC,KAAO,EAAIquC,IAAO,EAAIC,GAAMc,EAC7C9xC,EAAOoL,EAAK,EAAI+9B,EAAKzmC,IAAMquC,GAAM,EAAIC,GAAMc,EAC3C9xC,EAAOoL,EAAK,GAAK+9B,EAAK,GAAKzmC,IAAMquC,EAAKC,EAAKc,EAC3C9xC,EAAOoL,GAAM+9B,EAAK,GAAKzmC,KAAO,EAAIquC,GAAMC,EAAKc,CAC/C,CACF,CAGA,OADAzwC,EAAM,CAACS,KAAM9B,EAAQiC,MAAOS,EAAGR,OAAQsJ,GAAI3K,EAAIgxC,GACxC7xC,CACT,CAEA,SAAS+xC,EAAQjwC,GACf,IAAI9B,EAAS2xC,EAAK7vC,GACdwJ,EAAKN,EAAUhL,GACfgyC,EAAQjxC,KAAK6I,IAAI,EAAG,EAAI0C,GAO5B,OAJK3I,MAAMuH,QAAQI,KACjBA,EAAKpB,GAAM+nC,OAAOC,UAAWnmC,GAAI/L,GAAUgyC,EAAO1mC,IAG7CskC,KACF/tB,KAAK,CAACnf,EAAG8I,IACTK,WAAWP,EAAGpH,KAAItE,GAAKA,EAAIoyC,IAFzB,CAGJhyC,GACEkE,KAAI,CAACsE,EAAGpK,KAAOoK,EAAErI,OAASmL,EAAGlN,GAAI8U,EAAU1K,KAClD,CAgBA,SAAS0K,EAAUi/B,GAEjB,OADAA,EAASrB,YAAY/hC,QAAQqjC,GACtBD,CACT,CAEA,SAASC,EAAiBtB,GACxBA,EAAY/hC,QAAQsjC,EACtB,CAEA,SAASA,EAAcvB,GACrBA,EAAY/hC,QAAQujC,EACtB,CAGA,SAASA,EAAexB,GACtBA,EAAY,GAAKA,EAAY,GAAK/vC,KAAK6I,IAAI,EAAG0C,GAAK6E,EACnD2/B,EAAY,GAAKA,EAAY,GAAK/vC,KAAK6I,IAAI,EAAG0C,GAAK6E,CACrD,CAEA,SAASohC,IAIP,OAFA7vC,EAAIkiC,EAAU,GADdzzB,EAAQ,EAAJtQ,IACgByL,EACpBd,EAAIq5B,EAAU,EAAJ1zB,GAAU7E,EACbylC,CACT,CAqCA,OA3EAA,EAAQhC,SAAW,SAASjuC,GAC1B,IAAI9B,EAAS2xC,EAAK7vC,GACdiuC,EAAWH,KAAW/tB,KAAK,CAACnf,EAAG8I,IAC/BwmC,EAAQjxC,KAAK6I,IAAI,EAAG,EAAI0C,GACxB4jC,EAAU/vC,IACRA,GAASA,EACT,IAAIqI,EAAI0K,EAAU68B,EAASG,QAAQlwC,EAAQG,EAAQ6xC,IAEnD,OADAxpC,EAAErI,MAAQA,EACHqI,CAAA,EAGb,OADArK,OAAOq0C,eAAetC,EAAS,MAAO,CAAC7pC,IAAK,IAAM0F,GAAI/L,GAAUgyC,IACzD9B,CACT,EA4BA6B,EAAQvyC,EAAI,SAASmM,GACnB,OAAOC,UAAUvN,QAAUmB,EAAiB,mBAANmM,EAAmBA,EAAImjC,IAAUnjC,GAAIomC,GAAWvyC,CACxF,EAEAuyC,EAAQtvC,EAAI,SAASkJ,GACnB,OAAOC,UAAUvN,QAAUoE,EAAiB,mBAANkJ,EAAmBA,EAAImjC,IAAUnjC,GAAIomC,GAAWtvC,CACxF,EAEAsvC,EAAQL,OAAS,SAAS/lC,GACxB,OAAOC,UAAUvN,QAAUqzC,EAAsB,mBAAN/lC,EAAmBA,EAAImjC,IAAUnjC,GAAIomC,GAAWL,CAC7F,EAEAK,EAAQlwB,KAAO,SAASlW,GACtB,IAAKC,UAAUvN,OAAQ,MAAO,CAACumC,EAAIC,GACnC,IAAIsM,GAAMxlC,EAAE,GAAIylC,GAAMzlC,EAAE,GACxB,KAAMwlC,GAAM,GAAKC,GAAM,GAAI,MAAM,IAAI5yC,MAAM,gBAC3C,OAAOomC,EAAKuM,EAAItM,EAAKuM,EAAImB,GAC3B,EAEAR,EAAQU,SAAW,SAAS9mC,GAC1B,IAAKC,UAAUvN,OAAQ,OAAO,GAAKiO,EACnC,MAAOX,GAAKA,IAAM,GAAI,MAAM,IAAInN,MAAM,qBACtC,OAAO8N,EAAIvL,KAAKC,MAAMD,KAAK6J,IAAIe,GAAK5K,KAAK8J,KAAM0nC,GACjD,EAEAR,EAAQlmC,WAAa,SAASF,GAC5B,OAAOC,UAAUvN,QAAU2M,EAAyB,mBAANW,EAAmBA,EAAIhI,MAAMuH,QAAQS,GAAKmjC,GAASL,GAAM3iC,KAAKH,IAAMmjC,GAASnjC,GAAIomC,GAAW/mC,CAC5I,EAEA+mC,EAAQ1/B,UAAY,SAAS1G,GAC3B,IAAKC,UAAUvN,OAAQ,OAAO0C,KAAK8D,KAAKhE,GAAKA,EAAI,IACjD,MAAO8K,GAAKA,IAAM,GAAI,MAAM,IAAInN,MAAM,qBACtC,OAAOqC,GAAKE,KAAK8D,KAAK,EAAI8G,EAAIA,EAAI,GAAK,GAAK,EAAG4mC,GACjD,EAEOR,CACT,C,6DCpJO,MACMW,GAAW,UACXC,GAAiB,sBAGvB,SAASC,GAAIC,EAAMnc,EAAGoc,EAAM3zC,EAAGqD,GAClC,IAAIuwC,EAAGC,EAAMC,EAAIC,EACbC,EAAOzc,EAAE,GACT0c,EAAOj0C,EAAE,GACTk0C,EAAS,EACTC,EAAS,EACTF,EAAQD,GAAWC,GAAQD,GAC3BJ,EAAII,EACJA,EAAOzc,IAAI2c,KAEXN,EAAIK,EACJA,EAAOj0C,IAAIm0C,IAEf,IAAIC,EAAS,EACb,GAAIF,EAASR,GAAQS,EAASR,EAc1B,IAbIM,EAAQD,GAAWC,GAAQD,GAC3BH,EAAOG,EAAOJ,EACdE,EAAKF,GAAKC,EAAOG,GACjBA,EAAOzc,IAAI2c,KAEXL,EAAOI,EAAOL,EACdE,EAAKF,GAAKC,EAAOI,GACjBA,EAAOj0C,IAAIm0C,IAEfP,EAAIC,EACO,IAAPC,IACAzwC,EAAE+wC,KAAYN,GAEXI,EAASR,GAAQS,EAASR,GACzBM,EAAQD,GAAWC,GAAQD,GAC3BH,EAAOD,EAAII,EACXD,EAAQF,EAAOD,EACfE,EAAKF,GAAKC,EAAOE,IAAUC,EAAOD,GAClCC,EAAOzc,IAAI2c,KAEXL,EAAOD,EAAIK,EACXF,EAAQF,EAAOD,EACfE,EAAKF,GAAKC,EAAOE,IAAUE,EAAOF,GAClCE,EAAOj0C,IAAIm0C,IAEfP,EAAIC,EACO,IAAPC,IACAzwC,EAAE+wC,KAAYN,GAI1B,KAAOI,EAASR,GACZG,EAAOD,EAAII,EACXD,EAAQF,EAAOD,EACfE,EAAKF,GAAKC,EAAOE,IAAUC,EAAOD,GAClCC,EAAOzc,IAAI2c,GACXN,EAAIC,EACO,IAAPC,IACAzwC,EAAE+wC,KAAYN,GAGtB,KAAOK,EAASR,GACZE,EAAOD,EAAIK,EACXF,EAAQF,EAAOD,EACfE,EAAKF,GAAKC,EAAOE,IAAUE,EAAOF,GAClCE,EAAOj0C,IAAIm0C,GACXP,EAAIC,EACO,IAAPC,IACAzwC,EAAE+wC,KAAYN,GAMtB,OAHU,IAANF,GAAsB,IAAXQ,IACX/wC,EAAE+wC,KAAYR,GAEXQ,CACX,CAsDO,SAASC,GAASX,EAAMnc,GAC3B,IAAIqc,EAAIrc,EAAE,GACV,IAAK,IAAIt4B,EAAI,EAAGA,EAAIy0C,EAAMz0C,IAAK20C,GAAKrc,EAAEt4B,GACtC,OAAO20C,CACX,CAEO,SAASU,GAAI/wC,GAChB,OAAO,IAAI8B,aAAa9B,EAC5B,CCvIA,MACMgxC,GAAe,sBACfC,GAAe,sBAEfC,GAAIH,GAAI,GACRI,GAAKJ,GAAI,GACTK,GAAKL,GAAI,IACTM,GAAIN,GAAI,IACRO,GAAIP,GAAI,GAgKP,SAASQ,GAASC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACzC,MAAMC,GAAWL,EAAKI,IAAOH,EAAKE,GAC5BG,GAAYP,EAAKI,IAAOD,EAAKE,GAC7BG,EAAMF,EAAUC,EAEtB,GAAgB,IAAZD,GAA8B,IAAbC,GAAkBD,EAAW,GAAQC,EAAW,EAAI,OAAOC,EAEhF,MAAMC,EAAS5zC,KAAKuE,IAAIkvC,EAAUC,GAClC,OAAI1zC,KAAKuE,IAAIovC,IAhLI,sBAgLmBC,EAAeD,GAtKvD,SAAuBR,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAII,GAC3C,IAAIC,EAASC,EAASC,EAASC,EAC3B7B,EAAO1qC,EAAGwsC,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,EAAIlE,EAAI/tC,EAAID,EAAIgtB,EAAIyG,EAAI0e,EAE9D,MAAMC,EAAMrB,EAAKI,EACXkB,EAAMpB,EAAKE,EACXmB,EAAMtB,EAAKI,EACXmB,EAAMrB,EAAKE,EAEjBnxC,EAAKmyC,EAAMG,EACXltC,EAAIkqC,GAAW6C,EACfP,EAAMxsC,GAAKA,EAAI+sC,GACfN,EAAMM,EAAMP,EACZxsC,EAAIkqC,GAAWgD,EACfR,EAAM1sC,GAAKA,EAAIktC,GACfP,EAAMO,EAAMR,EACZ/xC,EAAK8xC,EAAME,GAAO/xC,EAAK4xC,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDhlB,EAAKslB,EAAMD,EACXhtC,EAAIkqC,GAAW+C,EACfT,EAAMxsC,GAAKA,EAAIitC,GACfR,EAAMQ,EAAMT,EACZxsC,EAAIkqC,GAAW8C,EACfN,EAAM1sC,GAAKA,EAAIgtC,GACfL,EAAMK,EAAMN,EACZte,EAAKqe,EAAME,GAAOhlB,EAAK6kB,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDC,EAAKjyC,EAAKyzB,EACVsc,EAAQ/vC,EAAKiyC,EACbxB,GAAE,GAAKzwC,GAAMiyC,EAAKlC,IAAUA,EAAQtc,GACpCye,EAAKjyC,EAAKgyC,EACVlC,EAAQmC,EAAKjyC,EACb+tC,EAAK/tC,GAAMiyC,EAAKnC,IAAUkC,EAAKlC,GAC/BkC,EAAKjE,EAAKhhB,EACV+iB,EAAQ/B,EAAKiE,EACbxB,GAAE,GAAKzC,GAAMiE,EAAKlC,IAAUA,EAAQ/iB,GACpCmlB,EAAKD,EAAKD,EACVlC,EAAQoC,EAAKD,EACbzB,GAAE,GAAKyB,GAAMC,EAAKpC,IAAUkC,EAAKlC,GACjCU,GAAE,GAAK0B,EAEP,IAAIZ,EAAMlB,GAAS,EAAGI,IAClB+B,EAAWjC,GAAeiB,EAC9B,GAAID,GAAOiB,IAAajB,GAAOiB,EAC3B,OAAOjB,EAYX,GATAxB,EAAQgB,EAAKqB,EACbX,EAAUV,GAAMqB,EAAMrC,IAAUA,EAAQoB,GACxCpB,EAAQkB,EAAKoB,EACbV,EAAUV,GAAMoB,EAAMtC,IAAUA,EAAQoB,GACxCpB,EAAQiB,EAAKsB,EACbZ,EAAUV,GAAMsB,EAAMvC,IAAUA,EAAQqB,GACxCrB,EAAQmB,EAAKqB,EACbX,EAAUV,GAAMqB,EAAMxC,IAAUA,EAAQqB,GAExB,IAAZK,GAA6B,IAAZC,GAA6B,IAAZC,GAA6B,IAAZC,EACnD,OAAOL,EAKX,GAFAiB,EAAWhC,GAAegB,EAAShC,GAAiB5xC,KAAKuE,IAAIovC,GAC7DA,GAAOa,EAAOR,EAAUW,EAAMd,GAAYa,EAAMX,EAAUU,EAAMX,GAC5DH,GAAOiB,IAAajB,GAAOiB,EAAU,OAAOjB,EAEhDtxC,EAAKwxC,EAAUc,EACfltC,EAAIkqC,GAAWkC,EACfI,EAAMxsC,GAAKA,EAAIosC,GACfK,EAAML,EAAUI,EAChBxsC,EAAIkqC,GAAWgD,EACfR,EAAM1sC,GAAKA,EAAIktC,GACfP,EAAMO,EAAMR,EACZ/xC,EAAK8xC,EAAME,GAAO/xC,EAAK4xC,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDhlB,EAAK0kB,EAAUW,EACfhtC,EAAIkqC,GAAWmC,EACfG,EAAMxsC,GAAKA,EAAIqsC,GACfI,EAAMJ,EAAUG,EAChBxsC,EAAIkqC,GAAW8C,EACfN,EAAM1sC,GAAKA,EAAIgtC,GACfL,EAAMK,EAAMN,EACZte,EAAKqe,EAAME,GAAOhlB,EAAK6kB,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDC,EAAKjyC,EAAKyzB,EACVsc,EAAQ/vC,EAAKiyC,EACbpB,GAAE,GAAK7wC,GAAMiyC,EAAKlC,IAAUA,EAAQtc,GACpCye,EAAKjyC,EAAKgyC,EACVlC,EAAQmC,EAAKjyC,EACb+tC,EAAK/tC,GAAMiyC,EAAKnC,IAAUkC,EAAKlC,GAC/BkC,EAAKjE,EAAKhhB,EACV+iB,EAAQ/B,EAAKiE,EACbpB,GAAE,GAAK7C,GAAMiE,EAAKlC,IAAUA,EAAQ/iB,GACpCmlB,EAAKD,EAAKD,EACVlC,EAAQoC,EAAKD,EACbrB,GAAE,GAAKqB,GAAMC,EAAKpC,IAAUkC,EAAKlC,GACjCc,GAAE,GAAKsB,EACP,MAAMM,EAAQhD,GAAI,EAAGgB,GAAG,EAAGI,GAAGH,IAE9BzwC,EAAKmyC,EAAMR,EACXvsC,EAAIkqC,GAAW6C,EACfP,EAAMxsC,GAAKA,EAAI+sC,GACfN,EAAMM,EAAMP,EACZxsC,EAAIkqC,GAAWqC,EACfG,EAAM1sC,GAAKA,EAAIusC,GACfI,EAAMJ,EAAUG,EAChB/xC,EAAK8xC,EAAME,GAAO/xC,EAAK4xC,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDhlB,EAAKslB,EAAMX,EACXtsC,EAAIkqC,GAAW+C,EACfT,EAAMxsC,GAAKA,EAAIitC,GACfR,EAAMQ,EAAMT,EACZxsC,EAAIkqC,GAAWoC,EACfI,EAAM1sC,GAAKA,EAAIssC,GACfK,EAAML,EAAUI,EAChBte,EAAKqe,EAAME,GAAOhlB,EAAK6kB,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDC,EAAKjyC,EAAKyzB,EACVsc,EAAQ/vC,EAAKiyC,EACbpB,GAAE,GAAK7wC,GAAMiyC,EAAKlC,IAAUA,EAAQtc,GACpCye,EAAKjyC,EAAKgyC,EACVlC,EAAQmC,EAAKjyC,EACb+tC,EAAK/tC,GAAMiyC,EAAKnC,IAAUkC,EAAKlC,GAC/BkC,EAAKjE,EAAKhhB,EACV+iB,EAAQ/B,EAAKiE,EACbpB,GAAE,GAAK7C,GAAMiE,EAAKlC,IAAUA,EAAQ/iB,GACpCmlB,EAAKD,EAAKD,EACVlC,EAAQoC,EAAKD,EACbrB,GAAE,GAAKqB,GAAMC,EAAKpC,IAAUkC,EAAKlC,GACjCc,GAAE,GAAKsB,EACP,MAAMO,EAAQjD,GAAIgD,EAAO/B,GAAI,EAAGG,GAAGF,IAEnC1wC,EAAKwxC,EAAUG,EACfvsC,EAAIkqC,GAAWkC,EACfI,EAAMxsC,GAAKA,EAAIosC,GACfK,EAAML,EAAUI,EAChBxsC,EAAIkqC,GAAWqC,EACfG,EAAM1sC,GAAKA,EAAIusC,GACfI,EAAMJ,EAAUG,EAChB/xC,EAAK8xC,EAAME,GAAO/xC,EAAK4xC,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDhlB,EAAK0kB,EAAUC,EACftsC,EAAIkqC,GAAWmC,EACfG,EAAMxsC,GAAKA,EAAIqsC,GACfI,EAAMJ,EAAUG,EAChBxsC,EAAIkqC,GAAWoC,EACfI,EAAM1sC,GAAKA,EAAIssC,GACfK,EAAML,EAAUI,EAChBte,EAAKqe,EAAME,GAAOhlB,EAAK6kB,EAAME,EAAMD,EAAMC,EAAMF,EAAMG,GACrDC,EAAKjyC,EAAKyzB,EACVsc,EAAQ/vC,EAAKiyC,EACbpB,GAAE,GAAK7wC,GAAMiyC,EAAKlC,IAAUA,EAAQtc,GACpCye,EAAKjyC,EAAKgyC,EACVlC,EAAQmC,EAAKjyC,EACb+tC,EAAK/tC,GAAMiyC,EAAKnC,IAAUkC,EAAKlC,GAC/BkC,EAAKjE,EAAKhhB,EACV+iB,EAAQ/B,EAAKiE,EACbpB,GAAE,GAAK7C,GAAMiE,EAAKlC,IAAUA,EAAQ/iB,GACpCmlB,EAAKD,EAAKD,EACVlC,EAAQoC,EAAKD,EACbrB,GAAE,GAAKqB,GAAMC,EAAKpC,IAAUkC,EAAKlC,GACjCc,GAAE,GAAKsB,EACP,MAAMQ,EAAOlD,GAAIiD,EAAO/B,GAAI,EAAGE,GAAGD,IAElC,OAAOA,GAAE+B,EAAO,EACpB,CAYYC,CAAc7B,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAII,EAClD,CC/KWlB,GAAI,GACJA,GAAI,GACJA,GAAI,GACFA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACLA,GAAI,GACJA,GAAI,GACJA,GAAI,GACNA,GAAI,GAEHA,GAAI,GACHA,GAAI,GACJA,GAAI,GACJA,GAAI,IAENA,GAAI,KACHA,GAAI,KCpBJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACLA,GAAI,GACJA,GAAI,GACAA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACNA,GAAI,GACJA,GAAI,GACJA,GAAI,GACHA,GAAI,GACJA,GAAI,GACJA,GAAI,GAENA,GAAI,GACHA,GAAI,IACHA,GAAI,IACJA,GAAI,IACLA,GAAI,IACHA,GAAI,IACLA,GAAI,IACJA,GAAI,IAENA,GAAI,MACHA,GAAI,MC/BJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GACJA,GAAI,GAEHA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IAEHA,GAAI,MACJA,GAAI,MACJA,GAAI,MACJA,GAAI,MACJA,GAAI,MACHA,GAAI,MACJA,GAAI,MACHA,GAAI,MACLA,GAAI,MAEPA,GAAI,GACHA,GAAI,GACJA,GAAI,GACJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACHA,GAAI,IACLA,GAAI,IACHA,GAAI,KACHA,GAAI,KACJA,GAAI,KACJA,GAAI,KACLA,GAAI,KAgVJA,GAAI,IACJA,GAAI,IACJA,GAAI,IACLA,GAAI,MCpYhB,MAAMuC,GAAUj1C,KAAK6I,IAAI,GAAG,IACtBqsC,GAAa,IAAI3tC,YAAY,KAIpB,MAAA4tC,GAEXC,YAAYnR,EAAQoR,EAAOC,GAAaC,EAAOC,IAC3C,MAAM7zC,EAAIsiC,EAAO3mC,OACXm4C,EAAS,IAAIhyC,aAAiB,EAAJ9B,GAEhC,IAAK,IAAItE,EAAI,EAAGA,EAAIsE,EAAGtE,IAAK,CACxB,MAAMiH,EAAI2/B,EAAO5mC,GACjBo4C,EAAO,EAAIp4C,GAAKg4C,EAAK/wC,GACrBmxC,EAAO,EAAIp4C,EAAI,GAAKk4C,EAAKjxC,EAC7B,CAEA,OAAO,IAAI6wC,GAAWM,EAC1B,CAEAxxC,YAAYwxC,GACR,MAAM9zC,EAAI8zC,EAAOn4C,QAAU,EAC3B,GAAIqE,EAAI,GAA0B,iBAAd8zC,EAAO,GAAiB,MAAM,IAAIh4C,MAAM,uCAE5DyG,KAAKuxC,OAASA,EAGd,MAAMC,EAAe11C,KAAKiC,IAAI,EAAIN,EAAI,EAAG,GACzCuC,KAAKyxC,WAAa,IAAIpuC,YAA2B,EAAfmuC,GAClCxxC,KAAK0xC,WAAa,IAAIC,WAA0B,EAAfH,GAGjCxxC,KAAK4xC,UAAY91C,KAAK2J,KAAK3J,KAAK8D,KAAKnC,IACrCuC,KAAK6xC,UAAY,IAAIxuC,YAAY5F,GACjCuC,KAAK8xC,UAAY,IAAIzuC,YAAY5F,GACjCuC,KAAK+xC,SAAW,IAAI1uC,YAAY5F,GAChCuC,KAAKgyC,UAAY,IAAIL,WAAW3xC,KAAK4xC,WAAW1yC,MAAK,GAGrDc,KAAKiyC,KAAO,IAAI5uC,YAAY5F,GAC5BuC,KAAKkyC,OAAS,IAAI3yC,aAAa9B,GAE/BuC,KAAK6S,QACT,CAEAA,SACI,MAAM0+B,OAACA,EAAQM,UAAWM,EAAUL,UAAWM,EAAUL,SAAUM,EAASL,UAAWM,GAAatyC,KAC9FvC,EAAI8zC,EAAOn4C,QAAU,EAG3B,IAAIm5C,EAAOjrC,IACPkrC,EAAOlrC,IACPmrC,GAAQnrC,IACRorC,GAAQprC,IAEZ,IAAK,IAAInO,EAAI,EAAGA,EAAIsE,EAAGtE,IAAK,CACxB,MAAMoB,EAAIg3C,EAAO,EAAIp4C,GACfqE,EAAI+zC,EAAO,EAAIp4C,EAAI,GACrBoB,EAAIg4C,IAAMA,EAAOh4C,GACjBiD,EAAIg1C,IAAMA,EAAOh1C,GACjBjD,EAAIk4C,IAAMA,EAAOl4C,GACjBiD,EAAIk1C,IAAMA,EAAOl1C,GACrBwC,KAAKiyC,KAAK94C,GAAKA,CACnB,CACA,MAAMk2C,GAAMkD,EAAOE,GAAQ,EACrBnD,GAAMkD,EAAOE,GAAQ,EAE3B,IACIzqC,EAAIpD,EAAIC,EADR6tC,EAAUrrC,IAId,IAAK,IAAInO,EAAI,EAAGA,EAAIsE,EAAGtE,IAAK,CACxB,MAAMwB,EAAIi4C,GAAKvD,EAAIC,EAAIiC,EAAO,EAAIp4C,GAAIo4C,EAAO,EAAIp4C,EAAI,IACjDwB,EAAIg4C,IACJ1qC,EAAK9O,EACLw5C,EAAUh4C,EAElB,CACA,MAAMk4C,EAAMtB,EAAO,EAAItpC,GACjB6qC,EAAMvB,EAAO,EAAItpC,EAAK,GAE5B0qC,EAAUrrC,IAGV,IAAK,IAAInO,EAAI,EAAGA,EAAIsE,EAAGtE,IAAK,CACxB,GAAIA,IAAM8O,EAAI,SACd,MAAMtN,EAAIi4C,GAAKC,EAAKC,EAAKvB,EAAO,EAAIp4C,GAAIo4C,EAAO,EAAIp4C,EAAI,IACnDwB,EAAIg4C,GAAWh4C,EAAI,IACnBkK,EAAK1L,EACLw5C,EAAUh4C,EAElB,CACA,IAAIo4C,EAAMxB,EAAO,EAAI1sC,GACjBmuC,EAAMzB,EAAO,EAAI1sC,EAAK,GAEtBouC,EAAY3rC,IAGhB,IAAK,IAAInO,EAAI,EAAGA,EAAIsE,EAAGtE,IAAK,CACxB,GAAIA,IAAM8O,GAAM9O,IAAM0L,EAAI,SAC1B,MAAMjJ,EAAIs3C,GAAaL,EAAKC,EAAKC,EAAKC,EAAKzB,EAAO,EAAIp4C,GAAIo4C,EAAO,EAAIp4C,EAAI,IACrEyC,EAAIq3C,IACJnuC,EAAK3L,EACL85C,EAAYr3C,EAEpB,CACA,IAAIu3C,EAAM5B,EAAO,EAAIzsC,GACjBsuC,EAAM7B,EAAO,EAAIzsC,EAAK,GAE1B,GAAImuC,IAAc3rC,IAAU,CAGxB,IAAK,IAAInO,EAAI,EAAGA,EAAIsE,EAAGtE,IACnB6G,KAAKkyC,OAAO/4C,GAAKo4C,EAAQ,EAAIp4C,GAAKo4C,EAAO,IAAQA,EAAO,EAAIp4C,EAAI,GAAKo4C,EAAO,GAEhF8B,GAAUrzC,KAAKiyC,KAAMjyC,KAAKkyC,OAAQ,EAAGz0C,EAAI,GACzC,MAAM61C,EAAO,IAAIjwC,YAAY5F,GAC7B,IAAII,EAAI,EACR,IAAK,IAAI1E,EAAI,EAAGo6C,GAAMjsC,IAAUnO,EAAIsE,EAAGtE,IAAK,CACxC,MAAME,EAAK2G,KAAKiyC,KAAK94C,GACjB6G,KAAKkyC,OAAO74C,GAAMk6C,IAClBD,EAAKz1C,KAAOxE,EACZk6C,EAAKvzC,KAAKkyC,OAAO74C,GAEzB,CAIA,OAHA2G,KAAKszC,KAAOA,EAAKnrC,SAAS,EAAGtK,GAC7BmC,KAAKwzC,UAAY,IAAInwC,YAAY,QACjCrD,KAAKyzC,UAAY,IAAIpwC,YAAY,GAErC,CAGA,GAAI2rC,GAAS6D,EAAKC,EAAKC,EAAKC,EAAKG,EAAKC,GAAO,EAAG,CAC5C,MAAMj6C,EAAI0L,EACJtK,EAAIw4C,EACJv1C,EAAIw1C,EACVnuC,EAAKC,EACLiuC,EAAMI,EACNH,EAAMI,EACNtuC,EAAK3L,EACLg6C,EAAM54C,EACN64C,EAAM51C,CACV,CAEA,MAAM/B,EA8Qd,SAAsBwzC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACtC,MAAM3P,EAAKwP,EAAKF,EACVrP,EAAKwP,EAAKF,EACVwE,EAAKrE,EAAKJ,EACV0E,EAAKrE,EAAKJ,EAEV9F,EAAKzJ,EAAKA,EAAKC,EAAKA,EACpBgU,EAAKF,EAAKA,EAAKC,EAAKA,EACpBh5C,EAAI,IAAOglC,EAAKgU,EAAK/T,EAAK8T,GAKhC,MAAO,C,EAHGzE,GAAM0E,EAAKvK,EAAKxJ,EAAKgU,GAAMj5C,E,EAC3Bu0C,GAAMvP,EAAKiU,EAAKF,EAAKtK,GAAMzuC,EAGzC,CA5RuBk5C,CAAahB,EAAKC,EAAKC,EAAKC,EAAKG,EAAKC,GACrDpzC,KAAK8zC,IAAMr4C,EAAOlB,EAClByF,KAAK+zC,IAAMt4C,EAAO+B,EAElB,IAAK,IAAIrE,EAAI,EAAGA,EAAIsE,EAAGtE,IACnB6G,KAAKkyC,OAAO/4C,GAAKy5C,GAAKrB,EAAO,EAAIp4C,GAAIo4C,EAAO,EAAIp4C,EAAI,GAAIsC,EAAOlB,EAAGkB,EAAO+B,GAI7E61C,GAAUrzC,KAAKiyC,KAAMjyC,KAAKkyC,OAAQ,EAAGz0C,EAAI,GAGzCuC,KAAKg0C,WAAa/rC,EAClB,IAAIgsC,EAAW,EAEf7B,EAASnqC,GAAMkqC,EAASrtC,GAAMD,EAC9ButC,EAASvtC,GAAMstC,EAASlqC,GAAMnD,EAC9BstC,EAASttC,GAAMqtC,EAASttC,GAAMoD,EAE9BoqC,EAAQpqC,GAAM,EACdoqC,EAAQxtC,GAAM,EACdwtC,EAAQvtC,GAAM,EAEdwtC,EAASpzC,MAAK,GACdozC,EAAStyC,KAAKk0C,SAASrB,EAAKC,IAAQ7qC,EACpCqqC,EAAStyC,KAAKk0C,SAASnB,EAAKC,IAAQnuC,EACpCytC,EAAStyC,KAAKk0C,SAASf,EAAKC,IAAQtuC,EAEpC9E,KAAKm0C,aAAe,EACpBn0C,KAAKo0C,aAAansC,EAAIpD,EAAIC,GAAI,GAAI,GAAI,GAEtC,IAAK,IAAWuvC,EAAIC,EAAXjtC,EAAI,EAAWA,EAAIrH,KAAKiyC,KAAK74C,OAAQiO,IAAK,CAC/C,MAAMlO,EAAI6G,KAAKiyC,KAAK5qC,GACd9M,EAAIg3C,EAAO,EAAIp4C,GACfqE,EAAI+zC,EAAO,EAAIp4C,EAAI,GAGzB,GAAIkO,EAAI,GAAKvL,KAAKuE,IAAI9F,EAAI85C,IAAOtD,IAAWj1C,KAAKuE,IAAI7C,EAAI82C,IAAOvD,GAAS,SAKzE,GAJAsD,EAAK95C,EACL+5C,EAAK92C,EAGDrE,IAAM8O,GAAM9O,IAAM0L,GAAM1L,IAAM2L,EAAI,SAGtC,IAAIpI,EAAQ,EACZ,IAAK,IAAImB,EAAI,EAAGgD,EAAMb,KAAKk0C,SAAS35C,EAAGiD,GAAIK,EAAImC,KAAK4xC,YAChDl1C,EAAQ41C,GAAUzxC,EAAMhD,GAAKmC,KAAK4xC,YACpB,IAAVl1C,GAAgBA,IAAU01C,EAAS11C,IAFoBmB,KAK/DnB,EAAQy1C,EAASz1C,GACjB,IAAeiyB,EAAX8C,EAAI/0B,EACR,KAAOiyB,EAAIyjB,EAAS3gB,GAAIud,GAASz0C,EAAGiD,EAAG+zC,EAAO,EAAI9f,GAAI8f,EAAO,EAAI9f,EAAI,GAAI8f,EAAO,EAAI5iB,GAAI4iB,EAAO,EAAI5iB,EAAI,KAAO,GAE1G,GADA8C,EAAI9C,EACA8C,IAAM/0B,EAAO,CACb+0B,GAAI,EACJ,KACJ,CAEJ,IAAU,IAANA,EAAU,SAGd,IAAIxzB,EAAI+B,KAAKo0C,aAAa3iB,EAAGt4B,EAAGi5C,EAAS3gB,IAAI,GAAI,EAAI4gB,EAAQ5gB,IAG7D4gB,EAAQl5C,GAAK6G,KAAKu0C,UAAUt2C,EAAI,GAChCo0C,EAAQ5gB,GAAKxzB,EACbg2C,IAGA,IAAIx2C,EAAI20C,EAAS3gB,GACjB,KAAO9C,EAAIyjB,EAAS30C,GAAIuxC,GAASz0C,EAAGiD,EAAG+zC,EAAO,EAAI9zC,GAAI8zC,EAAO,EAAI9zC,EAAI,GAAI8zC,EAAO,EAAI5iB,GAAI4iB,EAAO,EAAI5iB,EAAI,IAAM,GACzG1wB,EAAI+B,KAAKo0C,aAAa32C,EAAGtE,EAAGw1B,EAAG0jB,EAAQl5C,IAAI,EAAIk5C,EAAQ50C,IACvD40C,EAAQl5C,GAAK6G,KAAKu0C,UAAUt2C,EAAI,GAChCm0C,EAAS30C,GAAKA,EACdw2C,IACAx2C,EAAIkxB,EAIR,GAAI8C,IAAM/0B,EACN,KAAOiyB,EAAIwjB,EAAS1gB,GAAIud,GAASz0C,EAAGiD,EAAG+zC,EAAO,EAAI5iB,GAAI4iB,EAAO,EAAI5iB,EAAI,GAAI4iB,EAAO,EAAI9f,GAAI8f,EAAO,EAAI9f,EAAI,IAAM,GACzGxzB,EAAI+B,KAAKo0C,aAAazlB,EAAGx1B,EAAGs4B,GAAG,EAAI4gB,EAAQ5gB,GAAI4gB,EAAQ1jB,IACvD3uB,KAAKu0C,UAAUt2C,EAAI,GACnBo0C,EAAQ1jB,GAAK1wB,EACbm0C,EAAS3gB,GAAKA,EACdwiB,IACAxiB,EAAI9C,EAKZ3uB,KAAKg0C,WAAa7B,EAASh5C,GAAKs4B,EAChC2gB,EAAS3gB,GAAK0gB,EAAS10C,GAAKtE,EAC5Bi5C,EAASj5C,GAAKsE,EAGd60C,EAAStyC,KAAKk0C,SAAS35C,EAAGiD,IAAMrE,EAChCm5C,EAAStyC,KAAKk0C,SAAS3C,EAAO,EAAI9f,GAAI8f,EAAO,EAAI9f,EAAI,KAAOA,CAChE,CAEAzxB,KAAKszC,KAAO,IAAIjwC,YAAY4wC,GAC5B,IAAK,IAAI96C,EAAI,EAAGs4B,EAAIzxB,KAAKg0C,WAAY76C,EAAI86C,EAAU96C,IAC/C6G,KAAKszC,KAAKn6C,GAAKs4B,EACfA,EAAI2gB,EAAS3gB,GAIjBzxB,KAAKwzC,UAAYxzC,KAAKyxC,WAAWtpC,SAAS,EAAGnI,KAAKm0C,cAClDn0C,KAAKyzC,UAAYzzC,KAAK0xC,WAAWvpC,SAAS,EAAGnI,KAAKm0C,aACtD,CAEAD,SAAS35C,EAAGiD,GACR,OAAO1B,KAAKC,MAgHpB,SAAqB4jC,EAAIC,GACrB,MAAMx/B,EAAIu/B,GAAM7jC,KAAKuE,IAAIs/B,GAAM7jC,KAAKuE,IAAIu/B,IACxC,OAAQA,EAAK,EAAI,EAAIx/B,EAAI,EAAIA,GAAK,CACtC,CAnH0Bo0C,CAAYj6C,EAAIyF,KAAK8zC,IAAKt2C,EAAIwC,KAAK+zC,KAAO/zC,KAAK4xC,WAAa5xC,KAAK4xC,SACvF,CAEA2C,UAAU16C,GACN,MAAO43C,WAAY+B,EAAW9B,WAAY+B,EAASlC,OAAEA,GAAUvxC,KAE/D,IAAI7G,EAAI,EACJs7C,EAAK,EAGT,OAAa,CACT,MAAM36C,EAAI25C,EAAU55C,GAiBdqrC,EAAKrrC,EAAIA,EAAI,EAGnB,GAFA46C,EAAKvP,GAAMrrC,EAAI,GAAK,GAEV,IAANC,EAAU,CACV,GAAU,IAANX,EAAS,MACbU,EAAIm3C,KAAa73C,GACjB,QACJ,CAEA,MAAMu7C,EAAK56C,EAAIA,EAAI,EACb66C,EAAKzP,GAAMrrC,EAAI,GAAK,EACpBuvC,EAAKsL,GAAM56C,EAAI,GAAK,EAEpB86C,EAAKpB,EAAUiB,GACfI,EAAKrB,EAAU35C,GACfi7C,EAAKtB,EAAUmB,GACfI,EAAKvB,EAAUpK,GAQrB,GANgB4L,GACZzD,EAAO,EAAIqD,GAAKrD,EAAO,EAAIqD,EAAK,GAChCrD,EAAO,EAAIsD,GAAKtD,EAAO,EAAIsD,EAAK,GAChCtD,EAAO,EAAIuD,GAAKvD,EAAO,EAAIuD,EAAK,GAChCvD,EAAO,EAAIwD,GAAKxD,EAAO,EAAIwD,EAAK,IAEvB,CACTvB,EAAU35C,GAAKk7C,EACfvB,EAAU15C,GAAK86C,EAEf,MAAMK,EAAMxB,EAAUrK,GAGtB,IAAY,IAAR6L,EAAY,CACZ,IAAIxjB,EAAIzxB,KAAKg0C,WACb,EAAG,CACC,GAAIh0C,KAAK+xC,SAAStgB,KAAO2X,EAAI,CACzBppC,KAAK+xC,SAAStgB,GAAK53B,EACnB,KACJ,CACA43B,EAAIzxB,KAAK6xC,UAAUpgB,EACvB,OAASA,IAAMzxB,KAAKg0C,WACxB,CACAh0C,KAAKk1C,MAAMr7C,EAAGo7C,GACdj1C,KAAKk1C,MAAMp7C,EAAG25C,EAAUgB,IACxBz0C,KAAKk1C,MAAMT,EAAIrL,GAEf,MAAM+L,EAAKT,GAAM56C,EAAI,GAAK,EAGtBX,EAAI63C,GAAW53C,SACf43C,GAAW73C,KAAOg8C,EAE1B,KAAO,CACH,GAAU,IAANh8C,EAAS,MACbU,EAAIm3C,KAAa73C,EACrB,CACJ,CAEA,OAAOs7C,CACX,CAEAS,MAAMr7C,EAAGC,GACLkG,KAAK0xC,WAAW73C,GAAKC,GACX,IAANA,IAAUkG,KAAK0xC,WAAW53C,GAAKD,EACvC,CAGAu6C,aAAansC,EAAIpD,EAAIC,EAAIjL,EAAGC,EAAGyJ,GAC3B,MAAMtF,EAAI+B,KAAKm0C,aAYf,OAVAn0C,KAAKyxC,WAAWxzC,GAAKgK,EACrBjI,KAAKyxC,WAAWxzC,EAAI,GAAK4G,EACzB7E,KAAKyxC,WAAWxzC,EAAI,GAAK6G,EAEzB9E,KAAKk1C,MAAMj3C,EAAGpE,GACdmG,KAAKk1C,MAAMj3C,EAAI,EAAGnE,GAClBkG,KAAKk1C,MAAMj3C,EAAI,EAAGsF,GAElBvD,KAAKm0C,cAAgB,EAEdl2C,CACX,EASJ,SAAS20C,GAAK3D,EAAIC,EAAIC,EAAIC,GACtB,MAAMzP,EAAKsP,EAAKE,EACVvP,EAAKsP,EAAKE,EAChB,OAAOzP,EAAKA,EAAKC,EAAKA,CAC1B,CAEA,SAASoV,GAAS/F,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI8F,EAAIC,GAC1C,MAAM1V,EAAKsP,EAAKmG,EACVxV,EAAKsP,EAAKmG,EACV3B,EAAKvE,EAAKiG,EACVzB,EAAKvE,EAAKiG,EACVC,EAAKjG,EAAK+F,EACVG,EAAKjG,EAAK+F,EAGVG,EAAK9B,EAAKA,EAAKC,EAAKA,EACpB8B,EAAKH,EAAKA,EAAKC,EAAKA,EAE1B,OAAO5V,GAAMgU,EAAK8B,EAAKD,EAAKD,GACrB3V,GAAM8T,EAAK+B,EAAKD,EAAKF,IALjB3V,EAAKA,EAAKC,EAAKA,IAMb8T,EAAK6B,EAAK5B,EAAK2B,GAAM,CACtC,CAEA,SAASpC,GAAajE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACtC,MAAM3P,EAAKwP,EAAKF,EACVrP,EAAKwP,EAAKF,EACVwE,EAAKrE,EAAKJ,EACV0E,EAAKrE,EAAKJ,EAEV9F,EAAKzJ,EAAKA,EAAKC,EAAKA,EACpBgU,EAAKF,EAAKA,EAAKC,EAAKA,EACpBh5C,EAAI,IAAOglC,EAAKgU,EAAK/T,EAAK8T,GAE1Bn5C,GAAKo5C,EAAKvK,EAAKxJ,EAAKgU,GAAMj5C,EAC1B6C,GAAKmiC,EAAKiU,EAAKF,EAAKtK,GAAMzuC,EAEhC,OAAOJ,EAAIA,EAAIiD,EAAIA,CACvB,CAkBA,SAAS61C,GAAUqC,EAAKC,EAAOr7C,EAAMgB,GACjC,GAAIA,EAAQhB,GAAQ,GAChB,IAAK,IAAInB,EAAImB,EAAO,EAAGnB,GAAKmC,EAAOnC,IAAK,CACpC,MAAM+C,EAAOw5C,EAAIv8C,GACXy8C,EAAWD,EAAMz5C,GACvB,IAAI2B,EAAI1E,EAAI,EACZ,KAAO0E,GAAKvD,GAAQq7C,EAAMD,EAAI73C,IAAM+3C,GAAUF,EAAI73C,EAAI,GAAK63C,EAAI73C,KAC/D63C,EAAI73C,EAAI,GAAK3B,CACjB,KACG,CAEH,IAAI/C,EAAImB,EAAO,EACXuD,EAAIvC,EACRu6C,GAAKH,EAHUp7C,EAAQgB,GAAU,EAGfnC,GACdw8C,EAAMD,EAAIp7C,IAASq7C,EAAMD,EAAIp6C,KAASu6C,GAAKH,EAAKp7C,EAAMgB,GACtDq6C,EAAMD,EAAIv8C,IAAMw8C,EAAMD,EAAIp6C,KAASu6C,GAAKH,EAAKv8C,EAAGmC,GAChDq6C,EAAMD,EAAIp7C,IAASq7C,EAAMD,EAAIv8C,KAAK08C,GAAKH,EAAKp7C,EAAMnB,GAEtD,MAAM+C,EAAOw5C,EAAIv8C,GACXy8C,EAAWD,EAAMz5C,GACvB,OAAa,CACT,GAAG/C,UAAYw8C,EAAMD,EAAIv8C,IAAMy8C,GAC/B,GAAG/3C,UAAY83C,EAAMD,EAAI73C,IAAM+3C,GAC/B,GAAI/3C,EAAI1E,EAAG,MACX08C,GAAKH,EAAKv8C,EAAG0E,EACjB,CACA63C,EAAIp7C,EAAO,GAAKo7C,EAAI73C,GACpB63C,EAAI73C,GAAK3B,EAELZ,EAAQnC,EAAI,GAAK0E,EAAIvD,GACrB+4C,GAAUqC,EAAKC,EAAOx8C,EAAGmC,GACzB+3C,GAAUqC,EAAKC,EAAOr7C,EAAMuD,EAAI,KAEhCw1C,GAAUqC,EAAKC,EAAOr7C,EAAMuD,EAAI,GAChCw1C,GAAUqC,EAAKC,EAAOx8C,EAAGmC,GAEjC,CACJ,CAEA,SAASu6C,GAAKC,EAAK38C,EAAG0E,GAClB,MAAMk4C,EAAMD,EAAI38C,GAChB28C,EAAI38C,GAAK28C,EAAIj4C,GACbi4C,EAAIj4C,GAAKk4C,CACb,CAEA,SAAS3E,GAAYhxC,GACjB,OAAOA,EAAE,EACb,CACA,SAASkxC,GAAYlxC,GACjB,OAAOA,EAAE,EACb,CCjeA,MAAM41C,GAAU,KAED,MAAAC,GACbl2C,cACEC,KAAKmjC,IAAMnjC,KAAKojC,IAChBpjC,KAAKqjC,IAAMrjC,KAAKsjC,IAAM,KACtBtjC,KAAK0G,EAAI,EACX,CACA+8B,OAAOlpC,EAAGiD,GACRwC,KAAK0G,GAAK,IAAI1G,KAAKmjC,IAAMnjC,KAAKqjC,KAAO9oC,KAAKyF,KAAKojC,IAAMpjC,KAAKsjC,KAAO9lC,GACnE,CACAkmC,YACmB,OAAb1jC,KAAKqjC,MACPrjC,KAAKqjC,IAAMrjC,KAAKmjC,IAAKnjC,KAAKsjC,IAAMtjC,KAAKojC,IACrCpjC,KAAK0G,GAAK,IAEd,CACAi9B,OAAOppC,EAAGiD,GACRwC,KAAK0G,GAAK,IAAI1G,KAAKqjC,KAAO9oC,KAAKyF,KAAKsjC,KAAO9lC,GAC7C,CACAynC,IAAI1qC,EAAGiD,EAAG5B,GAER,MAAMuK,GADN5L,GAAKA,IAAWqB,GAAKA,GAEfsoC,EAFE1mC,GAAKA,EAGb,GAAI5B,EAAI,EAAG,MAAM,IAAIrC,MAAM,mBACV,OAAbyG,KAAKqjC,IAAcrjC,KAAK0G,GAAK,IAAIP,KAAM+9B,KAClCpoC,KAAKuE,IAAIL,KAAKqjC,IAAMl9B,GAAM6vC,IAAWl6C,KAAKuE,IAAIL,KAAKsjC,IAAMY,GAAM8R,MAASh2C,KAAK0G,GAAK,IAAMP,EAAK,IAAM+9B,GACvGtoC,IACLoE,KAAK0G,GAAK,IAAI9K,KAAKA,WAAWrB,EAAIqB,KAAK4B,KAAK5B,KAAKA,WAAWoE,KAAKqjC,IAAMl9B,KAAMnG,KAAKsjC,IAAMY,IAC1F,CACAvU,KAAKp1B,EAAGiD,EAAGF,EAAGC,GACZyC,KAAK0G,GAAK,IAAI1G,KAAKmjC,IAAMnjC,KAAKqjC,KAAO9oC,KAAKyF,KAAKojC,IAAMpjC,KAAKsjC,KAAO9lC,MAAMF,MAAMC,MAAMD,IACrF,CACApC,QACE,OAAO8E,KAAK0G,GAAK,IACnB,ECnCa,MAAAwvC,GACbn2C,cACEC,KAAK0G,EAAI,EACX,CACA+8B,OAAOlpC,EAAGiD,GACRwC,KAAK0G,EAAErH,KAAK,CAAC9E,EAAGiD,GAClB,CACAkmC,YACE1jC,KAAK0G,EAAErH,KAAKW,KAAK0G,EAAE,GAAGvK,QACxB,CACAwnC,OAAOppC,EAAGiD,GACRwC,KAAK0G,EAAErH,KAAK,CAAC9E,EAAGiD,GAClB,CACAtC,QACE,OAAO8E,KAAK0G,EAAEtN,OAAS4G,KAAK0G,EAAI,IAClC,ECZa,MAAAyvC,GACbp2C,YAAYq2C,GAAWC,EAAMC,EAAMC,EAAMC,GAAQ,CAAC,EAAG,EAAG,IAAK,MAC3D,MAAOD,GAAQA,KAAUF,GAAQA,KAAaG,GAAQA,KAAUF,GAAQA,IAAQ,MAAM,IAAI/8C,MAAM,kBAChGyG,KAAKo2C,SAAWA,EAChBp2C,KAAKy2C,eAAiB,IAAIl3C,aAAsC,EAAzB62C,EAASrW,OAAO3mC,QACvD4G,KAAK02C,QAAU,IAAIn3C,aAAsC,EAAzB62C,EAASrW,OAAO3mC,QAChD4G,KAAKu2C,KAAOA,EAAMv2C,KAAKq2C,KAAOA,EAC9Br2C,KAAKw2C,KAAOA,EAAMx2C,KAAKs2C,KAAOA,EAC9Bt2C,KAAK22C,OACP,CACA9jC,SAGE,OAFA7S,KAAKo2C,SAASvjC,SACd7S,KAAK22C,QACE32C,IACT,CACA22C,QACE,MAAOP,UAAUrW,OAACA,EAAMuT,KAAEA,EAAIE,UAAEA,GAAUkD,QAAEA,GAAW12C,KACvD,IAAImvC,EAAIC,EAGR,MAAMwH,EAAgB52C,KAAK42C,cAAgB52C,KAAKy2C,eAAetuC,SAAS,EAAGqrC,EAAUp6C,OAAS,EAAI,GAClG,IAAK,IAAwCmB,EAAGiD,EAAvCrE,EAAI,EAAG0E,EAAI,EAAGJ,EAAI+1C,EAAUp6C,OAAcD,EAAIsE,EAAGtE,GAAK,EAAG0E,GAAK,EAAG,CACxE,MAAMqtB,EAAoB,EAAfsoB,EAAUr6C,GACfoyB,EAAwB,EAAnBioB,EAAUr6C,EAAI,GACnBqyB,EAAwB,EAAnBgoB,EAAUr6C,EAAI,GACnBiN,EAAK25B,EAAO7U,GACZ2Y,EAAK9D,EAAO7U,EAAK,GACjB6Y,EAAKhE,EAAOxU,GACZyY,EAAKjE,EAAOxU,EAAK,GACjBsrB,EAAK9W,EAAOvU,GACZsrB,EAAK/W,EAAOvU,EAAK,GAEjBmU,EAAKoE,EAAK39B,EACVw5B,EAAKoE,EAAKH,EACV6P,EAAKmD,EAAKzwC,EACVutC,EAAKmD,EAAKjT,EACVkT,EAA2B,GAArBpX,EAAKgU,EAAK/T,EAAK8T,GAE3B,GAAI53C,KAAKuE,IAAI02C,GAAM,KAAM,CAIvB,QAAW97C,IAAPk0C,EAAkB,CACpBA,EAAKC,EAAK,EACV,IAAK,MAAMj2C,KAAKm6C,EAAMnE,GAAMpP,EAAW,EAAJ5mC,GAAQi2C,GAAMrP,EAAW,EAAJ5mC,EAAQ,GAChEg2C,GAAMmE,EAAKl6C,OAAQg2C,GAAMkE,EAAKl6C,MAChC,CACA,MAAMS,EAAI,IAAMiC,KAAKswC,MAAM+C,EAAK/oC,GAAMutC,GAAMvE,EAAKvL,GAAM6P,GACvDn5C,GAAK6L,EAAKywC,GAAM,EAAIh9C,EAAI85C,EACxBn2C,GAAKqmC,EAAKiT,GAAM,EAAIj9C,EAAI65C,CAC1B,KAAO,CACL,MAAM/4C,EAAI,EAAIo8C,EACR3N,EAAKzJ,EAAKA,EAAKC,EAAKA,EACpBgU,EAAKF,EAAKA,EAAKC,EAAKA,EAC1Bp5C,EAAI6L,GAAMutC,EAAKvK,EAAKxJ,EAAKgU,GAAMj5C,EAC/B6C,EAAIqmC,GAAMlE,EAAKiU,EAAKF,EAAKtK,GAAMzuC,CACjC,CACAi8C,EAAc/4C,GAAKtD,EACnBq8C,EAAc/4C,EAAI,GAAKL,CACzB,CAGA,IACIo3C,EACAzuC,EACA+9B,EAHA3mC,EAAI+1C,EAAKA,EAAKl6C,OAAS,GACnB27C,EAAS,EAAJx3C,EACL6I,EAAK25B,EAAO,EAAIxiC,GAChBsmC,EAAK9D,EAAO,EAAIxiC,EAAI,GAC5Bm5C,EAAQx3C,KAAK,GACb,IAAK,IAAI/F,EAAI,EAAGA,EAAIm6C,EAAKl6C,SAAUD,EACjCoE,EAAI+1C,EAAKn6C,GACTy7C,EAAKG,EAAI5uC,EAAKC,EAAI89B,EAAKL,EACvBkR,EAAS,EAAJx3C,EAAO6I,EAAK25B,EAAO,EAAIxiC,GAAIsmC,EAAK9D,EAAO,EAAIxiC,EAAI,GACpDm5C,EAAQ9B,EAAK,GAAK8B,EAAQ3B,GAAM7Q,EAAKL,EACrC6S,EAAQ9B,EAAK,GAAK8B,EAAQ3B,EAAK,GAAK3uC,EAAKD,CAE7C,CACA6wC,OAAO7oC,GACL,MAAMo4B,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,GAC/Cm7C,UAAU3C,UAACA,EAASwD,QAAEA,EAAO3D,KAAEA,GAAKsD,cAAEA,EAAaF,QAAEA,GAAW12C,KACvE,GAAIszC,EAAKl6C,QAAU,EAAG,OAAO,KAC7B,IAAK,IAAID,EAAI,EAAGsE,EAAIg2C,EAAUr6C,OAAQD,EAAIsE,IAAKtE,EAAG,CAChD,MAAM0E,EAAI41C,EAAUt6C,GACpB,GAAI0E,EAAI1E,EAAG,SACX,MAAM+9C,EAAyB,EAApBp7C,KAAKC,MAAM5C,EAAI,GACpBg+C,EAAyB,EAApBr7C,KAAKC,MAAM8B,EAAI,GACpBqsC,EAAK0M,EAAcM,GACnB/M,EAAKyM,EAAcM,EAAK,GACxB7M,EAAKuM,EAAcO,GACnB7M,EAAKsM,EAAcO,EAAK,GAC9Bn3C,KAAKo3C,eAAelN,EAAIC,EAAIE,EAAIC,EAAIn8B,EACtC,CACA,IAAIkpC,EAAIC,EAAKhE,EAAKA,EAAKl6C,OAAS,GAChC,IAAK,IAAID,EAAI,EAAGA,EAAIm6C,EAAKl6C,SAAUD,EAAG,CACpCk+C,EAAKC,EAAIA,EAAKhE,EAAKn6C,GACnB,MAAM8E,EAAkC,EAA9BnC,KAAKC,MAAMk7C,EAAQK,GAAM,GAC7B/8C,EAAIq8C,EAAc34C,GAClBT,EAAIo5C,EAAc34C,EAAI,GACtBuB,EAAS,EAAL63C,EACJj3C,EAAIJ,KAAKu3C,SAASh9C,EAAGiD,EAAGk5C,EAAQl3C,EAAI,GAAIk3C,EAAQl3C,EAAI,IACtDY,GAAGJ,KAAKo3C,eAAe78C,EAAGiD,EAAG4C,EAAE,GAAIA,EAAE,GAAI+N,EAC/C,CACA,OAAOo4B,GAAUA,EAAOrrC,OAC1B,CACAs8C,aAAarpC,GACX,MAAMo4B,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,EAEtD,OADAkT,EAAQwhB,KAAK3vB,KAAKq2C,KAAMr2C,KAAKs2C,KAAMt2C,KAAKu2C,KAAOv2C,KAAKq2C,KAAMr2C,KAAKw2C,KAAOx2C,KAAKs2C,MACpE/P,GAAUA,EAAOrrC,OAC1B,CACAu8C,WAAWt+C,EAAGgV,GACZ,MAAMo4B,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,EAChD8kC,EAAS//B,KAAK03C,MAAMv+C,GAC1B,GAAe,OAAX4mC,IAAoBA,EAAO3mC,OAAQ,OACvC+U,EAAQs1B,OAAO1D,EAAO,GAAIA,EAAO,IACjC,IAAItiC,EAAIsiC,EAAO3mC,OACf,KAAO2mC,EAAO,KAAOA,EAAOtiC,EAAE,IAAMsiC,EAAO,KAAOA,EAAOtiC,EAAE,IAAMA,EAAI,GAAGA,GAAK,EAC7E,IAAK,IAAItE,EAAI,EAAGA,EAAIsE,EAAGtE,GAAK,EACtB4mC,EAAO5mC,KAAO4mC,EAAO5mC,EAAE,IAAM4mC,EAAO5mC,EAAE,KAAO4mC,EAAO5mC,EAAE,IACxDgV,EAAQw1B,OAAO5D,EAAO5mC,GAAI4mC,EAAO5mC,EAAI,IAGzC,OADAgV,EAAQu1B,YACD6C,GAAUA,EAAOrrC,OAC1B,CACAy8C,gBACE,MAAOvB,UAAUrW,OAACA,IAAW//B,KAC7B,IAAK,IAAI7G,EAAI,EAAGsE,EAAIsiC,EAAO3mC,OAAS,EAAGD,EAAIsE,IAAKtE,EAAG,CACjD,MAAMy+C,EAAO53C,KAAK63C,YAAY1+C,GAC1By+C,IAAMA,EAAKz8C,MAAQhC,QAASy+C,EAClC,CACF,CACAC,YAAY1+C,GACV,MAAMyyC,EAAU,IAAIsK,GAEpB,OADAl2C,KAAKy3C,WAAWt+C,EAAGyyC,GACZA,EAAQ1wC,OACjB,CACAk8C,eAAejxC,EAAI+9B,EAAI99B,EAAIy9B,EAAI11B,GAC7B,IAAI1R,EACJ,MAAMq7C,EAAK93C,KAAK+3C,YAAY5xC,EAAI+9B,GAC1B8T,EAAKh4C,KAAK+3C,YAAY3xC,EAAIy9B,GACrB,IAAPiU,GAAmB,IAAPE,GACd7pC,EAAQs1B,OAAOt9B,EAAI+9B,GACnB/1B,EAAQw1B,OAAOv9B,EAAIy9B,KACVpnC,EAAIuD,KAAKi4C,aAAa9xC,EAAI+9B,EAAI99B,EAAIy9B,EAAIiU,EAAIE,MACnD7pC,EAAQs1B,OAAOhnC,EAAE,GAAIA,EAAE,IACvB0R,EAAQw1B,OAAOlnC,EAAE,GAAIA,EAAE,IAE3B,CACA+d,SAASrhB,EAAGoB,EAAGiD,GACb,OAAKjD,GAAKA,IAASA,IAAOiD,GAAKA,IAASA,GACjCwC,KAAKo2C,SAAS8B,MAAM/+C,EAAGoB,EAAGiD,KAAOrE,CAC1C,CACAg/C,WAAWh/C,GACT,MAAMi/C,EAAKp4C,KAAK03C,MAAMv+C,GACtB,GAAIi/C,EAAI,IAAK,MAAMv6C,KAAKmC,KAAKo2C,SAAS+B,UAAUh/C,GAAI,CAClD,MAAMk/C,EAAKr4C,KAAK03C,MAAM75C,GAEtB,GAAIw6C,EAAIC,EAAM,IAAK,IAAIC,EAAK,EAAGC,EAAKJ,EAAGh/C,OAAQm/C,EAAKC,EAAID,GAAM,EAC5D,IAAK,IAAIE,EAAK,EAAGC,EAAKL,EAAGj/C,OAAQq/C,EAAKC,EAAID,GAAM,EAC9C,GAAIL,EAAGG,KAAQF,EAAGI,IACXL,EAAGG,EAAK,KAAOF,EAAGI,EAAK,IACvBL,GAAIG,EAAK,GAAKC,KAAQH,GAAII,EAAKC,EAAK,GAAKA,IACzCN,GAAIG,EAAK,GAAKC,KAAQH,GAAII,EAAKC,EAAK,GAAKA,GAAK,OAC7C76C,EACN,MAAMy6C,CACR,CAGN,CACF,CACAK,MAAMx/C,GACJ,MAAMy9C,cAACA,EAAeR,UAAUa,QAACA,EAAOxD,UAAEA,EAASD,UAAEA,IAAcxzC,KAC7D++B,EAAKkY,EAAQ99C,GACnB,IAAW,IAAP4lC,EAAW,OAAO,KACtB,MAAMgB,EAAS,GACf,IAAItO,EAAIsN,EACR,EAAG,CACD,MAAM9gC,EAAInC,KAAKC,MAAM01B,EAAI,GAGzB,GAFAsO,EAAO1gC,KAAKu3C,EAAkB,EAAJ34C,GAAQ24C,EAAkB,EAAJ34C,EAAQ,IACxDwzB,EAAIA,EAAI,GAAM,EAAIA,EAAI,EAAIA,EAAI,EAC1B+hB,EAAU/hB,KAAOt4B,EAAG,MACxBs4B,EAAIgiB,EAAUhiB,EAChB,OAASA,IAAMsN,IAAY,IAANtN,GACrB,OAAOsO,CACT,CACA2X,MAAMv+C,GAEJ,GAAU,IAANA,GAAyC,IAA9B6G,KAAKo2C,SAAS9C,KAAKl6C,OAChC,MAAO,CAAC4G,KAAKu2C,KAAMv2C,KAAKs2C,KAAMt2C,KAAKu2C,KAAMv2C,KAAKw2C,KAAMx2C,KAAKq2C,KAAMr2C,KAAKw2C,KAAMx2C,KAAKq2C,KAAMr2C,KAAKs2C,MAE5F,MAAMvW,EAAS//B,KAAK24C,MAAMx/C,GAC1B,GAAe,OAAX4mC,EAAiB,OAAO,KAC5B,MAAO2W,QAAS/sC,GAAK3J,KACfR,EAAQ,EAAJrG,EACV,OAAO6G,KAAK44C,UAAUjvC,EAAEnK,IAAMmK,EAAEnK,EAAI,GAC9BQ,KAAK64C,cAAc1/C,EAAG4mC,EAAQp2B,EAAEnK,GAAImK,EAAEnK,EAAI,GAAImK,EAAEnK,EAAI,GAAImK,EAAEnK,EAAI,IAC9DQ,KAAK84C,YAAY3/C,EAAG4mC,GAC5B,CACA+Y,YAAY3/C,EAAG4mC,GACb,MAAMtiC,EAAIsiC,EAAO3mC,OACjB,IACI+M,EAAI+9B,EACJ4T,EACA/Y,EAHAga,EAAI,KACI3yC,EAAK25B,EAAOtiC,EAAI,GAAIomC,EAAK9D,EAAOtiC,EAAI,GACxCu6C,EAAKh4C,KAAK+3C,YAAY3xC,EAAIy9B,GAC1B7E,EAAK,EACb,IAAK,IAAInhC,EAAI,EAAGA,EAAIJ,EAAGI,GAAK,EAG1B,GAFAsI,EAAKC,EAAI89B,EAAKL,EAAIz9B,EAAK25B,EAAOliC,GAAIgmC,EAAK9D,EAAOliC,EAAI,GAClDi6C,EAAKE,EAAIA,EAAKh4C,KAAK+3C,YAAY3xC,EAAIy9B,GACxB,IAAPiU,GAAmB,IAAPE,EACdjZ,EAAKC,EAAIA,EAAK,EACV+Z,EAAGA,EAAE15C,KAAK+G,EAAIy9B,GACbkV,EAAI,CAAC3yC,EAAIy9B,OACT,CACL,IAAIpnC,EAAGu8C,EAAKC,EAAKC,EAAKC,EACtB,GAAW,IAAPrB,EAAU,CACZ,GAAwD,QAAnDr7C,EAAIuD,KAAKi4C,aAAa9xC,EAAI+9B,EAAI99B,EAAIy9B,EAAIiU,EAAIE,IAAe,UAC7DgB,EAAKC,EAAKC,EAAKC,GAAO18C,CACzB,KAAO,CACL,GAAwD,QAAnDA,EAAIuD,KAAKi4C,aAAa7xC,EAAIy9B,EAAI19B,EAAI+9B,EAAI8T,EAAIF,IAAe,UAC7DoB,EAAKC,EAAKH,EAAKC,GAAOx8C,EACvBsiC,EAAKC,EAAIA,EAAKh/B,KAAKo5C,UAAUJ,EAAKC,GAC9Bla,GAAMC,GAAIh/B,KAAKq5C,MAAMlgD,EAAG4lC,EAAIC,EAAI+Z,EAAGA,EAAE3/C,QACrC2/C,EAAGA,EAAE15C,KAAK25C,EAAKC,GACdF,EAAI,CAACC,EAAKC,EACjB,CACAla,EAAKC,EAAIA,EAAKh/B,KAAKo5C,UAAUF,EAAKC,GAC9Bpa,GAAMC,GAAIh/B,KAAKq5C,MAAMlgD,EAAG4lC,EAAIC,EAAI+Z,EAAGA,EAAE3/C,QACrC2/C,EAAGA,EAAE15C,KAAK65C,EAAKC,GACdJ,EAAI,CAACG,EAAKC,EACjB,CAEF,GAAIJ,EACFha,EAAKC,EAAIA,EAAKh/B,KAAKo5C,UAAUL,EAAE,GAAIA,EAAE,IACjCha,GAAMC,GAAIh/B,KAAKq5C,MAAMlgD,EAAG4lC,EAAIC,EAAI+Z,EAAGA,EAAE3/C,aACpC,GAAI4G,KAAKwa,SAASrhB,GAAI6G,KAAKq2C,KAAOr2C,KAAKu2C,MAAQ,GAAIv2C,KAAKs2C,KAAOt2C,KAAKw2C,MAAQ,GACjF,MAAO,CAACx2C,KAAKu2C,KAAMv2C,KAAKs2C,KAAMt2C,KAAKu2C,KAAMv2C,KAAKw2C,KAAMx2C,KAAKq2C,KAAMr2C,KAAKw2C,KAAMx2C,KAAKq2C,KAAMr2C,KAAKs2C,MAE5F,OAAOyC,CACT,CACAd,aAAa9xC,EAAI+9B,EAAI99B,EAAIy9B,EAAIiU,EAAIE,GAE/B,MAAMsB,EAAOxB,EAAKE,EAElB,IADIsB,KAAOnzC,EAAI+9B,EAAI99B,EAAIy9B,EAAIiU,EAAIE,GAAM,CAAC5xC,EAAIy9B,EAAI19B,EAAI+9B,EAAI8T,EAAIF,MAC7C,CACX,GAAW,IAAPA,GAAmB,IAAPE,EAAU,OAAOsB,EAAO,CAAClzC,EAAIy9B,EAAI19B,EAAI+9B,GAAM,CAAC/9B,EAAI+9B,EAAI99B,EAAIy9B,GACxE,GAAIiU,EAAKE,EAAI,OAAO,KACpB,IAAIz9C,EAAGiD,EAAG+F,EAAIu0C,GAAME,EACZ,EAAJz0C,GAAYhJ,EAAI4L,GAAMC,EAAKD,IAAOnG,KAAKw2C,KAAOtS,IAAOL,EAAKK,GAAK1mC,EAAIwC,KAAKw2C,MAC/D,EAAJjzC,GAAYhJ,EAAI4L,GAAMC,EAAKD,IAAOnG,KAAKs2C,KAAOpS,IAAOL,EAAKK,GAAK1mC,EAAIwC,KAAKs2C,MACpE,EAAJ/yC,GAAY/F,EAAI0mC,GAAML,EAAKK,IAAOlkC,KAAKu2C,KAAOpwC,IAAOC,EAAKD,GAAK5L,EAAIyF,KAAKu2C,OAC5E/4C,EAAI0mC,GAAML,EAAKK,IAAOlkC,KAAKq2C,KAAOlwC,IAAOC,EAAKD,GAAK5L,EAAIyF,KAAKq2C,MAC7DyB,GAAI3xC,EAAK5L,EAAG2pC,EAAK1mC,EAAGs6C,EAAK93C,KAAK+3C,YAAY5xC,EAAI+9B,KAC7C99B,EAAK7L,EAAGspC,EAAKrmC,EAAGw6C,EAAKh4C,KAAK+3C,YAAY3xC,EAAIy9B,GACjD,CACF,CACAgV,cAAc1/C,EAAG4mC,EAAQwZ,EAAKC,EAAKC,EAAKC,GACtC,IAA4Bt5C,EAAxB24C,EAAIr6C,MAAMC,KAAKohC,GAGnB,IAFI3/B,EAAIJ,KAAKu3C,SAASwB,EAAE,GAAIA,EAAE,GAAIQ,EAAKC,KAAMT,EAAErN,QAAQtrC,EAAE,GAAIA,EAAE,KAC3DA,EAAIJ,KAAKu3C,SAASwB,EAAEA,EAAE3/C,OAAS,GAAI2/C,EAAEA,EAAE3/C,OAAS,GAAIqgD,EAAKC,KAAMX,EAAE15C,KAAKe,EAAE,GAAIA,EAAE,IAC9E24C,EAAI/4C,KAAK84C,YAAY3/C,EAAG4/C,GAC1B,IAAK,IAAyBjB,EAArBj6C,EAAI,EAAGJ,EAAIs7C,EAAE3/C,OAAY4+C,EAAKh4C,KAAKo5C,UAAUL,EAAEt7C,EAAI,GAAIs7C,EAAEt7C,EAAI,IAAKI,EAAIJ,EAAGI,GAAK,EACrFi6C,EAAKE,EAAIA,EAAKh4C,KAAKo5C,UAAUL,EAAEl7C,GAAIk7C,EAAEl7C,EAAI,IACrCi6C,GAAME,IAAIn6C,EAAImC,KAAKq5C,MAAMlgD,EAAG2+C,EAAIE,EAAIe,EAAGl7C,GAAIJ,EAAIs7C,EAAE3/C,aAE9C4G,KAAKwa,SAASrhB,GAAI6G,KAAKq2C,KAAOr2C,KAAKu2C,MAAQ,GAAIv2C,KAAKs2C,KAAOt2C,KAAKw2C,MAAQ,KACjFuC,EAAI,CAAC/4C,KAAKq2C,KAAMr2C,KAAKs2C,KAAMt2C,KAAKu2C,KAAMv2C,KAAKs2C,KAAMt2C,KAAKu2C,KAAMv2C,KAAKw2C,KAAMx2C,KAAKq2C,KAAMr2C,KAAKw2C,OAEzF,OAAOuC,CACT,CACAM,MAAMlgD,EAAG4lC,EAAIC,EAAI+Z,EAAGl7C,GAClB,KAAOkhC,IAAOC,GAAI,CAChB,IAAIzkC,EAAGiD,EACP,OAAQuhC,GACN,KAAK,EAAQA,EAAK,EAAQ,SAC1B,KAAK,EAAQA,EAAK,EAAQxkC,EAAIyF,KAAKu2C,KAAM/4C,EAAIwC,KAAKs2C,KAAM,MACxD,KAAK,EAAQvX,EAAK,EAAQ,SAC1B,KAAK,EAAQA,EAAK,GAAQxkC,EAAIyF,KAAKu2C,KAAM/4C,EAAIwC,KAAKw2C,KAAM,MACxD,KAAK,GAAQzX,EAAK,EAAQ,SAC1B,KAAK,EAAQA,EAAK,EAAQxkC,EAAIyF,KAAKq2C,KAAM74C,EAAIwC,KAAKw2C,KAAM,MACxD,KAAK,EAAQzX,EAAK,EAAQ,SAC1B,KAAK,EAAQA,EAAK,EAAQxkC,EAAIyF,KAAKq2C,KAAM74C,EAAIwC,KAAKs2C,KAI/CyC,EAAEl7C,KAAOtD,GAAKw+C,EAAEl7C,EAAI,KAAOL,IAAMwC,KAAKwa,SAASrhB,EAAGoB,EAAGiD,KACxDu7C,EAAEx+B,OAAO1c,EAAG,EAAGtD,EAAGiD,GAAIK,GAAK,EAE/B,CACA,OAAOA,CACT,CACA05C,SAASpxC,EAAI+9B,EAAIyV,EAAIC,GACnB,IAAkBr2C,EAAGhJ,EAAGiD,EAApBS,EAAIqJ,IACR,GAAIsyC,EAAK,EAAG,CACV,GAAI1V,GAAMlkC,KAAKs2C,KAAM,OAAO,MACvB/yC,GAAKvD,KAAKs2C,KAAOpS,GAAM0V,GAAM37C,IAAGT,EAAIwC,KAAKs2C,KAAM/7C,EAAI4L,GAAMlI,EAAIsF,GAAKo2C,EACzE,MAAO,GAAIC,EAAK,EAAG,CACjB,GAAI1V,GAAMlkC,KAAKw2C,KAAM,OAAO,MACvBjzC,GAAKvD,KAAKw2C,KAAOtS,GAAM0V,GAAM37C,IAAGT,EAAIwC,KAAKw2C,KAAMj8C,EAAI4L,GAAMlI,EAAIsF,GAAKo2C,EACzE,CACA,GAAIA,EAAK,EAAG,CACV,GAAIxzC,GAAMnG,KAAKu2C,KAAM,OAAO,MACvBhzC,GAAKvD,KAAKu2C,KAAOpwC,GAAMwzC,GAAM17C,IAAG1D,EAAIyF,KAAKu2C,KAAM/4C,EAAI0mC,GAAMjmC,EAAIsF,GAAKq2C,EACzE,MAAO,GAAID,EAAK,EAAG,CACjB,GAAIxzC,GAAMnG,KAAKq2C,KAAM,OAAO,MACvB9yC,GAAKvD,KAAKq2C,KAAOlwC,GAAMwzC,GAAM17C,IAAG1D,EAAIyF,KAAKq2C,KAAM74C,EAAI0mC,GAAMjmC,EAAIsF,GAAKq2C,EACzE,CACA,MAAO,CAACr/C,EAAGiD,EACb,CACA47C,UAAU7+C,EAAGiD,GACX,OAAQjD,IAAMyF,KAAKq2C,KAAO,EACpB97C,IAAMyF,KAAKu2C,KAAO,EAAS,IAC1B/4C,IAAMwC,KAAKs2C,KAAO,EACnB94C,IAAMwC,KAAKw2C,KAAO,EAAS,EACnC,CACAuB,YAAYx9C,EAAGiD,GACb,OAAQjD,EAAIyF,KAAKq2C,KAAO,EAClB97C,EAAIyF,KAAKu2C,KAAO,EAAS,IACxB/4C,EAAIwC,KAAKs2C,KAAO,EACjB94C,EAAIwC,KAAKw2C,KAAO,EAAS,EACjC,CACAoC,UAAUG,GACR,GAAIA,GAAKA,EAAE3/C,OAAS,EAAG,CACrB,IAAK,IAAID,EAAI,EAAGA,EAAI4/C,EAAE3/C,OAAQD,GAAI,EAAG,CACnC,MAAM0E,GAAK1E,EAAI,GAAK4/C,EAAE3/C,OAAQiO,GAAKlO,EAAI,GAAK4/C,EAAE3/C,QAC1C2/C,EAAE5/C,KAAO4/C,EAAEl7C,IAAMk7C,EAAEl7C,KAAOk7C,EAAE1xC,IAAM0xC,EAAE5/C,EAAI,KAAO4/C,EAAEl7C,EAAI,IAAMk7C,EAAEl7C,EAAI,KAAOk7C,EAAE1xC,EAAI,MAChF0xC,EAAEx+B,OAAO1c,EAAG,GAAI1E,GAAK,EAEzB,CACK4/C,EAAE3/C,SAAQ2/C,EAAI,KACrB,CACA,OAAOA,CACT,ECrUF,MAAMc,GAAM,EAAI/9C,KAAKk4B,GAAI8lB,GAAMh+C,KAAK6I,IAEpC,SAASo1C,GAAO35C,GACd,OAAOA,EAAE,EACX,CAEA,SAAS45C,GAAO55C,GACd,OAAOA,EAAE,EACX,CAgBA,SAAS65C,GAAO1/C,EAAGiD,EAAG5B,GACpB,MAAO,CAACrB,EAAIuB,KAAKslC,IAAI7mC,EAAIiD,GAAK5B,EAAG4B,EAAI1B,KAAKolC,IAAI3mC,EAAIiD,GAAK5B,EACzD,CAEe,MAAAs+C,GACbhJ,YAAYnR,EAAQuV,EAAKyE,GAAQxE,EAAKyE,GAAQ1oC,GAC5C,OAAO,IAAI4oC,GAAS,WAAYna,EAkMpC,SAAmBA,EAAQuV,EAAIC,EAAIjkC,GACjC,MAAM7T,EAAIsiC,EAAO3mC,OACXmF,EAAQ,IAAIgB,aAAiB,EAAJ9B,GAC/B,IAAK,IAAItE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAG,CAC1B,MAAMiH,EAAI2/B,EAAO5mC,GACjBoF,EAAU,EAAJpF,GAASm8C,EAAGzuC,KAAKyK,EAAMlR,EAAGjH,EAAG4mC,GACnCxhC,EAAU,EAAJpF,EAAQ,GAAKo8C,EAAG1uC,KAAKyK,EAAMlR,EAAGjH,EAAG4mC,EACzC,CACA,OAAOxhC,CACT,CA1MU47C,CAAUpa,EAAQuV,EAAIC,EAAIjkC,GAC1B/R,aAAaZ,KA2MvB,UAAuBohC,EAAQuV,EAAIC,EAAIjkC,GACrC,IAAInY,EAAI,EACR,IAAK,MAAMiH,KAAK2/B,QACRuV,EAAGzuC,KAAKyK,EAAMlR,EAAGjH,EAAG4mC,SACpBwV,EAAG1uC,KAAKyK,EAAMlR,EAAGjH,EAAG4mC,KACxB5mC,CAEN,CAlN4BihD,CAAara,EAAQuV,EAAIC,EAAIjkC,IACvD,CACAvR,YAAYggC,GACV//B,KAAKq6C,YAAc,IAAIpJ,GAAWlR,GAClC//B,KAAKi3C,QAAU,IAAItF,WAAW5R,EAAO3mC,OAAS,GAC9C4G,KAAKs6C,WAAa,IAAI3I,WAAW5R,EAAO3mC,OAAS,GACjD4G,KAAK+/B,OAAS//B,KAAKq6C,YAAY9I,OAC/BvxC,KAAK22C,OACP,CACA9jC,SAGE,OAFA7S,KAAKq6C,YAAYxnC,SACjB7S,KAAK22C,QACE32C,IACT,CACA22C,QACE,MAAMh8C,EAAIqF,KAAKq6C,YAAata,EAAS//B,KAAK+/B,OAG1C,GAAIplC,EAAE24C,MAAQ34C,EAAE24C,KAAKl6C,OAAS,GAvClC,SAAmBuB,GACjB,MAAM64C,UAACA,EAASjC,OAAEA,GAAU52C,EAC5B,IAAK,IAAIxB,EAAI,EAAGA,EAAIq6C,EAAUp6C,OAAQD,GAAK,EAAG,CAC5C,MAAMU,EAAI,EAAI25C,EAAUr6C,GAClBW,EAAI,EAAI05C,EAAUr6C,EAAI,GACtBoK,EAAI,EAAIiwC,EAAUr6C,EAAI,GAG5B,IAFeo4C,EAAOhuC,GAAKguC,EAAO13C,KAAO03C,EAAOz3C,EAAI,GAAKy3C,EAAO13C,EAAI,KACrD03C,EAAOz3C,GAAKy3C,EAAO13C,KAAO03C,EAAOhuC,EAAI,GAAKguC,EAAO13C,EAAI,IACxD,MAAO,OAAO,CAC5B,CACA,OAAO,CACT,CA4BuC0gD,CAAU5/C,GAAI,CAC/CqF,KAAKw6C,UAAY7I,WAAWhzC,KAAK,CAACvF,OAAQ2mC,EAAO3mC,OAAO,IAAI,CAACsN,EAAEvN,IAAMA,IAClEmK,MAAK,CAACnK,EAAG0E,IAAMkiC,EAAO,EAAI5mC,GAAK4mC,EAAO,EAAIliC,IAAMkiC,EAAO,EAAI5mC,EAAI,GAAK4mC,EAAO,EAAIliC,EAAI,KACtF,MAAM4zB,EAAIzxB,KAAKw6C,UAAU,GAAItgD,EAAI8F,KAAKw6C,UAAUx6C,KAAKw6C,UAAUphD,OAAS,GACtEqhD,EAAS,CAAE1a,EAAO,EAAItO,GAAIsO,EAAO,EAAItO,EAAI,GAAIsO,EAAO,EAAI7lC,GAAI6lC,EAAO,EAAI7lC,EAAI,IAC3E0B,EAAI,KAAOE,KAAK4+C,MAAMD,EAAO,GAAKA,EAAO,GAAIA,EAAO,GAAKA,EAAO,IAClE,IAAK,IAAIthD,EAAI,EAAGsE,EAAIsiC,EAAO3mC,OAAS,EAAGD,EAAIsE,IAAKtE,EAAG,CACjD,MAAMiH,EAAI65C,GAAOla,EAAO,EAAI5mC,GAAI4mC,EAAO,EAAI5mC,EAAI,GAAIyC,GACnDmkC,EAAO,EAAI5mC,GAAKiH,EAAE,GAClB2/B,EAAO,EAAI5mC,EAAI,GAAKiH,EAAE,EACxB,CACAJ,KAAKq6C,YAAc,IAAIpJ,GAAWlR,EACpC,aACS//B,KAAKw6C,UAGd,MAAM/G,EAAYzzC,KAAKyzC,UAAYzzC,KAAKq6C,YAAY5G,UAC9CH,EAAOtzC,KAAKszC,KAAOtzC,KAAKq6C,YAAY/G,KACpCE,EAAYxzC,KAAKwzC,UAAYxzC,KAAKq6C,YAAY7G,UAC9CyD,EAAUj3C,KAAKi3C,QAAQ/3C,MAAK,GAC5By7C,EAAY36C,KAAKs6C,WAAWp7C,MAAK,GAKvC,IAAK,IAAIuyB,EAAI,EAAGh0B,EAAIg2C,EAAUr6C,OAAQq4B,EAAIh0B,IAAKg0B,EAAG,CAChD,MAAMrxB,EAAIozC,EAAU/hB,EAAI,GAAM,EAAIA,EAAI,EAAIA,EAAI,IACzB,IAAjBgiB,EAAUhiB,KAA4B,IAAfwlB,EAAQ72C,KAAW62C,EAAQ72C,GAAKqxB,EAC7D,CACA,IAAK,IAAIt4B,EAAI,EAAGsE,EAAI61C,EAAKl6C,OAAQD,EAAIsE,IAAKtE,EACxCwhD,EAAUrH,EAAKn6C,IAAMA,EAInBm6C,EAAKl6C,QAAU,GAAKk6C,EAAKl6C,OAAS,IACpC4G,KAAKwzC,UAAY,IAAI7B,WAAW,GAAGzyC,MAAK,GACxCc,KAAKyzC,UAAY,IAAI9B,WAAW,GAAGzyC,MAAK,GACxCc,KAAKwzC,UAAU,GAAKF,EAAK,GACzB2D,EAAQ3D,EAAK,IAAM,EACC,IAAhBA,EAAKl6C,SACP69C,EAAQ3D,EAAK,IAAM,EACnBtzC,KAAKwzC,UAAU,GAAKF,EAAK,GACzBtzC,KAAKwzC,UAAU,GAAKF,EAAK,IAG/B,CACAsH,QAAQH,GACN,OAAO,IAAItE,GAAQn2C,KAAMy6C,EAC3B,CACAtC,WAAWh/C,GACT,MAAM89C,QAACA,EAAO3D,KAAEA,EAAIgH,WAAEA,EAAU7G,UAAEA,EAASD,UAAEA,EAASgH,UAAEA,GAAax6C,KAGrE,GAAIw6C,EAAW,CACb,MAAM/wB,EAAI+wB,EAAUppC,QAAQjY,GAG5B,OAFIswB,EAAI,UAAS+wB,EAAU/wB,EAAI,SAC3BA,EAAI+wB,EAAUphD,OAAS,UAASohD,EAAU/wB,EAAI,IAEpD,CAEA,MAAMsV,EAAKkY,EAAQ99C,GACnB,IAAW,IAAP4lC,EAAW,OACf,IAAItN,EAAIsN,EAAI6V,GAAK,EACjB,EAAG,CAGD,SAFMA,EAAKpB,EAAU/hB,GACrBA,EAAIA,EAAI,GAAM,EAAIA,EAAI,EAAIA,EAAI,EAC1B+hB,EAAU/hB,KAAOt4B,EAAG,OAExB,GADAs4B,EAAIgiB,EAAUhiB,IACJ,IAANA,EAAU,CACZ,MAAMrxB,EAAIkzC,GAAMgH,EAAWnhD,GAAK,GAAKm6C,EAAKl6C,QAE1C,YADIgH,IAAMw0C,UAAUx0C,GAEtB,CACF,OAASqxB,IAAMsN,EACjB,CACAzsB,KAAK/X,EAAGiD,EAAGrE,EAAI,GACb,IAAKoB,GAAKA,IAASA,IAAOiD,GAAKA,IAASA,EAAI,OAAO,EACnD,MAAMyK,EAAK9O,EACX,IAAIoK,EACJ,MAAQA,EAAIvD,KAAKk4C,MAAM/+C,EAAGoB,EAAGiD,KAAO,GAAK+F,IAAMpK,GAAKoK,IAAM0E,GAAI9O,EAAIoK,EAClE,OAAOA,CACT,CACA20C,MAAM/+C,EAAGoB,EAAGiD,GACV,MAAMy5C,QAACA,EAAO3D,KAAEA,EAAIgH,WAAEA,EAAU7G,UAAEA,EAASD,UAAEA,EAASzT,OAAEA,GAAU//B,KAClE,IAAmB,IAAfi3C,EAAQ99C,KAAc4mC,EAAO3mC,OAAQ,OAAQD,EAAI,IAAM4mC,EAAO3mC,QAAU,GAC5E,IAAImK,EAAIpK,EACJ0hD,EAAKf,GAAIv/C,EAAIwlC,EAAW,EAAJ5mC,GAAQ,GAAK2gD,GAAIt8C,EAAIuiC,EAAW,EAAJ5mC,EAAQ,GAAI,GAChE,MAAM4lC,EAAKkY,EAAQ99C,GACnB,IAAIs4B,EAAIsN,EACR,EAAG,CACD,IAAI9gC,EAAIu1C,EAAU/hB,GAClB,MAAMqpB,EAAKhB,GAAIv/C,EAAIwlC,EAAW,EAAJ9hC,GAAQ,GAAK67C,GAAIt8C,EAAIuiC,EAAW,EAAJ9hC,EAAQ,GAAI,GAGlE,GAFI68C,EAAKD,IAAIA,EAAKC,EAAIv3C,EAAItF,GAC1BwzB,EAAIA,EAAI,GAAM,EAAIA,EAAI,EAAIA,EAAI,EAC1B+hB,EAAU/hB,KAAOt4B,EAAG,MAExB,GADAs4B,EAAIgiB,EAAUhiB,IACJ,IAANA,EAAU,CAEZ,GADAA,EAAI6hB,GAAMgH,EAAWnhD,GAAK,GAAKm6C,EAAKl6C,QAChCq4B,IAAMxzB,GACJ67C,GAAIv/C,EAAIwlC,EAAW,EAAJtO,GAAQ,GAAKqoB,GAAIt8C,EAAIuiC,EAAW,EAAJtO,EAAQ,GAAI,GAAKopB,EAAI,OAAOppB,EAE7E,KACF,CACF,OAASA,IAAMsN,GACf,OAAOx7B,CACT,CACAyzC,OAAO7oC,GACL,MAAMo4B,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,GAChD8kC,OAACA,EAAM0T,UAAEA,EAASD,UAAEA,GAAaxzC,KACvC,IAAK,IAAI7G,EAAI,EAAGsE,EAAIg2C,EAAUr6C,OAAQD,EAAIsE,IAAKtE,EAAG,CAChD,MAAM0E,EAAI41C,EAAUt6C,GACpB,GAAI0E,EAAI1E,EAAG,SACX,MAAM+9C,EAAoB,EAAf1D,EAAUr6C,GACfg+C,EAAoB,EAAf3D,EAAU31C,GACrBsQ,EAAQs1B,OAAO1D,EAAOmX,GAAKnX,EAAOmX,EAAK,IACvC/oC,EAAQw1B,OAAO5D,EAAOoX,GAAKpX,EAAOoX,EAAK,GACzC,CAEA,OADAn3C,KAAK+6C,WAAW5sC,GACTo4B,GAAUA,EAAOrrC,OAC1B,CACA8/C,aAAa7sC,EAASvS,QACVX,IAANW,GAAqBuS,GAAqC,mBAAnBA,EAAQs1B,SAAwB7nC,EAAIuS,EAASA,EAAU,MAClGvS,EAASX,MAALW,EAAiB,GAAKA,EAC1B,MAAM2qC,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,GAChD8kC,OAACA,GAAU//B,KACjB,IAAK,IAAI7G,EAAI,EAAGsE,EAAIsiC,EAAO3mC,OAAQD,EAAIsE,EAAGtE,GAAK,EAAG,CAChD,MAAMoB,EAAIwlC,EAAO5mC,GAAIqE,EAAIuiC,EAAO5mC,EAAI,GACpCgV,EAAQs1B,OAAOlpC,EAAIqB,EAAG4B,GACtB2Q,EAAQ82B,IAAI1qC,EAAGiD,EAAG5B,EAAG,EAAGi+C,GAC1B,CACA,OAAOtT,GAAUA,EAAOrrC,OAC1B,CACA6/C,WAAW5sC,GACT,MAAMo4B,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,GAChDq4C,KAACA,EAAIvT,OAAEA,GAAU//B,KACjBzC,EAAc,EAAV+1C,EAAK,GAAQ71C,EAAI61C,EAAKl6C,OAChC+U,EAAQs1B,OAAO1D,EAAOxiC,GAAIwiC,EAAOxiC,EAAI,IACrC,IAAK,IAAIpE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAG,CAC1B,MAAMoE,EAAI,EAAI+1C,EAAKn6C,GACnBgV,EAAQw1B,OAAO5D,EAAOxiC,GAAIwiC,EAAOxiC,EAAI,GACvC,CAEA,OADA4Q,EAAQu1B,YACD6C,GAAUA,EAAOrrC,OAC1B,CACA+/C,cACE,MAAMrP,EAAU,IAAIsK,GAEpB,OADAl2C,KAAK+6C,WAAWnP,GACTA,EAAQ1wC,OACjB,CACAggD,eAAe/hD,EAAGgV,GAChB,MAAMo4B,EAAoB,MAAXp4B,EAAkBA,EAAU,IAAI8nC,QAAOh7C,GAChD8kC,OAACA,EAAMyT,UAAEA,GAAaxzC,KACtB2xB,EAAyB,EAApB6hB,EAAUr6C,GAAK,GACpB+xB,EAAwB,EAAnBsoB,EAAUr6C,EAAI,GACnBoyB,EAAwB,EAAnBioB,EAAUr6C,EAAI,GAKzB,OAJAgV,EAAQs1B,OAAO1D,EAAOpO,GAAKoO,EAAOpO,EAAK,IACvCxjB,EAAQw1B,OAAO5D,EAAO7U,GAAK6U,EAAO7U,EAAK,IACvC/c,EAAQw1B,OAAO5D,EAAOxU,GAAKwU,EAAOxU,EAAK,IACvCpd,EAAQu1B,YACD6C,GAAUA,EAAOrrC,OAC1B,CACAigD,oBACE,MAAM3H,UAACA,GAAaxzC,KACpB,IAAK,IAAI7G,EAAI,EAAGsE,EAAI+1C,EAAUp6C,OAAS,EAAGD,EAAIsE,IAAKtE,QAC3C6G,KAAKo7C,gBAAgBjiD,EAE/B,CACAiiD,gBAAgBjiD,GACd,MAAMyyC,EAAU,IAAIsK,GAEpB,OADAl2C,KAAKk7C,eAAe/hD,EAAGyyC,GAChBA,EAAQ1wC,OACjB,E,6HClOF,IAAAmgD,GAAe9gD,GAAK,IAAMA,ECAX,SAAA+gD,GAAmB5qC,GAAMqe,YACtCA,EAAWwsB,QACXA,EAAO/gB,OACPA,EAAMwF,WACNA,EAAUnM,OACVA,EAAMt5B,EACNA,EAACiD,EAAEA,EAACmiC,GAAEA,EAAEC,GAAEA,EAAEniB,SACZA,IAEAvkB,OAAO8H,iBAAiBhB,KAAM,CAC5B0Q,KAAM,CAACxV,MAAOwV,EAAMgqB,YAAY,EAAMC,cAAc,GACpD5L,YAAa,CAAC7zB,MAAO6zB,EAAa2L,YAAY,EAAMC,cAAc,GAClE4gB,QAAS,CAACrgD,MAAOqgD,EAAS7gB,YAAY,EAAMC,cAAc,GAC1DH,OAAQ,CAACt/B,MAAOs/B,EAAQE,YAAY,EAAMC,cAAc,GACxDqF,WAAY,CAAC9kC,MAAO8kC,EAAYtF,YAAY,EAAMC,cAAc,GAChE9G,OAAQ,CAAC34B,MAAO24B,EAAQ6G,YAAY,EAAMC,cAAc,GACxDpgC,EAAG,CAACW,MAAOX,EAAGmgC,YAAY,EAAMC,cAAc,GAC9Cn9B,EAAG,CAACtC,MAAOsC,EAAGk9B,YAAY,EAAMC,cAAc,GAC9CgF,GAAI,CAACzkC,MAAOykC,EAAIjF,YAAY,EAAMC,cAAc,GAChDiF,GAAI,CAAC1kC,MAAO0kC,EAAIlF,YAAY,EAAMC,cAAc,GAChDj0B,EAAG,CAACxL,MAAOuiB,IAEf,CCdA,SAAS+9B,GAAchiC,GACrB,OAAQA,EAAMkjB,UAAYljB,EAAMmjB,MAClC,CAEA,SAAS8e,KACP,OAAOz7C,KAAK6P,UACd,CAEA,SAAS6rC,GAAeliC,EAAO7e,GAC7B,OAAY,MAALA,EAAY,CAACJ,EAAGif,EAAMjf,EAAGiD,EAAGgc,EAAMhc,GAAK7C,CAChD,CAEA,SAASghD,KACP,OAAO3e,UAAUC,gBAAmB,iBAAkBj9B,IACxD,CAEe,SAAA47C,KACb,IAOIC,EACAC,EACAC,EACAre,EAVA3tB,EAASyrC,GACTQ,EAAYP,GACZF,EAAUG,GACV9d,EAAY+d,GACZM,EAAW,CAAC,EACZpe,EAAYrsB,GAAS,QAAS,OAAQ,OACtCqiB,EAAS,EAKTqoB,EAAiB,EAErB,SAASC,EAAKxtC,GACZA,EACKoC,GAAG,iBAAkBqrC,GACvBrsC,OAAO6tB,GACL7sB,GAAG,kBAAmBsrC,GACtBtrC,GAAG,iBAAkBqtB,EAAYxgB,IACjC7M,GAAG,iCAAkCstB,GACrCxoB,MAAM,eAAgB,QACtBA,MAAM,8BAA+B,gBAC5C,CAEA,SAASumC,EAAY5iC,EAAO7e,GAC1B,IAAI+iC,GAAgB3tB,EAAOlJ,KAAK7G,KAAMwZ,EAAO7e,GAA7C,CACA,IAAI2hD,EAAUpc,EAAYlgC,KAAMg8C,EAAUn1C,KAAK7G,KAAMwZ,EAAO7e,GAAI6e,EAAO7e,EAAG,SACrE2hD,IACL3+B,GAAOnE,EAAM6E,MACVtN,GAAG,iBAAkBwrC,EAAYz+B,IACjC/M,GAAG,eAAgByrC,EAAY1+B,IAClCM,GAAO5E,EAAM6E,MACbL,GAAcxE,GACduiC,GAAc,EACdF,EAAariC,EAAM6V,QACnBysB,EAAatiC,EAAM8V,QACnBgtB,EAAQ,QAAS9iC,GAXgC,CAYnD,CAEA,SAAS+iC,EAAW/iC,GAElB,GADA0E,GAAQ1E,IACHuiC,EAAa,CAChB,IAAIpc,EAAKnmB,EAAM6V,QAAUwsB,EAAYjc,EAAKpmB,EAAM8V,QAAUwsB,EAC1DC,EAAcpc,EAAKA,EAAKC,EAAKA,EAAKsc,CACpC,CACAD,EAASQ,MAAM,OAAQjjC,EACzB,CAEA,SAASgjC,EAAWhjC,GAClBmE,GAAOnE,EAAM6E,MAAMtN,GAAG,8BAA+B,MACrD0N,GAAQjF,EAAM6E,KAAM09B,GACpB79B,GAAQ1E,GACRyiC,EAASQ,MAAM,MAAOjjC,EACxB,CAEA,SAAS6iC,EAAa7iC,EAAO7e,GAC3B,GAAKoV,EAAOlJ,KAAK7G,KAAMwZ,EAAO7e,GAA9B,CACA,IAEwBxB,EAAGmjD,EAFvB5d,EAAUllB,EAAMgnB,eAChBj9B,EAAIy4C,EAAUn1C,KAAK7G,KAAMwZ,EAAO7e,GAChC8C,EAAIihC,EAAQtlC,OAEhB,IAAKD,EAAI,EAAGA,EAAIsE,IAAKtE,GACfmjD,EAAUpc,EAAYlgC,KAAMuD,EAAGiW,EAAO7e,EAAG+jC,EAAQvlC,GAAG6mC,WAAYtB,EAAQvlC,OAC1E6kB,GAAcxE,GACd8iC,EAAQ,QAAS9iC,EAAOklB,EAAQvlC,IARF,CAWpC,CAEA,SAASilC,EAAW5kB,GAClB,IACwBrgB,EAAGmjD,EADvB5d,EAAUllB,EAAMgnB,eAChB/iC,EAAIihC,EAAQtlC,OAEhB,IAAKD,EAAI,EAAGA,EAAIsE,IAAKtE,GACfmjD,EAAUL,EAASvd,EAAQvlC,GAAG6mC,eAChC9hB,GAAQ1E,GACR8iC,EAAQ,OAAQ9iC,EAAOklB,EAAQvlC,IAGrC,CAEA,SAASklC,EAAW7kB,GAClB,IACwBrgB,EAAGmjD,EADvB5d,EAAUllB,EAAMgnB,eAChB/iC,EAAIihC,EAAQtlC,OAIhB,IAFIskC,GAAa3L,aAAa2L,GAC9BA,EAAc/e,YAAW,WAAa+e,EAAc,IAAM,GAAG,KACxDvkC,EAAI,EAAGA,EAAIsE,IAAKtE,GACfmjD,EAAUL,EAASvd,EAAQvlC,GAAG6mC,eAChChiB,GAAcxE,GACd8iC,EAAQ,MAAO9iC,EAAOklB,EAAQvlC,IAGpC,CAEA,SAAS+mC,EAAY5uB,EAAM0qC,EAAWxiC,EAAO7e,EAAGqlC,EAAY0c,GAC1D,IAC4C/c,EAAIC,EAC5ChiC,EAFA6f,EAAWogB,EAAUnvB,OACrBtO,EAAI4uB,GAAQ0tB,GAASljC,EAAOwiC,GAGhC,GAUa,OAVRp+C,EAAI29C,EAAQ10C,KAAKyK,EAAM,IAAIgqC,GAAU,cAAe,CACrDvsB,YAAavV,EACbghB,OAAQ2hB,E,WACRnc,E,OACAnM,EACAt5B,EAAG6F,EAAE,GACL5C,EAAG4C,EAAE,GACLu/B,GAAI,EACJC,GAAI,E,SACJniB,IACE9iB,IAKN,OAHAglC,EAAK/hC,EAAErD,EAAI6F,EAAE,IAAM,EACnBw/B,EAAKhiC,EAAEJ,EAAI4C,EAAE,IAAM,EAEZ,SAASk8C,EAAQ5rC,EAAM8I,EAAOkjC,GACnC,IAAYj/C,EAARm3C,EAAKx0C,EACT,OAAQsQ,GACN,IAAK,QAASurC,EAASjc,GAAcsc,EAAS7+C,EAAIo2B,IAAU,MAC5D,IAAK,aAAcooB,EAASjc,KAAenM,EAC3C,IAAK,OAAQzzB,EAAI4uB,GAAQ0tB,GAASljC,EAAOwiC,GAAYv+C,EAAIo2B,EAE3DpW,EAAS5W,KACP6J,EACAY,EACA,IAAIgqC,GAAU5qC,EAAM,CAClBqe,YAAavV,EACb+hC,QAAS39C,EACT48B,OAAQ2hB,E,WACRnc,EACAnM,OAAQp2B,EACRlD,EAAG6F,EAAE,GAAKu/B,EACVniC,EAAG4C,EAAE,GAAKw/B,EACVD,GAAIv/B,EAAE,GAAKw0C,EAAG,GACdhV,GAAIx/B,EAAE,GAAKw0C,EAAG,G,SACdn3B,IAEF9iB,EAEJ,CACF,CA2BA,OAzBAwhD,EAAKpsC,OAAS,SAASrJ,GACrB,OAAOC,UAAUvN,QAAU2W,EAAsB,mBAANrJ,EAAmBA,EAAI20C,KAAW30C,GAAIy1C,GAAQpsC,CAC3F,EAEAosC,EAAKH,UAAY,SAASt1C,GACxB,OAAOC,UAAUvN,QAAU4iD,EAAyB,mBAANt1C,EAAmBA,EAAI20C,GAAS30C,GAAIy1C,GAAQH,CAC5F,EAEAG,EAAKZ,QAAU,SAAS70C,GACtB,OAAOC,UAAUvN,QAAUmiD,EAAuB,mBAAN70C,EAAmBA,EAAI20C,GAAS30C,GAAIy1C,GAAQZ,CAC1F,EAEAY,EAAKve,UAAY,SAASl3B,GACxB,OAAOC,UAAUvN,QAAUwkC,EAAyB,mBAANl3B,EAAmBA,EAAI20C,KAAW30C,GAAIy1C,GAAQve,CAC9F,EAEAue,EAAKprC,GAAK,WACR,IAAI7V,EAAQ2iC,EAAU9sB,GAAG3C,MAAMyvB,EAAWl3B,WAC1C,OAAOzL,IAAU2iC,EAAYse,EAAOjhD,CACtC,EAEAihD,EAAKQ,cAAgB,SAASj2C,GAC5B,OAAOC,UAAUvN,QAAU8iD,GAAkBx1C,GAAKA,GAAKA,EAAGy1C,GAAQrgD,KAAK8D,KAAKs8C,EAC9E,EAEOC,CACT,CDzKAb,GAAUr3C,UAAU8M,GAAK,WACvB,IAAI7V,EAAQ8E,KAAK0G,EAAEqK,GAAG3C,MAAMpO,KAAK0G,EAAGC,WACpC,OAAOzL,IAAU8E,KAAK0G,EAAI1G,KAAO9E,CACnC,E,6dE3BA,IAAI0hD,GAAM,CAAC,EACPC,GAAM,CAAC,EACPC,GAAQ,GACRC,GAAU,GACVC,GAAS,GAEb,SAASC,GAAgBC,GACvB,OAAO,IAAIC,SAAS,IAAK,WAAaD,EAAQj+C,KAAI,SAAS0R,EAAMxX,GAC/D,OAAOO,KAAK0jD,UAAUzsC,GAAQ,OAASxX,EAAI,SAC7C,IAAGmhB,KAAK,KAAO,IACjB,CAUA,SAAS+iC,GAAaC,GACpB,IAAIC,EAAYrkD,OAAOkkB,OAAO,MAC1B8/B,EAAU,GAUd,OARAI,EAAKxzC,SAAQ,SAASc,GACpB,IAAK,IAAI4yC,KAAU5yC,EACX4yC,KAAUD,GACdL,EAAQ79C,KAAKk+C,EAAUC,GAAUA,EAGvC,IAEON,CACT,CAEA,SAASO,GAAIviD,EAAO8B,GAClB,IAAIY,EAAI1C,EAAQ,GAAI9B,EAASwE,EAAExE,OAC/B,OAAOA,EAAS4D,EAAQ,IAAI0B,MAAM1B,EAAQ5D,EAAS,GAAGkhB,KAAK,GAAK1c,EAAIA,CACtE,CAQA,SAAS8/C,GAAWC,GAClB,IAPkBC,EAOdC,EAAQF,EAAKG,cACbC,EAAUJ,EAAKK,gBACfC,EAAUN,EAAKO,gBACfC,EAAeR,EAAKS,qBACxB,OAAOp2C,MAAM21C,GAAQ,iBAXHC,EAYDD,EAAKU,kBAXR,EAAI,IAAMZ,IAAKG,EAAM,GAC/BA,EAAO,KAAO,IAAMH,GAAIG,EAAM,GAC9BH,GAAIG,EAAM,IAS+B,IAAMH,GAAIE,EAAKW,cAAgB,EAAG,GAAK,IAAMb,GAAIE,EAAKY,aAAc,IAC1GJ,EAAe,IAAMV,GAAII,EAAO,GAAK,IAAMJ,GAAIM,EAAS,GAAK,IAAMN,GAAIQ,EAAS,GAAK,IAAMR,GAAIU,EAAc,GAAK,IACnHF,EAAU,IAAMR,GAAII,EAAO,GAAK,IAAMJ,GAAIM,EAAS,GAAK,IAAMN,GAAIQ,EAAS,GAAK,IAChFF,GAAWF,EAAQ,IAAMJ,GAAII,EAAO,GAAK,IAAMJ,GAAIM,EAAS,GAAK,IACjE,GACR,CAEe,SAAAS,GAASC,GACtB,IAAIC,EAAW,IAAIl/B,OAAO,KAAQi/B,EAAY,SAC1CE,EAAYF,EAAUG,WAAW,GAWrC,SAASC,EAAUrvC,EAAMtV,GACvB,IAII+D,EAJAq/C,EAAO,GACP7d,EAAIjwB,EAAKpW,OACT0lD,EAAI,EACJrhD,EAAI,EAEJshD,EAAMtf,GAAK,EACXuf,GAAM,EAMV,SAASC,IACP,GAAIF,EAAK,OAAOlC,GAChB,GAAImC,EAAK,OAAOA,GAAM,EAAOpC,GAG7B,IAAIzjD,EAAUoK,EAAP1F,EAAIihD,EACX,GAAItvC,EAAKovC,WAAW/gD,KAAOi/C,GAAO,CAChC,KAAOgC,IAAMrf,GAAKjwB,EAAKovC,WAAWE,KAAOhC,IAASttC,EAAKovC,aAAaE,KAAOhC,KAI3E,OAHK3jD,EAAI2lD,IAAMrf,EAAGsf,GAAM,GACdx7C,EAAIiM,EAAKovC,WAAWE,QAAU/B,GAASiC,GAAM,EAC9Cz7C,IAAMy5C,KAAUgC,GAAM,EAAUxvC,EAAKovC,WAAWE,KAAO/B,MAAW+B,GACpEtvC,EAAKrT,MAAM0B,EAAI,EAAG1E,EAAI,GAAG+lD,QAAQ,MAAO,IACjD,CAGA,KAAOJ,EAAIrf,GAAG,CACZ,IAAKl8B,EAAIiM,EAAKovC,WAAWzlD,EAAI2lD,QAAU/B,GAASiC,GAAM,OACjD,GAAIz7C,IAAMy5C,GAAUgC,GAAM,EAAUxvC,EAAKovC,WAAWE,KAAO/B,MAAW+B,OACtE,GAAIv7C,IAAMo7C,EAAW,SAC1B,OAAOnvC,EAAKrT,MAAM0B,EAAG1E,EACvB,CAGA,OAAO4lD,GAAM,EAAMvvC,EAAKrT,MAAM0B,EAAG4hC,EACnC,CAEA,IA7BIjwB,EAAKovC,WAAWnf,EAAI,KAAOsd,MAAWtd,EACtCjwB,EAAKovC,WAAWnf,EAAI,KAAOud,MAAUvd,GA4BjCxhC,EAAIghD,OAAapC,IAAK,CAE5B,IADA,IAAIjyC,EAAM,GACH3M,IAAM2+C,IAAO3+C,IAAM4+C,IAAKjyC,EAAIvL,KAAKpB,GAAIA,EAAIghD,IAC5C/kD,GAA4B,OAAtB0Q,EAAM1Q,EAAE0Q,EAAKnN,OACvB6/C,EAAKj+C,KAAKuL,EACZ,CAEA,OAAO0yC,CACT,CAEA,SAAS6B,EAAc7B,EAAMJ,GAC3B,OAAOI,EAAKr+C,KAAI,SAAS2L,GACvB,OAAOsyC,EAAQj+C,KAAI,SAASu+C,GAC1B,OAAO4B,EAAYx0C,EAAI4yC,GACzB,IAAGljC,KAAKmkC,EACV,GACF,CAgBA,SAASY,EAAUz0C,GACjB,OAAOA,EAAI3L,IAAImgD,GAAa9kC,KAAKmkC,EACnC,CAEA,SAASW,EAAYlkD,GACnB,OAAgB,MAATA,EAAgB,GACjBA,aAAiB6yB,KAAO2vB,GAAWxiD,GACnCwjD,EAAS3zC,KAAK7P,GAAS,IAAM,IAAOA,EAAMgkD,QAAQ,KAAM,MAAU,IAClEhkD,CACR,CAEA,MAAO,CACLvB,MA5FF,SAAe6V,EAAMtV,GACnB,IAAIolD,EAASpC,EAASI,EAAOuB,EAAUrvC,GAAM,SAAS5E,EAAKzR,GACzD,GAAImmD,EAAS,OAAOA,EAAQ10C,EAAKzR,EAAI,GACrC+jD,EAAUtyC,EAAK00C,EAAUplD,EAtD/B,SAAyBgjD,EAAShjD,GAChC,IAAIqlD,EAAStC,GAAgBC,GAC7B,OAAO,SAAStyC,EAAKzR,GACnB,OAAOe,EAAEqlD,EAAO30C,GAAMzR,EAAG+jD,EAC3B,CACF,CAiDmCsC,CAAgB50C,EAAK1Q,GAAK+iD,GAAgBryC,EACzE,IAEA,OADA0yC,EAAKJ,QAAUA,GAAW,GACnBI,CACT,EAsFEuB,UAAWA,EACXxwC,OA5BF,SAAgBivC,EAAMJ,GAEpB,OADe,MAAXA,IAAiBA,EAAUG,GAAaC,IACrC,CAACJ,EAAQj+C,IAAImgD,GAAa9kC,KAAKmkC,IAAY3tC,OAAOquC,EAAc7B,EAAMJ,IAAU5iC,KAAK,KAC9F,EA0BEmlC,WAxBF,SAAoBnC,EAAMJ,GAExB,OADe,MAAXA,IAAiBA,EAAUG,GAAaC,IACrC6B,EAAc7B,EAAMJ,GAAS5iC,KAAK,KAC3C,EAsBEolC,WApBF,SAAoBpC,GAClB,OAAOA,EAAKr+C,IAAIogD,GAAW/kC,KAAK,KAClC,EAmBE+kC,UAAWA,EACXD,YAAaA,EAEjB,CCjKA,IAAIO,GAAMnB,GAAI,KAEHoB,GAAWD,GAAIhmD,MACfkmD,GAAeF,GAAId,UACnBiB,GAAYH,GAAItxC,OAChB0xC,GAAgBJ,GAAIF,WACpBO,GAAgBL,GAAID,WACpBO,GAAeN,GAAIN,UACnBa,GAAiBP,GAAIP,YCR5Be,GAAM3B,GAAI,MAEH4B,GAAWD,GAAIxmD,MACf0mD,GAAeF,GAAItB,UACnByB,GAAYH,GAAI9xC,OAChBkyC,GAAgBJ,GAAIV,WACpBe,GAAgBL,GAAIT,WACpBe,GAAeN,GAAId,UACnBqB,GAAiBP,GAAIf,YCVjB,SAAAuB,GAAkBpB,GAC/B,IAAK,IAAI1+C,KAAO0+C,EAAQ,CACtB,IAAgCqB,EAAQr6C,EAApCrL,EAAQqkD,EAAO1+C,GAAKqQ,OACxB,GAAKhW,EACA,GAAc,SAAVA,EAAkBA,GAAQ,OAC9B,GAAc,UAAVA,EAAmBA,GAAQ,OAC/B,GAAc,QAAVA,EAAiBA,EAAQnB,SAC7B,GAAKiO,MAAM44C,GAAU1lD,GACrB,MAAIqL,EAAIrL,EAAMkgB,MAAM,gGAIpB,SAHCylC,IAAWt6C,EAAE,KAAOA,EAAE,KAAIrL,EAAQA,EAAMgkD,QAAQ,KAAM,KAAKA,QAAQ,IAAK,MAC5EhkD,EAAQ,IAAI6yB,KAAK7yB,EAEL,MALoBA,EAAQ0lD,OAJ9B1lD,EAAQ,KAUpBqkD,EAAO1+C,GAAO3F,CAChB,CACA,OAAOqkD,CACT,CAGA,MAAMsB,GAAQ,IAAI9yB,KAAK,oBAAoB+yB,YAAc,IAAI/yB,KAAK,oBAAoB+yB,W,gkCCnB/E,MAAMC,GAAS9iD,IAAMA,ECArB,SAAS+iD,GAAO/iD,GACrB,OAAOA,EAAIA,CACb,CAEO,SAASgjD,GAAQhjD,GACtB,OAAOA,GAAK,EAAIA,EAClB,CAEO,SAASijD,GAAUjjD,GACxB,QAASA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,CACvD,CCVA,IAEWkjD,GAAS,SAAUC,EAAO3vB,GAGnC,SAAS4vB,EAAOpjD,GACd,OAAOnC,KAAK6I,IAAI1G,EAAGwzB,EACrB,CAIA,OARAA,GAAKA,EAML4vB,EAAOC,SAAWF,EAEXC,CACT,CAVoB,CAFL,GAcJE,GAAU,SAAUH,EAAO3vB,GAGpC,SAAS+vB,EAAQvjD,GACf,OAAO,EAAInC,KAAK6I,IAAI,EAAI1G,EAAGwzB,EAC7B,CAIA,OARAA,GAAKA,EAML+vB,EAAQF,SAAWF,EAEZI,CACT,CAVqB,CAdN,GA0BJC,GAAY,SAAUL,EAAO3vB,GAGtC,SAASiwB,EAAUzjD,GACjB,QAASA,GAAK,IAAM,EAAInC,KAAK6I,IAAI1G,EAAGwzB,GAAK,EAAI31B,KAAK6I,IAAI,EAAI1G,EAAGwzB,IAAM,CACrE,CAIA,OARAA,GAAKA,EAMLiwB,EAAUJ,SAAWF,EAEdM,CACT,CAVuB,CA1BR,GCAXC,GAAK7lD,KAAKk4B,GACV4tB,GAASD,GAAK,EAEX,SAASE,GAAM5jD,GACpB,OAAe,IAANA,EAAW,EAAI,EAAInC,KAAKolC,IAAIjjC,EAAI2jD,GAC3C,CAEO,SAASE,GAAO7jD,GACrB,OAAOnC,KAAKslC,IAAInjC,EAAI2jD,GACtB,CAEO,SAASG,GAAS9jD,GACvB,OAAQ,EAAInC,KAAKolC,IAAIygB,GAAK1jD,IAAM,CAClC,CCZO,SAAS+jD,GAAKznD,GACnB,OAA+C,oBAAvCuB,KAAK6I,IAAI,GAAG,GAAMpK,GAAK,YACjC,CCDO,SAAS0nD,GAAMhkD,GACpB,OAAO+jD,GAAK,GAAK/jD,EACnB,CAEO,SAASikD,GAAOjkD,GACrB,OAAO,EAAI+jD,GAAK/jD,EAClB,CAEO,SAASkkD,GAASlkD,GACvB,QAASA,GAAK,IAAM,EAAI+jD,GAAK,EAAI/jD,GAAK,EAAI+jD,GAAK/jD,EAAI,IAAM,CAC3D,CCZO,SAASmkD,GAASnkD,GACvB,OAAO,EAAInC,KAAK8D,KAAK,EAAI3B,EAAIA,EAC/B,CAEO,SAASokD,GAAUpkD,GACxB,OAAOnC,KAAK8D,KAAK,KAAM3B,EAAIA,EAC7B,CAEO,SAASqkD,GAAYrkD,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAInC,KAAK8D,KAAK,EAAI3B,EAAIA,GAAKnC,KAAK8D,KAAK,GAAK3B,GAAK,GAAKA,GAAK,GAAK,CACxF,CCVA,IAAIskD,GAAK,EAAI,GACTC,GAAK,EAAI,GACTC,GAAK,EAAI,GACTC,GAAK,EAAI,EACTC,GAAK,EAAI,GACTC,GAAK,GAAK,GACVC,GAAK,GAAK,GACVC,GAAK,GAAK,GACVC,GAAK,GAAK,GACVC,GAAK,EAAIT,GAAKA,GAEX,SAASU,GAAShlD,GACvB,OAAO,EAAIilD,GAAU,EAAIjlD,EAC3B,CAEO,SAASilD,GAAUjlD,GACxB,OAAQA,GAAKA,GAAKskD,GAAKS,GAAK/kD,EAAIA,EAAIA,EAAIwkD,GAAKO,IAAM/kD,GAAKukD,IAAMvkD,EAAIykD,GAAKzkD,EAAI2kD,GAAKI,IAAM/kD,GAAK0kD,IAAM1kD,EAAI4kD,GAAKG,IAAM/kD,GAAK6kD,IAAM7kD,EAAI8kD,EACjI,CAEO,SAASI,GAAYllD,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAIilD,GAAU,EAAIjlD,GAAKilD,GAAUjlD,EAAI,GAAK,GAAK,CACzE,CCrBA,IAAImlD,GAAY,QAELC,GAAS,SAAUjC,EAAOxjD,GAGnC,SAAS0lD,EAAOrlD,GACd,OAAQA,GAAKA,GAAKA,GAAKL,GAAKK,EAAI,GAAKA,EACvC,CAIA,OARAL,GAAKA,EAML0lD,EAAOC,UAAYnC,EAEZkC,CACT,CAVoB,CAUjBF,IAEQI,GAAU,SAAUpC,EAAOxjD,GAGpC,SAAS6lD,EAAQxlD,GACf,QAASA,EAAIA,IAAMA,EAAI,GAAKL,EAAIK,GAAK,CACvC,CAIA,OARAL,GAAKA,EAML6lD,EAAQF,UAAYnC,EAEbqC,CACT,CAVqB,CAUlBL,IAEQM,GAAY,SAAUtC,EAAOxjD,GAGtC,SAAS+lD,EAAU1lD,GACjB,QAASA,GAAK,GAAK,EAAIA,EAAIA,IAAML,EAAI,GAAKK,EAAIL,IAAMK,GAAK,GAAKA,IAAML,EAAI,GAAKK,EAAIL,GAAK,GAAK,CAC7F,CAIA,OARAA,GAAKA,EAML+lD,EAAUJ,UAAYnC,EAEfuC,CACT,CAVuB,CAUpBP,IClCCQ,GAAM,EAAI9nD,KAAKk4B,GAIR6vB,GAAY,SAAUzC,EAAOvnD,EAAGuG,GACzC,IAAIxC,EAAI9B,KAAKgoD,KAAK,GAAKjqD,EAAIiC,KAAKiC,IAAI,EAAGlE,MAAQuG,GAAKwjD,IAEpD,SAASG,EAAU9lD,GACjB,OAAOpE,EAAImoD,OAAS/jD,GAAMnC,KAAKslC,KAAKxjC,EAAIK,GAAKmC,EAC/C,CAKA,OAHA2jD,EAAUC,UAAY,SAASnqD,GAAK,OAAOunD,EAAOvnD,EAAGuG,EAAIwjD,GAAM,EAC/DG,EAAUE,OAAS,SAAS7jD,GAAK,OAAOghD,EAAOvnD,EAAGuG,EAAI,EAE/C2jD,CACT,CAXuB,CAHP,EACH,IAeFG,GAAa,SAAU9C,EAAOvnD,EAAGuG,GAC1C,IAAIxC,EAAI9B,KAAKgoD,KAAK,GAAKjqD,EAAIiC,KAAKiC,IAAI,EAAGlE,MAAQuG,GAAKwjD,IAEpD,SAASO,EAAWlmD,GAClB,OAAO,EAAIpE,EAAImoD,GAAK/jD,GAAKA,GAAKnC,KAAKslC,KAAKnjC,EAAIL,GAAKwC,EACnD,CAKA,OAHA+jD,EAAWH,UAAY,SAASnqD,GAAK,OAAOunD,EAAOvnD,EAAGuG,EAAIwjD,GAAM,EAChEO,EAAWF,OAAS,SAAS7jD,GAAK,OAAOghD,EAAOvnD,EAAGuG,EAAI,EAEhD+jD,CACT,CAXwB,CAhBR,EACH,IA4BFC,GAAe,SAAUhD,EAAOvnD,EAAGuG,GAC5C,IAAIxC,EAAI9B,KAAKgoD,KAAK,GAAKjqD,EAAIiC,KAAKiC,IAAI,EAAGlE,MAAQuG,GAAKwjD,IAEpD,SAASS,EAAapmD,GACpB,QAASA,EAAQ,EAAJA,EAAQ,GAAK,EACpBpE,EAAImoD,IAAM/jD,GAAKnC,KAAKslC,KAAKxjC,EAAIK,GAAKmC,GAClC,EAAIvG,EAAImoD,GAAK/jD,GAAKnC,KAAKslC,KAAKxjC,EAAIK,GAAKmC,IAAM,CACnD,CAKA,OAHAikD,EAAaL,UAAY,SAASnqD,GAAK,OAAOunD,EAAOvnD,EAAGuG,EAAIwjD,GAAM,EAClES,EAAaJ,OAAS,SAAS7jD,GAAK,OAAOghD,EAAOvnD,EAAGuG,EAAI,EAElDikD,CACT,CAb0B,CA7BV,EACH,I,MCJb,SAASC,GAAaC,GACpB,IAAKA,EAASC,GAAI,MAAM,IAAIjrD,MAAMgrD,EAASE,OAAS,IAAMF,EAASG,YACnE,OAAOH,EAASI,MAClB,CAEe,SAAAC,GAASlpB,EAAOmpB,GAC7B,OAAOC,MAAMppB,EAAOmpB,GAAME,KAAKT,GACjC,CCPA,SAASU,GAAoBT,GAC3B,IAAKA,EAASC,GAAI,MAAM,IAAIjrD,MAAMgrD,EAASE,OAAS,IAAMF,EAASG,YACnE,OAAOH,EAASU,aAClB,CAEe,SAAAC,GAASxpB,EAAOmpB,GAC7B,OAAOC,MAAMppB,EAAOmpB,GAAME,KAAKC,GACjC,CCPA,SAASG,GAAaZ,GACpB,IAAKA,EAASC,GAAI,MAAM,IAAIjrD,MAAMgrD,EAASE,OAAS,IAAMF,EAASG,YACnE,OAAOH,EAAS/0C,MAClB,CAEe,SAAA41C,GAAS1pB,EAAOmpB,GAC7B,OAAOC,MAAMppB,EAAOmpB,GAAME,KAAKI,GACjC,CCJA,SAASE,GAAS1rD,GAChB,OAAO,SAAS+hC,EAAOmpB,EAAMj6C,GAE3B,OADyB,IAArBjE,UAAUvN,QAAgC,mBAATyrD,IAAqBj6C,EAAMi6C,EAAMA,OAAO5pD,GACtEmqD,GAAK1pB,EAAOmpB,GAAME,MAAK,SAASR,GACrC,OAAO5qD,EAAM4qD,EAAU35C,EACzB,GACF,CACF,CAEe,SAAA06C,GAAa7G,EAAW/iB,EAAOmpB,EAAMj6C,GACzB,IAArBjE,UAAUvN,QAAgC,mBAATyrD,IAAqBj6C,EAAMi6C,EAAMA,OAAO5pD,GAC7E,IAAIoT,EAASmwC,GAAUC,GACvB,OAAO2G,GAAK1pB,EAAOmpB,GAAME,MAAK,SAASR,GACrC,OAAOl2C,EAAO1U,MAAM4qD,EAAU35C,EAChC,GACF,C,gPAEO,IAAI26C,GAAMF,GAASzF,IACf4F,GAAMH,GAASjF,ICrBX,SAAAqF,GAAS/pB,EAAOmpB,GAC7B,OAAO,IAAIhrB,SAAQ,SAASC,EAASC,GACnC,IAAI2rB,EAAQ,IAAIC,MAChB,IAAK,IAAI9kD,KAAOgkD,EAAMa,EAAM7kD,GAAOgkD,EAAKhkD,GACxC6kD,EAAME,QAAU7rB,EAChB2rB,EAAMG,OAAS,WAAa/rB,EAAQ4rB,EAAQ,EAC5CA,EAAMI,IAAMpqB,CACd,GACF,CCRA,SAASqqB,GAAaxB,GACpB,IAAKA,EAASC,GAAI,MAAM,IAAIjrD,MAAMgrD,EAASE,OAAS,IAAMF,EAASG,YACnE,GAAwB,MAApBH,EAASE,QAAsC,MAApBF,EAASE,OACxC,OAAOF,EAASyB,MAClB,CAEe,SAAAC,GAASvqB,EAAOmpB,GAC7B,OAAOC,MAAMppB,EAAOmpB,GAAME,KAAKgB,GACjC,CCNA,SAASG,GAAOx1C,GACd,MAAO,CAACgrB,EAAOmpB,IAASO,GAAK1pB,EAAOmpB,GACjCE,MAAKv1C,IAAQ,IAAK22C,WAAWC,gBAAgB52C,EAAMkB,IACxD,C,IAEA21C,GAAeH,GAAO,mBAEXI,GAAOJ,GAAO,aAEdK,GAAML,GAAO,iB,MCXT,SAAAM,GAASjsD,EAAGiD,GACzB,IAAImf,EAAO8pC,EAAW,EAKtB,SAASC,IACP,IAAIvtD,EAEAiZ,EADA3U,EAAIkf,EAAMvjB,OAEVutD,EAAK,EACLC,EAAK,EAET,IAAKztD,EAAI,EAAGA,EAAIsE,IAAKtE,EACFwtD,IAAjBv0C,EAAOuK,EAAMxjB,IAAeoB,EAAGqsD,GAAMx0C,EAAK5U,EAG5C,IAAKmpD,GAAMA,EAAKlpD,EAAIlD,GAAKksD,EAAUG,GAAMA,EAAKnpD,EAAID,GAAKipD,EAAUttD,EAAI,EAAGA,EAAIsE,IAAKtE,GAC/EiZ,EAAOuK,EAAMxjB,IAASoB,GAAKosD,EAAIv0C,EAAK5U,GAAKopD,CAE7C,CAkBA,OAnCS,MAALrsD,IAAWA,EAAI,GACV,MAALiD,IAAWA,EAAI,GAkBnBkpD,EAAM1oB,WAAa,SAASt3B,GAC1BiW,EAAQjW,CACV,EAEAggD,EAAMnsD,EAAI,SAASmM,GACjB,OAAOC,UAAUvN,QAAUmB,GAAKmM,EAAGggD,GAASnsD,CAC9C,EAEAmsD,EAAMlpD,EAAI,SAASkJ,GACjB,OAAOC,UAAUvN,QAAUoE,GAAKkJ,EAAGggD,GAASlpD,CAC9C,EAEAkpD,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,GAAY//C,EAAGggD,GAASD,CACrD,EAEOC,CACT,CCjCA,SAASG,GAAIC,EAAMvsD,EAAGiD,EAAG7C,GACvB,GAAIqN,MAAMzN,IAAMyN,MAAMxK,GAAI,OAAOspD,EAEjC,IAAI/zC,EAOAg0C,EACAC,EACA3S,EACAC,EACAh5C,EACA2rD,EACA9tD,EACA0E,EAbAuU,EAAO00C,EAAKI,MACZC,EAAO,CAACtqD,KAAMlC,GACdwL,EAAK2gD,EAAK3jB,IACVe,EAAK4iB,EAAK1jB,IACVh9B,EAAK0gD,EAAKzjB,IACVQ,EAAKijB,EAAKxjB,IAWd,IAAKlxB,EAAM,OAAO00C,EAAKI,MAAQC,EAAML,EAGrC,KAAO10C,EAAKhZ,QAGV,IAFIkC,EAAQf,IAAMwsD,GAAM5gD,EAAKC,GAAM,IAAID,EAAK4gD,EAAS3gD,EAAK2gD,GACtDE,EAASzpD,IAAMwpD,GAAM9iB,EAAKL,GAAM,IAAIK,EAAK8iB,EAASnjB,EAAKmjB,EACvDj0C,EAASX,IAAQA,EAAOA,EAAKjZ,EAAI8tD,GAAU,EAAI3rD,IAAS,OAAOyX,EAAO5Z,GAAKguD,EAAML,EAMvF,GAFAzS,GAAMyS,EAAKM,GAAGvgD,KAAK,KAAMuL,EAAKvV,MAC9By3C,GAAMwS,EAAKO,GAAGxgD,KAAK,KAAMuL,EAAKvV,MAC1BtC,IAAM85C,GAAM72C,IAAM82C,EAAI,OAAO6S,EAAK57C,KAAO6G,EAAMW,EAASA,EAAO5Z,GAAKguD,EAAOL,EAAKI,MAAQC,EAAML,EAGlG,GACE/zC,EAASA,EAASA,EAAO5Z,GAAK,IAAIuF,MAAM,GAAKooD,EAAKI,MAAQ,IAAIxoD,MAAM,IAChEpD,EAAQf,IAAMwsD,GAAM5gD,EAAKC,GAAM,IAAID,EAAK4gD,EAAS3gD,EAAK2gD,GACtDE,EAASzpD,IAAMwpD,GAAM9iB,EAAKL,GAAM,IAAIK,EAAK8iB,EAASnjB,EAAKmjB,SACnD7tD,EAAI8tD,GAAU,EAAI3rD,KAAYuC,GAAKy2C,GAAM0S,IAAO,EAAK3S,GAAM0S,IACrE,OAAOh0C,EAAOlV,GAAKuU,EAAMW,EAAO5Z,GAAKguD,EAAML,CAC7C,CC/Ce,SAAAQ,GAASl1C,EAAMjM,EAAI+9B,EAAI99B,EAAIy9B,GACxC7jC,KAAKoS,KAAOA,EACZpS,KAAKmG,GAAKA,EACVnG,KAAKkkC,GAAKA,EACVlkC,KAAKoG,GAAKA,EACVpG,KAAK6jC,GAAKA,CACZ,CCNO,SAAS0jB,GAAS5sD,GACvB,OAAOA,EAAE,EACX,CCFO,SAAS6sD,GAAS7sD,GACvB,OAAOA,EAAE,EACX,CCWe,SAAA8sD,GAAkB9qC,EAAOpiB,EAAGiD,GACzC,IAAIspD,EAAO,IAAIY,GAAc,MAALntD,EAAYgtD,GAAWhtD,EAAQ,MAALiD,EAAYgqD,GAAWhqD,EAAGzD,IAAKA,IAAKA,IAAKA,KAC3F,OAAgB,MAAT4iB,EAAgBmqC,EAAOA,EAAKa,OAAOhrC,EAC5C,CAEA,SAAS+qC,GAASntD,EAAGiD,EAAG2I,EAAI+9B,EAAI99B,EAAIy9B,GAClC7jC,KAAKonD,GAAK7sD,EACVyF,KAAKqnD,GAAK7pD,EACVwC,KAAKmjC,IAAMh9B,EACXnG,KAAKojC,IAAMc,EACXlkC,KAAKqjC,IAAMj9B,EACXpG,KAAKsjC,IAAMO,EACX7jC,KAAKknD,WAAQjsD,CACf,CAEA,SAAS2sD,GAAUT,GAEjB,IADA,IAAIz4C,EAAO,CAAC7R,KAAMsqD,EAAKtqD,MAAO0O,EAAOmD,EAC9By4C,EAAOA,EAAK57C,MAAMA,EAAOA,EAAKA,KAAO,CAAC1O,KAAMsqD,EAAKtqD,MACxD,OAAO6R,CACT,C,mOAEA,IAAIm5C,GAAYJ,GAASxjD,UAAYyjD,GAASzjD,UClC/B,SAAA6jD,GAASvtD,GACtB,OAAO,WACL,OAAOA,CACT,CACF,CCJe,SAAAwtD,GAASz9C,GACtB,OAA0B,MAAlBA,IAAW,GACrB,CCEA,SAAS09C,GAAErtD,GACT,OAAOA,EAAEJ,EAAII,EAAEg/C,EACjB,CAEA,SAASsO,GAAEttD,GACT,OAAOA,EAAE6C,EAAI7C,EAAEi/C,EACjB,CAEe,SAAAsO,GAAS3rD,GACtB,IAAIogB,EACAwrC,EACA79C,EACAm8C,EAAW,EACX2B,EAAa,EAIjB,SAAS1B,IASP,IARA,IAAIvtD,EACA2tD,EACA10C,EACA83B,EACAC,EACAke,EACAC,EANG7qD,EAAIkf,EAAMvjB,OAQRiO,EAAI,EAAGA,EAAI+gD,IAAc/gD,EAEhC,IADAy/C,EAAOW,GAAS9qC,EAAOqrC,GAAGC,IAAGM,WAAWC,GACnCrvD,EAAI,EAAGA,EAAIsE,IAAKtE,EACnBiZ,EAAOuK,EAAMxjB,GACbkvD,EAAKF,EAAM/1C,EAAKjX,OAAQmtD,EAAMD,EAAKA,EACnCne,EAAK93B,EAAK7X,EAAI6X,EAAKunC,GACnBxP,EAAK/3B,EAAK5U,EAAI4U,EAAKwnC,GACnBkN,EAAK2B,MAAMr6C,GAIf,SAASA,EAAMs6C,EAAMviD,EAAI+9B,EAAI99B,EAAIy9B,GAC/B,IAAIhnC,EAAO6rD,EAAK7rD,KAAM8rD,EAAKD,EAAK9sD,EAAGA,EAAIysD,EAAKM,EAC5C,IAAI9rD,EAiBJ,OAAOsJ,EAAK+jC,EAAKtuC,GAAKwK,EAAK8jC,EAAKtuC,GAAKsoC,EAAKiG,EAAKvuC,GAAKioC,EAAKsG,EAAKvuC,EAhB5D,GAAIiB,EAAK1B,MAAQiX,EAAKjX,MAAO,CAC3B,IAAIZ,EAAI2vC,EAAKrtC,EAAKtC,EAAIsC,EAAK88C,GACvBn8C,EAAI2sC,EAAKttC,EAAKW,EAAIX,EAAK+8C,GACvBnwB,EAAIlvB,EAAIA,EAAIiD,EAAIA,EAChBisB,EAAI7tB,EAAIA,IACA,IAANrB,IAA6BkvB,IAApBlvB,EAAIwtD,GAAOz9C,IAAkB/P,GAChC,IAANiD,IAA6BisB,IAApBjsB,EAAIuqD,GAAOz9C,IAAkB9M,GAC1CisB,GAAK7tB,GAAK6tB,EAAI3tB,KAAK8D,KAAK6pB,KAAOA,EAAIg9B,EACnCr0C,EAAKunC,KAAOp/C,GAAKkvB,IAAM7tB,GAAK+sD,GAAMA,IAAOL,EAAMK,IAC/Cv2C,EAAKwnC,KAAOp8C,GAAKisB,GAAK7tB,EACtBiB,EAAK88C,IAAMp/C,GAAKqB,EAAI,EAAIA,GACxBiB,EAAK+8C,IAAMp8C,EAAI5B,EAEnB,CAIJ,CACF,CAEA,SAAS4sD,EAAQE,GACf,GAAIA,EAAK7rD,KAAM,OAAO6rD,EAAK9sD,EAAIusD,EAAMO,EAAK7rD,KAAK1B,OAC/C,IAAK,IAAIhC,EAAIuvD,EAAK9sD,EAAI,EAAGzC,EAAI,IAAKA,EAC5BuvD,EAAKvvD,IAAMuvD,EAAKvvD,GAAGyC,EAAI8sD,EAAK9sD,IAC9B8sD,EAAK9sD,EAAI8sD,EAAKvvD,GAAGyC,EAGvB,CAEA,SAASoiC,IACP,GAAKrhB,EAAL,CACA,IAAIxjB,EAAqBiZ,EAAlB3U,EAAIkf,EAAMvjB,OAEjB,IADA+uD,EAAQ,IAAIzpD,MAAMjB,GACbtE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGiZ,EAAOuK,EAAMxjB,GAAIgvD,EAAM/1C,EAAKjX,QAAUoB,EAAO6V,EAAMjZ,EAAGwjB,EAHlE,CAId,CAoBA,MA/EsB,mBAAXpgB,IAAuBA,EAASurD,GAAmB,MAAVvrD,EAAiB,GAAKA,IA6D1EmqD,EAAM1oB,WAAa,SAAS4qB,EAAQC,GAClClsC,EAAQisC,EACRt+C,EAASu+C,EACT7qB,GACF,EAEA0oB,EAAM0B,WAAa,SAAS1hD,GAC1B,OAAOC,UAAUvN,QAAUgvD,GAAc1hD,EAAGggD,GAAS0B,CACvD,EAEA1B,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,GAAY//C,EAAGggD,GAASD,CACrD,EAEAC,EAAMnqD,OAAS,SAASmK,GACtB,OAAOC,UAAUvN,QAAUmD,EAAsB,mBAANmK,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASnqD,CACzG,EAEOmqD,CACT,CChGA,SAASoC,GAAMnuD,GACb,OAAOA,EAAEQ,KACX,CAEA,SAAS4tD,GAAKC,EAAUC,GACtB,IAAI72C,EAAO42C,EAAS5nD,IAAI6nD,GACxB,IAAK72C,EAAM,MAAM,IAAI7Y,MAAM,mBAAqB0vD,GAChD,OAAO72C,CACT,CAEe,SAAA82C,GAASC,GACtB,IAEIC,EAEAC,EACA1sC,EACAte,EACAirD,EACAh/C,EARAjR,EAAKyvD,GACLrC,EAYJ,SAAyB8C,GACvB,OAAO,EAAIztD,KAAKgC,IAAIO,EAAMkrD,EAAKxmD,OAAO5H,OAAQkD,EAAMkrD,EAAK/uB,OAAOr/B,OAClE,EAZIquD,EAAW1B,GAAS,IAMpBM,EAAa,EAQjB,SAAS1B,EAAM+C,GACb,IAAK,IAAIpiD,EAAI,EAAG5J,EAAI0rD,EAAM/vD,OAAQiO,EAAI+gD,IAAc/gD,EAClD,IAAK,IAAWkiD,EAAMxmD,EAAQy3B,EAAQjgC,EAAGiD,EAAGisB,EAAG3vB,EAAtCX,EAAI,EAAqCA,EAAIsE,IAAKtE,EACxC4J,GAAjBwmD,EAAOJ,EAAMhwD,IAAkB4J,OAC/BxI,GADuCigC,EAAS+uB,EAAK/uB,QAC1CjgC,EAAIigC,EAAOmf,GAAK52C,EAAOxI,EAAIwI,EAAO42C,IAAMoO,GAAOz9C,GAC1D9M,EAAIg9B,EAAOh9B,EAAIg9B,EAAOof,GAAK72C,EAAOvF,EAAIuF,EAAO62C,IAAMmO,GAAOz9C,GAG1D/P,GADAkvB,IADAA,EAAI3tB,KAAK8D,KAAKrF,EAAIA,EAAIiD,EAAIA,IACjB6rD,EAAUlwD,IAAMswB,EAAIggC,EAAQL,EAAUjwD,GACvCqE,GAAKisB,EACb+Q,EAAOmf,IAAMp/C,GAAKT,EAAIwvD,EAAKnwD,IAC3BqhC,EAAOof,IAAMp8C,EAAI1D,EACjBiJ,EAAO42C,IAAMp/C,GAAKT,EAAI,EAAIA,GAC1BiJ,EAAO62C,IAAMp8C,EAAI1D,CAGvB,CAEA,SAASkkC,IACP,GAAKrhB,EAAL,CAEA,IAAIxjB,EAIAowD,EAHA9rD,EAAIkf,EAAMvjB,OACVmN,EAAI4iD,EAAM/vD,OACV4vD,EAAW,IAAIroD,IAAIgc,EAAM1d,KAAI,CAACtE,EAAGxB,IAAM,CAACE,EAAGsB,EAAGxB,EAAGwjB,GAAQhiB,MAG7D,IAAKxB,EAAI,EAAGkF,EAAQ,IAAIK,MAAMjB,GAAItE,EAAIoN,IAAKpN,GACzCowD,EAAOJ,EAAMhwD,IAASgC,MAAQhC,EACH,iBAAhBowD,EAAKxmD,SAAqBwmD,EAAKxmD,OAASgmD,GAAKC,EAAUO,EAAKxmD,SAC5C,iBAAhBwmD,EAAK/uB,SAAqB+uB,EAAK/uB,OAASuuB,GAAKC,EAAUO,EAAK/uB,SACvEn8B,EAAMkrD,EAAKxmD,OAAO5H,QAAUkD,EAAMkrD,EAAKxmD,OAAO5H,QAAU,GAAK,EAC7DkD,EAAMkrD,EAAK/uB,OAAOr/B,QAAUkD,EAAMkrD,EAAK/uB,OAAOr/B,QAAU,GAAK,EAG/D,IAAKhC,EAAI,EAAGmwD,EAAO,IAAI5qD,MAAM6H,GAAIpN,EAAIoN,IAAKpN,EACxCowD,EAAOJ,EAAMhwD,GAAImwD,EAAKnwD,GAAKkF,EAAMkrD,EAAKxmD,OAAO5H,QAAUkD,EAAMkrD,EAAKxmD,OAAO5H,OAASkD,EAAMkrD,EAAK/uB,OAAOr/B,QAGtGiuD,EAAY,IAAI1qD,MAAM6H,GAAImjD,IAC1BL,EAAY,IAAI3qD,MAAM6H,GAAIojD,GArBd,CAsBd,CAEA,SAASD,IACP,GAAK/sC,EAEL,IAAK,IAAIxjB,EAAI,EAAGsE,EAAI0rD,EAAM/vD,OAAQD,EAAIsE,IAAKtE,EACzCiwD,EAAUjwD,IAAMstD,EAAS0C,EAAMhwD,GAAIA,EAAGgwD,EAE1C,CAEA,SAASQ,IACP,GAAKhtC,EAEL,IAAK,IAAIxjB,EAAI,EAAGsE,EAAI0rD,EAAM/vD,OAAQD,EAAIsE,IAAKtE,EACzCkwD,EAAUlwD,IAAMqwD,EAASL,EAAMhwD,GAAIA,EAAGgwD,EAE1C,CA4BA,OA1Fa,MAATA,IAAeA,EAAQ,IAgE3BzC,EAAM1oB,WAAa,SAAS4qB,EAAQC,GAClClsC,EAAQisC,EACRt+C,EAASu+C,EACT7qB,GACF,EAEA0oB,EAAMyC,MAAQ,SAASziD,GACrB,OAAOC,UAAUvN,QAAU+vD,EAAQziD,EAAGs3B,IAAc0oB,GAASyC,CAC/D,EAEAzC,EAAMrtD,GAAK,SAASqN,GAClB,OAAOC,UAAUvN,QAAUC,EAAKqN,EAAGggD,GAASrtD,CAC9C,EAEAqtD,EAAM0B,WAAa,SAAS1hD,GAC1B,OAAOC,UAAUvN,QAAUgvD,GAAc1hD,EAAGggD,GAAS0B,CACvD,EAEA1B,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,EAAwB,mBAAN//C,EAAmBA,EAAIohD,IAAUphD,GAAIgjD,IAAsBhD,GAASD,CACnH,EAEAC,EAAM8C,SAAW,SAAS9iD,GACxB,OAAOC,UAAUvN,QAAUowD,EAAwB,mBAAN9iD,EAAmBA,EAAIohD,IAAUphD,GAAIijD,IAAsBjD,GAAS8C,CACnH,EAEO9C,CACT,CJhFAmB,GAAUn5C,KAAO,WACf,IAEIiO,EACA1I,EAHAvF,EAAO,IAAIg5C,GAAS1nD,KAAKonD,GAAIpnD,KAAKqnD,GAAIrnD,KAAKmjC,IAAKnjC,KAAKojC,IAAKpjC,KAAKqjC,IAAKrjC,KAAKsjC,KACzElxB,EAAOpS,KAAKknD,MAIhB,IAAK90C,EAAM,OAAO1D,EAElB,IAAK0D,EAAKhZ,OAAQ,OAAOsV,EAAKw4C,MAAQU,GAAUx1C,GAAO1D,EAGvD,IADAiO,EAAQ,CAAC,CAAC5Z,OAAQqP,EAAMooB,OAAQ9rB,EAAKw4C,MAAQ,IAAIxoD,MAAM,KAChD0T,EAAOuK,EAAM5d,OAClB,IAAK,IAAI5F,EAAI,EAAGA,EAAI,IAAKA,GACnB8a,EAAQ7B,EAAKrP,OAAO5J,MAClB8a,EAAM7a,OAAQujB,EAAMtd,KAAK,CAAC0D,OAAQkR,EAAOumB,OAAQpoB,EAAKooB,OAAOrhC,GAAK,IAAIuF,MAAM,KAC3E0T,EAAKooB,OAAOrhC,GAAKyuD,GAAU3zC,IAKtC,OAAOvF,CACT,EAEAm5C,GAAU1nD,IJ3DK,SAASxF,GACtB,MAAMJ,GAAKyF,KAAKonD,GAAGvgD,KAAK,KAAMlM,GAC1B6C,GAAKwC,KAAKqnD,GAAGxgD,KAAK,KAAMlM,GAC5B,OAAOksD,GAAI7mD,KAAK4pD,MAAMrvD,EAAGiD,GAAIjD,EAAGiD,EAAG7C,EACrC,EIwDAktD,GAAUF,OJXH,SAAgB9qD,GACrB,IAAIlC,EAAGxB,EACHoB,EACAiD,EAFMC,EAAIZ,EAAKzD,OAGf8M,EAAK,IAAIxH,MAAMjB,GACfosD,EAAK,IAAInrD,MAAMjB,GACf0I,EAAKmB,IACL48B,EAAK58B,IACLlB,GAAMkB,IACNu8B,GAAMv8B,IAGV,IAAKnO,EAAI,EAAGA,EAAIsE,IAAKtE,EACf6O,MAAMzN,GAAKyF,KAAKonD,GAAGvgD,KAAK,KAAMlM,EAAIkC,EAAK1D,MAAQ6O,MAAMxK,GAAKwC,KAAKqnD,GAAGxgD,KAAK,KAAMlM,MACjFuL,EAAG/M,GAAKoB,EACRsvD,EAAG1wD,GAAKqE,EACJjD,EAAI4L,IAAIA,EAAK5L,GACbA,EAAI6L,IAAIA,EAAK7L,GACbiD,EAAI0mC,IAAIA,EAAK1mC,GACbA,EAAIqmC,IAAIA,EAAKrmC,IAInB,GAAI2I,EAAKC,GAAM89B,EAAKL,EAAI,OAAO7jC,KAM/B,IAHAA,KAAK4pD,MAAMzjD,EAAI+9B,GAAI0lB,MAAMxjD,EAAIy9B,GAGxB1qC,EAAI,EAAGA,EAAIsE,IAAKtE,EACnB0tD,GAAI7mD,KAAMkG,EAAG/M,GAAI0wD,EAAG1wD,GAAI0D,EAAK1D,IAG/B,OAAO6G,IACT,EItBA6nD,GAAU+B,MK7DK,SAASrvD,EAAGiD,GACzB,GAAIwK,MAAMzN,GAAKA,IAAMyN,MAAMxK,GAAKA,GAAI,OAAOwC,KAE3C,IAAImG,EAAKnG,KAAKmjC,IACVe,EAAKlkC,KAAKojC,IACVh9B,EAAKpG,KAAKqjC,IACVQ,EAAK7jC,KAAKsjC,IAKd,GAAIt7B,MAAM7B,GACRC,GAAMD,EAAKrK,KAAKC,MAAMxB,IAAM,EAC5BspC,GAAMK,EAAKpoC,KAAKC,MAAMyB,IAAM,MAIzB,CAMH,IALA,IAEIuV,EACA5Z,EAHAoO,EAAInB,EAAKD,GAAM,EACfiM,EAAOpS,KAAKknD,MAIT/gD,EAAK5L,GAAKA,GAAK6L,GAAM89B,EAAK1mC,GAAKA,GAAKqmC,GAGzC,OAFA1qC,GAAKqE,EAAI0mC,IAAO,EAAK3pC,EAAI4L,GACzB4M,EAAS,IAAIrU,MAAM,IAAWvF,GAAKiZ,EAAMA,EAAOW,EAAQxL,GAAK,EACrDpO,GACN,KAAK,EAAGiN,EAAKD,EAAKoB,EAAGs8B,EAAKK,EAAK38B,EAAG,MAClC,KAAK,EAAGpB,EAAKC,EAAKmB,EAAGs8B,EAAKK,EAAK38B,EAAG,MAClC,KAAK,EAAGnB,EAAKD,EAAKoB,EAAG28B,EAAKL,EAAKt8B,EAAG,MAClC,KAAK,EAAGpB,EAAKC,EAAKmB,EAAG28B,EAAKL,EAAKt8B,EAI/BvH,KAAKknD,OAASlnD,KAAKknD,MAAM9tD,SAAQ4G,KAAKknD,MAAQ90C,EACpD,CAMA,OAJApS,KAAKmjC,IAAMh9B,EACXnG,KAAKojC,IAAMc,EACXlkC,KAAKqjC,IAAMj9B,EACXpG,KAAKsjC,IAAMO,EACJ7jC,IACT,ELoBA6nD,GAAUhrD,KM9DK,WACb,IAAIA,EAAO,GAIX,OAHAmD,KAAKyoD,OAAM,SAASr2C,GAClB,IAAKA,EAAKhZ,OAAQ,GAAGyD,EAAKwC,KAAK+S,EAAKvV,YAAcuV,EAAOA,EAAK7G,KAChE,IACO1O,CACT,ENyDAgrD,GAAUlqB,OO/DK,SAASj3B,GACtB,OAAOC,UAAUvN,OACX4G,KAAK4pD,OAAOljD,EAAE,GAAG,IAAKA,EAAE,GAAG,IAAIkjD,OAAOljD,EAAE,GAAG,IAAKA,EAAE,GAAG,IACrDsB,MAAMhI,KAAKmjC,UAAOloC,EAAY,CAAC,CAAC+E,KAAKmjC,IAAKnjC,KAAKojC,KAAM,CAACpjC,KAAKqjC,IAAKrjC,KAAKsjC,KAC7E,EP4DAukB,GAAUv1C,KQ9DK,SAAS/X,EAAGiD,EAAGjB,GAC5B,IAAIM,EAGAuJ,EACAy9B,EACAE,EACAC,EAKArV,EACAx1B,EAXAgN,EAAKnG,KAAKmjC,IACVe,EAAKlkC,KAAKojC,IAKVyT,EAAK72C,KAAKqjC,IACVyT,EAAK92C,KAAKsjC,IACVwmB,EAAQ,GACR13C,EAAOpS,KAAKknD,MAYhB,IARI90C,GAAM03C,EAAMzqD,KAAK,IAAIioD,GAAKl1C,EAAMjM,EAAI+9B,EAAI2S,EAAIC,IAClC,MAAVv6C,EAAgBA,EAAS+K,KAE3BnB,EAAK5L,EAAIgC,EAAQ2nC,EAAK1mC,EAAIjB,EAC1Bs6C,EAAKt8C,EAAIgC,EAAQu6C,EAAKt5C,EAAIjB,EAC1BA,GAAUA,GAGLoyB,EAAIm7B,EAAM/qD,OAGf,OAAMqT,EAAOuc,EAAEvc,QACPhM,EAAKuoB,EAAExoB,IAAM0wC,IACbhT,EAAKlV,EAAEuV,IAAM4S,IACb/S,EAAKpV,EAAEvoB,IAAMD,IACb69B,EAAKrV,EAAEkV,IAAMK,GAGrB,GAAI9xB,EAAKhZ,OAAQ,CACf,IAAI2tD,GAAM3gD,EAAK29B,GAAM,EACjBijB,GAAMnjB,EAAKG,GAAM,EAErB8lB,EAAMzqD,KACJ,IAAIioD,GAAKl1C,EAAK,GAAI20C,EAAIC,EAAIjjB,EAAIC,GAC9B,IAAIsjB,GAAKl1C,EAAK,GAAIhM,EAAI4gD,EAAID,EAAI/iB,GAC9B,IAAIsjB,GAAKl1C,EAAK,GAAI20C,EAAIljB,EAAIE,EAAIijB,GAC9B,IAAIM,GAAKl1C,EAAK,GAAIhM,EAAIy9B,EAAIkjB,EAAIC,KAI5B7tD,GAAKqE,GAAKwpD,IAAO,EAAKzsD,GAAKwsD,KAC7Bp4B,EAAIm7B,EAAMA,EAAM1wD,OAAS,GACzB0wD,EAAMA,EAAM1wD,OAAS,GAAK0wD,EAAMA,EAAM1wD,OAAS,EAAID,GACnD2wD,EAAMA,EAAM1wD,OAAS,EAAID,GAAKw1B,EAElC,KAGK,CACH,IAAIgR,EAAKplC,GAAKyF,KAAKonD,GAAGvgD,KAAK,KAAMuL,EAAKvV,MAClC+iC,EAAKpiC,GAAKwC,KAAKqnD,GAAGxgD,KAAK,KAAMuL,EAAKvV,MAClCktD,EAAKpqB,EAAKA,EAAKC,EAAKA,EACxB,GAAImqB,EAAKxtD,EAAQ,CACf,IAAI5B,EAAImB,KAAK8D,KAAKrD,EAASwtD,GAC3B5jD,EAAK5L,EAAII,EAAGupC,EAAK1mC,EAAI7C,EACrBk8C,EAAKt8C,EAAII,EAAGm8C,EAAKt5C,EAAI7C,EACrBkC,EAAOuV,EAAKvV,IACd,CACF,CAGF,OAAOA,CACT,ERJAgrD,GAAU/3C,OSjEK,SAASnV,GACtB,GAAIqN,MAAMzN,GAAKyF,KAAKonD,GAAGvgD,KAAK,KAAMlM,KAAOqN,MAAMxK,GAAKwC,KAAKqnD,GAAGxgD,KAAK,KAAMlM,IAAK,OAAOqF,KAEnF,IAAI+S,EAEAi3C,EACA1gD,EACAiC,EAKAhR,EACAiD,EACAupD,EACAC,EACA1rD,EACA2rD,EACA9tD,EACA0E,EAfAuU,EAAOpS,KAAKknD,MAIZ/gD,EAAKnG,KAAKmjC,IACVe,EAAKlkC,KAAKojC,IACVh9B,EAAKpG,KAAKqjC,IACVQ,EAAK7jC,KAAKsjC,IAWd,IAAKlxB,EAAM,OAAOpS,KAIlB,GAAIoS,EAAKhZ,OAAQ,OAAa,CAG5B,IAFIkC,EAAQf,IAAMwsD,GAAM5gD,EAAKC,GAAM,IAAID,EAAK4gD,EAAS3gD,EAAK2gD,GACtDE,EAASzpD,IAAMwpD,GAAM9iB,EAAKL,GAAM,IAAIK,EAAK8iB,EAASnjB,EAAKmjB,EACrDj0C,EAASX,IAAMA,EAAOA,EAAKjZ,EAAI8tD,GAAU,EAAI3rD,IAAS,OAAO0E,KACnE,IAAKoS,EAAKhZ,OAAQ,OACd2Z,EAAO5Z,EAAK,EAAK,IAAM4Z,EAAO5Z,EAAK,EAAK,IAAM4Z,EAAO5Z,EAAK,EAAK,MAAI6wD,EAAWj3C,EAAQlV,EAAI1E,EAChG,CAGA,KAAOiZ,EAAKvV,OAASlC,MAAS2O,EAAW8I,IAAMA,EAAOA,EAAK7G,MAAO,OAAOvL,KAIzE,OAHIuL,EAAO6G,EAAK7G,cAAa6G,EAAK7G,KAG9BjC,GAAiBiC,EAAQjC,EAASiC,KAAOA,SAAcjC,EAASiC,KAAOvL,MAGtE+S,GAGLxH,EAAOwH,EAAO5Z,GAAKoS,SAAcwH,EAAO5Z,IAGnCiZ,EAAOW,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAMA,EAAO,KACnDX,KAAUW,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAMA,EAAO,MACvDX,EAAKhZ,SACP4wD,EAAUA,EAASnsD,GAAKuU,EACvBpS,KAAKknD,MAAQ90C,GAGbpS,OAbaA,KAAKknD,MAAQ37C,EAAMvL,KAczC,ETUA6nD,GAAUoC,USRH,SAAmBptD,GACxB,IAAK,IAAI1D,EAAI,EAAGsE,EAAIZ,EAAKzD,OAAQD,EAAIsE,IAAKtE,EAAG6G,KAAK8P,OAAOjT,EAAK1D,IAC9D,OAAO6G,IACT,ETMA6nD,GAAUvpC,KUnEK,WACb,OAAOte,KAAKknD,KACd,EVkEAW,GAAUjrC,KWpEK,WACb,IAAIA,EAAO,EAIX,OAHA5c,KAAKyoD,OAAM,SAASr2C,GAClB,IAAKA,EAAKhZ,OAAQ,KAAKwjB,QAAaxK,EAAOA,EAAK7G,KAClD,IACOqR,CACT,EX+DAirC,GAAUY,MYnEK,SAAS53C,GACtB,IAAgB8d,EAAsB1a,EAAO9N,EAAI+9B,EAAI99B,EAAIy9B,EAArDimB,EAAQ,GAAO13C,EAAOpS,KAAKknD,MAE/B,IADI90C,GAAM03C,EAAMzqD,KAAK,IAAIioD,GAAKl1C,EAAMpS,KAAKmjC,IAAKnjC,KAAKojC,IAAKpjC,KAAKqjC,IAAKrjC,KAAKsjC,MAChE3U,EAAIm7B,EAAM/qD,WACV8R,EAASuB,EAAOuc,EAAEvc,KAAMjM,EAAKwoB,EAAExoB,GAAI+9B,EAAKvV,EAAEuV,GAAI99B,EAAKuoB,EAAEvoB,GAAIy9B,EAAKlV,EAAEkV,KAAOzxB,EAAKhZ,OAAQ,CACvF,IAAI2tD,GAAM5gD,EAAKC,GAAM,EAAG4gD,GAAM9iB,EAAKL,GAAM,GACrC5vB,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO8yC,EAAIC,EAAI5gD,EAAIy9B,KACxD5vB,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO9N,EAAI6gD,EAAID,EAAIljB,KACxD5vB,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO8yC,EAAI7iB,EAAI99B,EAAI4gD,KACxD/yC,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO9N,EAAI+9B,EAAI6iB,EAAIC,GAC9D,CAEF,OAAOhnD,IACT,EZuDA6nD,GAAUU,WapEK,SAAS13C,GACtB,IAA2B8d,EAAvBm7B,EAAQ,GAAIv+C,EAAO,GAEvB,IADIvL,KAAKknD,OAAO4C,EAAMzqD,KAAK,IAAIioD,GAAKtnD,KAAKknD,MAAOlnD,KAAKmjC,IAAKnjC,KAAKojC,IAAKpjC,KAAKqjC,IAAKrjC,KAAKsjC,MAC5E3U,EAAIm7B,EAAM/qD,OAAO,CACtB,IAAIqT,EAAOuc,EAAEvc,KACb,GAAIA,EAAKhZ,OAAQ,CACf,IAAI6a,EAAO9N,EAAKwoB,EAAExoB,GAAI+9B,EAAKvV,EAAEuV,GAAI99B,EAAKuoB,EAAEvoB,GAAIy9B,EAAKlV,EAAEkV,GAAIkjB,GAAM5gD,EAAKC,GAAM,EAAG4gD,GAAM9iB,EAAKL,GAAM,GACxF5vB,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO9N,EAAI+9B,EAAI6iB,EAAIC,KACxD/yC,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO8yC,EAAI7iB,EAAI99B,EAAI4gD,KACxD/yC,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO9N,EAAI6gD,EAAID,EAAIljB,KACxD5vB,EAAQ7B,EAAK,KAAI03C,EAAMzqD,KAAK,IAAIioD,GAAKrzC,EAAO8yC,EAAIC,EAAI5gD,EAAIy9B,GAC9D,CACAt4B,EAAKlM,KAAKsvB,EACZ,CACA,KAAOA,EAAIpjB,EAAKxM,OACd8R,EAAS8d,EAAEvc,KAAMuc,EAAExoB,GAAIwoB,EAAEuV,GAAIvV,EAAEvoB,GAAIuoB,EAAEkV,IAEvC,OAAO7jC,IACT,EbmDA6nD,GAAUttD,EFnEK,SAASmM,GACtB,OAAOC,UAAUvN,QAAU4G,KAAKonD,GAAK1gD,EAAG1G,MAAQA,KAAKonD,EACvD,EEkEAS,GAAUrqD,EDpEK,SAASkJ,GACtB,OAAOC,UAAUvN,QAAU4G,KAAKqnD,GAAK3gD,EAAG1G,MAAQA,KAAKqnD,EACvD,EeLA,MAAM6C,GAAI,QACJC,GAAI,WACJC,GAAI,WAEK,SAAAC,KACb,IAAIzsD,EAAI,EACR,MAAO,KAAOA,GAAKssD,GAAItsD,EAAIusD,IAAKC,IAAKA,EACvC,CCJO,SAASE,GAAE3vD,GAChB,OAAOA,EAAEJ,CACX,CAEO,SAASgwD,GAAE5vD,GAChB,OAAOA,EAAE6C,CACX,CAEA,IAAIgtD,GAAgB,GAChBC,GAAe3uD,KAAKk4B,IAAM,EAAIl4B,KAAK8D,KAAK,IAE7B,SAAA8qD,GAAS/tC,GACtB,IAAIguC,EACAlB,EAAQ,EACRmB,EAAW,KACXC,EAAa,EAAI/uD,KAAK6I,IAAIimD,EAAU,EAAI,KACxCE,EAAc,EACdC,EAAgB,GAChBC,EAAS,IAAIrqD,IACbsqD,EAAU75B,GAAMx0B,GAChB4c,EAAQhI,GAAS,OAAQ,OACzBlH,EAAS+/C,KAIb,SAASztD,IACPkS,IACA0K,EAAM3S,KAAK,OAAQ8jD,GACflB,EAAQmB,IACVK,EAAQtuD,OACR6c,EAAM3S,KAAK,MAAO8jD,GAEtB,CAEA,SAAS77C,EAAKs5C,GACZ,IAAIjvD,EAAqBiZ,EAAlB3U,EAAIkf,EAAMvjB,YAEE6B,IAAfmtD,IAA0BA,EAAa,GAE3C,IAAK,IAAI/gD,EAAI,EAAGA,EAAI+gD,IAAc/gD,EAOhC,IANAoiD,IAAUqB,EAAcrB,GAASoB,EAEjCG,EAAOlhD,SAAQ,SAAS48C,GACtBA,EAAM+C,EACR,IAEKtwD,EAAI,EAAGA,EAAIsE,IAAKtE,EAEJ,OADfiZ,EAAOuK,EAAMxjB,IACJm8C,GAAYljC,EAAK7X,GAAK6X,EAAKunC,IAAMoR,GACrC34C,EAAK7X,EAAI6X,EAAKkjC,GAAIljC,EAAKunC,GAAK,GAClB,MAAXvnC,EAAKmjC,GAAYnjC,EAAK5U,GAAK4U,EAAKwnC,IAAMmR,GACrC34C,EAAK5U,EAAI4U,EAAKmjC,GAAInjC,EAAKwnC,GAAK,GAIrC,OAAO+Q,CACT,CAEA,SAASO,IACP,IAAK,IAA6B94C,EAAzBjZ,EAAI,EAAGsE,EAAIkf,EAAMvjB,OAAcD,EAAIsE,IAAKtE,EAAG,CAIlD,IAHAiZ,EAAOuK,EAAMxjB,IAASgC,MAAQhC,EACf,MAAXiZ,EAAKkjC,KAAYljC,EAAK7X,EAAI6X,EAAKkjC,IACpB,MAAXljC,EAAKmjC,KAAYnjC,EAAK5U,EAAI4U,EAAKmjC,IAC/BvtC,MAAMoK,EAAK7X,IAAMyN,MAAMoK,EAAK5U,GAAI,CAClC,IAAIjB,EAASiuD,GAAgB1uD,KAAK8D,KAAK,GAAMzG,GAAIgyD,EAAQhyD,EAAIsxD,GAC7Dr4C,EAAK7X,EAAIgC,EAAST,KAAKolC,IAAIiqB,GAC3B/4C,EAAK5U,EAAIjB,EAAST,KAAKslC,IAAI+pB,EAC7B,EACInjD,MAAMoK,EAAKunC,KAAO3xC,MAAMoK,EAAKwnC,OAC/BxnC,EAAKunC,GAAKvnC,EAAKwnC,GAAK,EAExB,CACF,CAEA,SAASwR,EAAgB1E,GAEvB,OADIA,EAAM1oB,YAAY0oB,EAAM1oB,WAAWrhB,EAAOrS,GACvCo8C,CACT,CAIA,OA1Da,MAAT/pC,IAAeA,EAAQ,IAwD3BuuC,IAEOP,EAAa,CAClB77C,KAAMA,EAENyiB,QAAS,WACP,OAAO05B,EAAQ15B,QAAQ30B,GAAO+tD,CAChC,EAEAhuD,KAAM,WACJ,OAAOsuD,EAAQtuD,OAAQguD,CACzB,EAEAhuC,MAAO,SAASjW,GACd,OAAOC,UAAUvN,QAAUujB,EAAQjW,EAAGwkD,IAAmBF,EAAOlhD,QAAQshD,GAAkBT,GAAchuC,CAC1G,EAEA8sC,MAAO,SAAS/iD,GACd,OAAOC,UAAUvN,QAAUqwD,GAAS/iD,EAAGikD,GAAclB,CACvD,EAEAmB,SAAU,SAASlkD,GACjB,OAAOC,UAAUvN,QAAUwxD,GAAYlkD,EAAGikD,GAAcC,CAC1D,EAEAC,WAAY,SAASnkD,GACnB,OAAOC,UAAUvN,QAAUyxD,GAAcnkD,EAAGikD,IAAeE,CAC7D,EAEAC,YAAa,SAASpkD,GACpB,OAAOC,UAAUvN,QAAU0xD,GAAepkD,EAAGikD,GAAcG,CAC7D,EAEAC,cAAe,SAASrkD,GACtB,OAAOC,UAAUvN,QAAU2xD,EAAgB,EAAIrkD,EAAGikD,GAAc,EAAII,CACtE,EAEAM,aAAc,SAAS3kD,GACrB,OAAOC,UAAUvN,QAAUkR,EAAS5D,EAAGskD,EAAOlhD,QAAQshD,GAAkBT,GAAcrgD,CACxF,EAEAo8C,MAAO,SAAS/1C,EAAMjK,GACpB,OAAOC,UAAUvN,OAAS,GAAW,MAANsN,EAAaskD,EAAOxpD,OAAOmP,GAAQq6C,EAAO7pD,IAAIwP,EAAMy6C,EAAgB1kD,IAAMikD,GAAcK,EAAO5pD,IAAIuP,EACpI,EAEA2B,KAAM,SAAS/X,EAAGiD,EAAGjB,GACnB,IAEIojC,EACAC,EACAmqB,EACA33C,EACAk5C,EANAnyD,EAAI,EACJsE,EAAIkf,EAAMvjB,OAUd,IAHc,MAAVmD,EAAgBA,EAAS+K,IACxB/K,GAAUA,EAEVpD,EAAI,EAAGA,EAAIsE,IAAKtE,GAInB4wD,GAFApqB,EAAKplC,GADL6X,EAAOuK,EAAMxjB,IACCoB,GAEJolC,GADVC,EAAKpiC,EAAI4U,EAAK5U,GACMoiC,GACXrjC,IAAQ+uD,EAAUl5C,EAAM7V,EAASwtD,GAG5C,OAAOuB,CACT,EAEAv6C,GAAI,SAASJ,EAAMjK,GACjB,OAAOC,UAAUvN,OAAS,GAAKogB,EAAMzI,GAAGJ,EAAMjK,GAAIikD,GAAcnxC,EAAMzI,GAAGJ,EAC3E,EAEJ,CCtJe,SAAA46C,KACb,IAAI5uC,EACAvK,EACA9H,EACAm/C,EAEAL,EADA3C,EAAWqB,IAAS,IAEpB0D,EAAe,EACfC,EAAenkD,IACfokD,EAAS,IAEb,SAAShF,EAAMhgD,GACb,IAAIvN,EAAGsE,EAAIkf,EAAMvjB,OAAQ0tD,EAAOW,GAAS9qC,EAAO2tC,GAAGC,IAAGhC,WAAWoD,GACjE,IAAKlC,EAAQ/iD,EAAGvN,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGiZ,EAAOuK,EAAMxjB,GAAI2tD,EAAK2B,MAAMr6C,EACjE,CAEA,SAAS4vB,IACP,GAAKrhB,EAAL,CACA,IAAIxjB,EAAqBiZ,EAAlB3U,EAAIkf,EAAMvjB,OAEjB,IADAgwD,EAAY,IAAI1qD,MAAMjB,GACjBtE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGiZ,EAAOuK,EAAMxjB,GAAIiwD,EAAUh3C,EAAKjX,QAAUsrD,EAASr0C,EAAMjZ,EAAGwjB,EAHxE,CAId,CAEA,SAASgvC,EAAWjD,GAClB,IAAkB/5B,EAAGprB,EAAehJ,EAAGiD,EAAGrE,EAAtCstD,EAAW,EAASha,EAAS,EAGjC,GAAIic,EAAKtvD,OAAQ,CACf,IAAKmB,EAAIiD,EAAIrE,EAAI,EAAGA,EAAI,IAAKA,GACtBw1B,EAAI+5B,EAAKvvD,MAAQoK,EAAIzH,KAAKuE,IAAIsuB,EAAEzzB,UACnCurD,GAAY93B,EAAEzzB,MAAOuxC,GAAUlpC,EAAGhJ,GAAKgJ,EAAIorB,EAAEp0B,EAAGiD,GAAK+F,EAAIorB,EAAEnxB,GAG/DkrD,EAAKnuD,EAAIA,EAAIkyC,EACbic,EAAKlrD,EAAIA,EAAIivC,CACf,KAGK,EACH9d,EAAI+5B,GACFnuD,EAAIo0B,EAAE9xB,KAAKtC,EACbo0B,EAAEnxB,EAAImxB,EAAE9xB,KAAKW,EACb,GAAGipD,GAAY2C,EAAUz6B,EAAE9xB,KAAK1B,aACzBwzB,EAAIA,EAAEpjB,KACf,CAEAm9C,EAAKxtD,MAAQurD,CACf,CAEA,SAASr4C,EAAMs6C,EAAMtiD,EAAIM,EAAGq9B,GAC1B,IAAK2kB,EAAKxtD,MAAO,OAAO,EAExB,IAAIX,EAAImuD,EAAKnuD,EAAI6X,EAAK7X,EAClBiD,EAAIkrD,EAAKlrD,EAAI4U,EAAK5U,EAClBF,EAAIymC,EAAK39B,EACTqjB,EAAIlvB,EAAIA,EAAIiD,EAAIA,EAIpB,GAAIF,EAAIA,EAAIouD,EAASjiC,EAQnB,OAPIA,EAAIgiC,IACI,IAANlxD,IAA6BkvB,IAApBlvB,EAAIwtD,GAAOz9C,IAAkB/P,GAChC,IAANiD,IAA6BisB,IAApBjsB,EAAIuqD,GAAOz9C,IAAkB9M,GACtCisB,EAAI+hC,IAAc/hC,EAAI3tB,KAAK8D,KAAK4rD,EAAe/hC,IACnDrX,EAAKunC,IAAMp/C,EAAImuD,EAAKxtD,MAAQuuD,EAAQhgC,EACpCrX,EAAKwnC,IAAMp8C,EAAIkrD,EAAKxtD,MAAQuuD,EAAQhgC,IAE/B,EAIJ,KAAIi/B,EAAKtvD,QAAUqwB,GAAKgiC,GAAxB,EAGD/C,EAAK7rD,OAASuV,GAAQs2C,EAAKn9C,QACnB,IAANhR,IAA6BkvB,IAApBlvB,EAAIwtD,GAAOz9C,IAAkB/P,GAChC,IAANiD,IAA6BisB,IAApBjsB,EAAIuqD,GAAOz9C,IAAkB9M,GACtCisB,EAAI+hC,IAAc/hC,EAAI3tB,KAAK8D,KAAK4rD,EAAe/hC,KAGrD,GAAOi/B,EAAK7rD,OAASuV,IACnB9U,EAAI8rD,EAAUV,EAAK7rD,KAAK1B,OAASsuD,EAAQhgC,EACzCrX,EAAKunC,IAAMp/C,EAAI+C,EACf8U,EAAKwnC,IAAMp8C,EAAIF,SACRorD,EAAOA,EAAKn9C,KAbsB,CAc7C,CAwBA,OAtBAm7C,EAAM1oB,WAAa,SAAS4qB,EAAQC,GAClClsC,EAAQisC,EACRt+C,EAASu+C,EACT7qB,GACF,EAEA0oB,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,EAAwB,mBAAN//C,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASD,CAC3G,EAEAC,EAAMkF,YAAc,SAASllD,GAC3B,OAAOC,UAAUvN,QAAUoyD,EAAe9kD,EAAIA,EAAGggD,GAAS5qD,KAAK8D,KAAK4rD,EACtE,EAEA9E,EAAMmF,YAAc,SAASnlD,GAC3B,OAAOC,UAAUvN,QAAUqyD,EAAe/kD,EAAIA,EAAGggD,GAAS5qD,KAAK8D,KAAK6rD,EACtE,EAEA/E,EAAMoF,MAAQ,SAASplD,GACrB,OAAOC,UAAUvN,QAAUsyD,EAAShlD,EAAIA,EAAGggD,GAAS5qD,KAAK8D,KAAK8rD,EAChE,EAEOhF,CACT,CCjHe,SAAAqF,GAASxvD,EAAQhC,EAAGiD,GACjC,IAAImf,EAEAysC,EACA4C,EAFAvF,EAAWqB,GAAS,IAQxB,SAASpB,EAAM+C,GACb,IAAK,IAAItwD,EAAI,EAAGsE,EAAIkf,EAAMvjB,OAAQD,EAAIsE,IAAKtE,EAAG,CAC5C,IAAIiZ,EAAOuK,EAAMxjB,GACbwmC,EAAKvtB,EAAK7X,EAAIA,GAAK,KACnBqlC,EAAKxtB,EAAK5U,EAAIA,GAAK,KACnB5B,EAAIE,KAAK8D,KAAK+/B,EAAKA,EAAKC,EAAKA,GAC7Bv4B,GAAK2kD,EAAS7yD,GAAKyC,GAAKwtD,EAAUjwD,GAAKswD,EAAQ7tD,EACnDwW,EAAKunC,IAAMha,EAAKt4B,EAChB+K,EAAKwnC,IAAMha,EAAKv4B,CAClB,CACF,CAEA,SAAS22B,IACP,GAAKrhB,EAAL,CACA,IAAIxjB,EAAGsE,EAAIkf,EAAMvjB,OAGjB,IAFAgwD,EAAY,IAAI1qD,MAAMjB,GACtBuuD,EAAW,IAAIttD,MAAMjB,GAChBtE,EAAI,EAAGA,EAAIsE,IAAKtE,EACnB6yD,EAAS7yD,IAAMoD,EAAOogB,EAAMxjB,GAAIA,EAAGwjB,GACnCysC,EAAUjwD,GAAK6O,MAAMgkD,EAAS7yD,IAAM,GAAKstD,EAAS9pC,EAAMxjB,GAAIA,EAAGwjB,EANrD,CAQd,CAsBA,MA/CsB,mBAAXpgB,IAAuBA,EAASurD,IAAUvrD,IAC5C,MAALhC,IAAWA,EAAI,GACV,MAALiD,IAAWA,EAAI,GAyBnBkpD,EAAM1oB,WAAa,SAASt3B,GAC1BiW,EAAQjW,EAAGs3B,GACb,EAEA0oB,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,EAAwB,mBAAN//C,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASD,CAC3G,EAEAC,EAAMnqD,OAAS,SAASmK,GACtB,OAAOC,UAAUvN,QAAUmD,EAAsB,mBAANmK,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASnqD,CACzG,EAEAmqD,EAAMnsD,EAAI,SAASmM,GACjB,OAAOC,UAAUvN,QAAUmB,GAAKmM,EAAGggD,GAASnsD,CAC9C,EAEAmsD,EAAMlpD,EAAI,SAASkJ,GACjB,OAAOC,UAAUvN,QAAUoE,GAAKkJ,EAAGggD,GAASlpD,CAC9C,EAEOkpD,CACT,CCtDe,SAAAuF,GAAS1xD,GACtB,IACIoiB,EACAysC,EACAljD,EAHAugD,EAAWqB,GAAS,IAOxB,SAASpB,EAAM+C,GACb,IAAK,IAA6Br3C,EAAzBjZ,EAAI,EAAGsE,EAAIkf,EAAMvjB,OAAcD,EAAIsE,IAAKtE,GAC/CiZ,EAAOuK,EAAMxjB,IAASwgD,KAAOzzC,EAAG/M,GAAKiZ,EAAK7X,GAAK6uD,EAAUjwD,GAAKswD,CAElE,CAEA,SAASzrB,IACP,GAAKrhB,EAAL,CACA,IAAIxjB,EAAGsE,EAAIkf,EAAMvjB,OAGjB,IAFAgwD,EAAY,IAAI1qD,MAAMjB,GACtByI,EAAK,IAAIxH,MAAMjB,GACVtE,EAAI,EAAGA,EAAIsE,IAAKtE,EACnBiwD,EAAUjwD,GAAK6O,MAAM9B,EAAG/M,IAAMoB,EAAEoiB,EAAMxjB,GAAIA,EAAGwjB,IAAU,GAAK8pC,EAAS9pC,EAAMxjB,GAAIA,EAAGwjB,EALxE,CAOd,CAeA,MA/BiB,mBAANpiB,IAAkBA,EAAIutD,GAAc,MAALvtD,EAAY,GAAKA,IAkB3DmsD,EAAM1oB,WAAa,SAASt3B,GAC1BiW,EAAQjW,EACRs3B,GACF,EAEA0oB,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,EAAwB,mBAAN//C,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASD,CAC3G,EAEAC,EAAMnsD,EAAI,SAASmM,GACjB,OAAOC,UAAUvN,QAAUmB,EAAiB,mBAANmM,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASnsD,CACpG,EAEOmsD,CACT,CCtCe,SAAAwF,GAAS1uD,GACtB,IACImf,EACAysC,EACAS,EAHApD,EAAWqB,GAAS,IAOxB,SAASpB,EAAM+C,GACb,IAAK,IAA6Br3C,EAAzBjZ,EAAI,EAAGsE,EAAIkf,EAAMvjB,OAAcD,EAAIsE,IAAKtE,GAC/CiZ,EAAOuK,EAAMxjB,IAASygD,KAAOiQ,EAAG1wD,GAAKiZ,EAAK5U,GAAK4rD,EAAUjwD,GAAKswD,CAElE,CAEA,SAASzrB,IACP,GAAKrhB,EAAL,CACA,IAAIxjB,EAAGsE,EAAIkf,EAAMvjB,OAGjB,IAFAgwD,EAAY,IAAI1qD,MAAMjB,GACtBosD,EAAK,IAAInrD,MAAMjB,GACVtE,EAAI,EAAGA,EAAIsE,IAAKtE,EACnBiwD,EAAUjwD,GAAK6O,MAAM6hD,EAAG1wD,IAAMqE,EAAEmf,EAAMxjB,GAAIA,EAAGwjB,IAAU,GAAK8pC,EAAS9pC,EAAMxjB,GAAIA,EAAGwjB,EALxE,CAOd,CAeA,MA/BiB,mBAANnf,IAAkBA,EAAIsqD,GAAc,MAALtqD,EAAY,GAAKA,IAkB3DkpD,EAAM1oB,WAAa,SAASt3B,GAC1BiW,EAAQjW,EACRs3B,GACF,EAEA0oB,EAAMD,SAAW,SAAS//C,GACxB,OAAOC,UAAUvN,QAAUqtD,EAAwB,mBAAN//C,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASD,CAC3G,EAEAC,EAAMlpD,EAAI,SAASkJ,GACjB,OAAOC,UAAUvN,QAAUoE,EAAiB,mBAANkJ,EAAmBA,EAAIohD,IAAUphD,GAAIs3B,IAAc0oB,GAASlpD,CACpG,EAEOkpD,CACT,C,UC/BO,SAASyF,GAAmB5xD,EAAG6F,GACpC,IAAKjH,GAAKoB,EAAI6F,EAAI7F,EAAE6xD,cAAchsD,EAAI,GAAK7F,EAAE6xD,iBAAiBh7C,QAAQ,MAAQ,EAAG,OAAO,KACxF,IAAIjY,EAAGkzD,EAAc9xD,EAAE4B,MAAM,EAAGhD,GAIhC,MAAO,CACLkzD,EAAYjzD,OAAS,EAAIizD,EAAY,GAAKA,EAAYlwD,MAAM,GAAKkwD,GAChE9xD,EAAE4B,MAAMhD,EAAI,GAEjB,CCjBe,SAAAmzD,GAAS/xD,GACtB,OAAOA,EAAI4xD,GAAmBrwD,KAAKuE,IAAI9F,KAASA,EAAE,GAAKR,GACzD,CCJe,SAAAwyD,GAASC,GACtB,OAAO,SAAStxD,GACd,OAAOA,EAAMgkD,QAAQ,UAAU,SAAS/lD,GACtC,OAAOqzD,GAAUrzD,EACnB,GACF,CACF,C,4RCLA,ICCWszD,GDDPC,GAAK,2EAEM,SAAAC,GAAyBC,GACtC,KAAMxxC,EAAQsxC,GAAG/iC,KAAKijC,IAAa,MAAM,IAAIrzD,MAAM,mBAAqBqzD,GACxE,IAAIxxC,EACJ,OAAO,IAAIyxC,GAAgB,CACzB3tD,KAAMkc,EAAM,GACZ0xC,MAAO1xC,EAAM,GACbgxB,KAAMhxB,EAAM,GACZ2xC,OAAQ3xC,EAAM,GACd4xC,KAAM5xC,EAAM,GACZpe,MAAOoe,EAAM,GACb6xC,MAAO7xC,EAAM,GACb8xC,UAAW9xC,EAAM,IAAMA,EAAM,GAAGjf,MAAM,GACtC+U,KAAMkK,EAAM,GACZ1K,KAAM0K,EAAM,KAEhB,CAIO,SAASyxC,GAAgBD,GAC9B5sD,KAAKd,UAA0BjE,IAAnB2xD,EAAU1tD,KAAqB,IAAM0tD,EAAU1tD,KAAO,GAClEc,KAAK8sD,WAA4B7xD,IAApB2xD,EAAUE,MAAsB,IAAMF,EAAUE,MAAQ,GACrE9sD,KAAKosC,UAA0BnxC,IAAnB2xD,EAAUxgB,KAAqB,IAAMwgB,EAAUxgB,KAAO,GAClEpsC,KAAK+sD,YAA8B9xD,IAArB2xD,EAAUG,OAAuB,GAAKH,EAAUG,OAAS,GACvE/sD,KAAKgtD,OAASJ,EAAUI,KACxBhtD,KAAKhD,WAA4B/B,IAApB2xD,EAAU5vD,WAAsB/B,GAAa2xD,EAAU5vD,MACpEgD,KAAKitD,QAAUL,EAAUK,MACzBjtD,KAAKktD,eAAoCjyD,IAAxB2xD,EAAUM,eAA0BjyD,GAAa2xD,EAAUM,UAC5EltD,KAAKkR,OAAS07C,EAAU17C,KACxBlR,KAAK0Q,UAA0BzV,IAAnB2xD,EAAUl8C,KAAqB,GAAKk8C,EAAUl8C,KAAO,EACnE,CEhCe,SAAAy8C,GAASvvD,GACtBoO,EAAK,IAAK,IAAkCnH,EAA9BpH,EAAIG,EAAExE,OAAQD,EAAI,EAAG8O,GAAK,EAAQ9O,EAAIsE,IAAKtE,EACvD,OAAQyE,EAAEzE,IACR,IAAK,IAAK8O,EAAKpD,EAAK1L,EAAG,MACvB,IAAK,IAAgB,IAAP8O,IAAUA,EAAK9O,GAAG0L,EAAK1L,EAAG,MACxC,QAAS,KAAMyE,EAAEzE,GAAI,MAAM6S,EAAS/D,EAAK,IAAGA,EAAK,GAGrD,OAAOA,EAAK,EAAIrK,EAAEzB,MAAM,EAAG8L,GAAMrK,EAAEzB,MAAM0I,EAAK,GAAKjH,CACrD,CCRe,SAAAwvD,GAAS7yD,EAAG6F,GACzB,IAAIzF,EAAIwxD,GAAmB5xD,EAAG6F,GAC9B,IAAKzF,EAAG,OAAOJ,EAAI,GACnB,IAAI8xD,EAAc1xD,EAAE,GAChB2mD,EAAW3mD,EAAE,GACjB,OAAO2mD,EAAW,EAAI,KAAO,IAAI5iD,OAAO4iD,GAAUhnC,KAAK,KAAO+xC,EACxDA,EAAYjzD,OAASkoD,EAAW,EAAI+K,EAAYlwD,MAAM,EAAGmlD,EAAW,GAAK,IAAM+K,EAAYlwD,MAAMmlD,EAAW,GAC5G+K,EAAc,IAAI3tD,MAAM4iD,EAAW+K,EAAYjzD,OAAS,GAAGkhB,KAAK,IACxE,CHUAqyC,GAAgB1oD,UAAY4oD,GAAgB5oD,UAe5C4oD,GAAgB5oD,UAAUwmB,SAAW,WACnC,OAAOzqB,KAAKd,KACNc,KAAK8sD,MACL9sD,KAAKosC,KACLpsC,KAAK+sD,QACJ/sD,KAAKgtD,KAAO,IAAM,UACH/xD,IAAf+E,KAAKhD,MAAsB,GAAKlB,KAAKiC,IAAI,EAAgB,EAAbiC,KAAKhD,SACjDgD,KAAKitD,MAAQ,IAAM,UACAhyD,IAAnB+E,KAAKktD,UAA0B,GAAK,IAAMpxD,KAAKiC,IAAI,EAAoB,EAAjBiC,KAAKktD,aAC3DltD,KAAKkR,KAAO,IAAM,IACnBlR,KAAK0Q,IACb,E,II1CA28C,GAAe,CACb,IAAK,CAAC9yD,EAAG6F,KAAW,IAAJ7F,GAAS+yD,QAAQltD,GACjCtG,EAAMS,GAAMuB,KAAKkJ,MAAMzK,GAAGkwB,SAAS,GACnClnB,EAAMhJ,GAAMA,EAAI,GAChBI,EPRa,SAASJ,GACtB,OAAOuB,KAAKuE,IAAI9F,EAAIuB,KAAKkJ,MAAMzK,KAAO,KAChCA,EAAEgzD,eAAe,MAAMrO,QAAQ,KAAM,IACrC3kD,EAAEkwB,SAAS,GACnB,EOKEgH,EAAK,CAACl3B,EAAG6F,IAAM7F,EAAE6xD,cAAchsD,GAC/BlG,EAAK,CAACK,EAAG6F,IAAM7F,EAAE+yD,QAAQltD,GACzB+B,EAAK,CAAC5H,EAAG6F,IAAM7F,EAAEizD,YAAYptD,GAC7B8L,EAAM3R,GAAMuB,KAAKkJ,MAAMzK,GAAGkwB,SAAS,GACnCrqB,EAAK,CAAC7F,EAAG6F,IAAMgtD,GAAkB,IAAJ7yD,EAAS6F,GACtCxE,EAAKwxD,GACLxvD,EHXa,SAASrD,EAAG6F,GACzB,IAAIzF,EAAIwxD,GAAmB5xD,EAAG6F,GAC9B,IAAKzF,EAAG,OAAOJ,EAAI,GACnB,IAAI8xD,EAAc1xD,EAAE,GAChB2mD,EAAW3mD,EAAE,GACbxB,EAAImoD,GAAYmL,GAAuE,EAAtD3wD,KAAKiC,KAAI,EAAIjC,KAAKgC,IAAI,EAAGhC,KAAKC,MAAMulD,EAAW,MAAY,EAC5F7jD,EAAI4uD,EAAYjzD,OACpB,OAAOD,IAAMsE,EAAI4uD,EACXlzD,EAAIsE,EAAI4uD,EAAc,IAAI3tD,MAAMvF,EAAIsE,EAAI,GAAG6c,KAAK,KAChDnhB,EAAI,EAAIkzD,EAAYlwD,MAAM,EAAGhD,GAAK,IAAMkzD,EAAYlwD,MAAMhD,GAC1D,KAAO,IAAIuF,MAAM,EAAIvF,GAAGmhB,KAAK,KAAO6xC,GAAmB5xD,EAAGuB,KAAKiC,IAAI,EAAGqC,EAAIjH,EAAI,IAAI,EAC1F,EGCEs0D,EAAMlzD,GAAMuB,KAAKkJ,MAAMzK,GAAGkwB,SAAS,IAAIijC,cACvCnzD,EAAMA,GAAMuB,KAAKkJ,MAAMzK,GAAGkwB,SAAS,KCjBtB,SAAAkjC,GAASpzD,GACtB,OAAOA,CACT,CCOA,ICPIqzD,GACOC,GACAC,GDKPC,GAAMrvD,MAAMuF,UAAUhF,IACtB+uD,GAAW,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAEhE,SAAAC,GAASC,GACtB,IEbsBC,EAAUC,EFa5BvrD,OAA4B5H,IAApBizD,EAAOC,eAA+ClzD,IAArBizD,EAAOE,UAA0BT,IEbxDQ,EFa+EJ,GAAIlnD,KAAKqnD,EAAOC,SAAUnhB,QEb/FohB,EFawGF,EAAOE,UAAY,GEZpJ,SAASlzD,EAAO8B,GAOrB,IANA,IAAI7D,EAAI+B,EAAM9B,OACV6E,EAAI,GACJJ,EAAI,EACJsE,EAAIgsD,EAAS,GACb/0D,EAAS,EAEND,EAAI,GAAKgJ,EAAI,IACd/I,EAAS+I,EAAI,EAAInF,IAAOmF,EAAIrG,KAAKiC,IAAI,EAAGf,EAAQ5D,IACpD6E,EAAEoB,KAAKnE,EAAMmzD,UAAUl1D,GAAKgJ,EAAGhJ,EAAIgJ,OAC9B/I,GAAU+I,EAAI,GAAKnF,KACxBmF,EAAIgsD,EAAStwD,GAAKA,EAAI,GAAKswD,EAAS/0D,QAGtC,OAAO6E,EAAEiH,UAAUoV,KAAK8zC,EAC1B,GFFIE,OAAqCrzD,IAApBizD,EAAOK,SAAyB,GAAKL,EAAOK,SAAS,GAAK,GAC3EC,OAAqCvzD,IAApBizD,EAAOK,SAAyB,GAAKL,EAAOK,SAAS,GAAK,GAC3EE,OAA6BxzD,IAAnBizD,EAAOO,QAAwB,IAAMP,EAAOO,QAAU,GAChEjC,OAA+BvxD,IAApBizD,EAAO1B,SAAyBmB,GAAWpB,GAAewB,GAAIlnD,KAAKqnD,EAAO1B,SAAUkC,SAC/FC,OAA6B1zD,IAAnBizD,EAAOS,QAAwB,IAAMT,EAAOS,QAAU,GAChEC,OAAyB3zD,IAAjBizD,EAAOU,MAAsB,IAAMV,EAAOU,MAAQ,GAC1DC,OAAqB5zD,IAAfizD,EAAOW,IAAoB,MAAQX,EAAOW,IAAM,GAE1D,SAASC,EAAUlC,GAGjB,IAAI1tD,GAFJ0tD,EAAYD,GAAgBC,IAEP1tD,KACjB4tD,EAAQF,EAAUE,MAClB1gB,EAAOwgB,EAAUxgB,KACjB2gB,EAASH,EAAUG,OACnBC,EAAOJ,EAAUI,KACjBhwD,EAAQ4vD,EAAU5vD,MAClBiwD,EAAQL,EAAUK,MAClBC,EAAYN,EAAUM,UACtBh8C,EAAO07C,EAAU17C,KACjBR,EAAOk8C,EAAUl8C,KAGR,MAATA,GAAcu8C,GAAQ,EAAMv8C,EAAO,KAG7B28C,GAAY38C,UAAqBzV,IAAdiyD,IAA4BA,EAAY,IAAKh8C,GAAO,EAAMR,EAAO,MAG1Fs8C,GAAkB,MAAT9tD,GAA0B,MAAV4tD,KAAgBE,GAAO,EAAM9tD,EAAO,IAAK4tD,EAAQ,KAI9E,IAAIn4C,EAAoB,MAAXo4C,EAAiBuB,EAA4B,MAAXvB,GAAkB,SAAShiD,KAAK2F,GAAQ,IAAMA,EAAKgZ,cAAgB,GAC9GqlC,EAAoB,MAAXhC,EAAiByB,EAAiB,OAAOzjD,KAAK2F,GAAQi+C,EAAU,GAKzEK,EAAa3B,GAAY38C,GACzBu+C,EAAc,aAAalkD,KAAK2F,GAUpC,SAASrC,EAAOnT,GACd,IAEI/B,EAAGsE,EAAG8F,EAFN2rD,EAAcv6C,EACdw6C,EAAcJ,EAGlB,GAAa,MAATr+C,EACFy+C,EAAcH,EAAW9zD,GAASi0D,EAClCj0D,EAAQ,OACH,CAIL,IAAIk0D,GAHJl0D,GAASA,GAGmB,GAAK,EAAIA,EAAQ,EAiB7C,GAdAA,EAAQ8M,MAAM9M,GAAS2zD,EAAMG,EAAWlzD,KAAKuE,IAAInF,GAAQgyD,GAGrDh8C,IAAMhW,EAAQiyD,GAAWjyD,IAGzBk0D,GAA4B,IAAVl0D,GAAwB,MAATkxC,IAAcgjB,GAAgB,GAGnEF,GAAeE,EAA0B,MAAThjB,EAAeA,EAAOwiB,EAAkB,MAATxiB,GAAyB,MAATA,EAAe,GAAKA,GAAQ8iB,EAC3GC,GAAwB,MAATz+C,EAAes9C,GAAS,EAAIvB,GAAiB,GAAK,IAAM0C,GAAeC,GAA0B,MAAThjB,EAAe,IAAM,IAIxH6iB,EAEF,IADA91D,GAAI,EAAIsE,EAAIvC,EAAM9B,SACTD,EAAIsE,MACkB,IAAzB8F,EAAIrI,EAAM0jD,WAAWzlD,KAAcoK,EAAI,GAAI,CAC7C4rD,GAAqB,KAAN5rD,EAAWkrD,EAAUvzD,EAAMiB,MAAMhD,EAAI,GAAK+B,EAAMiB,MAAMhD,IAAMg2D,EAC3Ej0D,EAAQA,EAAMiB,MAAM,EAAGhD,GACvB,KACF,CAGN,CAGI8zD,IAAUD,IAAM9xD,EAAQ2H,EAAM3H,EAAOoM,MAGzC,IAAIlO,EAAS81D,EAAY91D,OAAS8B,EAAM9B,OAAS+1D,EAAY/1D,OACzDi2D,EAAUj2D,EAAS4D,EAAQ,IAAI0B,MAAM1B,EAAQ5D,EAAS,GAAGkhB,KAAKpb,GAAQ,GAM1E,OAHI+tD,GAASD,IAAM9xD,EAAQ2H,EAAMwsD,EAAUn0D,EAAOm0D,EAAQj2D,OAAS4D,EAAQmyD,EAAY/1D,OAASkO,KAAW+nD,EAAU,IAG7GvC,GACN,IAAK,IAAK5xD,EAAQg0D,EAAch0D,EAAQi0D,EAAcE,EAAS,MAC/D,IAAK,IAAKn0D,EAAQg0D,EAAcG,EAAUn0D,EAAQi0D,EAAa,MAC/D,IAAK,IAAKj0D,EAAQm0D,EAAQlzD,MAAM,EAAG/C,EAASi2D,EAAQj2D,QAAU,GAAK81D,EAAch0D,EAAQi0D,EAAcE,EAAQlzD,MAAM/C,GAAS,MAC9H,QAAS8B,EAAQm0D,EAAUH,EAAch0D,EAAQi0D,EAGnD,OAAO3C,EAAStxD,EAClB,CAMA,OAtEAgyD,OAA0BjyD,IAAdiyD,EAA0B,EAChC,SAASniD,KAAK2F,GAAQ5U,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,GAAIovD,IAC/CpxD,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,GAAIovD,IAgE/B7+C,EAAOoc,SAAW,WAChB,OAAOmiC,EAAY,EACrB,EAEOv+C,CACT,CAYA,MAAO,CACLA,OAAQygD,EACRQ,aAZF,SAAsB1C,EAAW1xD,GAC/B,IAAIhB,EAAI40D,IAAWlC,EAAYD,GAAgBC,IAAsBl8C,KAAO,IAAKk8C,IAC7En7B,EAAiE,EAA7D31B,KAAKiC,KAAI,EAAIjC,KAAKgC,IAAI,EAAGhC,KAAKC,MAAMuwD,GAASpxD,GAAS,KAC1DmM,EAAIvL,KAAK6I,IAAI,IAAK8sB,GAClB9c,EAASq5C,GAAS,EAAIv8B,EAAI,GAC9B,OAAO,SAASv2B,GACd,OAAOhB,EAAEmN,EAAInM,GAASyZ,CACxB,CACF,EAMF,CCvIe,SAAA46C,GAAuBxwC,GAIpC,OAHA6uC,GAASK,GAAalvC,GACtB8uC,GAASD,GAAOv/C,OAChBy/C,GAAeF,GAAO0B,aACf1B,EACT,CEfe,SAAA4B,GAAS5yD,GACtB,OAAOd,KAAKiC,IAAI,GAAIuuD,GAASxwD,KAAKuE,IAAIzD,IACxC,CCFe,SAAA6yD,GAAS7yD,EAAM1B,GAC5B,OAAOY,KAAKiC,IAAI,EAAgE,EAA7DjC,KAAKiC,KAAI,EAAIjC,KAAKgC,IAAI,EAAGhC,KAAKC,MAAMuwD,GAASpxD,GAAS,KAAWoxD,GAASxwD,KAAKuE,IAAIzD,IACxG,CCFe,SAAA8yD,GAAS9yD,EAAMmB,GAE5B,OADAnB,EAAOd,KAAKuE,IAAIzD,GAAOmB,EAAMjC,KAAKuE,IAAItC,GAAOnB,EACtCd,KAAKiC,IAAI,EAAGuuD,GAASvuD,GAAOuuD,GAAS1vD,IAAS,CACvD,CJCA2yD,GAAc,CACZnB,UAAW,IACXD,SAAU,CAAC,GACXI,SAAU,CAAC,IAAK,M,umDKTX,IAAIoB,GAAU,KACVC,GAAW,MACXC,GAAK/zD,KAAKk4B,GACV87B,GAASD,GAAK,EACdE,GAAYF,GAAK,EACjBG,GAAW,EAALH,GAENI,GAAU,IAAMJ,GAChBK,GAAUL,GAAK,IAEfM,GAAMr0D,KAAKuE,IACX+vD,GAAOt0D,KAAK44B,KACZ27B,GAAQv0D,KAAK24B,MACb67B,GAAMx0D,KAAKolC,IACXqvB,GAAOz0D,KAAK2J,KACZ+qD,GAAM10D,KAAK0L,IAEXipD,IADQ30D,KAAKC,MACLD,KAAK4+C,OACbgW,GAAM50D,KAAK6J,IACXgrD,GAAM70D,KAAK6I,IACXisD,GAAM90D,KAAKslC,IACXyvB,GAAO/0D,KAAKswC,MAAQ,SAAS7xC,GAAK,OAAOA,EAAI,EAAI,EAAIA,EAAI,GAAI,EAAK,CAAG,EACrEu2D,GAAOh1D,KAAK8D,KACZmxD,GAAMj1D,KAAK0sB,IAEf,SAASwoC,GAAKz2D,GACnB,OAAOA,EAAI,EAAI,EAAIA,GAAI,EAAKs1D,GAAK/zD,KAAKgpC,KAAKvqC,EAC7C,CAEO,SAAS02D,GAAK12D,GACnB,OAAOA,EAAI,EAAIu1D,GAASv1D,GAAI,GAAMu1D,GAASh0D,KAAKgoD,KAAKvpD,EACvD,CAEO,SAAS22D,GAAS32D,GACvB,OAAQA,EAAIq2D,GAAIr2D,EAAI,IAAMA,CAC5B,CCnCe,SAAA42D,KAAiB,CCAhC,SAASC,GAAelkB,EAAUmkB,GAC5BnkB,GAAYokB,GAAmBjgD,eAAe67B,EAASx8B,OACzD4gD,GAAmBpkB,EAASx8B,MAAMw8B,EAAUmkB,EAEhD,CAEA,IAAIE,GAAmB,CACrBC,QAAS,SAASjS,EAAQ8R,GACxBD,GAAe7R,EAAOrS,SAAUmkB,EAClC,EACAI,kBAAmB,SAASlS,EAAQ8R,GAElC,IADA,IAAIK,EAAWnS,EAAOmS,SAAUv4D,GAAI,EAAIsE,EAAIi0D,EAASt4D,SAC5CD,EAAIsE,GAAG2zD,GAAeM,EAASv4D,GAAG+zC,SAAUmkB,EACvD,GAGEC,GAAqB,CACvBK,OAAQ,SAASpS,EAAQ8R,GACvBA,EAAOO,QACT,EACAC,MAAO,SAAStS,EAAQ8R,GACtB9R,EAASA,EAAO1T,YAChBwlB,EAAOjiC,MAAMmwB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAC5C,EACAuS,WAAY,SAASvS,EAAQ8R,GAE3B,IADA,IAAIxlB,EAAc0T,EAAO1T,YAAa1yC,GAAI,EAAIsE,EAAIouC,EAAYzyC,SACrDD,EAAIsE,GAAG8hD,EAAS1T,EAAY1yC,GAAIk4D,EAAOjiC,MAAMmwB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GACrF,EACAwS,WAAY,SAASxS,EAAQ8R,GAC3BW,GAAWzS,EAAO1T,YAAawlB,EAAQ,EACzC,EACAY,gBAAiB,SAAS1S,EAAQ8R,GAEhC,IADA,IAAIxlB,EAAc0T,EAAO1T,YAAa1yC,GAAI,EAAIsE,EAAIouC,EAAYzyC,SACrDD,EAAIsE,GAAGu0D,GAAWnmB,EAAY1yC,GAAIk4D,EAAQ,EACrD,EACAa,QAAS,SAAS3S,EAAQ8R,GACxBc,GAAc5S,EAAO1T,YAAawlB,EACpC,EACAe,aAAc,SAAS7S,EAAQ8R,GAE7B,IADA,IAAIxlB,EAAc0T,EAAO1T,YAAa1yC,GAAI,EAAIsE,EAAIouC,EAAYzyC,SACrDD,EAAIsE,GAAG00D,GAActmB,EAAY1yC,GAAIk4D,EAChD,EACAgB,mBAAoB,SAAS9S,EAAQ8R,GAEnC,IADA,IAAIiB,EAAa/S,EAAO+S,WAAYn5D,GAAI,EAAIsE,EAAI60D,EAAWl5D,SAClDD,EAAIsE,GAAG2zD,GAAekB,EAAWn5D,GAAIk4D,EAChD,GAGF,SAASW,GAAWnmB,EAAawlB,EAAQkB,GACvC,IAA6CC,EAAzCr5D,GAAI,EAAIsE,EAAIouC,EAAYzyC,OAASm5D,EAErC,IADAlB,EAAOoB,cACEt5D,EAAIsE,GAAG+0D,EAAa3mB,EAAY1yC,GAAIk4D,EAAOjiC,MAAMojC,EAAW,GAAIA,EAAW,GAAIA,EAAW,IACnGnB,EAAOqB,SACT,CAEA,SAASP,GAActmB,EAAawlB,GAClC,IAAIl4D,GAAI,EAAIsE,EAAIouC,EAAYzyC,OAE5B,IADAi4D,EAAOsB,iBACEx5D,EAAIsE,GAAGu0D,GAAWnmB,EAAY1yC,GAAIk4D,EAAQ,GACnDA,EAAOuB,YACT,CAEe,SAAAC,GAAStT,EAAQ8R,GAC1B9R,GAAUgS,GAAiBlgD,eAAekuC,EAAO7uC,MACnD6gD,GAAiBhS,EAAO7uC,MAAM6uC,EAAQ8R,GAEtCD,GAAe7R,EAAQ8R,EAE3B,CC/DO,IAKHyB,GACAC,GACAC,GACAC,GACAC,GCRAC,GAASC,GAAMC,GAASC,GACxBC,GACAC,GAAUC,GACVC,GACAC,GACAC,GACAC,GDPOC,GAAc,IAAIh0D,EAIzBi0D,GAAU,IAAIj0D,EAOPk0D,GAAa,CACtB5kC,MAAO+hC,GACPsB,UAAWtB,GACXuB,QAASvB,GACTwB,aAAc,WACZmB,GAAc,IAAIh0D,EAClBk0D,GAAWvB,UAAYwB,GACvBD,GAAWtB,QAAUwB,EACvB,EACAtB,WAAY,WACV,IAAIuB,GAAYL,GAChBC,GAAQ5zD,IAAIg0D,EAAW,EAAInE,GAAMmE,EAAWA,GAC5Cn0D,KAAKyyD,UAAYzyD,KAAK0yD,QAAU1yD,KAAKovB,MAAQ+hC,EAC/C,EACAS,OAAQ,WACNmC,GAAQ5zD,IAAI6vD,GACd,GAGF,SAASiE,KACPD,GAAW5kC,MAAQglC,EACrB,CAEA,SAASF,KACPG,GAAUvB,GAAUC,GACtB,CAEA,SAASqB,GAAeE,EAAQC,GAC9BP,GAAW5kC,MAAQilC,GACnBvB,GAAWwB,EAAQvB,GAAQwB,EAE3BvB,GADAsB,GAAUpE,GACQ+C,GAAU3C,GAAIiE,GADbA,GAAOrE,IACkB,EAAIH,IAAYmD,GAAUtC,GAAI2D,EAC5E,CAEA,SAASF,GAAUC,EAAQC,GAOzB,IAAIC,GANJF,GAAUpE,IAMa8C,GACnByB,EAAWD,GAAW,EAAI,GAAI,EAC9BE,EAAWD,EAAWD,EACtBG,EAASrE,GARbiE,GADmBA,GAAOrE,IACd,EAAIH,IASZ6E,EAAShE,GAAI2D,GACbltD,EAAI6rD,GAAU0B,EACdC,EAAI5B,GAAU0B,EAASttD,EAAIipD,GAAIoE,GAC/Bl1D,EAAI6H,EAAIotD,EAAW7D,GAAI8D,GAC3BZ,GAAY3zD,IAAIkwD,GAAM7wD,EAAGq1D,IAGzB7B,GAAUsB,EAAQrB,GAAU0B,EAAQzB,GAAU0B,CAChD,CAEe,SAAAE,GAASvV,GAGtB,OAFAwU,GAAU,IAAIj0D,EACd+yD,GAAOtT,EAAQyU,IACE,EAAVD,EACT,CEzEO,SAASgB,GAAUC,GACxB,MAAO,CAAC3E,GAAM2E,EAAU,GAAIA,EAAU,IAAK/D,GAAK+D,EAAU,IAC5D,CAEO,SAASC,GAAUC,GACxB,IAAIZ,EAASY,EAAU,GAAIX,EAAMW,EAAU,GAAIP,EAASrE,GAAIiE,GAC5D,MAAO,CAACI,EAASrE,GAAIgE,GAASK,EAAS/D,GAAI0D,GAAS1D,GAAI2D,GAC1D,CAEO,SAASY,GAAat7D,EAAGC,GAC9B,OAAOD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,EAC9C,CAEO,SAASs7D,GAAev7D,EAAGC,GAChC,MAAO,CAACD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GACvF,CAGO,SAASu7D,GAAoBx7D,EAAGC,GACrCD,EAAE,IAAMC,EAAE,GAAID,EAAE,IAAMC,EAAE,GAAID,EAAE,IAAMC,EAAE,EACxC,CAEO,SAASw7D,GAAeC,EAAQluD,GACrC,MAAO,CAACkuD,EAAO,GAAKluD,EAAGkuD,EAAO,GAAKluD,EAAGkuD,EAAO,GAAKluD,EACpD,CAGO,SAASmuD,GAA0B76D,GACxC,IAAI8uB,EAAIqnC,GAAKn2D,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAClDA,EAAE,IAAM8uB,EAAG9uB,EAAE,IAAM8uB,EAAG9uB,EAAE,IAAM8uB,CAChC,CDlBA,IETIgsC,GAAIC,GACJC,GAAIC,GAAIC,GACRC,GAAIC,GAAIC,GACRC,GAAIC,GAAIC,GACRC,GAAUC,GACVC,GAAIC,GAAIC,GFIRC,GAAe,CACjBrnC,MAAOsnC,GACPjE,UAAWkE,GACXjE,QAASkE,GACTjE,aAAc,WACZ8D,GAAarnC,MAAQynC,GACrBJ,GAAahE,UAAYqE,GACzBL,GAAa/D,QAAUqE,GACvBpD,GAAW,IAAI7zD,EACfk0D,GAAWrB,cACb,EACAC,WAAY,WACVoB,GAAWpB,aACX6D,GAAarnC,MAAQsnC,GACrBD,GAAahE,UAAYkE,GACzBF,GAAa/D,QAAUkE,GACnB9C,GAAc,GAAGX,KAAYE,GAAU,KAAMD,KAASE,GAAO,KACxDK,GAAWhE,GAAS2D,GAAO,GAC3BK,IAAYhE,KAASyD,IAAO,IACrCS,GAAM,GAAKV,GAASU,GAAM,GAAKR,EACjC,EACAzB,OAAQ,WACNuB,KAAYE,GAAU,KAAMD,KAASE,GAAO,GAC9C,GAGF,SAASoD,GAAYpC,EAAQC,GAC3BX,GAAOv0D,KAAKw0D,GAAQ,CAACV,GAAUmB,EAAQjB,GAAUiB,IAC7CC,EAAMnB,KAAMA,GAAOmB,GACnBA,EAAMjB,KAAMA,GAAOiB,EACzB,CAEA,SAASyC,GAAU1C,EAAQC,GACzB,IAAIn0D,EAAI60D,GAAU,CAACX,EAASpE,GAASqE,EAAMrE,KAC3C,GAAIwD,GAAI,CACN,IAAIuD,EAAS7B,GAAe1B,GAAItzD,GAE5B82D,EAAa9B,GADA,CAAC6B,EAAO,IAAKA,EAAO,GAAI,GACGA,GAC5CzB,GAA0B0B,GAC1BA,EAAanC,GAAUmC,GACvB,IAGIC,EAHA98D,EAAQi6D,EAASf,GACjBnnB,EAAO/xC,EAAQ,EAAI,GAAI,EACvB+8D,EAAUF,EAAW,GAAKjH,GAAU7jB,EAEpCirB,EAAelH,GAAI91D,GAAS,IAC5Bg9D,GAAgBjrB,EAAOmnB,GAAU6D,GAAWA,EAAUhrB,EAAOkoB,IAC/D6C,EAAOD,EAAW,GAAKjH,IACZqD,KAAMA,GAAO6D,GACwBE,GAAgBjrB,EAAOmnB,IAA9D6D,GAAWA,EAAU,KAAO,IAAM,MAAiDA,EAAUhrB,EAAOkoB,IAC7G6C,GAAQD,EAAW,GAAKjH,IACbmD,KAAMA,GAAO+D,IAEpB5C,EAAMnB,KAAMA,GAAOmB,GACnBA,EAAMjB,KAAMA,GAAOiB,IAErB8C,EACE/C,EAASf,GACP+D,GAAMnE,GAASmB,GAAUgD,GAAMnE,GAASE,MAAUA,GAAUiB,GAE5DgD,GAAMhD,EAAQjB,IAAWiE,GAAMnE,GAASE,MAAUF,GAAUmB,GAG9DjB,IAAWF,IACTmB,EAASnB,KAASA,GAAUmB,GAC5BA,EAASjB,KAASA,GAAUiB,IAE5BA,EAASf,GACP+D,GAAMnE,GAASmB,GAAUgD,GAAMnE,GAASE,MAAUA,GAAUiB,GAE5DgD,GAAMhD,EAAQjB,IAAWiE,GAAMnE,GAASE,MAAUF,GAAUmB,EAIxE,MACEV,GAAOv0D,KAAKw0D,GAAQ,CAACV,GAAUmB,EAAQjB,GAAUiB,IAE/CC,EAAMnB,KAAMA,GAAOmB,GACnBA,EAAMjB,KAAMA,GAAOiB,GACvBb,GAAKtzD,EAAGmzD,GAAUe,CACpB,CAEA,SAASqC,KACPF,GAAarnC,MAAQ4nC,EACvB,CAEA,SAASJ,KACP/C,GAAM,GAAKV,GAASU,GAAM,GAAKR,GAC/BoD,GAAarnC,MAAQsnC,GACrBhD,GAAK,IACP,CAEA,SAASmD,GAAgBvC,EAAQC,GAC/B,GAAIb,GAAI,CACN,IAAIr5D,EAAQi6D,EAASf,GACrBI,GAASxzD,IAAIgwD,GAAI91D,GAAS,IAAMA,GAASA,EAAQ,EAAI,KAAM,KAAQA,EACrE,MACEm5D,GAAWc,EAAQb,GAAQc,EAE7BP,GAAW5kC,MAAMklC,EAAQC,GACzByC,GAAU1C,EAAQC,EACpB,CAEA,SAASuC,KACP9C,GAAWvB,WACb,CAEA,SAASsE,KACPF,GAAgBrD,GAAUC,IAC1BO,GAAWtB,UACPvC,GAAIwD,IAAYhE,KAASwD,KAAYE,GAAU,MACnDQ,GAAM,GAAKV,GAASU,GAAM,GAAKR,GAC/BK,GAAK,IACP,CAKA,SAAS4D,GAAMC,EAASC,GACtB,OAAQA,GAAWD,GAAW,EAAIC,EAAU,IAAMA,CACpD,CAEA,SAASC,GAAa59D,EAAGC,GACvB,OAAOD,EAAE,GAAKC,EAAE,EAClB,CAEA,SAAS49D,GAAcjuD,EAAOlP,GAC5B,OAAOkP,EAAM,IAAMA,EAAM,GAAKA,EAAM,IAAMlP,GAAKA,GAAKkP,EAAM,GAAKlP,EAAIkP,EAAM,IAAMA,EAAM,GAAKlP,CAC5F,CAEe,SAAAo9D,GAASC,GACtB,IAAIz+D,EAAGsE,EAAG5D,EAAGC,EAAG+9D,EAAQC,EAAUz9D,EAOlC,GALAi5D,GAAOD,KAAYF,GAAUC,GAAO9rD,KACpCssD,GAAS,GACTf,GAAO+E,EAASnB,IAGZh5D,EAAIm2D,GAAOx6D,OAAQ,CAIrB,IAHAw6D,GAAOtwD,KAAKm0D,IAGPt+D,EAAI,EAAkB0+D,EAAS,CAAxBh+D,EAAI+5D,GAAO,IAAkBz6D,EAAIsE,IAAKtE,EAE5Cu+D,GAAc79D,GADlBC,EAAI85D,GAAOz6D,IACY,KAAOu+D,GAAc79D,EAAGC,EAAE,KAC3Cw9D,GAAMz9D,EAAE,GAAIC,EAAE,IAAMw9D,GAAMz9D,EAAE,GAAIA,EAAE,MAAKA,EAAE,GAAKC,EAAE,IAChDw9D,GAAMx9D,EAAE,GAAID,EAAE,IAAMy9D,GAAMz9D,EAAE,GAAIA,EAAE,MAAKA,EAAE,GAAKC,EAAE,KAEpD+9D,EAAOx4D,KAAKxF,EAAIC,GAMpB,IAAKg+D,GAAYxwD,IAAiCnO,EAAI,EAAGU,EAAIg+D,EAAlCp6D,EAAIo6D,EAAOz+D,OAAS,GAAyBD,GAAKsE,EAAG5D,EAAIC,IAAKX,EACvFW,EAAI+9D,EAAO1+D,IACNkB,EAAQi9D,GAAMz9D,EAAE,GAAIC,EAAE,KAAOg+D,IAAUA,EAAWz9D,EAAO84D,GAAUr5D,EAAE,GAAIu5D,GAAUx5D,EAAE,GAE9F,CAIA,OAFA+5D,GAASC,GAAQ,KAEVV,KAAY7rD,KAAY8rD,KAAS9rD,IAClC,CAAC,CAACvN,IAAKA,KAAM,CAACA,IAAKA,MACnB,CAAC,CAACo5D,GAASC,IAAO,CAACC,GAASC,IACpC,CEtKA,IAAIyE,GAAiB,CACnBnG,OAAQT,GACR/hC,MAAO4oC,GACPvF,UAAWwF,GACXvF,QAASwF,GACTvF,aAAc,WACZoF,GAAetF,UAAY0F,GAC3BJ,GAAerF,QAAU0F,EAC3B,EACAxF,WAAY,WACVmF,GAAetF,UAAYwF,GAC3BF,GAAerF,QAAUwF,EAC3B,GAIF,SAASF,GAAc1D,EAAQC,GAC7BD,GAAUpE,GACV,IAAIyE,EAASrE,GADMiE,GAAOrE,IAE1BmI,GAAuB1D,EAASrE,GAAIgE,GAASK,EAAS/D,GAAI0D,GAAS1D,GAAI2D,GACzE,CAEA,SAAS8D,GAAuB99D,EAAGiD,EAAG+J,KAClCkuD,GACFE,KAAOp7D,EAAIo7D,IAAMF,GACjBG,KAAOp4D,EAAIo4D,IAAMH,GACjBI,KAAOtuD,EAAIsuD,IAAMJ,EACnB,CAEA,SAASwC,KACPF,GAAe3oC,MAAQkpC,EACzB,CAEA,SAASA,GAAuBhE,EAAQC,GACtCD,GAAUpE,GACV,IAAIyE,EAASrE,GADMiE,GAAOrE,IAE1BoG,GAAK3B,EAASrE,GAAIgE,GAClBiC,GAAK5B,EAAS/D,GAAI0D,GAClBkC,GAAK5F,GAAI2D,GACTwD,GAAe3oC,MAAQmpC,GACvBF,GAAuB/B,GAAIC,GAAIC,GACjC,CAEA,SAAS+B,GAAkBjE,EAAQC,GACjCD,GAAUpE,GACV,IAAIyE,EAASrE,GADMiE,GAAOrE,IAEtB31D,EAAIo6D,EAASrE,GAAIgE,GACjB92D,EAAIm3D,EAAS/D,GAAI0D,GACjB/sD,EAAIqpD,GAAI2D,GACRj3D,EAAI+yD,GAAMS,IAAMxzD,EAAIi5D,GAAKhvD,EAAIivD,GAAKh5D,GAAKF,GAAKA,EAAIk5D,GAAKj8D,EAAI+7D,GAAK/uD,GAAKjK,GAAKA,EAAIg5D,GAAK94D,EAAI+4D,GAAKh8D,GAAK+C,GAAIg5D,GAAK/7D,EAAIg8D,GAAK/4D,EAAIg5D,GAAKjvD,GAC9HmuD,IAAMp4D,EACNw4D,IAAMx4D,GAAKg5D,IAAMA,GAAK/7D,IACtBw7D,IAAMz4D,GAAKi5D,IAAMA,GAAK/4D,IACtBw4D,IAAM14D,GAAKk5D,IAAMA,GAAKjvD,IACtB8wD,GAAuB/B,GAAIC,GAAIC,GACjC,CAEA,SAAS0B,KACPH,GAAe3oC,MAAQ4oC,EACzB,CAIA,SAASG,KACPJ,GAAe3oC,MAAQopC,EACzB,CAEA,SAASJ,KACPK,GAAkBrC,GAAUC,IAC5B0B,GAAe3oC,MAAQ4oC,EACzB,CAEA,SAASQ,GAAuBlE,EAAQC,GACtC6B,GAAW9B,EAAQ+B,GAAQ9B,EAC3BD,GAAUpE,GAASqE,GAAOrE,GAC1B6H,GAAe3oC,MAAQqpC,GACvB,IAAI9D,EAASrE,GAAIiE,GACjB+B,GAAK3B,EAASrE,GAAIgE,GAClBiC,GAAK5B,EAAS/D,GAAI0D,GAClBkC,GAAK5F,GAAI2D,GACT8D,GAAuB/B,GAAIC,GAAIC,GACjC,CAEA,SAASiC,GAAkBnE,EAAQC,GACjCD,GAAUpE,GACV,IAAIyE,EAASrE,GADMiE,GAAOrE,IAEtB31D,EAAIo6D,EAASrE,GAAIgE,GACjB92D,EAAIm3D,EAAS/D,GAAI0D,GACjB/sD,EAAIqpD,GAAI2D,GACRllB,EAAKknB,GAAKhvD,EAAIivD,GAAKh5D,EACnB8xC,EAAKknB,GAAKj8D,EAAI+7D,GAAK/uD,EACnBmxD,EAAKpC,GAAK94D,EAAI+4D,GAAKh8D,EACnBgM,EAAIkqD,GAAMphB,EAAIC,EAAIopB,GAClBp7D,EAAI2zD,GAAK1qD,GACT/G,EAAI+G,IAAMjJ,EAAIiJ,EAClB0vD,GAAG91D,IAAIX,EAAI6vC,GACX6mB,GAAG/1D,IAAIX,EAAI8vC,GACX6mB,GAAGh2D,IAAIX,EAAIk5D,GACXhD,IAAMp4D,EACNw4D,IAAMx4D,GAAKg5D,IAAMA,GAAK/7D,IACtBw7D,IAAMz4D,GAAKi5D,IAAMA,GAAK/4D,IACtBw4D,IAAM14D,GAAKk5D,IAAMA,GAAKjvD,IACtB8wD,GAAuB/B,GAAIC,GAAIC,GACjC,CAEe,SAAAmC,GAASpZ,GACtBkW,GAAKC,GACLC,GAAKC,GAAKC,GACVC,GAAKC,GAAKC,GAAK,EACfC,GAAK,IAAIn2D,EACTo2D,GAAK,IAAIp2D,EACTq2D,GAAK,IAAIr2D,EACT+yD,GAAOtT,EAAQwY,IAEf,IAAIx9D,GAAK07D,GACLz4D,GAAK04D,GACL3uD,GAAK4uD,GACL5vD,EAAIkqD,GAAMl2D,EAAGiD,EAAG+J,GAGpB,OAAIhB,EAAIqpD,KACNr1D,EAAIu7D,GAAIt4D,EAAIu4D,GAAIxuD,EAAIyuD,GAEhBN,GAAK/F,KAASp1D,EAAIo7D,GAAIn4D,EAAIo4D,GAAIruD,EAAIsuD,KACtCtvD,EAAIkqD,GAAMl2D,EAAGiD,EAAG+J,IAERqoD,IAAiB,CAAC71D,IAAKA,KAG1B,CAACs2D,GAAM7yD,EAAGjD,GAAK01D,GAASgB,GAAK1pD,EAAIhB,GAAK0pD,GAC/C,CC9Ie,SAAA2I,GAASr+D,GACtB,OAAO,WACL,OAAOA,CACT,CACF,CCJe,SAAAs+D,GAASh/D,EAAGC,GAEzB,SAASg/D,EAAQv+D,EAAGiD,GAClB,OAAOjD,EAAIV,EAAEU,EAAGiD,GAAI1D,EAAES,EAAE,GAAIA,EAAE,GAChC,CAMA,OAJIV,EAAEk/D,QAAUj/D,EAAEi/D,SAAQD,EAAQC,OAAS,SAASx+D,EAAGiD,GACrD,OAAOjD,EAAIT,EAAEi/D,OAAOx+D,EAAGiD,KAAS3D,EAAEk/D,OAAOx+D,EAAE,GAAIA,EAAE,GACnD,GAEOu+D,CACT,CCRA,SAASE,GAAiB1E,EAAQC,GAEhC,OADIpE,GAAImE,GAAUzE,KAAIyE,GAAUx4D,KAAKkJ,MAAMsvD,EAAStE,IAAOA,IACpD,CAACsE,EAAQC,EAClB,CAIO,SAAS0E,GAAcC,EAAaC,EAAUC,GACnD,OAAQF,GAAelJ,IAAQmJ,GAAYC,EAAaP,GAAQQ,GAAeH,GAAcI,GAAiBH,EAAUC,IACpHC,GAAeH,GACdC,GAAYC,EAAaE,GAAiBH,EAAUC,GACrDJ,EACN,CAEA,SAASO,GAAsBL,GAC7B,OAAO,SAAS5E,EAAQC,GAGtB,OADIpE,GADJmE,GAAU4E,GACQrJ,KAAIyE,GAAUx4D,KAAKkJ,MAAMsvD,EAAStE,IAAOA,IACpD,CAACsE,EAAQC,EAClB,CACF,CAEA,SAAS8E,GAAeH,GACtB,IAAIM,EAAWD,GAAsBL,GAErC,OADAM,EAAST,OAASQ,IAAuBL,GAClCM,CACT,CAEA,SAASF,GAAiBH,EAAUC,GAClC,IAAIK,EAAcnJ,GAAI6I,GAClBO,EAAc9I,GAAIuI,GAClBQ,EAAgBrJ,GAAI8I,GACpBQ,EAAgBhJ,GAAIwI,GAExB,SAASI,EAASlF,EAAQC,GACxB,IAAII,EAASrE,GAAIiE,GACbh6D,EAAI+1D,GAAIgE,GAAUK,EAClBn3D,EAAIozD,GAAI0D,GAAUK,EAClBptD,EAAIqpD,GAAI2D,GACRltD,EAAIE,EAAIkyD,EAAcl/D,EAAIm/D,EAC9B,MAAO,CACLrJ,GAAM7yD,EAAIm8D,EAAgBtyD,EAAIuyD,EAAer/D,EAAIk/D,EAAclyD,EAAImyD,GACnEzI,GAAK5pD,EAAIsyD,EAAgBn8D,EAAIo8D,GAEjC,CAcA,OAZAJ,EAAST,OAAS,SAASzE,EAAQC,GACjC,IAAII,EAASrE,GAAIiE,GACbh6D,EAAI+1D,GAAIgE,GAAUK,EAClBn3D,EAAIozD,GAAI0D,GAAUK,EAClBptD,EAAIqpD,GAAI2D,GACRltD,EAAIE,EAAIoyD,EAAgBn8D,EAAIo8D,EAChC,MAAO,CACLvJ,GAAM7yD,EAAIm8D,EAAgBpyD,EAAIqyD,EAAer/D,EAAIk/D,EAAcpyD,EAAIqyD,GACnEzI,GAAK5pD,EAAIoyD,EAAcl/D,EAAIm/D,GAE/B,EAEOF,CACT,CAEe,SAAAK,GAASzlC,GAGtB,SAAS0lC,EAAQjuB,GAEf,OADAA,EAAczX,EAAOyX,EAAY,GAAKqkB,GAASrkB,EAAY,GAAKqkB,KAC7C,IAAMD,GAASpkB,EAAY,IAAMokB,GAASpkB,CAC/D,CAOA,OAZAzX,EAAS6kC,GAAc7kC,EAAO,GAAK87B,GAAS97B,EAAO,GAAK87B,GAAS97B,EAAOh7B,OAAS,EAAIg7B,EAAO,GAAK87B,GAAU,GAO3G4J,EAAQf,OAAS,SAASltB,GAExB,OADAA,EAAczX,EAAO2kC,OAAOltB,EAAY,GAAKqkB,GAASrkB,EAAY,GAAKqkB,KACpD,IAAMD,GAASpkB,EAAY,IAAMokB,GAASpkB,CAC/D,EAEOiuB,CACT,CCxEO,SAASC,GAAa1I,EAAQ90D,EAAQlC,EAAO2/D,EAAWroC,EAAIzG,GACjE,GAAK7wB,EAAL,CACA,IAAI4/D,EAAY3J,GAAI/zD,GAChB29D,EAAYtJ,GAAIr0D,GAChBK,EAAOo9D,EAAY3/D,EACb,MAANs3B,GACFA,EAAKp1B,EAASy9D,EAAYhK,GAC1B9kC,EAAK3uB,EAASK,EAAO,IAErB+0B,EAAKwoC,GAAaF,EAAWtoC,GAC7BzG,EAAKivC,GAAaF,EAAW/uC,IACzB8uC,EAAY,EAAIroC,EAAKzG,EAAKyG,EAAKzG,KAAIyG,GAAMqoC,EAAYhK,KAE3D,IAAK,IAAI5gC,EAAOnxB,EAAI0zB,EAAIqoC,EAAY,EAAI/7D,EAAIitB,EAAKjtB,EAAIitB,EAAIjtB,GAAKrB,EAC5DwyB,EAAQ2lC,GAAU,CAACkF,GAAYC,EAAY5J,GAAIryD,IAAKi8D,EAAYtJ,GAAI3yD,KACpEozD,EAAOjiC,MAAMA,EAAM,GAAIA,EAAM,GAdnB,CAgBd,CAGA,SAAS+qC,GAAaF,EAAW7qC,IAC/BA,EAAQ6lC,GAAU7lC,IAAc,IAAM6qC,EACtCzE,GAA0BpmC,GAC1B,IAAI7yB,EAASy0D,IAAM5hC,EAAM,IACzB,SAAUA,EAAM,GAAK,GAAK7yB,EAASA,GAAUyzD,GAAML,IAAWK,EAChE,CAEe,SAAAoK,KACb,IAGIzwB,EACAvV,EAJA34B,EAASm9D,GAAS,CAAC,EAAG,IACtBr8D,EAASq8D,GAAS,IAClB1L,EAAY0L,GAAS,GAGrBvH,EAAS,CAACjiC,MAEd,SAAe70B,EAAGiD,GAChBmsC,EAAKtqC,KAAK9E,EAAI65B,EAAO75B,EAAGiD,IACxBjD,EAAE,IAAM01D,GAAS11D,EAAE,IAAM01D,EAC3B,GAEA,SAASoK,IACP,IAAI92D,EAAI9H,EAAO2S,MAAMpO,KAAM2G,WACvB/K,EAAIW,EAAO6R,MAAMpO,KAAM2G,WAAaupD,GACpC9vD,EAAI8sD,EAAU9+C,MAAMpO,KAAM2G,WAAaupD,GAM3C,OALAvmB,EAAO,GACPvV,EAAS6kC,IAAe11D,EAAE,GAAK2sD,IAAU3sD,EAAE,GAAK2sD,GAAS,GAAG6I,OAC5DgB,GAAa1I,EAAQz1D,EAAGwE,EAAG,GAC3BmD,EAAI,CAACmN,KAAM,UAAWm7B,YAAa,CAAClC,IACpCA,EAAOvV,EAAS,KACT7wB,CACT,CAcA,OAZA82D,EAAO5+D,OAAS,SAASiL,GACvB,OAAOC,UAAUvN,QAAUqC,EAAsB,mBAANiL,EAAmBA,EAAIkyD,GAAS,EAAElyD,EAAE,IAAKA,EAAE,KAAM2zD,GAAU5+D,CACxG,EAEA4+D,EAAO99D,OAAS,SAASmK,GACvB,OAAOC,UAAUvN,QAAUmD,EAAsB,mBAANmK,EAAmBA,EAAIkyD,IAAUlyD,GAAI2zD,GAAU99D,CAC5F,EAEA89D,EAAOnN,UAAY,SAASxmD,GAC1B,OAAOC,UAAUvN,QAAU8zD,EAAyB,mBAANxmD,EAAmBA,EAAIkyD,IAAUlyD,GAAI2zD,GAAUnN,CAC/F,EAEOmN,CACT,CCrEe,SAAAC,KACb,IACIhrD,EADAirD,EAAQ,GAEZ,MAAO,CACLnrC,MAAO,SAAS70B,EAAGiD,EAAG+I,GACpB+I,EAAKjQ,KAAK,CAAC9E,EAAGiD,EAAG+I,GACnB,EACAksD,UAAW,WACT8H,EAAMl7D,KAAKiQ,EAAO,GACpB,EACAojD,QAASvB,GACTqJ,OAAQ,WACFD,EAAMnhE,OAAS,GAAGmhE,EAAMl7D,KAAKk7D,EAAMx7D,MAAM+R,OAAOypD,EAAMvvB,SAC5D,EACAyvB,OAAQ,WACN,IAAIA,EAASF,EAGb,OAFAA,EAAQ,GACRjrD,EAAO,KACAmrD,CACT,EAEJ,CCrBe,SAAAC,GAAS7gE,EAAGC,GACzB,OAAOq2D,GAAIt2D,EAAE,GAAKC,EAAE,IAAM61D,IAAWQ,GAAIt2D,EAAE,GAAKC,EAAE,IAAM61D,EAC1D,CCDA,SAASgL,GAAavrC,EAAO2Q,EAAQp0B,EAAOivD,GAC1C56D,KAAKzF,EAAI60B,EACTpvB,KAAKuH,EAAIw4B,EACT//B,KAAKkM,EAAIP,EACT3L,KAAKyxB,EAAImpC,EACT56D,KAAKR,GAAI,EACTQ,KAAKvC,EAAIuC,KAAKI,EAAI,IACpB,CAKe,SAAAy6D,GAASC,EAAUC,EAAqBC,EAAa3kC,EAAag7B,GAC/E,IAEIl4D,EACAsE,EAHA89C,EAAU,GACV0f,EAAO,GAyBX,GArBAH,EAAShxD,SAAQ,SAASoxD,GACxB,MAAKz9D,EAAIy9D,EAAQ9hE,OAAS,IAAM,GAAhC,CACA,IAAIqE,EAAqClD,EAAlCq6C,EAAKsmB,EAAQ,GAAInmB,EAAKmmB,EAAQz9D,GAErC,GAAIi9D,GAAW9lB,EAAIG,GAAK,CACtB,IAAKH,EAAG,KAAOG,EAAG,GAAI,CAEpB,IADAsc,EAAOoB,YACFt5D,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGk4D,EAAOjiC,OAAOwlB,EAAKsmB,EAAQ/hE,IAAI,GAAIy7C,EAAG,IAE9D,YADAyc,EAAOqB,SAET,CAEA3d,EAAG,IAAM,EAAI4a,EACf,CAEApU,EAAQl8C,KAAK9E,EAAI,IAAIogE,GAAa/lB,EAAIsmB,EAAS,MAAM,IACrDD,EAAK57D,KAAK9E,EAAE2R,EAAI,IAAIyuD,GAAa/lB,EAAI,KAAMr6C,GAAG,IAC9CghD,EAAQl8C,KAAK9E,EAAI,IAAIogE,GAAa5lB,EAAImmB,EAAS,MAAM,IACrDD,EAAK57D,KAAK9E,EAAE2R,EAAI,IAAIyuD,GAAa5lB,EAAI,KAAMx6C,GAAG,GAjBX,CAkBrC,IAEKghD,EAAQniD,OAAb,CAMA,IAJA6hE,EAAK33D,KAAKy3D,GACVI,GAAK5f,GACL4f,GAAKF,GAEA9hE,EAAI,EAAGsE,EAAIw9D,EAAK7hE,OAAQD,EAAIsE,IAAKtE,EACpC8hE,EAAK9hE,GAAGs4B,EAAIupC,GAAeA,EAO7B,IAJA,IACIj7B,EACA3Q,EAFA1yB,EAAQ6+C,EAAQ,KAIV,CAIR,IAFA,IAAI6f,EAAU1+D,EACV2+D,GAAY,EACTD,EAAQ57D,OAAQ47D,EAAUA,EAAQ39D,KAAOf,EAAO,OACvDqjC,EAASq7B,EAAQ7zD,EACjB8pD,EAAOoB,YACP,EAAG,CAED,GADA2I,EAAQ57D,EAAI47D,EAAQlvD,EAAE1M,GAAI,EACtB47D,EAAQ3pC,EAAG,CACb,GAAI4pC,EACF,IAAKliE,EAAI,EAAGsE,EAAIsiC,EAAO3mC,OAAQD,EAAIsE,IAAKtE,EAAGk4D,EAAOjiC,OAAOA,EAAQ2Q,EAAO5mC,IAAI,GAAIi2B,EAAM,SAEtFiH,EAAY+kC,EAAQ7gE,EAAG6gE,EAAQ39D,EAAElD,EAAG,EAAG82D,GAEzC+J,EAAUA,EAAQ39D,CACpB,KAAO,CACL,GAAI49D,EAEF,IADAt7B,EAASq7B,EAAQh7D,EAAEmH,EACdpO,EAAI4mC,EAAO3mC,OAAS,EAAGD,GAAK,IAAKA,EAAGk4D,EAAOjiC,OAAOA,EAAQ2Q,EAAO5mC,IAAI,GAAIi2B,EAAM,SAEpFiH,EAAY+kC,EAAQ7gE,EAAG6gE,EAAQh7D,EAAE7F,GAAG,EAAI82D,GAE1C+J,EAAUA,EAAQh7D,CACpB,CAEA2/B,GADAq7B,EAAUA,EAAQlvD,GACD3E,EACjB8zD,GAAaA,CACf,QAAUD,EAAQ57D,GAClB6xD,EAAOqB,SACT,CA5CqB,CA6CvB,CAEA,SAASyI,GAAK58D,GACZ,GAAMd,EAAIc,EAAMnF,OAAhB,CAKA,IAJA,IAAIqE,EAGA3D,EAFAX,EAAI,EACJU,EAAI0E,EAAM,KAELpF,EAAIsE,GACX5D,EAAE4D,EAAI3D,EAAIyE,EAAMpF,GAChBW,EAAEsG,EAAIvG,EACNA,EAAIC,EAEND,EAAE4D,EAAI3D,EAAIyE,EAAM,GAChBzE,EAAEsG,EAAIvG,CAXmB,CAY3B,CClGA,SAASyhE,GAAUlsC,GACjB,OAAO+gC,GAAI/gC,EAAM,KAAOygC,GAAKzgC,EAAM,GAAKyhC,GAAKzhC,EAAM,MAAQ+gC,GAAI/gC,EAAM,IAAMygC,IAAMG,GAAMH,GACzF,CAEe,SAAA0L,GAAS3vB,EAASxc,GAC/B,IAAIklC,EAASgH,GAAUlsC,GACnBmlC,EAAMnlC,EAAM,GACZwlC,EAAShE,GAAI2D,GACb0C,EAAS,CAACrG,GAAI0D,IAAUhE,GAAIgE,GAAS,GACrCnJ,EAAQ,EACRqQ,EAAU,EAEV79D,EAAM,IAAImC,EAEC,IAAX80D,EAAcL,EAAMzE,GAASH,IACb,IAAXiF,IAAeL,GAAOzE,GAASH,IAExC,IAAK,IAAIx2D,EAAI,EAAGsE,EAAImuC,EAAQxyC,OAAQD,EAAIsE,IAAKtE,EAC3C,GAAMoN,GAAKojC,EAAOiC,EAAQzyC,IAAIC,OAS9B,IARA,IAAIuwC,EACApjC,EACA05B,EAAS0J,EAAKpjC,EAAI,GAClBgxD,EAAU+D,GAAUr7B,GACpBw7B,EAAOx7B,EAAO,GAAK,EAAI8vB,GACvB2L,EAAU9K,GAAI6K,GACdE,EAAUrL,GAAImL,GAET59D,EAAI,EAAGA,EAAI0I,IAAK1I,EAAG05D,EAAUC,EAASkE,EAAUE,EAASD,EAAUE,EAAS57B,EAAS67B,EAAQ,CACpG,IAAIA,EAASnyB,EAAK9rC,GACd25D,EAAU8D,GAAUQ,GACpBC,EAAOD,EAAO,GAAK,EAAI/L,GACvB6L,EAAUhL,GAAImL,GACdF,EAAUvL,GAAIyL,GACd1hE,EAAQm9D,EAAUD,EAClBnrB,EAAO/xC,GAAS,EAAI,GAAI,EACxB2hE,EAAW5vB,EAAO/xC,EAClBg9D,EAAe2E,EAAWnM,GAC1BxoD,EAAIq0D,EAAUE,EAOlB,GALAj+D,EAAIwC,IAAIkwD,GAAMhpD,EAAI+kC,EAAOwkB,GAAIoL,GAAWL,EAAUE,EAAUx0D,EAAIipD,GAAI0L,KACpE7Q,GAASkM,EAAeh9D,EAAQ+xC,EAAO4jB,GAAM31D,EAIzCg9D,EAAeE,GAAWjD,EAASkD,GAAWlD,EAAQ,CACxD,IAAIrvB,EAAMmwB,GAAeH,GAAUh1B,GAASg1B,GAAU6G,IACtDtG,GAA0BvwB,GAC1B,IAAIg3B,EAAe7G,GAAe6B,EAAQhyB,GAC1CuwB,GAA0ByG,GAC1B,IAAIC,GAAU7E,EAAeh9D,GAAS,GAAI,EAAK,GAAK42D,GAAKgL,EAAa,KAClE1H,EAAM2H,GAAU3H,IAAQ2H,IAAWj3B,EAAI,IAAMA,EAAI,OACnDu2B,GAAWnE,EAAeh9D,GAAS,EAAI,GAAI,EAE/C,CACF,CAcF,OAAQ8wD,GAASwE,IAAWxE,EAAQwE,IAAWhyD,GAAOiyD,IAAuB,EAAV4L,CACrE,CCnEe,SAAAW,GAASC,EAAcC,EAAUhmC,EAAa35B,GAC3D,OAAO,SAAS4/D,GACd,IAII1wB,EACAkvB,EACAnxB,EANAr6B,EAAO+sD,EAASC,GAChBC,EAAajC,KACbkC,EAAWH,EAASE,GACpBE,GAAiB,EAKjBxB,EAAO,CACT7rC,MAAOA,EACPqjC,UAAWA,EACXC,QAASA,EACTC,aAAc,WACZsI,EAAK7rC,MAAQstC,EACbzB,EAAKxI,UAAYkK,EACjB1B,EAAKvI,QAAUkK,EACf9B,EAAW,GACXlvB,EAAU,EACZ,EACAgnB,WAAY,WACVqI,EAAK7rC,MAAQA,EACb6rC,EAAKxI,UAAYA,EACjBwI,EAAKvI,QAAUA,EACfoI,EAAWlyD,GAAMkyD,GACjB,IAAIE,EAAcO,GAAgB3vB,EAASlvC,GACvCo+D,EAAS1hE,QACNqjE,IAAgBH,EAAK3J,eAAgB8J,GAAiB,GAC3D5B,GAAWC,EAAU+B,GAAqB7B,EAAa3kC,EAAaimC,IAC3DtB,IACJyB,IAAgBH,EAAK3J,eAAgB8J,GAAiB,GAC3DH,EAAK7J,YACLp8B,EAAY,KAAM,KAAM,EAAGimC,GAC3BA,EAAK5J,WAEH+J,IAAgBH,EAAK1J,aAAc6J,GAAiB,GACxD3B,EAAWlvB,EAAU,IACvB,EACAgmB,OAAQ,WACN0K,EAAK3J,eACL2J,EAAK7J,YACLp8B,EAAY,KAAM,KAAM,EAAGimC,GAC3BA,EAAK5J,UACL4J,EAAK1J,YACP,GAGF,SAASxjC,EAAMklC,EAAQC,GACjB6H,EAAa9H,EAAQC,IAAM+H,EAAKltC,MAAMklC,EAAQC,EACpD,CAEA,SAASuI,EAAUxI,EAAQC,GACzBjlD,EAAK8f,MAAMklC,EAAQC,EACrB,CAEA,SAAS9B,IACPwI,EAAK7rC,MAAQ0tC,EACbxtD,EAAKmjD,WACP,CAEA,SAASC,IACPuI,EAAK7rC,MAAQA,EACb9f,EAAKojD,SACP,CAEA,SAASgK,EAAUpI,EAAQC,GACzB5qB,EAAKtqC,KAAK,CAACi1D,EAAQC,IACnBiI,EAASptC,MAAMklC,EAAQC,EACzB,CAEA,SAASoI,IACPH,EAAS/J,YACT9oB,EAAO,EACT,CAEA,SAASizB,IACPF,EAAU/yB,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC9B6yB,EAAS9J,UAET,IAEIv5D,EAA4BoN,EAC5B20D,EACA9rC,EAJAmP,EAAQi+B,EAASj+B,QACjBw+B,EAAeR,EAAW9B,SACvBh9D,EAAIs/D,EAAa3jE,OAQxB,GAJAuwC,EAAK5qC,MACL6sC,EAAQvsC,KAAKsqC,GACbA,EAAO,KAEFlsC,EAGL,GAAY,EAAR8gC,GAEF,IAAKh4B,GADL20D,EAAU6B,EAAa,IACN3jE,OAAS,GAAK,EAAG,CAGhC,IAFKqjE,IAAgBH,EAAK3J,eAAgB8J,GAAiB,GAC3DH,EAAK7J,YACAt5D,EAAI,EAAGA,EAAIoN,IAAKpN,EAAGmjE,EAAKltC,OAAOA,EAAQ8rC,EAAQ/hE,IAAI,GAAIi2B,EAAM,IAClEktC,EAAK5J,SACP,OAMEj1D,EAAI,GAAa,EAAR8gC,GAAWw+B,EAAa19D,KAAK09D,EAAah+D,MAAM+R,OAAOisD,EAAa/xB,UAEjF8vB,EAASz7D,KAAK09D,EAAahtD,OAAOitD,IACpC,CAEA,OAAO/B,CACT,CACF,CAEA,SAAS+B,GAAa9B,GACpB,OAAOA,EAAQ9hE,OAAS,CAC1B,CAIA,SAASyjE,GAAoBhjE,EAAGC,GAC9B,QAASD,EAAIA,EAAEU,GAAG,GAAK,EAAIV,EAAE,GAAKi2D,GAASH,GAAUG,GAASj2D,EAAE,MACvDC,EAAIA,EAAES,GAAG,GAAK,EAAIT,EAAE,GAAKg2D,GAASH,GAAUG,GAASh2D,EAAE,GAClE,CN1HAk/D,GAAiBD,OAASC,G,IOL1BiE,GAAed,IACb,WAAa,OAAO,CAAM,IAS5B,SAA8B9K,GAC5B,IAGI9yB,EAHAg5B,EAAUx9D,IACV0hE,EAAO1hE,IACPmjE,EAAQnjE,IAGZ,MAAO,CACL04D,UAAW,WACTpB,EAAOoB,YACPl0B,EAAQ,CACV,EACAnP,MAAO,SAASooC,EAASuE,GACvB,IAAIoB,EAAQ3F,EAAU,EAAI3H,IAAMA,GAC5Bx1D,EAAQ81D,GAAIqH,EAAUD,GACtBpH,GAAI91D,EAAQw1D,IAAMF,IACpB0B,EAAOjiC,MAAMmoC,EAASkE,GAAQA,EAAOM,GAAQ,EAAI,EAAIjM,IAAUA,IAC/DuB,EAAOjiC,MAAM8tC,EAAOzB,GACpBpK,EAAOqB,UACPrB,EAAOoB,YACPpB,EAAOjiC,MAAM+tC,EAAO1B,GACpBpK,EAAOjiC,MAAMooC,EAASiE,GACtBl9B,EAAQ,GACC2+B,IAAUC,GAAS9iE,GAASw1D,KACjCM,GAAIoH,EAAU2F,GAASvN,KAAS4H,GAAW2F,EAAQvN,IACnDQ,GAAIqH,EAAU2F,GAASxN,KAAS6H,GAAW2F,EAAQxN,IACvD8L,EAoBR,SAAmClE,EAASkE,EAAMjE,EAASuE,GACzD,IAAIJ,EACAE,EACAuB,EAAoBxM,GAAI2G,EAAUC,GACtC,OAAOrH,GAAIiN,GAAqBzN,GAC1BS,IAAMQ,GAAI6K,IAASI,EAAUvL,GAAIyL,IAASnL,GAAI4G,GAC1C5G,GAAImL,IAASJ,EAAUrL,GAAImL,IAAS7K,GAAI2G,KACvCoE,EAAUE,EAAUuB,KACxB3B,EAAOM,GAAQ,CACxB,CA7BesB,CAA0B9F,EAASkE,EAAMjE,EAASuE,GACzD1K,EAAOjiC,MAAM8tC,EAAOzB,GACpBpK,EAAOqB,UACPrB,EAAOoB,YACPpB,EAAOjiC,MAAM+tC,EAAO1B,GACpBl9B,EAAQ,GAEV8yB,EAAOjiC,MAAMmoC,EAAUC,EAASiE,EAAOM,GACvCmB,EAAQC,CACV,EACAzK,QAAS,WACPrB,EAAOqB,UACP6E,EAAUkE,EAAO1hE,GACnB,EACAwkC,MAAO,WACL,OAAO,EAAIA,CACb,EAEJ,IAaA,SAAqC5/B,EAAM2+D,EAAItD,EAAW3I,GACxD,IAAIkD,EACJ,GAAY,MAAR51D,EACF41D,EAAMyF,EAAYlK,GAClBuB,EAAOjiC,OAAOygC,GAAI0E,GAClBlD,EAAOjiC,MAAM,EAAGmlC,GAChBlD,EAAOjiC,MAAMygC,GAAI0E,GACjBlD,EAAOjiC,MAAMygC,GAAI,GACjBwB,EAAOjiC,MAAMygC,IAAK0E,GAClBlD,EAAOjiC,MAAM,GAAImlC,GACjBlD,EAAOjiC,OAAOygC,IAAK0E,GACnBlD,EAAOjiC,OAAOygC,GAAI,GAClBwB,EAAOjiC,OAAOygC,GAAI0E,QACb,GAAIpE,GAAIxxD,EAAK,GAAK2+D,EAAG,IAAM3N,GAAS,CACzC,IAAI2E,EAAS31D,EAAK,GAAK2+D,EAAG,GAAKzN,IAAMA,GACrC0E,EAAMyF,EAAY1F,EAAS,EAC3BjD,EAAOjiC,OAAOklC,EAAQC,GACtBlD,EAAOjiC,MAAM,EAAGmlC,GAChBlD,EAAOjiC,MAAMklC,EAAQC,EACvB,MACElD,EAAOjiC,MAAMkuC,EAAG,GAAIA,EAAG,GAE3B,GApFE,EAAEzN,IAAKC,KCDM,SAAAyN,GAAShhE,GACtB,IAAIihE,EAAKlN,GAAI/zD,GACTlC,EAAQ,EAAI61D,GACZuN,EAAcD,EAAK,EACnBE,EAAgBvN,GAAIqN,GAAM7N,GAM9B,SAASgO,EAAQrJ,EAAQC,GACvB,OAAOjE,GAAIgE,GAAUhE,GAAIiE,GAAOiJ,CAClC,CAiFA,SAASI,EAAU/jE,EAAGC,EAAG+jE,GACvB,IAKI/+B,EAAK,CAAC,EAAG,EAAG,GACZg/B,EAAK1I,GANAH,GAAUp7D,GACVo7D,GAAUn7D,IAMfikE,EAAO5I,GAAa2I,EAAIA,GACxBE,EAAOF,EAAG,GACVG,EAAcF,EAAOC,EAAOA,EAGhC,IAAKC,EAAa,OAAQJ,GAAOhkE,EAEjC,IAAIm+C,EAAMwlB,EAAKO,EAAOE,EAClBC,GAAMV,EAAKQ,EAAOC,EAClBE,EAAQ/I,GAAet2B,EAAIg/B,GAC3BM,EAAI9I,GAAex2B,EAAIkZ,GAE3Bqd,GAAoB+I,EADZ9I,GAAewI,EAAII,IAI3B,IAAIrJ,EAAIsJ,EACJ7gE,EAAI63D,GAAaiJ,EAAGvJ,GACpBwJ,EAAKlJ,GAAaN,EAAGA,GACrBtpC,EAAKjuB,EAAIA,EAAI+gE,GAAMlJ,GAAaiJ,EAAGA,GAAK,GAE5C,KAAI7yC,EAAK,GAAT,CAEA,IAAIttB,EAAI6yD,GAAKvlC,GACToD,EAAI2mC,GAAeT,IAAKv3D,EAAIW,GAAKogE,GAIrC,GAHAhJ,GAAoB1mC,EAAGyvC,GACvBzvC,EAAIomC,GAAUpmC,IAETkvC,EAAK,OAAOlvC,EAGjB,IAIIpnB,EAJAgwD,EAAU19D,EAAE,GACZ29D,EAAU19D,EAAE,GACZ2hE,EAAO5hE,EAAE,GACTkiE,EAAOjiE,EAAE,GAGT09D,EAAUD,IAAShwD,EAAIgwD,EAASA,EAAUC,EAASA,EAAUjwD,GAEjE,IAAIlN,EAAQm9D,EAAUD,EAClB+G,EAAQnO,GAAI91D,EAAQw1D,IAAMF,GAM9B,IAHK2O,GAASvC,EAAON,IAAMl0D,EAAIk0D,EAAMA,EAAOM,EAAMA,EAAOx0D,GAF1C+2D,GAASjkE,EAAQs1D,GAM1B2O,EACE7C,EAAOM,EAAO,EAAIptC,EAAE,IAAMwhC,GAAIxhC,EAAE,GAAK4oC,GAAW5H,GAAU8L,EAAOM,GACjEN,GAAQ9sC,EAAE,IAAMA,EAAE,IAAMotC,EAC1B1hE,EAAQw1D,IAAM0H,GAAW5oC,EAAE,IAAMA,EAAE,IAAM6oC,GAAU,CACvD,IAAI+G,EAAKjJ,GAAeT,IAAKv3D,EAAIW,GAAKogE,GAEtC,OADAhJ,GAAoBkJ,EAAIH,GACjB,CAACzvC,EAAGomC,GAAUwJ,GACvB,CAjCY,CAkCd,CAIA,SAASC,EAAKlK,EAAQC,GACpB,IAAI34D,EAAI6hE,EAAclhE,EAASszD,GAAKtzD,EAChCiiE,EAAO,EAKX,OAJIlK,GAAU14D,EAAG4iE,GAAQ,EAChBlK,EAAS14D,IAAG4iE,GAAQ,GACzBjK,GAAO34D,EAAG4iE,GAAQ,EACbjK,EAAM34D,IAAG4iE,GAAQ,GACnBA,CACT,CAEA,OAAOrC,GAAKwB,GAvJZ,SAAkBtM,GAChB,IAAIpxB,EACA6X,EACA3sB,EACAszC,EACAlgC,EACJ,MAAO,CACLk0B,UAAW,WACTgM,EAAMtzC,GAAK,EACXoT,EAAQ,CACV,EACAnP,MAAO,SAASklC,EAAQC,GACtB,IACImK,EADA5C,EAAS,CAACxH,EAAQC,GAElB/0D,EAAIm+D,EAAQrJ,EAAQC,GACpBhxD,EAAIk6D,EACAj+D,EAAI,EAAIg/D,EAAKlK,EAAQC,GACrB/0D,EAAIg/D,EAAKlK,GAAUA,EAAS,EAAIzE,IAAMA,IAAK0E,GAAO,EAO1D,IANKt0B,IAAWw+B,EAAMtzC,EAAK3rB,IAAI6xD,EAAOoB,YAClCjzD,IAAM2rB,MACRuzC,EAASd,EAAU39B,EAAQ67B,KACZpB,GAAWz6B,EAAQy+B,IAAWhE,GAAWoB,EAAQ4C,MAC9D5C,EAAO,GAAK,GAEZt8D,IAAM2rB,EACRoT,EAAQ,EACJ/+B,GAEF6xD,EAAOoB,YACPiM,EAASd,EAAU9B,EAAQ77B,GAC3BoxB,EAAOjiC,MAAMsvC,EAAO,GAAIA,EAAO,MAG/BA,EAASd,EAAU39B,EAAQ67B,GAC3BzK,EAAOjiC,MAAMsvC,EAAO,GAAIA,EAAO,GAAI,GACnCrN,EAAOqB,WAETzyB,EAASy+B,OACJ,GAAIhB,GAAiBz9B,GAAUw9B,EAAcj+D,EAAG,CACrD,IAAIvB,EAGEsF,EAAIu0C,KAAQ75C,EAAI2/D,EAAU9B,EAAQ77B,GAAQ,MAC9C1B,EAAQ,EACJk/B,GACFpM,EAAOoB,YACPpB,EAAOjiC,MAAMnxB,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3BozD,EAAOjiC,MAAMnxB,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3BozD,EAAOqB,YAEPrB,EAAOjiC,MAAMnxB,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3BozD,EAAOqB,UACPrB,EAAOoB,YACPpB,EAAOjiC,MAAMnxB,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAI,IAGrC,EACIuB,GAAOygC,GAAWy6B,GAAWz6B,EAAQ67B,IACvCzK,EAAOjiC,MAAM0sC,EAAO,GAAIA,EAAO,IAEjC77B,EAAS67B,EAAQ3wC,EAAK3rB,EAAGs4C,EAAKv0C,CAChC,EACAmvD,QAAS,WACHvnC,GAAIkmC,EAAOqB,UACfzyB,EAAS,IACX,EAGA1B,MAAO,WACL,OAAOA,GAAUkgC,GAAOtzC,IAAO,CACjC,EAEJ,IApFA,SAAqBxsB,EAAM2+D,EAAItD,EAAW3I,GACxC0I,GAAa1I,EAAQ90D,EAAQlC,EAAO2/D,EAAWr7D,EAAM2+D,EACvD,GAiK4CG,EAAc,CAAC,GAAIlhE,GAAU,EAAEszD,GAAItzD,EAASszD,IAC1F,CChLe,SAAA8O,GAAS9kE,EAAGC,EAAGqM,EAAI+9B,EAAI99B,EAAIy9B,GACxC,IAQIjoC,EARAqzC,EAAKp1C,EAAE,GACPq1C,EAAKr1C,EAAE,GAGP83B,EAAK,EACLzG,EAAK,EACLyU,EAJK7lC,EAAE,GAIGm1C,EACVrP,EAJK9lC,EAAE,GAIGo1C,EAId,GADAtzC,EAAIuK,EAAK8oC,EACJtP,KAAM/jC,EAAI,GAAf,CAEA,GADAA,GAAK+jC,EACDA,EAAK,EAAG,CACV,GAAI/jC,EAAI+1B,EAAI,OACR/1B,EAAIsvB,IAAIA,EAAKtvB,EACnB,MAAO,GAAI+jC,EAAK,EAAG,CACjB,GAAI/jC,EAAIsvB,EAAI,OACRtvB,EAAI+1B,IAAIA,EAAK/1B,EACnB,CAGA,GADAA,EAAIwK,EAAK6oC,EACJtP,KAAM/jC,EAAI,GAAf,CAEA,GADAA,GAAK+jC,EACDA,EAAK,EAAG,CACV,GAAI/jC,EAAIsvB,EAAI,OACRtvB,EAAI+1B,IAAIA,EAAK/1B,EACnB,MAAO,GAAI+jC,EAAK,EAAG,CACjB,GAAI/jC,EAAI+1B,EAAI,OACR/1B,EAAIsvB,IAAIA,EAAKtvB,EACnB,CAGA,GADAA,EAAIsoC,EAAKgL,EACJtP,KAAMhkC,EAAI,GAAf,CAEA,GADAA,GAAKgkC,EACDA,EAAK,EAAG,CACV,GAAIhkC,EAAI+1B,EAAI,OACR/1B,EAAIsvB,IAAIA,EAAKtvB,EACnB,MAAO,GAAIgkC,EAAK,EAAG,CACjB,GAAIhkC,EAAIsvB,EAAI,OACRtvB,EAAI+1B,IAAIA,EAAK/1B,EACnB,CAGA,GADAA,EAAIioC,EAAKqL,EACJtP,KAAMhkC,EAAI,GAAf,CAEA,GADAA,GAAKgkC,EACDA,EAAK,EAAG,CACV,GAAIhkC,EAAIsvB,EAAI,OACRtvB,EAAI+1B,IAAIA,EAAK/1B,EACnB,MAAO,GAAIgkC,EAAK,EAAG,CACjB,GAAIhkC,EAAI+1B,EAAI,OACR/1B,EAAIsvB,IAAIA,EAAKtvB,EACnB,CAIA,OAFI+1B,EAAK,IAAG93B,EAAE,GAAKo1C,EAAKtd,EAAKgO,EAAI9lC,EAAE,GAAKq1C,EAAKvd,EAAKiO,GAC9C1U,EAAK,IAAGpxB,EAAE,GAAKm1C,EAAK/jB,EAAKyU,EAAI7lC,EAAE,GAAKo1C,EAAKhkB,EAAK0U,IAC3C,CAZW,CAXA,CAXA,CAXA,CA8CpB,CCpDA,ICDIg/B,GACAC,GACAC,GACAC,GDFAC,GAAU,IAAKC,IAAWD,GAKf,SAAAE,GAAuB/4D,EAAI+9B,EAAI99B,EAAIy9B,GAEhD,SAAS85B,EAAQpjE,EAAGiD,GAClB,OAAO2I,GAAM5L,GAAKA,GAAK6L,GAAM89B,GAAM1mC,GAAKA,GAAKqmC,CAC/C,CAEA,SAASxN,EAAY13B,EAAM2+D,EAAItD,EAAW3I,GACxC,IAAIx3D,EAAI,EAAGsrC,EAAK,EAChB,GAAY,MAARxmC,IACI9E,EAAIslE,EAAOxgE,EAAMq7D,OAAiB70B,EAAKg6B,EAAO7B,EAAItD,KACnDoF,EAAazgE,EAAM2+D,GAAM,EAAItD,EAAY,EAC9C,GAAG3I,EAAOjiC,MAAY,IAANv1B,GAAiB,IAANA,EAAUsM,EAAKC,EAAIvM,EAAI,EAAIgqC,EAAKK,UACnDrqC,GAAKA,EAAImgE,EAAY,GAAK,KAAO70B,QAEzCksB,EAAOjiC,MAAMkuC,EAAG,GAAIA,EAAG,GAE3B,CAEA,SAAS6B,EAAO/+D,EAAG45D,GACjB,OAAO7J,GAAI/vD,EAAE,GAAK+F,GAAMwpD,GAAUqK,EAAY,EAAI,EAAI,EAChD7J,GAAI/vD,EAAE,GAAKgG,GAAMupD,GAAUqK,EAAY,EAAI,EAAI,EAC/C7J,GAAI/vD,EAAE,GAAK8jC,GAAMyrB,GAAUqK,EAAY,EAAI,EAAI,EAC/CA,EAAY,EAAI,EAAI,CAC5B,CAEA,SAASe,EAAoBlhE,EAAGC,GAC9B,OAAOslE,EAAavlE,EAAEU,EAAGT,EAAES,EAC7B,CAEA,SAAS6kE,EAAavlE,EAAGC,GACvB,IAAIulE,EAAKF,EAAOtlE,EAAG,GACfylE,EAAKH,EAAOrlE,EAAG,GACnB,OAAOulE,IAAOC,EAAKD,EAAKC,EACX,IAAPD,EAAWvlE,EAAE,GAAKD,EAAE,GACb,IAAPwlE,EAAWxlE,EAAE,GAAKC,EAAE,GACb,IAAPulE,EAAWxlE,EAAE,GAAKC,EAAE,GACpBA,EAAE,GAAKD,EAAE,EACjB,CAEA,OAAO,SAASw3D,GACd,IAEIyJ,EACAlvB,EACAjC,EACA41B,EAAKC,EAAKC,EACVC,EAAIC,EAAIC,EACRr2D,EACAg1B,EARAshC,EAAexO,EACfyO,EAAexF,KASfyF,EAAa,CACf3wC,MAAOA,EACPqjC,UAgDF,WACEsN,EAAW3wC,MAAQ4wC,EACfp0B,GAASA,EAAQvsC,KAAKsqC,EAAO,IACjCpgC,GAAQ,EACRq2D,GAAK,EACLF,EAAKC,EAAK5lE,GACZ,EArDE24D,QA0DF,WACMoI,IACFkF,EAAUT,EAAKC,GACXC,GAAOG,GAAIE,EAAatF,SAC5BM,EAASz7D,KAAKygE,EAAarF,WAE7BsF,EAAW3wC,MAAQA,EACfwwC,GAAIC,EAAanN,SACvB,EAjEEC,aAuBF,WACEkN,EAAeC,EAAchF,EAAW,GAAIlvB,EAAU,GAAIrN,GAAQ,CACpE,EAxBEq0B,WA0BF,WACE,IAAIoI,EApBN,WAGE,IAFA,IAAIQ,EAAU,EAELriE,EAAI,EAAGsE,EAAImuC,EAAQxyC,OAAQD,EAAIsE,IAAKtE,EAC3C,IAAK,IAAgE+rC,EAAIC,EAAhEwE,EAAOiC,EAAQzyC,GAAI0E,EAAI,EAAG0I,EAAIojC,EAAKvwC,OAAQg2B,EAAQua,EAAK,GAAY+K,EAAKtlB,EAAM,GAAI6wC,EAAK7wC,EAAM,GAAIvxB,EAAI0I,IAAK1I,EAClHqnC,EAAKwP,EAAIvP,EAAK86B,EAAqBvrB,GAAjBtlB,EAAQua,EAAK9rC,IAAe,GAAIoiE,EAAK7wC,EAAM,GACzD+V,GAAMtB,EAAUo8B,EAAKp8B,IAAO6Q,EAAKxP,IAAOrB,EAAKsB,IAAO86B,EAAK96B,IAAOh/B,EAAK++B,MAAOs2B,EACrEyE,GAAMp8B,IAAO6Q,EAAKxP,IAAOrB,EAAKsB,IAAO86B,EAAK96B,IAAOh/B,EAAK++B,MAAOs2B,EAI5E,OAAOA,CACT,CAQoB0E,GACdC,EAAc5hC,GAASy8B,EACvB2C,GAAW7C,EAAWlyD,GAAMkyD,IAAW1hE,QACvC+mE,GAAexC,KACjBtM,EAAOsB,eACHwN,IACF9O,EAAOoB,YACPp8B,EAAY,KAAM,KAAM,EAAGg7B,GAC3BA,EAAOqB,WAELiL,GACF9C,GAAWC,EAAUC,EAAqBC,EAAa3kC,EAAag7B,GAEtEA,EAAOuB,cAETiN,EAAexO,EAAQyJ,EAAWlvB,EAAUjC,EAAO,IACrD,GAxCA,SAASva,EAAM70B,EAAGiD,GACZmgE,EAAQpjE,EAAGiD,IAAIqiE,EAAazwC,MAAM70B,EAAGiD,EAC3C,CA6DA,SAASwiE,EAAUzlE,EAAGiD,GACpB,IAAIgC,EAAIm+D,EAAQpjE,EAAGiD,GAEnB,GADIouC,GAASjC,EAAKtqC,KAAK,CAAC9E,EAAGiD,IACvB+L,EACFg2D,EAAMhlE,EAAGilE,EAAMhiE,EAAGiiE,EAAMjgE,EACxB+J,GAAQ,EACJ/J,IACFqgE,EAAapN,YACboN,EAAazwC,MAAM70B,EAAGiD,SAGxB,GAAIgC,GAAKogE,EAAIC,EAAazwC,MAAM70B,EAAGiD,OAC9B,CACH,IAAI3D,EAAI,CAAC6lE,EAAK5jE,KAAKiC,IAAIkhE,GAASnjE,KAAKgC,IAAIkhE,GAASU,IAAMC,EAAK7jE,KAAKiC,IAAIkhE,GAASnjE,KAAKgC,IAAIkhE,GAASW,KAC7F7lE,EAAI,CAACS,EAAIuB,KAAKiC,IAAIkhE,GAASnjE,KAAKgC,IAAIkhE,GAASzkE,IAAKiD,EAAI1B,KAAKiC,IAAIkhE,GAASnjE,KAAKgC,IAAIkhE,GAASxhE,KAC1FmhE,GAAS9kE,EAAGC,EAAGqM,EAAI+9B,EAAI99B,EAAIy9B,IACxB+7B,IACHC,EAAapN,YACboN,EAAazwC,MAAMv1B,EAAE,GAAIA,EAAE,KAE7BgmE,EAAazwC,MAAMt1B,EAAE,GAAIA,EAAE,IACtB0F,GAAGqgE,EAAanN,UACrBn0B,GAAQ,GACC/+B,IACTqgE,EAAapN,YACboN,EAAazwC,MAAM70B,EAAGiD,GACtB+gC,GAAQ,EAEZ,CAEFmhC,EAAKnlE,EAAGolE,EAAKniE,EAAGoiE,EAAKpgE,CACvB,CAEA,OAAOugE,CACT,CACF,CErKe,SAAAK,KACb,IAIIC,EACAC,EACArF,EANA90D,EAAK,EACL+9B,EAAK,EACL99B,EAAK,IACLy9B,EAAK,IAKT,OAAOo3B,EAAO,CACZ5J,OAAQ,SAASA,GACf,OAAOgP,GAASC,IAAgBjP,EAASgP,EAAQA,EAAQnB,GAAc/4D,EAAI+9B,EAAI99B,EAAIy9B,EAA1B,CAA8By8B,EAAcjP,EACvG,EACA1zB,OAAQ,SAASj3B,GACf,OAAOC,UAAUvN,QAAU+M,GAAMO,EAAE,GAAG,GAAIw9B,GAAMx9B,EAAE,GAAG,GAAIN,GAAMM,EAAE,GAAG,GAAIm9B,GAAMn9B,EAAE,GAAG,GAAI25D,EAAQC,EAAc,KAAMrF,GAAQ,CAAC,CAAC90D,EAAI+9B,GAAK,CAAC99B,EAAIy9B,GAC7I,EAEJ,CDTA,IAAI08B,GAAe,CACjB3O,OAAQT,GACR/hC,MAAO+hC,GACPsB,UAMF,WACE8N,GAAanxC,MAAQoxC,GACrBD,GAAa7N,QAAU+N,EACzB,EARE/N,QAASvB,GACTwB,aAAcxB,GACdyB,WAAYzB,IAQd,SAASsP,KACPF,GAAanxC,MAAQmxC,GAAa7N,QAAUvB,EAC9C,CAEA,SAASqP,GAAiBlM,EAAQC,GAEhCsK,GADAvK,GAAUpE,GACQ4O,GAAUlO,GADT2D,GAAOrE,IACY6O,GAAUzO,GAAIiE,GACpDgM,GAAanxC,MAAQsxC,EACvB,CAEA,SAASA,GAAYpM,EAAQC,GAC3BD,GAAUpE,GACV,IAAI0E,EAAShE,GADM2D,GAAOrE,IAEtByE,EAASrE,GAAIiE,GACbl6D,EAAQ81D,GAAImE,EAASuK,IACrB8B,EAAWrQ,GAAIj2D,GAEfE,EAAIo6D,EADO/D,GAAIv2D,GAEfmD,EAAIuhE,GAAUnK,EAASkK,GAAUnK,EAASgM,EAC1Cp5D,EAAIu3D,GAAUlK,EAASmK,GAAUpK,EAASgM,EAC9C/B,GAAUz+D,IAAIkwD,GAAMS,GAAKv2D,EAAIA,EAAIiD,EAAIA,GAAI+J,IACzCs3D,GAAUvK,EAAQwK,GAAUlK,EAAQmK,GAAUpK,CAChD,CAEe,SAAAiM,GAASrhB,GAGtB,OAFAqf,GAAY,IAAI9+D,EAChB+yD,GAAOtT,EAAQghB,KACP3B,EACV,CElDA,IAAIiC,GAAc,CAAC,KAAM,MACrBC,GAAS,CAACpwD,KAAM,aAAcm7B,YAAag1B,IAEhC,SAAAE,GAASlnE,EAAGC,GAGzB,OAFA+mE,GAAY,GAAKhnE,EACjBgnE,GAAY,GAAK/mE,EACV8mE,GAAOE,GAChB,CCLA,IAAIE,GAAqB,CACvBxP,QAAS,SAASjS,EAAQnwB,GACxB,OAAO6xC,GAAiB1hB,EAAOrS,SAAU9d,EAC3C,EACAqiC,kBAAmB,SAASlS,EAAQnwB,GAElC,IADA,IAAIsiC,EAAWnS,EAAOmS,SAAUv4D,GAAI,EAAIsE,EAAIi0D,EAASt4D,SAC5CD,EAAIsE,MAAOwjE,GAAiBvP,EAASv4D,GAAG+zC,SAAU9d,GAAQ,OAAO,EAC1E,OAAO,CACT,GAGE8xC,GAAuB,CACzBvP,OAAQ,WACN,OAAO,CACT,EACAE,MAAO,SAAStS,EAAQnwB,GACtB,OAAO+xC,GAAc5hB,EAAO1T,YAAazc,EAC3C,EACA0iC,WAAY,SAASvS,EAAQnwB,GAE3B,IADA,IAAIyc,EAAc0T,EAAO1T,YAAa1yC,GAAI,EAAIsE,EAAIouC,EAAYzyC,SACrDD,EAAIsE,MAAO0jE,GAAct1B,EAAY1yC,GAAIi2B,GAAQ,OAAO,EACjE,OAAO,CACT,EACA2iC,WAAY,SAASxS,EAAQnwB,GAC3B,OAAOgyC,GAAa7hB,EAAO1T,YAAazc,EAC1C,EACA6iC,gBAAiB,SAAS1S,EAAQnwB,GAEhC,IADA,IAAIyc,EAAc0T,EAAO1T,YAAa1yC,GAAI,EAAIsE,EAAIouC,EAAYzyC,SACrDD,EAAIsE,MAAO2jE,GAAav1B,EAAY1yC,GAAIi2B,GAAQ,OAAO,EAChE,OAAO,CACT,EACA8iC,QAAS,SAAS3S,EAAQnwB,GACxB,OAAOiyC,GAAgB9hB,EAAO1T,YAAazc,EAC7C,EACAgjC,aAAc,SAAS7S,EAAQnwB,GAE7B,IADA,IAAIyc,EAAc0T,EAAO1T,YAAa1yC,GAAI,EAAIsE,EAAIouC,EAAYzyC,SACrDD,EAAIsE,MAAO4jE,GAAgBx1B,EAAY1yC,GAAIi2B,GAAQ,OAAO,EACnE,OAAO,CACT,EACAijC,mBAAoB,SAAS9S,EAAQnwB,GAEnC,IADA,IAAIkjC,EAAa/S,EAAO+S,WAAYn5D,GAAI,EAAIsE,EAAI60D,EAAWl5D,SAClDD,EAAIsE,MAAOwjE,GAAiB3O,EAAWn5D,GAAIi2B,GAAQ,OAAO,EACnE,OAAO,CACT,GAGF,SAAS6xC,GAAiB/zB,EAAU9d,GAClC,SAAO8d,IAAYg0B,GAAqB7vD,eAAe67B,EAASx8B,QAC1DwwD,GAAqBh0B,EAASx8B,MAAMw8B,EAAU9d,EAEtD,CAEA,SAAS+xC,GAAct1B,EAAazc,GAClC,OAAwC,IAAjC2xC,GAASl1B,EAAazc,EAC/B,CAEA,SAASgyC,GAAav1B,EAAazc,GAEjC,IADA,IAAIkyC,EAAIC,EAAIxqB,EACH59C,EAAI,EAAGsE,EAAIouC,EAAYzyC,OAAQD,EAAIsE,EAAGtE,IAAK,CAElD,GAAW,KADXooE,EAAKR,GAASl1B,EAAY1yC,GAAIi2B,IAChB,OAAO,EACrB,GAAIj2B,EAAI,IACN49C,EAAKgqB,GAASl1B,EAAY1yC,GAAI0yC,EAAY1yC,EAAI,KAEvC,GACLmoE,GAAMvqB,GACNwqB,GAAMxqB,IACLuqB,EAAKC,EAAKxqB,IAAO,EAAIj7C,KAAK6I,KAAK28D,EAAKC,GAAMxqB,EAAI,IAAM6Y,GAAW7Y,EAEhE,OAAO,EAEXuqB,EAAKC,CACP,CACA,OAAO,CACT,CAEA,SAASF,GAAgBx1B,EAAazc,GACpC,QAASmsC,GAAgB1vB,EAAY5sC,IAAIuiE,IAAcC,GAAaryC,GACtE,CAEA,SAASoyC,GAAY73B,GACnB,OAAOA,EAAOA,EAAK1qC,IAAIwiE,KAAoB1iE,MAAO4qC,CACpD,CAEA,SAAS83B,GAAaryC,GACpB,MAAO,CAACA,EAAM,GAAK8gC,GAAS9gC,EAAM,GAAK8gC,GACzC,CAEe,SAAAwR,GAASniB,EAAQnwB,GAC9B,OAAQmwB,GAAUyhB,GAAmB3vD,eAAekuC,EAAO7uC,MACrDswD,GAAmBzhB,EAAO7uC,MAC1BuwD,IAAkB1hB,EAAQnwB,EAClC,CC7FA,SAASuyC,GAAWz9B,EAAIL,EAAIjE,GAC1B,IAAIpiC,EAAIgM,GAAM06B,EAAIL,EAAK8rB,GAAS/vB,GAAI9uB,OAAO+yB,GAC3C,OAAO,SAAStpC,GAAK,OAAOiD,EAAEyB,KAAI,SAASzB,GAAK,MAAO,CAACjD,EAAGiD,EAAI,GAAI,CACrE,CAEA,SAASokE,GAAWz7D,EAAIC,EAAIu5B,GAC1B,IAAIplC,EAAIiP,GAAMrD,EAAIC,EAAKupD,GAAShwB,GAAI7uB,OAAO1K,GAC3C,OAAO,SAAS5I,GAAK,OAAOjD,EAAE0E,KAAI,SAAS1E,GAAK,MAAO,CAACA,EAAGiD,EAAI,GAAI,CACrE,CAEe,SAAAqkE,KACb,IAAIz7D,EAAID,EAAI27D,EAAIC,EACZl+B,EAAIK,EAAI89B,EAAIC,EAEZ1nE,EAAGiD,EAAGiwD,EAAGyU,EADTviC,EAAK,GAAIC,EAAKD,EAAIwiC,EAAK,GAAIC,EAAK,IAEhClV,EAAY,IAEhB,SAASmV,IACP,MAAO,CAAC3xD,KAAM,kBAAmBm7B,YAAa0uB,IAChD,CAEA,SAASA,IACP,OAAO/wD,GAAM+mD,GAAKwR,EAAKI,GAAMA,EAAIL,EAAIK,GAAIljE,IAAIwuD,GACxC38C,OAAOtH,GAAM+mD,GAAK0R,EAAKG,GAAMA,EAAIJ,EAAII,GAAInjE,IAAIijE,IAC7CpxD,OAAOtH,GAAM+mD,GAAKpqD,EAAKw5B,GAAMA,EAAIv5B,EAAIu5B,GAAI5vB,QAAO,SAASxV,GAAK,OAAO41D,GAAI51D,EAAI4nE,GAAMxS,EAAS,IAAG1wD,IAAI1E,IACnGuW,OAAOtH,GAAM+mD,GAAKrsB,EAAKtE,GAAMA,EAAIiE,EAAIjE,GAAI7vB,QAAO,SAASvS,GAAK,OAAO2yD,GAAI3yD,EAAI4kE,GAAMzS,EAAS,IAAG1wD,IAAIzB,GAC1G,CAoEA,OAlEA6kE,EAAU9H,MAAQ,WAChB,OAAOA,IAAQt7D,KAAI,SAAS4sC,GAAe,MAAO,CAACn7B,KAAM,aAAcm7B,YAAaA,EAAc,GACpG,EAEAw2B,EAAUC,QAAU,WAClB,MAAO,CACL5xD,KAAM,UACNm7B,YAAa,CACX4hB,EAAEsU,GAAIjxD,OACNoxD,EAAEF,GAAI7lE,MAAM,GACZsxD,EAAEqU,GAAI58D,UAAU/I,MAAM,GACtB+lE,EAAED,GAAI/8D,UAAU/I,MAAM,KAG5B,EAEAkmE,EAAU1kC,OAAS,SAASj3B,GAC1B,OAAKC,UAAUvN,OACRipE,EAAUE,YAAY77D,GAAG87D,YAAY97D,GADd27D,EAAUG,aAE1C,EAEAH,EAAUE,YAAc,SAAS77D,GAC/B,OAAKC,UAAUvN,QACf2oE,GAAMr7D,EAAE,GAAG,GAAIo7D,GAAMp7D,EAAE,GAAG,GAC1Bu7D,GAAMv7D,EAAE,GAAG,GAAIs7D,GAAMt7D,EAAE,GAAG,GACtBq7D,EAAKD,IAAIp7D,EAAIq7D,EAAIA,EAAKD,EAAIA,EAAKp7D,GAC/Bu7D,EAAKD,IAAIt7D,EAAIu7D,EAAIA,EAAKD,EAAIA,EAAKt7D,GAC5B27D,EAAUnV,UAAUA,IALG,CAAC,CAAC6U,EAAIE,GAAK,CAACH,EAAIE,GAMhD,EAEAK,EAAUG,YAAc,SAAS97D,GAC/B,OAAKC,UAAUvN,QACf+M,GAAMO,EAAE,GAAG,GAAIN,GAAMM,EAAE,GAAG,GAC1Bw9B,GAAMx9B,EAAE,GAAG,GAAIm9B,GAAMn9B,EAAE,GAAG,GACtBP,EAAKC,IAAIM,EAAIP,EAAIA,EAAKC,EAAIA,EAAKM,GAC/Bw9B,EAAKL,IAAIn9B,EAAIw9B,EAAIA,EAAKL,EAAIA,EAAKn9B,GAC5B27D,EAAUnV,UAAUA,IALG,CAAC,CAAC/mD,EAAI+9B,GAAK,CAAC99B,EAAIy9B,GAMhD,EAEAw+B,EAAUzlE,KAAO,SAAS8J,GACxB,OAAKC,UAAUvN,OACRipE,EAAUI,UAAU/7D,GAAGg8D,UAAUh8D,GADV27D,EAAUK,WAE1C,EAEAL,EAAUI,UAAY,SAAS/7D,GAC7B,OAAKC,UAAUvN,QACf+oE,GAAMz7D,EAAE,GAAI07D,GAAM17D,EAAE,GACb27D,GAFuB,CAACF,EAAIC,EAGrC,EAEAC,EAAUK,UAAY,SAASh8D,GAC7B,OAAKC,UAAUvN,QACfumC,GAAMj5B,EAAE,GAAIk5B,GAAMl5B,EAAE,GACb27D,GAFuB,CAAC1iC,EAAIC,EAGrC,EAEAyiC,EAAUnV,UAAY,SAASxmD,GAC7B,OAAKC,UAAUvN,QACf8zD,GAAaxmD,EACbnM,EAAIonE,GAAWz9B,EAAIL,EAAI,IACvBrmC,EAAIokE,GAAWz7D,EAAIC,EAAI8mD,GACvBO,EAAIkU,GAAWM,EAAID,EAAI,IACvBE,EAAIN,GAAWG,EAAID,EAAI5U,GAChBmV,GANuBnV,CAOhC,EAEOmV,EACFE,YAAY,CAAC,EAAC,KAAM,GAAM5S,IAAU,CAAC,IAAK,GAAKA,MAC/C6S,YAAY,CAAC,EAAC,KAAM,GAAM7S,IAAU,CAAC,IAAK,GAAKA,KACtD,CAEO,SAASgT,KACd,OAAOd,MACT,CCtGe,SAAAe,GAAS/oE,EAAGC,GACzB,IAAIqM,EAAKtM,EAAE,GAAKq2D,GACZhsB,EAAKrqC,EAAE,GAAKq2D,GACZ9pD,EAAKtM,EAAE,GAAKo2D,GACZrsB,EAAK/pC,EAAE,GAAKo2D,GACZ2S,EAAMvS,GAAIpsB,GACV+U,EAAM2X,GAAI1sB,GACV4+B,EAAMxS,GAAIzsB,GACVsV,EAAMyX,GAAI/sB,GACVk/B,EAAMF,EAAMvS,GAAInqD,GAChB68D,EAAMH,EAAMjS,GAAIzqD,GAChB88D,EAAMH,EAAMxS,GAAIlqD,GAChB88D,EAAMJ,EAAMlS,GAAIxqD,GAChBzL,EAAI,EAAIs2D,GAAKH,GAAKI,GAASrtB,EAAKK,GAAM2+B,EAAMC,EAAM5R,GAAS9qD,EAAKD,KAChEkB,EAAIupD,GAAIj2D,GAER07B,EAAc17B,EAAI,SAASsD,GAC7B,IAAIklE,EAAIvS,GAAI3yD,GAAKtD,GAAK0M,EAClB+2D,EAAIxN,GAAIj2D,EAAIsD,GAAKoJ,EACjB9M,EAAI6jE,EAAI2E,EAAMI,EAAIF,EAClBzlE,EAAI4gE,EAAI4E,EAAMG,EAAID,EAClB37D,EAAI62D,EAAInlB,EAAMkqB,EAAIhqB,EACtB,MAAO,CACLkX,GAAM7yD,EAAGjD,GAAK01D,GACdI,GAAM9oD,EAAGupD,GAAKv2D,EAAIA,EAAIiD,EAAIA,IAAMyyD,GAEpC,EAAI,WACF,MAAO,CAAC9pD,EAAK8pD,GAAS/rB,EAAK+rB,GAC7B,EAIA,OAFA55B,EAAYmzB,SAAW7uD,EAEhB07B,CACT,CCnCA,ICMI+sC,GACAC,GACAC,GACAC,GDTJC,GAAejpE,GAAKA,ECIhBkpE,GAAU,IAAI3jE,EACd4jE,GAAc,IAAI5jE,EAMlB6jE,GAAa,CACfv0C,MAAO+hC,GACPsB,UAAWtB,GACXuB,QAASvB,GACTwB,aAAc,WACZgR,GAAWlR,UAAYmR,GACvBD,GAAWjR,QAAUmR,EACvB,EACAjR,WAAY,WACV+Q,GAAWlR,UAAYkR,GAAWjR,QAAUiR,GAAWv0C,MAAQ+hC,GAC/DsS,GAAQtjE,IAAIgwD,GAAIuT,KAChBA,GAAc,IAAI5jE,CACpB,EACA26D,OAAQ,WACN,IAAI7wB,EAAO65B,GAAU,EAErB,OADAA,GAAU,IAAI3jE,EACP8pC,CACT,GAGF,SAASg6B,KACPD,GAAWv0C,MAAQ00C,EACrB,CAEA,SAASA,GAAevpE,EAAGiD,GACzBmmE,GAAWv0C,MAAQ20C,GACnBX,GAAME,GAAK/oE,EAAG8oE,GAAME,GAAK/lE,CAC3B,CAEA,SAASumE,GAAUxpE,EAAGiD,GACpBkmE,GAAYvjE,IAAIojE,GAAKhpE,EAAI+oE,GAAK9lE,GAC9B8lE,GAAK/oE,EAAGgpE,GAAK/lE,CACf,CAEA,SAASqmE,KACPE,GAAUX,GAAKC,GACjB,C,IAEAW,GAAeL,GC/CXM,GAAK38D,IACL48D,GAAKD,GACLE,IAAMF,GACNG,GAAKD,G,ICQLE,GACAC,GACAC,GACAC,GDWJC,GApBmB,CACjBr1C,MAYF,SAAqB70B,EAAGiD,GAClBjD,EAAI0pE,KAAIA,GAAK1pE,GACbA,EAAI4pE,KAAIA,GAAK5pE,GACbiD,EAAI0mE,KAAIA,GAAK1mE,GACbA,EAAI4mE,KAAIA,GAAK5mE,EACnB,EAhBEi1D,UAAWtB,GACXuB,QAASvB,GACTwB,aAAcxB,GACdyB,WAAYzB,GACZsJ,OAAQ,WACN,IAAIhgB,EAAS,CAAC,CAACwpB,GAAIC,IAAK,CAACC,GAAIC,KAE7B,OADAD,GAAKC,KAAOF,GAAKD,GAAK38D,KACfmzC,CACT,GCbEiqB,GAAK,EACLC,GAAK,EACLC,GAAK,EACLC,GAAK,EACLC,GAAK,EACLC,GAAK,EACLC,GAAK,EACLC,GAAK,EACLC,GAAK,EAMLC,GAAiB,CACnB/1C,MAAOg2C,GACP3S,UAAW4S,GACX3S,QAAS4S,GACT3S,aAAc,WACZwS,GAAe1S,UAAY8S,GAC3BJ,GAAezS,QAAU8S,EAC3B,EACA5S,WAAY,WACVuS,GAAe/1C,MAAQg2C,GACvBD,GAAe1S,UAAY4S,GAC3BF,GAAezS,QAAU4S,EAC3B,EACA7K,OAAQ,WACN,IAAIgL,EAAWP,GAAK,CAACF,GAAKE,GAAID,GAAKC,IAC7BH,GAAK,CAACF,GAAKE,GAAID,GAAKC,IACpBH,GAAK,CAACF,GAAKE,GAAID,GAAKC,IACpB,CAAC7qE,IAAKA,KAIZ,OAHA2qE,GAAKC,GAAKC,GACVC,GAAKC,GAAKC,GACVC,GAAKC,GAAKC,GAAK,EACRO,CACT,GAGF,SAASL,GAAc7qE,EAAGiD,GACxBknE,IAAMnqE,EACNoqE,IAAMnnE,IACJonE,EACJ,CAEA,SAASS,KACPF,GAAe/1C,MAAQs2C,EACzB,CAEA,SAASA,GAAuBnrE,EAAGiD,GACjC2nE,GAAe/1C,MAAQu2C,GACvBP,GAAcb,GAAKhqE,EAAGiqE,GAAKhnE,EAC7B,CAEA,SAASmoE,GAAkBprE,EAAGiD,GAC5B,IAAImiC,EAAKplC,EAAIgqE,GAAI3kC,EAAKpiC,EAAIgnE,GAAIj9D,EAAIupD,GAAKnxB,EAAKA,EAAKC,EAAKA,GACtDilC,IAAMt9D,GAAKg9D,GAAKhqE,GAAK,EACrBuqE,IAAMv9D,GAAKi9D,GAAKhnE,GAAK,EACrBunE,IAAMx9D,EACN69D,GAAcb,GAAKhqE,EAAGiqE,GAAKhnE,EAC7B,CAEA,SAAS8nE,KACPH,GAAe/1C,MAAQg2C,EACzB,CAEA,SAASG,KACPJ,GAAe/1C,MAAQw2C,EACzB,CAEA,SAASJ,KACPK,GAAkBxB,GAAKC,GACzB,CAEA,SAASsB,GAAuBrrE,EAAGiD,GACjC2nE,GAAe/1C,MAAQy2C,GACvBT,GAAcf,GAAME,GAAKhqE,EAAG+pE,GAAME,GAAKhnE,EACzC,CAEA,SAASqoE,GAAkBtrE,EAAGiD,GAC5B,IAAImiC,EAAKplC,EAAIgqE,GACT3kC,EAAKpiC,EAAIgnE,GACTj9D,EAAIupD,GAAKnxB,EAAKA,EAAKC,EAAKA,GAE5BilC,IAAMt9D,GAAKg9D,GAAKhqE,GAAK,EACrBuqE,IAAMv9D,GAAKi9D,GAAKhnE,GAAK,EACrBunE,IAAMx9D,EAGNy9D,KADAz9D,EAAIi9D,GAAKjqE,EAAIgqE,GAAK/mE,IACP+mE,GAAKhqE,GAChB0qE,IAAM19D,GAAKi9D,GAAKhnE,GAChB0nE,IAAU,EAAJ39D,EACN69D,GAAcb,GAAKhqE,EAAGiqE,GAAKhnE,EAC7B,C,IAEAsoE,GAAeX,GChGA,SAAAY,GAAqB53D,GAClCnO,KAAKgmE,SAAW73D,CAClB,CAEA43D,GAAY9hE,UAAY,CACtBgiE,QAAS,IACTC,YAAa,SAASx/D,GACpB,OAAO1G,KAAKimE,QAAUv/D,EAAG1G,IAC3B,EACA2yD,aAAc,WACZ3yD,KAAKmmE,MAAQ,CACf,EACAvT,WAAY,WACV5yD,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACY,IAAf1yD,KAAKmmE,OAAanmE,KAAKgmE,SAAStiC,YACpC1jC,KAAKomE,OAASrsE,GAChB,EACAq1B,MAAO,SAAS70B,EAAGiD,GACjB,OAAQwC,KAAKomE,QACX,KAAK,EACHpmE,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GACxBwC,KAAKomE,OAAS,EACd,MAEF,KAAK,EACHpmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GACxB,MAEF,QACEwC,KAAKgmE,SAASviC,OAAOlpC,EAAIyF,KAAKimE,QAASzoE,GACvCwC,KAAKgmE,SAAS/gC,IAAI1qC,EAAGiD,EAAGwC,KAAKimE,QAAS,EAAGjW,IAI/C,EACAyK,OAAQtJ,ICvCV,IACIkV,GACAC,GACAC,GACAC,GACAC,GALAC,GAAY,IAAI5mE,EAOhB6mE,GAAe,CACjBv3C,MAAO+hC,GACPsB,UAAW,WACTkU,GAAav3C,MAAQw3C,EACvB,EACAlU,QAAS,WACH2T,IAAYQ,GAAYP,GAAKC,IACjCI,GAAav3C,MAAQ+hC,EACvB,EACAwB,aAAc,WACZ0T,IAAa,CACf,EACAzT,WAAY,WACVyT,GAAa,IACf,EACA5L,OAAQ,WACN,IAAIrhE,GAAUstE,GAEd,OADAA,GAAY,IAAI5mE,EACT1G,CACT,GAGF,SAASwtE,GAAiBrsE,EAAGiD,GAC3BmpE,GAAav3C,MAAQy3C,GACrBP,GAAME,GAAKjsE,EAAGgsE,GAAME,GAAKjpE,CAC3B,CAEA,SAASqpE,GAAYtsE,EAAGiD,GACtBgpE,IAAMjsE,EAAGksE,IAAMjpE,EACfkpE,GAAUvmE,IAAI2wD,GAAK0V,GAAKA,GAAKC,GAAKA,KAClCD,GAAKjsE,EAAGksE,GAAKjpE,CACf,C,IAEAspE,GAAeH,GC3Cf,IAAII,GAAaC,GAAaC,GAAaC,GAE5B,MAAAC,GACbpnE,YAAYmjC,GACVljC,KAAKujC,QAAoB,MAAVL,EAAiBkkC,GAgEpC,SAAqBlkC,GACnB,MAAMvoC,EAAImB,KAAKC,MAAMmnC,GACrB,KAAMvoC,GAAK,GAAI,MAAM,IAAIkB,WAAW,mBAAmBqnC,KACvD,GAAIvoC,EAAI,GAAI,OAAOysE,GACnB,GAAIzsE,IAAMosE,GAAa,CACrB,MAAM1/D,EAAI,IAAM1M,EAChBosE,GAAcpsE,EACdqsE,GAAc,SAAgBhkC,GAC5B,IAAI7pC,EAAI,EACR6G,KAAK0G,GAAKs8B,EAAQ,GAClB,IAAK,MAAMnlC,EAAImlC,EAAQ5pC,OAAQD,EAAI0E,IAAK1E,EACtC6G,KAAK0G,GAAK5K,KAAKkJ,MAAM2B,UAAUxN,GAAKkO,GAAKA,EAAI27B,EAAQ7pC,EAEzD,CACF,CACA,OAAO6tE,EACT,CAhF6CK,CAAYnkC,GACrDljC,KAAKimE,QAAU,IACfjmE,KAAK0G,EAAI,EACX,CACAw/D,YAAYx/D,GAEV,OADA1G,KAAKimE,SAAWv/D,EACT1G,IACT,CACA2yD,eACE3yD,KAAKmmE,MAAQ,CACf,CACAvT,aACE5yD,KAAKmmE,MAAQpsE,GACf,CACA04D,YACEzyD,KAAKomE,OAAS,CAChB,CACA1T,UACqB,IAAf1yD,KAAKmmE,QAAanmE,KAAK0G,GAAK,KAChC1G,KAAKomE,OAASrsE,GAChB,CACAq1B,MAAM70B,EAAGiD,GACP,OAAQwC,KAAKomE,QACX,KAAK,EACHpmE,KAAKujC,OAAO,IAAIhpC,KAAKiD,IACrBwC,KAAKomE,OAAS,EACd,MAEF,KAAK,EACHpmE,KAAKujC,OAAO,IAAIhpC,KAAKiD,IACrB,MAEF,QAEE,GADAwC,KAAKujC,OAAO,IAAIhpC,KAAKiD,IACjBwC,KAAKimE,UAAYgB,IAAejnE,KAAKujC,UAAYyjC,GAAa,CAChE,MAAMprE,EAAIoE,KAAKimE,QACTroE,EAAIoC,KAAK0G,EACf1G,KAAK0G,EAAI,GACT1G,KAAKujC,OAAO,MAAM3nC,KAAKA,KAAKA,cAAa,EAAKA,KAAKA,KAAKA,aAAa,EAAIA,KACzEqrE,GAAcrrE,EACdorE,GAAchnE,KAAKujC,QACnB2jC,GAAclnE,KAAK0G,EACnB1G,KAAK0G,EAAI9I,CACX,CACAoC,KAAK0G,GAAKwgE,GAIhB,CACAzM,SACE,MAAMA,EAASz6D,KAAK0G,EAEpB,OADA1G,KAAK0G,EAAI,GACF+zD,EAAOrhE,OAASqhE,EAAS,IAClC,EAGF,SAAS2M,GAAOpkC,GACd,IAAI7pC,EAAI,EACR6G,KAAK0G,GAAKs8B,EAAQ,GAClB,IAAK,MAAMnlC,EAAImlC,EAAQ5pC,OAAQD,EAAI0E,IAAK1E,EACtC6G,KAAK0G,GAAKC,UAAUxN,GAAK6pC,EAAQ7pC,EAErC,CC1De,SAAAmuE,GAASC,EAAYp5D,GAClC,IAEIq5D,EACAC,EAHAvkC,EAAS,EACTgjC,EAAc,IAIlB,SAASt3D,EAAK2wC,GAKZ,OAJIA,IACyB,mBAAhB2mB,GAA4BuB,EAAcvB,aAAaA,EAAY93D,MAAMpO,KAAM2G,YAC1FksD,GAAOtT,EAAQioB,EAAiBC,KAE3BA,EAAchN,QACvB,CAqDA,OAnDA7rD,EAAKg7B,KAAO,SAAS2V,GAEnB,OADAsT,GAAOtT,EAAQioB,EAAiBxD,KACzBA,GAASvJ,QAClB,EAEA7rD,EAAK84D,QAAU,SAASnoB,GAEtB,OADAsT,GAAOtT,EAAQioB,EAAiBV,KACzBA,GAAYrM,QACrB,EAEA7rD,EAAK6rC,OAAS,SAAS8E,GAErB,OADAsT,GAAOtT,EAAQioB,EAAiB/C,KACzBA,GAAWhK,QACpB,EAEA7rD,EAAK62D,SAAW,SAASlmB,GAEvB,OADAsT,GAAOtT,EAAQioB,EAAiB1B,KACzBA,GAAarL,QACtB,EAEA7rD,EAAK24D,WAAa,SAAS7gE,GACzB,OAAKC,UAAUvN,QACfouE,EAAwB,MAAL9gE,GAAa6gE,EAAa,KAAM/D,KAAa+D,EAAa7gE,GAAG2qD,OACzEziD,GAFuB24D,CAGhC,EAEA34D,EAAKT,QAAU,SAASzH,GACtB,OAAKC,UAAUvN,QACfquE,EAAqB,MAAL/gE,GAAayH,EAAU,KAAM,IAAIg5D,GAAWjkC,IAAW,IAAI6iC,GAAY53D,EAAUzH,GACtE,mBAAhBw/D,GAA4BuB,EAAcvB,YAAYA,GAC1Dt3D,GAHuBT,CAIhC,EAEAS,EAAKs3D,YAAc,SAASx/D,GAC1B,OAAKC,UAAUvN,QACf8sE,EAA2B,mBAANx/D,EAAmBA,GAAK+gE,EAAcvB,aAAax/D,IAAKA,GACtEkI,GAFuBs3D,CAGhC,EAEAt3D,EAAKs0B,OAAS,SAASx8B,GACrB,IAAKC,UAAUvN,OAAQ,OAAO8pC,EAC9B,GAAS,MAALx8B,EAAWw8B,EAAS,SACnB,CACH,MAAMvoC,EAAImB,KAAKC,MAAM2K,GACrB,KAAM/L,GAAK,GAAI,MAAM,IAAIkB,WAAW,mBAAmB6K,KACvDw8B,EAASvoC,CACX,CAEA,OADgB,OAAZwT,IAAkBs5D,EAAgB,IAAIN,GAAWjkC,IAC9Ct0B,CACT,EAEOA,EAAK24D,WAAWA,GAAYrkC,OAAOA,GAAQ/0B,QAAQA,EAC5D,CC3Ee,SAAAw5D,GAASC,GACtB,MAAO,CACLvW,OAAQwW,GAAYD,GAExB,CAEO,SAASC,GAAYD,GAC1B,OAAO,SAASvW,GACd,IAAIzzD,EAAI,IAAIkqE,GACZ,IAAK,IAAIjnE,KAAO+mE,EAAShqE,EAAEiD,GAAO+mE,EAAQ/mE,GAE1C,OADAjD,EAAEyzD,OAASA,EACJzzD,CACT,CACF,CAEA,SAASkqE,KAAmB,CCZ5B,SAASC,GAAIR,EAAYS,EAAWzoB,GAClC,IAAI0b,EAAOsM,EAAWU,YAAcV,EAAWU,aAM/C,OALAV,EAAWt6D,MAAM,KAAKkoB,UAAU,CAAC,EAAG,IACxB,MAAR8lC,GAAcsM,EAAWU,WAAW,MACxCpV,GAAUtT,EAAQgoB,EAAWlW,OAAOoT,KACpCuD,EAAUvD,GAAahK,UACX,MAARQ,GAAcsM,EAAWU,WAAWhN,GACjCsM,CACT,CAEO,SAASW,GAAUX,EAAY5pC,EAAQ4hB,GAC5C,OAAOwoB,GAAIR,GAAY,SAASztE,GAC9B,IAAIwD,EAAIqgC,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC7BpgC,EAAIogC,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC7Bt2B,EAAIvL,KAAKgC,IAAIR,GAAKxD,EAAE,GAAG,GAAKA,EAAE,GAAG,IAAKyD,GAAKzD,EAAE,GAAG,GAAKA,EAAE,GAAG,KAC1DS,GAAKojC,EAAO,GAAG,IAAMrgC,EAAI+J,GAAKvN,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACpD0D,GAAKmgC,EAAO,GAAG,IAAMpgC,EAAI8J,GAAKvN,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACxDytE,EAAWt6D,MAAM,IAAM5F,GAAG8tB,UAAU,CAAC56B,EAAGiD,GAC1C,GAAG+hD,EACL,CAEO,SAAS4oB,GAAQZ,EAAY3qD,EAAM2iC,GACxC,OAAO2oB,GAAUX,EAAY,CAAC,CAAC,EAAG,GAAI3qD,GAAO2iC,EAC/C,CAEO,SAAS6oB,GAASb,EAAYvqE,EAAOuiD,GAC1C,OAAOwoB,GAAIR,GAAY,SAASztE,GAC9B,IAAIwD,GAAKN,EACLqK,EAAI/J,GAAKxD,EAAE,GAAG,GAAKA,EAAE,GAAG,IACxBS,GAAK+C,EAAI+J,GAAKvN,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACpC0D,GAAK6J,EAAIvN,EAAE,GAAG,GAClBytE,EAAWt6D,MAAM,IAAM5F,GAAG8tB,UAAU,CAAC56B,EAAGiD,GAC1C,GAAG+hD,EACL,CAEO,SAAS8oB,GAAUd,EAAYtqE,EAAQsiD,GAC5C,OAAOwoB,GAAIR,GAAY,SAASztE,GAC9B,IAAIyD,GAAKN,EACLoK,EAAI9J,GAAKzD,EAAE,GAAG,GAAKA,EAAE,GAAG,IACxBS,GAAK8M,EAAIvN,EAAE,GAAG,GACd0D,GAAKD,EAAI8J,GAAKvN,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACxCytE,EAAWt6D,MAAM,IAAM5F,GAAG8tB,UAAU,CAAC56B,EAAGiD,GAC1C,GAAG+hD,EACL,CD7BAuoB,GAAgB7jE,UAAY,CAC1BlE,YAAa+nE,GACb14C,MAAO,SAAS70B,EAAGiD,GAAKwC,KAAKqxD,OAAOjiC,MAAM70B,EAAGiD,EAAI,EACjDo0D,OAAQ,WAAa5xD,KAAKqxD,OAAOO,QAAU,EAC3Ca,UAAW,WAAazyD,KAAKqxD,OAAOoB,WAAa,EACjDC,QAAS,WAAa1yD,KAAKqxD,OAAOqB,SAAW,EAC7CC,aAAc,WAAa3yD,KAAKqxD,OAAOsB,cAAgB,EACvDC,WAAY,WAAa5yD,KAAKqxD,OAAOuB,YAAc,GEpBrD,IAAI0V,GAAW,GACXC,GAAiBjY,GAAI,GAAKJ,IAEf,SAAAsY,GAASC,EAASC,GAC/B,OAAQA,EAYV,SAAkBD,EAASC,GAEzB,SAASC,EAAexiE,EAAI+9B,EAAIqzB,EAASryB,EAAIwP,EAAIoD,EAAI1xC,EAAIy9B,EAAI2zB,EAASryB,EAAI86B,EAAIjoB,EAAI4wB,EAAOvX,GACvF,IAAI1xB,EAAKv5B,EAAKD,EACVy5B,EAAKiE,EAAKK,EACV6lB,EAAKpqB,EAAKA,EAAKC,EAAKA,EACxB,GAAImqB,EAAK,EAAI2e,GAAUE,IAAS,CAC9B,IAAI/uE,EAAIqrC,EAAKC,EACTrrC,EAAI46C,EAAKurB,EACT18D,EAAIu0C,EAAKE,EACTzxC,EAAIuqD,GAAKj3D,EAAIA,EAAIC,EAAIA,EAAIyJ,EAAIA,GAC7BslE,EAAO5X,GAAK1tD,GAAKgD,GACjBuiE,EAAU3Y,GAAIA,GAAI5sD,GAAK,GAAKosD,IAAWQ,GAAIoH,EAAUC,GAAW7H,IAAW4H,EAAUC,GAAW,EAAInH,GAAMv2D,EAAGD,GAC7GuG,EAAIqoE,EAAQK,EAASD,GACrB9kC,EAAK3jC,EAAE,GACP4jC,EAAK5jC,EAAE,GACP2oE,EAAMhlC,EAAK59B,EACX6iE,EAAMhlC,EAAKE,EACX+kC,EAAKrpC,EAAKmpC,EAAMppC,EAAKqpC,GACrBC,EAAKA,EAAKlf,EAAK2e,GACZvY,IAAKxwB,EAAKopC,EAAMnpC,EAAKopC,GAAOjf,EAAK,IAAO,IACxC7kB,EAAKC,EAAKuP,EAAKurB,EAAKnoB,EAAKE,EAAKuwB,MACnCI,EAAexiE,EAAI+9B,EAAIqzB,EAASryB,EAAIwP,EAAIoD,EAAI/T,EAAIC,EAAI8kC,EAASjvE,GAAK0M,EAAGzM,GAAKyM,EAAGhD,EAAGqlE,EAAOvX,GACvFA,EAAOjiC,MAAM2U,EAAIC,GACjB2kC,EAAe5kC,EAAIC,EAAI8kC,EAASjvE,EAAGC,EAAGyJ,EAAG6C,EAAIy9B,EAAI2zB,EAASryB,EAAI86B,EAAIjoB,EAAI4wB,EAAOvX,GAEjF,CACF,CACA,OAAO,SAASA,GACd,IAAI6X,EAAUC,EAAKC,EAAKC,EAAKC,EAAKC,EAC9BhS,EAASpxD,EAAI+9B,EAAIgB,EAAIwP,EAAIoD,EAEzB0xB,EAAiB,CACnBp6C,MAAOA,EACPqjC,UAAWA,EACXC,QAASA,EACTC,aAAc,WAAatB,EAAOsB,eAAgB6W,EAAe/W,UAAYkK,CAAW,EACxF/J,WAAY,WAAavB,EAAOuB,aAAc4W,EAAe/W,UAAYA,CAAW,GAGtF,SAASrjC,EAAM70B,EAAGiD,GAChBjD,EAAIkuE,EAAQluE,EAAGiD,GACf6zD,EAAOjiC,MAAM70B,EAAE,GAAIA,EAAE,GACvB,CAEA,SAASk4D,IACPtsD,EAAKpM,IACLyvE,EAAep6C,MAAQ4wC,EACvB3O,EAAOoB,WACT,CAEA,SAASuN,EAAU1L,EAAQC,GACzB,IAAIhxD,EAAI0xD,GAAU,CAACX,EAAQC,IAAOn0D,EAAIqoE,EAAQnU,EAAQC,GACtDoU,EAAexiE,EAAI+9B,EAAIqzB,EAASryB,EAAIwP,EAAIoD,EAAI3xC,EAAK/F,EAAE,GAAI8jC,EAAK9jC,EAAE,GAAIm3D,EAAUjD,EAAQpvB,EAAK3hC,EAAE,GAAImxC,EAAKnxC,EAAE,GAAIu0C,EAAKv0C,EAAE,GAAI+kE,GAAUjX,GAC/HA,EAAOjiC,MAAMjpB,EAAI+9B,EACnB,CAEA,SAASwuB,IACP8W,EAAep6C,MAAQA,EACvBiiC,EAAOqB,SACT,CAEA,SAASiK,IACPlK,IACA+W,EAAep6C,MAAQq6C,EACvBD,EAAe9W,QAAUkK,CAC3B,CAEA,SAAS6M,EAAUnV,EAAQC,GACzByL,EAAUkJ,EAAW5U,EAAQC,GAAM4U,EAAMhjE,EAAIijE,EAAMllC,EAAImlC,EAAMnkC,EAAIokC,EAAM50B,EAAI60B,EAAMzxB,EACjF0xB,EAAep6C,MAAQ4wC,CACzB,CAEA,SAASpD,IACP+L,EAAexiE,EAAI+9B,EAAIqzB,EAASryB,EAAIwP,EAAIoD,EAAIqxB,EAAKC,EAAKF,EAAUG,EAAKC,EAAKC,EAAKjB,GAAUjX,GACzFmY,EAAe9W,QAAUA,EACzBA,GACF,CAEA,OAAO8W,CACT,CACF,CA7FmBE,CAASjB,EAASC,GAGrC,SAAsBD,GACpB,OAAOZ,GAAY,CACjBz4C,MAAO,SAAS70B,EAAGiD,GACjBjD,EAAIkuE,EAAQluE,EAAGiD,GACfwC,KAAKqxD,OAAOjiC,MAAM70B,EAAE,GAAIA,EAAE,GAC5B,GAEJ,CAV+CovE,CAAalB,EAC5D,CCEA,IAAImB,GAAmB/B,GAAY,CACjCz4C,MAAO,SAAS70B,EAAGiD,GACjBwC,KAAKqxD,OAAOjiC,MAAM70B,EAAI21D,GAAS1yD,EAAI0yD,GACrC,IAuBF,SAAS2Z,GAAqBxiE,EAAGs4B,EAAIC,EAAI+mB,EAAIC,EAAI6C,GAC/C,IAAKA,EAAO,OAZd,SAAwBpiD,EAAGs4B,EAAIC,EAAI+mB,EAAIC,GACrC,SAAS34C,EAAU1T,EAAGiD,GAEpB,MAAO,CAACmiC,EAAKt4B,GADb9M,GAAKosD,GACe/mB,EAAKv4B,GADhB7J,GAAKopD,GAEhB,CAIA,OAHA34C,EAAU8qD,OAAS,SAASx+D,EAAGiD,GAC7B,MAAO,EAAEjD,EAAIolC,GAAMt4B,EAAIs/C,GAAK/mB,EAAKpiC,GAAK6J,EAAIu/C,EAC5C,EACO34C,CACT,CAGqB67D,CAAeziE,EAAGs4B,EAAIC,EAAI+mB,EAAIC,GACjD,IAAImjB,EAAWzZ,GAAI7G,GACfugB,EAAWpZ,GAAInH,GACf5vD,EAAIkwE,EAAW1iE,EACfvN,EAAIkwE,EAAW3iE,EACfkxC,EAAKwxB,EAAW1iE,EAChBonB,EAAKu7C,EAAW3iE,EAChB+wC,GAAM4xB,EAAWpqC,EAAKmqC,EAAWpqC,GAAMt4B,EACvC4iE,GAAMD,EAAWrqC,EAAKoqC,EAAWnqC,GAAMv4B,EAC3C,SAAS4G,EAAU1T,EAAGiD,GAEpB,MAAO,CAAC3D,GADRU,GAAKosD,GACW7sD,GADP0D,GAAKopD,GACUjnB,EAAIC,EAAK9lC,EAAIS,EAAIV,EAAI2D,EAC/C,CAIA,OAHAyQ,EAAU8qD,OAAS,SAASx+D,EAAGiD,GAC7B,MAAO,CAACmpD,GAAMpO,EAAKh+C,EAAIk0B,EAAKjxB,EAAI46C,GAAKwO,GAAMqjB,EAAKx7C,EAAKl0B,EAAIg+C,EAAK/6C,GAChE,EACOyQ,CACT,CAEe,SAAAi8D,GAAoBzB,GACjC,OAAO0B,IAAkB,WAAa,OAAO1B,CAAS,GAA/C0B,EACT,CAEO,SAASA,GAAkBC,GAChC,IAAI3B,EAI+Cr0C,EAKpC8P,EAAI99B,EAAIy9B,EAEnBwmC,EACAC,EACAC,EACAlK,EACAC,EAdAj5D,EAAI,IACJ9M,EAAI,IAAKiD,EAAI,IACb82D,EAAS,EAAGC,EAAM,EAClB2E,EAAc,EAAGC,EAAW,EAAGC,EAAa,EAC5C3P,EAAQ,EACR9C,EAAK,EACLC,EAAK,EACLkF,EAAQ,KAAM0e,EAAUvN,GACxB92D,EAAK,KAAkBskE,EAAWjH,GAClCkF,EAAS,GAOb,SAASnB,EAAWn4C,GAClB,OAAOm7C,EAAuBn7C,EAAM,GAAK8gC,GAAS9gC,EAAM,GAAK8gC,GAC/D,CAEA,SAAS6I,EAAO3pC,GAEd,OADAA,EAAQm7C,EAAuBxR,OAAO3pC,EAAM,GAAIA,EAAM,MACtC,CAACA,EAAM,GAAK6gC,GAAS7gC,EAAM,GAAK6gC,GAClD,CAsEA,SAASya,IACP,IAAIjvE,EAASouE,GAAqBxiE,EAAG,EAAG,EAAGs/C,EAAIC,EAAI6C,GAAOr7C,MAAM,KAAMq6D,EAAQnU,EAAQC,IAClFtmD,EAAY47D,GAAqBxiE,EAAG9M,EAAIkB,EAAO,GAAI+B,EAAI/B,EAAO,GAAIkrD,EAAIC,EAAI6C,GAK9E,OAJAr1B,EAAS6kC,GAAcC,EAAaC,EAAUC,GAC9CkR,EAAmBzR,GAAQ4P,EAASx6D,GACpCs8D,EAAyB1R,GAAQzkC,EAAQk2C,GACzCD,EAAkB7B,GAAS8B,EAAkB5B,GACtCiC,GACT,CAEA,SAASA,IAEP,OADAtK,EAAQC,EAAc,KACfiH,CACT,CAEA,OAnFAA,EAAWlW,OAAS,SAASA,GAC3B,OAAOgP,GAASC,IAAgBjP,EAASgP,EAAQA,EAAQuJ,GAxE7D,SAAyBx1C,GACvB,OAAOyzC,GAAY,CACjBz4C,MAAO,SAAS70B,EAAGiD,GACjB,IAAI5B,EAAIw4B,EAAO75B,EAAGiD,GAClB,OAAOwC,KAAKqxD,OAAOjiC,MAAMxzB,EAAE,GAAIA,EAAE,GACnC,GAEJ,CAiE8EgvE,CAAgBx2C,EAAhBw2C,CAAwBJ,EAAQH,EAAgBI,EAASnK,EAAcjP,MACnJ,EAEAkW,EAAWiD,QAAU,SAAS9jE,GAC5B,OAAOC,UAAUvN,QAAUoxE,EAAU9jE,EAAGolD,OAAQ7wD,EAAW0vE,KAAWH,CACxE,EAEAjD,EAAWkD,SAAW,SAAS/jE,GAC7B,OAAOC,UAAUvN,QAAUqxE,EAAW/jE,EAAGP,EAAK+9B,EAAK99B,EAAKy9B,EAAK,KAAM8mC,KAAWF,CAChF,EAEAlD,EAAWsD,UAAY,SAASnkE,GAC9B,OAAOC,UAAUvN,QAAUoxE,GAAW9jE,EAAI62D,GAAWzR,EAAQplD,EAAIwpD,KAAYpE,EAAQ,KAAMmR,IAAmB0N,KAAW7e,EAAQmE,EACnI,EAEAsX,EAAWU,WAAa,SAASvhE,GAC/B,OAAOC,UAAUvN,QAAUqxE,EAAgB,MAAL/jE,GAAaP,EAAK+9B,EAAK99B,EAAKy9B,EAAK,KAAM2/B,IAAYtE,GAAc/4D,GAAMO,EAAE,GAAG,GAAIw9B,GAAMx9B,EAAE,GAAG,GAAIN,GAAMM,EAAE,GAAG,GAAIm9B,GAAMn9B,EAAE,GAAG,IAAKikE,KAAiB,MAANxkE,EAAa,KAAO,CAAC,CAACA,EAAI+9B,GAAK,CAAC99B,EAAIy9B,GACrN,EAEA0jC,EAAWt6D,MAAQ,SAASvG,GAC1B,OAAOC,UAAUvN,QAAUiO,GAAKX,EAAGgkE,KAAcrjE,CACnD,EAEAkgE,EAAWpyC,UAAY,SAASzuB,GAC9B,OAAOC,UAAUvN,QAAUmB,GAAKmM,EAAE,GAAIlJ,GAAKkJ,EAAE,GAAIgkE,KAAc,CAACnwE,EAAGiD,EACrE,EAEA+pE,EAAW9rE,OAAS,SAASiL,GAC3B,OAAOC,UAAUvN,QAAUk7D,EAAS5tD,EAAE,GAAK,IAAMwpD,GAASqE,EAAM7tD,EAAE,GAAK,IAAMwpD,GAASwa,KAAc,CAACpW,EAASrE,GAASsE,EAAMtE,GAC/H,EAEAsX,EAAWnzC,OAAS,SAAS1tB,GAC3B,OAAOC,UAAUvN,QAAU8/D,EAAcxyD,EAAE,GAAK,IAAMwpD,GAASiJ,EAAWzyD,EAAE,GAAK,IAAMwpD,GAASkJ,EAAa1yD,EAAEtN,OAAS,EAAIsN,EAAE,GAAK,IAAMwpD,GAAU,EAAGwa,KAAc,CAACxR,EAAcjJ,GAASkJ,EAAWlJ,GAASmJ,EAAanJ,GAC/N,EAEAsX,EAAWpc,MAAQ,SAASzkD,GAC1B,OAAOC,UAAUvN,QAAUqwD,EAAQ/iD,EAAI,IAAMwpD,GAASwa,KAAcjhB,EAAQwG,EAC9E,EAEAsX,EAAWuD,SAAW,SAASpkE,GAC7B,OAAOC,UAAUvN,QAAUutD,EAAKjgD,GAAI,EAAK,EAAGgkE,KAAc/jB,EAAK,CACjE,EAEA4gB,EAAWwD,SAAW,SAASrkE,GAC7B,OAAOC,UAAUvN,QAAUwtD,EAAKlgD,GAAI,EAAK,EAAGgkE,KAAc9jB,EAAK,CACjE,EAEA2gB,EAAWra,UAAY,SAASxmD,GAC9B,OAAOC,UAAUvN,QAAUixE,EAAkB7B,GAAS8B,EAAkB5B,EAAShiE,EAAIA,GAAIikE,KAAW7Z,GAAK4X,EAC3G,EAEAnB,EAAWyD,UAAY,SAASrtC,EAAQ4hB,GACtC,OAAO2oB,GAAUX,EAAY5pC,EAAQ4hB,EACvC,EAEAgoB,EAAW0D,QAAU,SAASruD,EAAM2iC,GAClC,OAAO4oB,GAAQZ,EAAY3qD,EAAM2iC,EACnC,EAEAgoB,EAAW2D,SAAW,SAASluE,EAAOuiD,GACpC,OAAO6oB,GAASb,EAAYvqE,EAAOuiD,EACrC,EAEAgoB,EAAW4D,UAAY,SAASluE,EAAQsiD,GACtC,OAAO8oB,GAAUd,EAAYtqE,EAAQsiD,EACvC,EAiBO,WAGL,OAFAkpB,EAAU2B,EAAUh8D,MAAMpO,KAAM2G,WAChC4gE,EAAWxO,OAAS0P,EAAQ1P,QAAUA,EAC/B2R,GACT,CACF,CC7KO,SAASU,GAAgBhB,GAC9B,IAAI3O,EAAO,EACPM,EAAOlM,GAAK,EACZtpD,EAAI4jE,GAAkBC,GACtBhqE,EAAImG,EAAEk1D,EAAMM,GAMhB,OAJA37D,EAAEirE,UAAY,SAAS3kE,GACrB,OAAOC,UAAUvN,OAASmN,EAAEk1D,EAAO/0D,EAAE,GAAKwpD,GAAS6L,EAAOr1D,EAAE,GAAKwpD,IAAW,CAACuL,EAAOxL,GAAS8L,EAAO9L,GACtG,EAEO7vD,CACT,CCZO,SAASkrE,GAAwB7P,GACtC,IAAIE,EAAUrL,GAAImL,GAElB,SAAS3B,EAAQxF,EAAQC,GACvB,MAAO,CAACD,EAASqH,EAAS/K,GAAI2D,GAAOoH,EACvC,CAMA,OAJA7B,EAAQf,OAAS,SAASx+D,EAAGiD,GAC3B,MAAO,CAACjD,EAAIohE,EAAS1K,GAAKzzD,EAAIm+D,GAChC,EAEO7B,CACT,CCVO,SAASyR,GAAkBrnC,EAAIL,GACpC,IAAIoV,EAAM2X,GAAI1sB,GAAKzmC,GAAKw7C,EAAM2X,GAAI/sB,IAAO,EAGzC,GAAIssB,GAAI1yD,GAAKkyD,GAAS,OAAO2b,GAAwBpnC,GAErD,IAAI3gC,EAAI,EAAI01C,GAAO,EAAIx7C,EAAIw7C,GAAMuyB,EAAK1a,GAAKvtD,GAAK9F,EAEhD,SAASgrE,EAAQluE,EAAGiD,GAClB,IAAI5B,EAAIk1D,GAAKvtD,EAAI,EAAI9F,EAAImzD,GAAIpzD,IAAMC,EACnC,MAAO,CAAC7B,EAAIg1D,GAAIr2D,GAAKkD,GAAI+tE,EAAK5vE,EAAI00D,GAAI/1D,GACxC,CAUA,OARAkuE,EAAQ1P,OAAS,SAASx+D,EAAGiD,GAC3B,IAAIiuE,EAAMD,EAAKhuE,EACXisB,EAAI4mC,GAAM91D,EAAG41D,GAAIsb,IAAQ5a,GAAK4a,GAGlC,OAFIA,EAAMhuE,EAAI,IACZgsB,GAAKomC,GAAKgB,GAAKt2D,GAAKs2D,GAAK4a,IACpB,CAAChiD,EAAIhsB,EAAGwzD,IAAM1tD,GAAKhJ,EAAIA,EAAIkxE,EAAMA,GAAOhuE,EAAIA,IAAM,EAAIA,IAC/D,EAEOgrE,CACT,CAEe,SAAAiD,KACb,OAAON,GAAgBG,IAClBt+D,MAAM,SACNxR,OAAO,CAAC,EAAG,SAClB,CC9Be,SAAAkwE,KACb,OAAOD,KACFL,UAAU,CAAC,KAAM,OACjBp+D,MAAM,MACNkoB,UAAU,CAAC,IAAK,MAChBf,OAAO,CAAC,GAAI,IACZ34B,OAAO,EAAC,GAAM,MACrB,CCee,SAAAmwE,KACb,IAAIvL,EACAC,EACoBuL,EAC+DC,EACDC,EAClF38C,EAHA48C,EAAUL,KACVM,EAASP,KAAiBt3C,OAAO,CAAC,IAAK,IAAI34B,OAAO,EAAC,EAAI,OAAO4vE,UAAU,CAAC,GAAI,KAC7Ea,EAASR,KAAiBt3C,OAAO,CAAC,IAAK,IAAI34B,OAAO,EAAC,EAAI,OAAO4vE,UAAU,CAAC,EAAG,KACrEc,EAAc,CAAC/8C,MAAO,SAAS70B,EAAGiD,GAAK4xB,EAAQ,CAAC70B,EAAGiD,EAAI,GAElE,SAAS4uE,EAAUvgC,GACjB,IAAItxC,EAAIsxC,EAAY,GAAIruC,EAAIquC,EAAY,GACxC,OAAOzc,EAAQ,KACVy8C,EAAaz8C,MAAM70B,EAAGiD,GAAI4xB,IACvB08C,EAAY18C,MAAM70B,EAAGiD,GAAI4xB,KACzB28C,EAAY38C,MAAM70B,EAAGiD,GAAI4xB,EACnC,CAkEA,SAASu7C,IAEP,OADAtK,EAAQC,EAAc,KACf8L,CACT,CAEA,OArEAA,EAAUrT,OAAS,SAASltB,GAC1B,IAAIxkC,EAAI2kE,EAAQ/+D,QACZhP,EAAI+tE,EAAQ72C,YACZ56B,GAAKsxC,EAAY,GAAK5tC,EAAE,IAAMoJ,EAC9B7J,GAAKquC,EAAY,GAAK5tC,EAAE,IAAMoJ,EAClC,OAAQ7J,GAAK,KAASA,EAAI,MAASjD,IAAK,MAAUA,GAAI,KAAS0xE,EACzDzuE,GAAK,MAASA,EAAI,MAASjD,IAAK,MAAUA,GAAI,KAAS2xE,EACvDF,GAASjT,OAAOltB,EACxB,EAEAugC,EAAU/a,OAAS,SAASA,GAC1B,OAAOgP,GAASC,IAAgBjP,EAASgP,GA5C1BgM,EA4CoD,CAACL,EAAQ3a,OAAOiP,EAAcjP,GAAS4a,EAAO5a,OAAOA,GAAS6a,EAAO7a,OAAOA,IA3C7I5zD,EAAI4uE,EAAQjzE,OA2CmCinE,EA1C5C,CACLjxC,MAAO,SAAS70B,EAAGiD,GAAiB,IAAZ,IAAIrE,GAAI,IAAaA,EAAIsE,GAAG4uE,EAAQlzE,GAAGi2B,MAAM70B,EAAGiD,EAAI,EAC5Eo0D,OAAQ,WAAyB,IAAZ,IAAIz4D,GAAI,IAAaA,EAAIsE,GAAG4uE,EAAQlzE,GAAGy4D,QAAU,EACtEa,UAAW,WAAyB,IAAZ,IAAIt5D,GAAI,IAAaA,EAAIsE,GAAG4uE,EAAQlzE,GAAGs5D,WAAa,EAC5EC,QAAS,WAAyB,IAAZ,IAAIv5D,GAAI,IAAaA,EAAIsE,GAAG4uE,EAAQlzE,GAAGu5D,SAAW,EACxEC,aAAc,WAAyB,IAAZ,IAAIx5D,GAAI,IAAaA,EAAIsE,GAAG4uE,EAAQlzE,GAAGw5D,cAAgB,EAClFC,WAAY,WAAyB,IAAZ,IAAIz5D,GAAI,IAAaA,EAAIsE,GAAG4uE,EAAQlzE,GAAGy5D,YAAc,IARlF,IAAmByZ,EACb5uE,CA4CJ,EAEA2uE,EAAUlf,UAAY,SAASxmD,GAC7B,OAAKC,UAAUvN,QACf4yE,EAAQ9e,UAAUxmD,GAAIulE,EAAO/e,UAAUxmD,GAAIwlE,EAAOhf,UAAUxmD,GACrDikE,KAFuBqB,EAAQ9e,WAGxC,EAEAkf,EAAUn/D,MAAQ,SAASvG,GACzB,OAAKC,UAAUvN,QACf4yE,EAAQ/+D,MAAMvG,GAAIulE,EAAOh/D,MAAU,IAAJvG,GAAWwlE,EAAOj/D,MAAMvG,GAChD0lE,EAAUj3C,UAAU62C,EAAQ72C,cAFL62C,EAAQ/+D,OAGxC,EAEAm/D,EAAUj3C,UAAY,SAASzuB,GAC7B,IAAKC,UAAUvN,OAAQ,OAAO4yE,EAAQ72C,YACtC,IAAI9tB,EAAI2kE,EAAQ/+D,QAAS1S,GAAKmM,EAAE,GAAIlJ,GAAKkJ,EAAE,GAiB3C,OAfAmlE,EAAeG,EACV72C,UAAUzuB,GACVuhE,WAAW,CAAC,CAAC1tE,EAAI,KAAQ8M,EAAG7J,EAAI,KAAQ6J,GAAI,CAAC9M,EAAI,KAAQ8M,EAAG7J,EAAI,KAAQ6J,KACxEgqD,OAAO8a,GAEZL,EAAcG,EACT92C,UAAU,CAAC56B,EAAI,KAAQ8M,EAAG7J,EAAI,KAAQ6J,IACtC4gE,WAAW,CAAC,CAAC1tE,EAAI,KAAQ8M,EAAIsoD,GAASnyD,EAAI,IAAQ6J,EAAIsoD,IAAU,CAACp1D,EAAI,KAAQ8M,EAAIsoD,GAASnyD,EAAI,KAAQ6J,EAAIsoD,MAC1G0B,OAAO8a,GAEZJ,EAAcG,EACT/2C,UAAU,CAAC56B,EAAI,KAAQ8M,EAAG7J,EAAI,KAAQ6J,IACtC4gE,WAAW,CAAC,CAAC1tE,EAAI,KAAQ8M,EAAIsoD,GAASnyD,EAAI,KAAQ6J,EAAIsoD,IAAU,CAACp1D,EAAI,KAAQ8M,EAAIsoD,GAASnyD,EAAI,KAAQ6J,EAAIsoD,MAC1G0B,OAAO8a,GAELxB,GACT,EAEAyB,EAAUpB,UAAY,SAASrtC,EAAQ4hB,GACrC,OAAO2oB,GAAUkE,EAAWzuC,EAAQ4hB,EACtC,EAEA6sB,EAAUnB,QAAU,SAASruD,EAAM2iC,GACjC,OAAO4oB,GAAQiE,EAAWxvD,EAAM2iC,EAClC,EAEA6sB,EAAUlB,SAAW,SAASluE,EAAOuiD,GACnC,OAAO6oB,GAASgE,EAAWpvE,EAAOuiD,EACpC,EAEA6sB,EAAUjB,UAAY,SAASluE,EAAQsiD,GACrC,OAAO8oB,GAAU+D,EAAWnvE,EAAQsiD,EACtC,EAOO6sB,EAAUn/D,MAAM,KACzB,CC5GO,SAASq/D,GAAar/D,GAC3B,OAAO,SAAS1S,EAAGiD,GACjB,IAAI6xC,EAAKihB,GAAI/1D,GACT+0C,EAAKghB,GAAI9yD,GACT6J,EAAI4F,EAAMoiC,EAAKC,GACf,OAAIjoC,IAAMC,IAAiB,CAAC,EAAG,GAC5B,CACLD,EAAIioC,EAAKshB,GAAIr2D,GACb8M,EAAIupD,GAAIpzD,GAEZ,CACF,CAEO,SAAS+uE,GAAgBphB,GAC9B,OAAO,SAAS5wD,EAAGiD,GACjB,IAAI+J,EAAIupD,GAAKv2D,EAAIA,EAAIiD,EAAIA,GACrB+F,EAAI4nD,EAAM5jD,GACVilE,EAAK5b,GAAIrtD,GACTkpE,EAAKnc,GAAI/sD,GACb,MAAO,CACL8sD,GAAM91D,EAAIiyE,EAAIjlE,EAAIklE,GAClBxb,GAAK1pD,GAAK/J,EAAIgvE,EAAKjlE,GAEvB,CACF,CCtBO,IAAImlE,GAAwBJ,IAAa,SAASK,GACvD,OAAO7b,GAAK,GAAK,EAAI6b,GACvB,IAMe,SAAAC,KACb,OAAO1C,GAAWwC,IACbz/D,MAAM,QACN49D,UAAU,QACjB,CARA6B,GAAsB3T,OAASwT,IAAgB,SAAShlE,GACtD,OAAO,EAAI0pD,GAAK1pD,EAAI,EACtB,ICNO,IAAIslE,GAA0BP,IAAa,SAAS/oE,GACzD,OAAQA,EAAIytD,GAAKztD,KAAOA,EAAIqtD,GAAIrtD,EAClC,IAMe,SAAAupE,KACb,OAAO5C,GAAW2C,IACb5/D,MAAM,SACN49D,UAAU,QACjB,CCZO,SAASkC,GAAYzY,EAAQC,GAClC,MAAO,CAACD,EAAQ5D,GAAIK,IAAKjB,GAASyE,GAAO,IAC3C,CAMe,SAAAyY,KACb,OAAOC,GAAmBF,IACrB9/D,MAAM,IAAM+iD,GACnB,CAEO,SAASid,GAAmBxE,GACjC,IAKevkC,EAAI99B,EAAIy9B,EALnBt9B,EAAI2jE,GAAWzB,GACfhtE,EAAS8K,EAAE9K,OACXwR,EAAQ1G,EAAE0G,MACVkoB,EAAY5uB,EAAE4uB,UACd8yC,EAAa1hE,EAAE0hE,WACf9hE,EAAK,KAkBT,SAAS+mE,IACP,IAAI7lE,EAAIwoD,GAAK5iD,IACThP,EAAIsI,EAAEszD,GAAStzD,EAAE6tB,UAAU2kC,OAAO,CAAC,EAAG,KAC1C,OAAOkP,EAAiB,MAAN9hE,EACZ,CAAC,CAAClI,EAAE,GAAKoJ,EAAGpJ,EAAE,GAAKoJ,GAAI,CAACpJ,EAAE,GAAKoJ,EAAGpJ,EAAE,GAAKoJ,IAAMohE,IAAYsE,GAC3D,CAAC,CAACjxE,KAAKiC,IAAIE,EAAE,GAAKoJ,EAAGlB,GAAK+9B,GAAK,CAACpoC,KAAKgC,IAAIG,EAAE,GAAKoJ,EAAGjB,GAAKy9B,IACxD,CAAC,CAAC19B,EAAIrK,KAAKiC,IAAIE,EAAE,GAAKoJ,EAAG68B,IAAM,CAAC99B,EAAItK,KAAKgC,IAAIG,EAAE,GAAKoJ,EAAGw8B,KAC/D,CAEA,OAzBAt9B,EAAE0G,MAAQ,SAASvG,GACjB,OAAOC,UAAUvN,QAAU6T,EAAMvG,GAAIwmE,KAAYjgE,GACnD,EAEA1G,EAAE4uB,UAAY,SAASzuB,GACrB,OAAOC,UAAUvN,QAAU+7B,EAAUzuB,GAAIwmE,KAAY/3C,GACvD,EAEA5uB,EAAE9K,OAAS,SAASiL,GAClB,OAAOC,UAAUvN,QAAUqC,EAAOiL,GAAIwmE,KAAYzxE,GACpD,EAEA8K,EAAE0hE,WAAa,SAASvhE,GACtB,OAAOC,UAAUvN,QAAgB,MAANsN,EAAaP,EAAK+9B,EAAK99B,EAAKy9B,EAAK,MAAQ19B,GAAMO,EAAE,GAAG,GAAIw9B,GAAMx9B,EAAE,GAAG,GAAIN,GAAMM,EAAE,GAAG,GAAIm9B,GAAMn9B,EAAE,GAAG,IAAMwmE,KAAkB,MAAN/mE,EAAa,KAAO,CAAC,CAACA,EAAI+9B,GAAK,CAAC99B,EAAIy9B,GACpL,EAWOqpC,GACT,CC/CA,SAASC,GAAK3vE,GACZ,OAAOuzD,IAAKjB,GAAStyD,GAAK,EAC5B,CAEO,SAAS4vE,GAAkBlpC,EAAIL,GACpC,IAAIg/B,EAAMvS,GAAIpsB,GACVzmC,EAAIymC,IAAOL,EAAK+sB,GAAI1sB,GAAMwsB,GAAImS,EAAMvS,GAAIzsB,IAAO6sB,GAAIyc,GAAKtpC,GAAMspC,GAAKjpC,IACnEhqC,EAAI2oE,EAAMlS,GAAIwc,GAAKjpC,GAAKzmC,GAAKA,EAEjC,IAAKA,EAAG,OAAOsvE,GAEf,SAAStE,EAAQluE,EAAGiD,GACdtD,EAAI,EAASsD,GAAKsyD,GAASH,KAASnyD,GAAKsyD,GAASH,IAC3CnyD,EAAIsyD,GAASH,KAASnyD,EAAIsyD,GAASH,IAC9C,IAAI/zD,EAAI1B,EAAIy2D,GAAIwc,GAAK3vE,GAAIC,GACzB,MAAO,CAAC7B,EAAIg1D,GAAInzD,EAAIlD,GAAIL,EAAI0B,EAAI00D,GAAI7yD,EAAIlD,GAC1C,CAUA,OARAkuE,EAAQ1P,OAAS,SAASx+D,EAAGiD,GAC3B,IAAI+3C,EAAKr7C,EAAIsD,EAAG5B,EAAIi1D,GAAKpzD,GAAKqzD,GAAKv2D,EAAIA,EAAIg7C,EAAKA,GAC9C9rB,EAAI4mC,GAAM91D,EAAG41D,GAAI5a,IAAOsb,GAAKtb,GAG/B,OAFIA,EAAK93C,EAAI,IACXgsB,GAAKomC,GAAKgB,GAAKt2D,GAAKs2D,GAAKtb,IACpB,CAAC9rB,EAAIhsB,EAAG,EAAI2yD,GAAKO,GAAIz2D,EAAI0B,EAAG,EAAI6B,IAAMqyD,GAC/C,EAEO2Y,CACT,CAEe,SAAA4E,KACb,OAAOjC,GAAgBgC,IAClBngE,MAAM,OACNo+D,UAAU,CAAC,GAAI,IACtB,CCnCO,SAASiC,GAAmBhZ,EAAQC,GACzC,MAAO,CAACD,EAAQC,EAClB,CAIe,SAAAgZ,KACb,OAAOrD,GAAWoD,IACbrgE,MAAM,OACb,CCPO,SAASugE,GAAoBtpC,EAAIL,GACtC,IAAIg/B,EAAMvS,GAAIpsB,GACVzmC,EAAIymC,IAAOL,EAAK+sB,GAAI1sB,IAAO2+B,EAAMvS,GAAIzsB,KAAQA,EAAKK,GAClD/hC,EAAI0gE,EAAMplE,EAAIymC,EAElB,GAAIisB,GAAI1yD,GAAKkyD,GAAS,OAAO2d,GAE7B,SAAS7E,EAAQluE,EAAGiD,GAClB,IAAIiwE,EAAKtrE,EAAI3E,EAAGkwE,EAAKjwE,EAAIlD,EACzB,MAAO,CAACkzE,EAAK7c,GAAI8c,GAAKvrE,EAAIsrE,EAAKnd,GAAIod,GACrC,CAUA,OARAjF,EAAQ1P,OAAS,SAASx+D,EAAGiD,GAC3B,IAAIiwE,EAAKtrE,EAAI3E,EACTisB,EAAI4mC,GAAM91D,EAAG41D,GAAIsd,IAAO5c,GAAK4c,GAGjC,OAFIA,EAAKhwE,EAAI,IACXgsB,GAAKomC,GAAKgB,GAAKt2D,GAAKs2D,GAAK4c,IACpB,CAAChkD,EAAIhsB,EAAG0E,EAAI0uD,GAAKpzD,GAAKqzD,GAAKv2D,EAAIA,EAAIkzE,EAAKA,GACjD,EAEOhF,CACT,CAEe,SAAAkF,KACb,OAAOvC,GAAgBoC,IAClBvgE,MAAM,SACNxR,OAAO,CAAC,EAAG,SAClB,CJvBAoxE,GAAwB9T,OAASwT,IAAgB,SAAShlE,GACxD,OAAOA,CACT,ICFAwlE,GAAYhU,OAAS,SAASx+D,EAAGiD,GAC/B,MAAO,CAACjD,EAAG,EAAI61D,GAAKI,GAAIhzD,IAAMsyD,GAChC,EEJAwd,GAAmBvU,OAASuU,GEH5B,IAAIM,GAAK,SACLC,IAAK,QACLC,GAAK,OACLC,GAAK,QACLC,GAAIld,GAAK,GAAK,EAGX,SAASmd,GAAc3Z,EAAQC,GACpC,IAAI9qC,EAAIwnC,GAAK+c,GAAIpd,GAAI2D,IAAO2Z,EAAKzkD,EAAIA,EAAG0kD,EAAKD,EAAKA,EAAKA,EACvD,MAAO,CACL5Z,EAAShE,GAAI7mC,IAAMukD,IAAKJ,GAAK,EAAIC,GAAKK,EAAKC,GAAM,EAAIL,GAAK,EAAIC,GAAKG,KACnEzkD,GAAKmkD,GAAKC,GAAKK,EAAKC,GAAML,GAAKC,GAAKG,IAExC,CAgBe,SAAAE,KACb,OAAOlE,GAAW+D,IACbhhE,MAAM,QACb,CC/BO,SAASohE,GAAY9zE,EAAGiD,GAC7B,IAAI8xC,EAAKghB,GAAI9yD,GAAI6J,EAAIipD,GAAI/1D,GAAK+0C,EAC9B,MAAO,CAACA,EAAKshB,GAAIr2D,GAAK8M,EAAGupD,GAAIpzD,GAAK6J,EACpC,CAIe,SAAAinE,KACb,OAAOpE,GAAWmE,IACbphE,MAAM,SACN49D,UAAU,GACjB,CCTe,SAAA0D,KACb,IACelP,EAAImP,EACJtqC,EAAI99B,EAAIy9B,EASnBw8B,EACAC,EAZAj5D,EAAI,EAAGonE,EAAK,EAAGC,EAAK,EAAG/nB,EAAK,EAAGC,EAAK,EACpC6C,EAAQ,EACRtjD,EAAK,KACLwoE,EAAK,EAAGC,EAAK,EACb3gE,EAAY45D,GAAY,CACtBz4C,MAAO,SAAS70B,EAAGiD,GACjB,IAAI4C,EAAImnE,EAAW,CAAChtE,EAAGiD,IACvBwC,KAAKqxD,OAAOjiC,MAAMhvB,EAAE,GAAIA,EAAE,GAC5B,IAEFqqE,EAAWjH,GAIf,SAASmH,IAIP,OAHAgE,EAAKtnE,EAAIs/C,EACTioB,EAAKvnE,EAAIu/C,EACTyZ,EAAQC,EAAc,KACfiH,CACT,CAEA,SAASA,EAAYnnE,GACnB,IAAI7F,EAAI6F,EAAE,GAAKuuE,EAAInxE,EAAI4C,EAAE,GAAKwuE,EAC9B,GAAInlB,EAAO,CACT,IAAIxrD,EAAIT,EAAI6hE,EAAK9kE,EAAIi0E,EACrBj0E,EAAIA,EAAI8kE,EAAK7hE,EAAIgxE,EACjBhxE,EAAIS,CACN,CACA,MAAO,CAAC1D,EAAIk0E,EAAIjxE,EAAIkxE,EACtB,CA+CA,OA9CAnH,EAAWxO,OAAS,SAAS34D,GAC3B,IAAI7F,EAAI6F,EAAE,GAAKquE,EAAIjxE,EAAI4C,EAAE,GAAKsuE,EAC9B,GAAIjlB,EAAO,CACT,IAAIxrD,EAAIT,EAAI6hE,EAAK9kE,EAAIi0E,EACrBj0E,EAAIA,EAAI8kE,EAAK7hE,EAAIgxE,EACjBhxE,EAAIS,CACN,CACA,MAAO,CAAC1D,EAAIo0E,EAAInxE,EAAIoxE,EACtB,EACArH,EAAWlW,OAAS,SAASA,GAC3B,OAAOgP,GAASC,IAAgBjP,EAASgP,EAAQA,EAAQpyD,EAAUw8D,EAASnK,EAAcjP,GAC5F,EACAkW,EAAWkD,SAAW,SAAS/jE,GAC7B,OAAOC,UAAUvN,QAAUqxE,EAAW/jE,EAAGP,EAAK+9B,EAAK99B,EAAKy9B,EAAK,KAAM8mC,KAAWF,CAChF,EACAlD,EAAWU,WAAa,SAASvhE,GAC/B,OAAOC,UAAUvN,QAAUqxE,EAAgB,MAAL/jE,GAAaP,EAAK+9B,EAAK99B,EAAKy9B,EAAK,KAAM2/B,IAAYtE,GAAc/4D,GAAMO,EAAE,GAAG,GAAIw9B,GAAMx9B,EAAE,GAAG,GAAIN,GAAMM,EAAE,GAAG,GAAIm9B,GAAMn9B,EAAE,GAAG,IAAKikE,KAAiB,MAANxkE,EAAa,KAAO,CAAC,CAACA,EAAI+9B,GAAK,CAAC99B,EAAIy9B,GACrN,EACA0jC,EAAWt6D,MAAQ,SAASvG,GAC1B,OAAOC,UAAUvN,QAAUiO,GAAKX,EAAGikE,KAAWtjE,CAChD,EACAkgE,EAAWpyC,UAAY,SAASzuB,GAC9B,OAAOC,UAAUvN,QAAUq1E,GAAM/nE,EAAE,GAAIgoE,GAAMhoE,EAAE,GAAIikE,KAAW,CAAC8D,EAAIC,EACrE,EACAnH,EAAWpc,MAAQ,SAASzkD,GAC1B,OAAOC,UAAUvN,QAAqCo1E,EAAK5d,GAAhCnH,EAAQ/iD,EAAI,IAAMwpD,IAA0BmP,EAAK/O,GAAI7G,GAAQkhB,KAAWlhB,EAAQwG,EAC7G,EACAsX,EAAWuD,SAAW,SAASpkE,GAC7B,OAAOC,UAAUvN,QAAUutD,EAAKjgD,GAAI,EAAK,EAAGikE,KAAWhkB,EAAK,CAC9D,EACA4gB,EAAWwD,SAAW,SAASrkE,GAC7B,OAAOC,UAAUvN,QAAUwtD,EAAKlgD,GAAI,EAAK,EAAGikE,KAAW/jB,EAAK,CAC9D,EACA2gB,EAAWyD,UAAY,SAASrtC,EAAQ4hB,GACtC,OAAO2oB,GAAUX,EAAY5pC,EAAQ4hB,EACvC,EACAgoB,EAAW0D,QAAU,SAASruD,EAAM2iC,GAClC,OAAO4oB,GAAQZ,EAAY3qD,EAAM2iC,EACnC,EACAgoB,EAAW2D,SAAW,SAASluE,EAAOuiD,GACpC,OAAO6oB,GAASb,EAAYvqE,EAAOuiD,EACrC,EACAgoB,EAAW4D,UAAY,SAASluE,EAAQsiD,GACtC,OAAO8oB,GAAUd,EAAYtqE,EAAQsiD,EACvC,EAEOgoB,CACT,CCjFO,SAASsH,GAAiBva,EAAQC,GACvC,IAAIsU,EAAOtU,EAAMA,EAAKua,EAAOjG,EAAOA,EACpC,MAAO,CACLvU,GAAU,MAAS,QAAWuU,EAAOiG,GAAoBA,GAAQ,QAAWjG,EAAO,QAAWiG,GAAjD,UAC7Cva,GAAO,SAAWsU,GAAQ,QAAWiG,GAAoB,QAAWjG,EAAvB,QAA8B,QAAWiG,KAE1F,CAee,SAAAC,KACb,OAAO7E,GAAW2E,IACb5hE,MAAM,QACb,CCvBO,SAAS+hE,GAAgBz0E,EAAGiD,GACjC,MAAO,CAAC8yD,GAAI9yD,GAAKozD,GAAIr2D,GAAIq2D,GAAIpzD,GAC/B,CAIe,SAAAyxE,KACb,OAAO/E,GAAW8E,IACb/hE,MAAM,OACN49D,UAAU,GAAKlb,GACtB,CCVO,SAASuf,GAAiB30E,EAAGiD,GAClC,IAAI8xC,EAAKghB,GAAI9yD,GAAI6J,EAAI,EAAIipD,GAAI/1D,GAAK+0C,EAClC,MAAO,CAACA,EAAKshB,GAAIr2D,GAAK8M,EAAGupD,GAAIpzD,GAAK6J,EACpC,CAMe,SAAA8nE,KACb,OAAOjF,GAAWgF,IACbjiE,MAAM,KACN49D,UAAU,IACjB,CCdO,SAASuE,GAAsB9a,EAAQC,GAC5C,MAAO,CAAC7D,GAAIK,IAAKjB,GAASyE,GAAO,KAAMD,EACzC,CAMe,SAAA+a,KACb,IAAI9oE,EAAI0mE,GAAmBmC,IACvB3zE,EAAS8K,EAAE9K,OACX24B,EAAS7tB,EAAE6tB,OAUf,OARA7tB,EAAE9K,OAAS,SAASiL,GAClB,OAAOC,UAAUvN,OAASqC,EAAO,EAAEiL,EAAE,GAAIA,EAAE,KAAsB,EAAdA,EAAIjL,KAAa,IAAKiL,EAAE,GAC7E,EAEAH,EAAE6tB,OAAS,SAAS1tB,GAClB,OAAOC,UAAUvN,OAASg7B,EAAO,CAAC1tB,EAAE,GAAIA,EAAE,GAAIA,EAAEtN,OAAS,EAAIsN,EAAE,GAAK,GAAK,KAAsB,EAAdA,EAAI0tB,KAAa,GAAI1tB,EAAE,GAAIA,EAAE,GAAK,GACrH,EAEO0tB,EAAO,CAAC,EAAG,EAAG,KAChBnnB,MAAM,QACb,CNRAghE,GAAclV,OAAS,SAASx+D,EAAGiD,GAEjC,IADA,IACgBnD,EADZovB,EAAIjsB,EAAG0wE,EAAKzkD,EAAIA,EAAG0kD,EAAKD,EAAKA,EAAKA,EAC7B/0E,EAAI,EAAmBA,EAZjB,KAesBg1E,GAAZD,GAAvBzkD,GAAKpvB,GAFAovB,GAAKmkD,GAAKC,GAAKK,EAAKC,GAAML,GAAKC,GAAKG,IAAO1wE,IAC1CowE,GAAK,EAAIC,GAAKK,EAAKC,GAAM,EAAIL,GAAK,EAAIC,GAAKG,KACjBzkD,GAAaykD,EAAKA,IAC9C/d,GAAI91D,GAASu1D,OAJ+Bz2D,GAMlD,MAAO,CACL60E,GAAIzzE,GAAKqzE,GAAK,EAAIC,GAAKK,EAAKC,GAAM,EAAIL,GAAK,EAAIC,GAAKG,IAAO5d,GAAI7mC,GAC/DwnC,GAAKL,GAAInnC,GAAKukD,IAElB,ECrBAK,GAAYtV,OAASwT,GAAgBnc,IEErCye,GAAiB9V,OAAS,SAASx+D,EAAGiD,GACpC,IAAqBnD,EAAjBk6D,EAAM/2D,EAAGrE,EAAI,GACjB,EAAG,CACD,IAAI0vE,EAAOtU,EAAMA,EAAKua,EAAOjG,EAAOA,EACpCtU,GAAOl6D,GAASk6D,GAAO,SAAWsU,GAAQ,QAAWiG,GAAoB,QAAWjG,EAAvB,QAA8B,QAAWiG,KAAUtxE,IAC3G,SAAWqrE,GAAQ,QAAeiG,GAAwB,QAAejG,EAA/B,QAAsC,QAAW,GAAKiG,IACvG,OAAS3e,GAAI91D,GAASs1D,MAAax2D,EAAI,GACvC,MAAO,CACLoB,GAAK,OAAUsuE,EAAOtU,EAAMA,IAAoBsU,GAAoBA,EAAOA,EAAOA,GAAQ,QAAW,QAAWA,GAAxD,SAApB,UACpCtU,EAEJ,ECdAya,GAAgBjW,OAASwT,GAAgBtb,ICCzCie,GAAiBnW,OAASwT,IAAgB,SAAShlE,GACjD,OAAO,EAAI6oD,GAAK7oD,EAClB,ICJA6nE,GAAsBrW,OAAS,SAASx+D,EAAGiD,GACzC,MAAO,EAAEA,EAAG,EAAI4yD,GAAKI,GAAIj2D,IAAMu1D,GACjC,E,UCTA,SAASwf,GAAkBz1E,EAAGC,GAC5B,OAAOD,EAAEkZ,SAAWjZ,EAAEiZ,OAAS,EAAI,CACrC,CAMA,SAASw8D,GAAYh1E,EAAGgJ,GACtB,OAAOhJ,EAAIgJ,EAAEhJ,CACf,CAMA,SAASi1E,GAAWhyE,EAAG+F,GACrB,OAAOzH,KAAKiC,IAAIP,EAAG+F,EAAE/F,EACvB,CAce,SAAAiyE,KACb,IAAIC,EAAaJ,GACb3vC,EAAK,EACLC,EAAK,EACL+vC,GAAW,EAEf,SAASC,EAAQtxD,GACf,IAAIuxD,EACAt1E,EAAI,EAGR+jB,EAAKwxD,WAAU,SAAS19D,GACtB,IAAIO,EAAWP,EAAKO,SAChBA,GACFP,EAAK7X,EA1Cb,SAAeoY,GACb,OAAOA,EAAS9T,OAAO0wE,GAAa,GAAK58D,EAASvZ,MACpD,CAwCiB22E,CAAMp9D,GACfP,EAAK5U,EAnCb,SAAcmV,GACZ,OAAO,EAAIA,EAAS9T,OAAO2wE,GAAY,EACzC,CAiCiBQ,CAAKr9D,KAEdP,EAAK7X,EAAIs1E,EAAet1E,GAAKm1E,EAAWt9D,EAAMy9D,GAAgB,EAC9Dz9D,EAAK5U,EAAI,EACTqyE,EAAez9D,EAEnB,IAEA,IAAI9X,EAnCR,SAAkB8X,GAEhB,IADA,IAAIO,EACGA,EAAWP,EAAKO,UAAUP,EAAOO,EAAS,GACjD,OAAOP,CACT,CA+Be69D,CAAS3xD,GAChBhjB,EA9BR,SAAmB8W,GAEjB,IADA,IAAIO,EACGA,EAAWP,EAAKO,UAAUP,EAAOO,EAASA,EAASvZ,OAAS,GACnE,OAAOgZ,CACT,CA0BgB89D,CAAU5xD,GAClBnY,EAAK7L,EAAKC,EAAIm1E,EAAWp1E,EAAMgB,GAAS,EACxC8K,EAAK9K,EAAMf,EAAIm1E,EAAWp0E,EAAOhB,GAAQ,EAG7C,OAAOgkB,EAAKwxD,UAAUH,EAAW,SAASv9D,GACxCA,EAAK7X,GAAK6X,EAAK7X,EAAI+jB,EAAK/jB,GAAKolC,EAC7BvtB,EAAK5U,GAAK8gB,EAAK9gB,EAAI4U,EAAK5U,GAAKoiC,CAC/B,EAAI,SAASxtB,GACXA,EAAK7X,GAAK6X,EAAK7X,EAAI4L,IAAOC,EAAKD,GAAMw5B,EACrCvtB,EAAK5U,GAAK,GAAK8gB,EAAK9gB,EAAI4U,EAAK5U,EAAI8gB,EAAK9gB,EAAI,IAAMoiC,CAClD,EACF,CAcA,OAZAgwC,EAAQF,WAAa,SAASn1E,GAC5B,OAAOoM,UAAUvN,QAAUs2E,EAAan1E,EAAGq1E,GAAWF,CACxD,EAEAE,EAAQhzD,KAAO,SAASriB,GACtB,OAAOoM,UAAUvN,QAAUu2E,GAAW,EAAOhwC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAIq1E,GAAYD,EAAW,KAAO,CAAChwC,EAAIC,EAC1G,EAEAgwC,EAAQD,SAAW,SAASp1E,GAC1B,OAAOoM,UAAUvN,QAAUu2E,GAAW,EAAMhwC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAIq1E,GAAYD,EAAW,CAAChwC,EAAIC,GAAM,IACxG,EAEOgwC,CACT,CCnFA,SAASO,GAAM/9D,GACb,IAAIzU,EAAM,EACNgV,EAAWP,EAAKO,SAChBxZ,EAAIwZ,GAAYA,EAASvZ,OAC7B,GAAKD,EACA,OAASA,GAAK,GAAGwE,GAAOgV,EAASxZ,GAAG+B,WADjCyC,EAAM,EAEdyU,EAAKlX,MAAQyC,CACf,CCOe,SAAAyyE,GAAmBvzE,EAAM8V,GAClC9V,aAAgB8D,KAClB9D,EAAO,MAAC5B,EAAW4B,QACF5B,IAAb0X,IAAwBA,EAAW09D,UACjBp1E,IAAb0X,IACTA,EAAW29D,IAWb,IARA,IACIl+D,EAEA6B,EACAs8D,EACAp3E,EACAsE,EANA6gB,EAAO,IAAIkyD,GAAK3zE,GAEhB8f,EAAQ,CAAC2B,GAMNlM,EAAOuK,EAAM5d,WACbwxE,EAAS59D,EAASP,EAAKvV,SAAWY,GAAK8yE,EAAS7xE,MAAMC,KAAK4xE,IAASn3E,QAEvE,IADAgZ,EAAKO,SAAW49D,EACXp3E,EAAIsE,EAAI,EAAGtE,GAAK,IAAKA,EACxBwjB,EAAMtd,KAAK4U,EAAQs8D,EAAOp3E,GAAK,IAAIq3E,GAAKD,EAAOp3E,KAC/C8a,EAAMlB,OAASX,EACf6B,EAAM20D,MAAQx2D,EAAKw2D,MAAQ,EAKjC,OAAOtqD,EAAKmyD,WAAWC,GACzB,CAMA,SAASJ,GAAe31E,GACtB,OAAOA,EAAEgY,QACX,CAEA,SAAS09D,GAAY11E,GACnB,OAAO+D,MAAMuH,QAAQtL,GAAKA,EAAE,GAAK,IACnC,CAEA,SAASg2E,GAASv+D,QACQnX,IAApBmX,EAAKvV,KAAK3B,QAAqBkX,EAAKlX,MAAQkX,EAAKvV,KAAK3B,OAC1DkX,EAAKvV,KAAOuV,EAAKvV,KAAKA,IACxB,CAEO,SAAS6zE,GAAct+D,GAC5B,IAAInV,EAAS,EACb,GAAGmV,EAAKnV,OAASA,SACTmV,EAAOA,EAAKW,SAAYX,EAAKnV,SAAWA,EAClD,CAEO,SAASuzE,GAAK3zE,GACnBmD,KAAKnD,KAAOA,EACZmD,KAAK4oE,MACL5oE,KAAK/C,OAAS,EACd+C,KAAK+S,OAAS,IAChB,CCxEO,SAAS69D,GAAS12E,GACvB,OAAY,MAALA,EAAY,KAAO22E,GAAS32E,EACrC,CAEO,SAAS22E,GAAS32E,GACvB,GAAiB,mBAANA,EAAkB,MAAM,IAAIX,MACvC,OAAOW,CACT,CCPO,SAAS42E,KACd,OAAO,CACT,CAEe,SAAAC,GAASx2E,GACtB,OAAO,WACL,OAAOA,CACT,CACF,C,+bFkEAi2E,GAAKvsE,UAAYmsE,GAAUnsE,UAAY,CACrClE,YAAaywE,GACbnyE,MDnEa,WACb,OAAO2B,KAAK8vE,UAAUK,GACxB,ECkEEngE,KG7Ea,SAASa,EAAUS,GAChC,IAAInW,GAAQ,EACZ,IAAK,MAAMiX,KAAQpS,KACjB6Q,EAAShK,KAAKyK,EAAMc,IAAQjX,EAAO6E,MAErC,OAAOA,IACT,EHwEE8vE,UI9Ea,SAASj/D,EAAUS,GAEhC,IADA,IAA4CqB,EAAUxZ,EAAGsE,EAArD2U,EAAOpS,KAAM2c,EAAQ,CAACvK,GAAO7G,EAAO,GAAoBpQ,GAAQ,EAC7DiX,EAAOuK,EAAM5d,OAElB,GADAwM,EAAKlM,KAAK+S,GACNO,EAAWP,EAAKO,SAClB,IAAKxZ,EAAI,EAAGsE,EAAIkV,EAASvZ,OAAQD,EAAIsE,IAAKtE,EACxCwjB,EAAMtd,KAAKsT,EAASxZ,IAI1B,KAAOiZ,EAAO7G,EAAKxM,OACjB8R,EAAShK,KAAKyK,EAAMc,IAAQjX,EAAO6E,MAErC,OAAOA,IACT,EJiEEywE,WK/Ea,SAAS5/D,EAAUS,GAEhC,IADA,IAAiCqB,EAAUxZ,EAAvCiZ,EAAOpS,KAAM2c,EAAQ,CAACvK,GAAoBjX,GAAQ,EAC/CiX,EAAOuK,EAAM5d,OAElB,GADA8R,EAAShK,KAAKyK,EAAMc,IAAQjX,EAAO6E,MAC/B2S,EAAWP,EAAKO,SAClB,IAAKxZ,EAAIwZ,EAASvZ,OAAS,EAAGD,GAAK,IAAKA,EACtCwjB,EAAMtd,KAAKsT,EAASxZ,IAI1B,OAAO6G,IACT,ELqEEsS,KMhFa,SAASzB,EAAUS,GAChC,IAAInW,GAAQ,EACZ,IAAK,MAAMiX,KAAQpS,KACjB,GAAI6Q,EAAShK,KAAKyK,EAAMc,IAAQjX,EAAO6E,MACrC,OAAOoS,CAGb,EN0EEzU,IOjFa,SAASzC,GACtB,OAAO8E,KAAK8vE,WAAU,SAAS19D,GAI7B,IAHA,IAAIzU,GAAOzC,EAAMkX,EAAKvV,OAAS,EAC3B8V,EAAWP,EAAKO,SAChBxZ,EAAIwZ,GAAYA,EAASvZ,SACpBD,GAAK,GAAGwE,GAAOgV,EAASxZ,GAAG+B,MACpCkX,EAAKlX,MAAQyC,CACf,GACF,EP0EE2F,KQlFa,SAASI,GACtB,OAAO1D,KAAKywE,YAAW,SAASr+D,GAC1BA,EAAKO,UACPP,EAAKO,SAASrP,KAAKI,EAEvB,GACF,ER6EEkL,KSnFa,SAASie,GAItB,IAHA,IAAInwB,EAAQsD,KACRgxE,EAcN,SAA6Bn3E,EAAGC,GAC9B,GAAID,IAAMC,EAAG,OAAOD,EACpB,IAAIo3E,EAASp3E,EAAEq3E,YACXC,EAASr3E,EAAEo3E,YACX3tE,EAAI,KACR1J,EAAIo3E,EAAOlyE,MACXjF,EAAIq3E,EAAOpyE,MACX,KAAOlF,IAAMC,GACXyJ,EAAI1J,EACJA,EAAIo3E,EAAOlyE,MACXjF,EAAIq3E,EAAOpyE,MAEb,OAAOwE,CACT,CA3BiB6tE,CAAoB10E,EAAOmwB,GACtClQ,EAAQ,CAACjgB,GACNA,IAAUs0E,GACft0E,EAAQA,EAAMqW,OACd4J,EAAMtd,KAAK3C,GAGb,IADA,IAAI2K,EAAIsV,EAAMvjB,OACPyzB,IAAQmkD,GACbr0D,EAAMpC,OAAOlT,EAAG,EAAGwlB,GACnBA,EAAMA,EAAI9Z,OAEZ,OAAO4J,CACT,ETsEEu0D,UUpFa,WAEb,IADA,IAAI9+D,EAAOpS,KAAM2c,EAAQ,CAACvK,GACnBA,EAAOA,EAAKW,QACjB4J,EAAMtd,KAAK+S,GAEb,OAAOuK,CACT,EV+EE00D,YWrFa,WACb,OAAO3yE,MAAMC,KAAKqB,KACpB,EXoFEsxE,OYtFa,WACb,IAAIA,EAAS,GAMb,OALAtxE,KAAKywE,YAAW,SAASr+D,GAClBA,EAAKO,UACR2+D,EAAOjyE,KAAK+S,EAEhB,IACOk/D,CACT,EZ+EEnoB,MavFa,WACb,IAAI7qC,EAAOte,KAAMmpD,EAAQ,GAMzB,OALA7qC,EAAKtO,MAAK,SAASoC,GACbA,IAASkM,GACX6qC,EAAM9pD,KAAK,CAAC0D,OAAQqP,EAAKW,OAAQynB,OAAQpoB,GAE7C,IACO+2C,CACT,EbgFEz6C,KA5CF,WACE,OAAO0hE,GAAUpwE,MAAMywE,WAAWE,GACpC,EA2CE,CAACztE,OAAOC,UczFK,YACb,IAAiBi4D,EAAwBzoD,EAAUxZ,EAAGsE,EAAlD2U,EAAOpS,KAAeuL,EAAO,CAAC6G,GAClC,GAEE,IADAgpD,EAAU7vD,EAAKrG,UAAWqG,EAAO,GAC1B6G,EAAOgpD,EAAQr8D,OAEpB,SADMqT,EACFO,EAAWP,EAAKO,SAClB,IAAKxZ,EAAI,EAAGsE,EAAIkV,EAASvZ,OAAQD,EAAIsE,IAAKtE,EACxCoS,EAAKlM,KAAKsT,EAASxZ,UAIlBoS,EAAKnS,OAChB,GCZA,MAAMm4E,GAAI,QACJC,GAAI,WACJC,GAAI,WAEK,SAAAC,KACb,IAAI9zE,EAAI,EACR,MAAO,KAAOA,GAAK2zE,GAAI3zE,EAAI4zE,IAAKC,IAAKA,EACvC,CCFO,SAASE,GAAQpzE,EAAO+L,GAC7B,IACIrM,EACA9E,EAFAoN,EAAIhI,EAAMnF,OAId,KAAOmN,GACLpN,EAAImR,IAAW/D,IAAM,EACrBtI,EAAIM,EAAMgI,GACVhI,EAAMgI,GAAKhI,EAAMpF,GACjBoF,EAAMpF,GAAK8E,EAGb,OAAOM,CACT,CChBe,SAAAqzE,GAASC,GACtB,OAAOC,GAAkBD,EAASH,KACpC,CAEO,SAASI,GAAkBD,EAASvnE,GAGzC,IAFA,IAAgFlK,EAAGqxB,EAA/Et4B,EAAI,EAAGsE,GAAKo0E,EAAUF,GAAQjzE,MAAMC,KAAKkzE,GAAUvnE,IAASlR,OAAQ+pE,EAAI,GAErEhqE,EAAIsE,GACT2C,EAAIyxE,EAAQ14E,GACRs4B,GAAKsgD,GAAatgD,EAAGrxB,KAAMjH,GAC1Bs4B,EAAIugD,GAAa7O,EAAI8O,GAAY9O,EAAG/iE,IAAKjH,EAAI,GAGpD,OAAOs4B,CACT,CAEA,SAASwgD,GAAY9O,EAAG/iE,GACtB,IAAIjH,EAAG0E,EAEP,GAAIq0E,GAAgB9xE,EAAG+iE,GAAI,MAAO,CAAC/iE,GAGnC,IAAKjH,EAAI,EAAGA,EAAIgqE,EAAE/pE,SAAUD,EAC1B,GAAIg5E,GAAY/xE,EAAG+iE,EAAEhqE,KACd+4E,GAAgBE,GAAcjP,EAAEhqE,GAAIiH,GAAI+iE,GAC7C,MAAO,CAACA,EAAEhqE,GAAIiH,GAKlB,IAAKjH,EAAI,EAAGA,EAAIgqE,EAAE/pE,OAAS,IAAKD,EAC9B,IAAK0E,EAAI1E,EAAI,EAAG0E,EAAIslE,EAAE/pE,SAAUyE,EAC9B,GAAIs0E,GAAYC,GAAcjP,EAAEhqE,GAAIgqE,EAAEtlE,IAAKuC,IACpC+xE,GAAYC,GAAcjP,EAAEhqE,GAAIiH,GAAI+iE,EAAEtlE,KACtCs0E,GAAYC,GAAcjP,EAAEtlE,GAAIuC,GAAI+iE,EAAEhqE,KACtC+4E,GAAgBG,GAAclP,EAAEhqE,GAAIgqE,EAAEtlE,GAAIuC,GAAI+iE,GACnD,MAAO,CAACA,EAAEhqE,GAAIgqE,EAAEtlE,GAAIuC,GAM1B,MAAM,IAAI7G,KACZ,CAEA,SAAS44E,GAAYt4E,EAAGC,GACtB,IAAIw4E,EAAKz4E,EAAE+B,EAAI9B,EAAE8B,EAAG+jC,EAAK7lC,EAAES,EAAIV,EAAEU,EAAGqlC,EAAK9lC,EAAE0D,EAAI3D,EAAE2D,EACjD,OAAO80E,EAAK,GAAKA,EAAKA,EAAK3yC,EAAKA,EAAKC,EAAKA,CAC5C,CAEA,SAASmyC,GAAal4E,EAAGC,GACvB,IAAIw4E,EAAKz4E,EAAE+B,EAAI9B,EAAE8B,EAA4B,KAAxBE,KAAKiC,IAAIlE,EAAE+B,EAAG9B,EAAE8B,EAAG,GAAW+jC,EAAK7lC,EAAES,EAAIV,EAAEU,EAAGqlC,EAAK9lC,EAAE0D,EAAI3D,EAAE2D,EAChF,OAAO80E,EAAK,GAAKA,EAAKA,EAAK3yC,EAAKA,EAAKC,EAAKA,CAC5C,CAEA,SAASsyC,GAAgBr4E,EAAGspE,GAC1B,IAAK,IAAIhqE,EAAI,EAAGA,EAAIgqE,EAAE/pE,SAAUD,EAC9B,IAAK44E,GAAal4E,EAAGspE,EAAEhqE,IACrB,OAAO,EAGX,OAAO,CACT,CAEA,SAAS64E,GAAa7O,GACpB,OAAQA,EAAE/pE,QACR,KAAK,EAAG,MAOH,CACLmB,GAFmBV,EANUspE,EAAE,IAQ1B5oE,EACLiD,EAAG3D,EAAE2D,EACL5B,EAAG/B,EAAE+B,GATL,KAAK,EAAG,OAAOw2E,GAAcjP,EAAE,GAAIA,EAAE,IACrC,KAAK,EAAG,OAAOkP,GAAclP,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAI/C,IAAuBtpE,CAFvB,CAUA,SAASu4E,GAAcv4E,EAAGC,GACxB,IAAIsM,EAAKvM,EAAEU,EAAGspC,EAAKhqC,EAAE2D,EAAG+0E,EAAK14E,EAAE+B,EAC3BmoC,EAAKjqC,EAAES,EAAGypC,EAAKlqC,EAAE0D,EAAGg1E,EAAK14E,EAAE8B,EAC3BuoC,EAAMJ,EAAK39B,EAAIg+B,EAAMJ,EAAKH,EAAI4uC,EAAMD,EAAKD,EACzC9oD,EAAI3tB,KAAK8D,KAAKukC,EAAMA,EAAMC,EAAMA,GACpC,MAAO,CACL7pC,GAAI6L,EAAK29B,EAAKI,EAAM1a,EAAIgpD,GAAO,EAC/Bj1E,GAAIqmC,EAAKG,EAAKI,EAAM3a,EAAIgpD,GAAO,EAC/B72E,GAAI6tB,EAAI8oD,EAAKC,GAAM,EAEvB,CAEA,SAASH,GAAcx4E,EAAGC,EAAGyJ,GAC3B,IAAI6C,EAAKvM,EAAEU,EAAGspC,EAAKhqC,EAAE2D,EAAG+0E,EAAK14E,EAAE+B,EAC3BmoC,EAAKjqC,EAAES,EAAGypC,EAAKlqC,EAAE0D,EAAGg1E,EAAK14E,EAAE8B,EAC3Bi7C,EAAKtzC,EAAEhJ,EAAGu8C,EAAKvzC,EAAE/F,EAAGk1E,EAAKnvE,EAAE3H,EAC3B+2E,EAAKvsE,EAAK29B,EACV6uC,EAAKxsE,EAAKywC,EACVg8B,EAAKhvC,EAAKG,EACV8uC,EAAKjvC,EAAKiT,EACVonB,EAAKsU,EAAKD,EACVQ,EAAKL,EAAKH,EACVS,EAAK5sE,EAAKA,EAAKy9B,EAAKA,EAAK0uC,EAAKA,EAC9BxoB,EAAKipB,EAAKjvC,EAAKA,EAAKC,EAAKA,EAAKwuC,EAAKA,EACnCS,EAAKD,EAAKn8B,EAAKA,EAAKC,EAAKA,EAAK47B,EAAKA,EACnC37B,EAAK67B,EAAKC,EAAKF,EAAKG,EACpB/9C,GAAM89C,EAAKI,EAAKH,EAAK/oB,IAAY,EAALhT,GAAU3wC,EACtC6uB,GAAM69C,EAAK5U,EAAK2U,EAAKE,GAAMh8B,EAC3B/hB,GAAM49C,EAAK7oB,EAAK4oB,EAAKM,IAAY,EAALl8B,GAAUlT,EACtC3O,GAAMy9C,EAAKI,EAAKH,EAAK1U,GAAMnnB,EAC3BqnB,EAAInpC,EAAKA,EAAKC,EAAKA,EAAK,EACxBiuC,EAAI,GAAKoP,EAAKx9C,EAAKE,EAAKD,EAAKE,GAC7Bg+C,EAAIn+C,EAAKA,EAAKC,EAAKA,EAAKu9C,EAAKA,EAC7B32E,IAAME,KAAKuE,IAAI+9D,GAAK,MAAQ+E,EAAIrnE,KAAK8D,KAAKujE,EAAIA,EAAI,EAAI/E,EAAI8U,KAAO,EAAI9U,GAAK8U,EAAI/P,GAClF,MAAO,CACL5oE,EAAG6L,EAAK2uB,EAAKE,EAAKr5B,EAClB4B,EAAGqmC,EAAK7O,EAAKE,EAAKt5B,EAClBA,EAAGA,EAEP,CCtHA,SAASu3E,GAAMr5E,EAAGD,EAAG0J,GACnB,IAAoBhJ,EAAGo4E,EACHn1E,EAAGq1E,EADnBlzC,EAAK7lC,EAAES,EAAIV,EAAEU,EACbqlC,EAAK9lC,EAAE0D,EAAI3D,EAAE2D,EACbusD,EAAKpqB,EAAKA,EAAKC,EAAKA,EACpBmqB,GACF4oB,EAAK94E,EAAE+B,EAAI2H,EAAE3H,EAAG+2E,GAAMA,EACtBE,EAAK/4E,EAAE8B,EAAI2H,EAAE3H,EACT+2E,GADYE,GAAMA,IAEpBt4E,GAAKwvD,EAAK8oB,EAAKF,IAAO,EAAI5oB,GAC1BvsD,EAAI1B,KAAK8D,KAAK9D,KAAKiC,IAAI,EAAG80E,EAAK9oB,EAAKxvD,EAAIA,IACxCgJ,EAAEhJ,EAAIT,EAAES,EAAIA,EAAIolC,EAAKniC,EAAIoiC,EACzBr8B,EAAE/F,EAAI1D,EAAE0D,EAAIjD,EAAIqlC,EAAKpiC,EAAImiC,IAEzBplC,GAAKwvD,EAAK4oB,EAAKE,IAAO,EAAI9oB,GAC1BvsD,EAAI1B,KAAK8D,KAAK9D,KAAKiC,IAAI,EAAG40E,EAAK5oB,EAAKxvD,EAAIA,IACxCgJ,EAAEhJ,EAAIV,EAAEU,EAAIA,EAAIolC,EAAKniC,EAAIoiC,EACzBr8B,EAAE/F,EAAI3D,EAAE2D,EAAIjD,EAAIqlC,EAAKpiC,EAAImiC,KAG3Bp8B,EAAEhJ,EAAIV,EAAEU,EAAIgJ,EAAE3H,EACd2H,EAAE/F,EAAI3D,EAAE2D,EAEZ,CAEA,SAAS41E,GAAWv5E,EAAGC,GACrB,IAAIw4E,EAAKz4E,EAAE+B,EAAI9B,EAAE8B,EAAI,KAAM+jC,EAAK7lC,EAAES,EAAIV,EAAEU,EAAGqlC,EAAK9lC,EAAE0D,EAAI3D,EAAE2D,EACxD,OAAO80E,EAAK,GAAKA,EAAKA,EAAK3yC,EAAKA,EAAKC,EAAKA,CAC5C,CAEA,SAASyzC,GAAMjhE,GACb,IAAIvY,EAAIuY,EAAK1L,EACT5M,EAAIsY,EAAK7G,KAAK7E,EACdqwC,EAAKl9C,EAAE+B,EAAI9B,EAAE8B,EACb+jC,GAAM9lC,EAAEU,EAAIT,EAAE8B,EAAI9B,EAAES,EAAIV,EAAE+B,GAAKm7C,EAC/BnX,GAAM/lC,EAAE2D,EAAI1D,EAAE8B,EAAI9B,EAAE0D,EAAI3D,EAAE+B,GAAKm7C,EACnC,OAAOpX,EAAKA,EAAKC,EAAKA,CACxB,CAEA,SAAS0zC,GAAKjZ,GACZr6D,KAAK0G,EAAI2zD,EACTr6D,KAAKuL,KAAO,KACZvL,KAAKsJ,SAAW,IAClB,CAEO,SAASiqE,GAAmB1B,EAASvnE,GAC1C,KAAM7M,GFjDgBlD,EEiDKs3E,EAAhBA,EFhDS,iBAANt3E,GAAkB,WAAYA,EACxCA,EACAmE,MAAMC,KAAKpE,IE8CsBnB,QAAS,OAAO,EFjDxC,IAASmB,EEmDlBV,EAAGC,EAAGyJ,EAAG9F,EAAG+1E,EAAInU,EAAIlmE,EAAG0E,EAAGwJ,EAAGosE,EAAIC,EAIrC,IADA75E,EAAIg4E,EAAQ,IAAMt3E,EAAI,EAAGV,EAAE2D,EAAI,IACzBC,EAAI,GAAI,OAAO5D,EAAE+B,EAIvB,GADA9B,EAAI+3E,EAAQ,GAAIh4E,EAAEU,GAAKT,EAAE8B,EAAG9B,EAAES,EAAIV,EAAE+B,EAAG9B,EAAE0D,EAAI,IACvCC,EAAI,GAAI,OAAO5D,EAAE+B,EAAI9B,EAAE8B,EAG7Bu3E,GAAMr5E,EAAGD,EAAG0J,EAAIsuE,EAAQ,IAGxBh4E,EAAI,IAAIy5E,GAAKz5E,GAAIC,EAAI,IAAIw5E,GAAKx5E,GAAIyJ,EAAI,IAAI+vE,GAAK/vE,GAC/C1J,EAAE0R,KAAOhI,EAAE+F,SAAWxP,EACtBA,EAAEyR,KAAO1R,EAAEyP,SAAW/F,EACtBA,EAAEgI,KAAOzR,EAAEwP,SAAWzP,EAGtB85E,EAAM,IAAKx6E,EAAI,EAAGA,EAAIsE,IAAKtE,EAAG,CAC5Bg6E,GAAMt5E,EAAE6M,EAAG5M,EAAE4M,EAAGnD,EAAIsuE,EAAQ14E,IAAKoK,EAAI,IAAI+vE,GAAK/vE,GAK9C1F,EAAI/D,EAAEyR,KAAMlE,EAAIxN,EAAEyP,SAAUmqE,EAAK35E,EAAE4M,EAAE9K,EAAG83E,EAAK75E,EAAE6M,EAAE9K,EACjD,MACM63E,GAAMC,EAAI,CACZ,GAAIN,GAAWv1E,EAAE6I,EAAGnD,EAAEmD,GAAI,CACxB5M,EAAI+D,EAAGhE,EAAE0R,KAAOzR,EAAGA,EAAEwP,SAAWzP,IAAKV,EACrC,SAASw6E,CACX,CACAF,GAAM51E,EAAE6I,EAAE9K,EAAGiC,EAAIA,EAAE0N,IACrB,KAAO,CACL,GAAI6nE,GAAW/rE,EAAEX,EAAGnD,EAAEmD,GAAI,EACxB7M,EAAIwN,GAAKkE,KAAOzR,EAAGA,EAAEwP,SAAWzP,IAAKV,EACrC,SAASw6E,CACX,CACAD,GAAMrsE,EAAEX,EAAE9K,EAAGyL,EAAIA,EAAEiC,QACrB,QACOzL,IAAMwJ,EAAEkE,MAOjB,IAJAhI,EAAE+F,SAAWzP,EAAG0J,EAAEgI,KAAOzR,EAAGD,EAAE0R,KAAOzR,EAAEwP,SAAWxP,EAAIyJ,EAGtDiwE,EAAKH,GAAMx5E,IACH0J,EAAIA,EAAEgI,QAAUzR,IACjBulE,EAAKgU,GAAM9vE,IAAMiwE,IACpB35E,EAAI0J,EAAGiwE,EAAKnU,GAGhBvlE,EAAID,EAAE0R,IACR,CAGkB,IAAlB1R,EAAI,CAACC,EAAE4M,GAAInD,EAAIzJ,GAAWyJ,EAAIA,EAAEgI,QAAUzR,GAAGD,EAAEwF,KAAKkE,EAAEmD,GAGtD,IAH0DnD,EAAIuuE,GAAkBj4E,EAAGyQ,GAG9EnR,EAAI,EAAGA,EAAIsE,IAAKtE,GAAGU,EAAIg4E,EAAQ14E,IAAMoB,GAAKgJ,EAAEhJ,EAAGV,EAAE2D,GAAK+F,EAAE/F,EAE7D,OAAO+F,EAAE3H,CACX,CAEe,SAAAg4E,GAAS/B,GAEtB,OADA0B,GAAmB1B,EAASH,MACrBG,CACT,CClHA,SAASgC,GAAcl5E,GACrB,OAAOmB,KAAK8D,KAAKjF,EAAEO,MACrB,CAEe,SAAA44E,KACb,IAAIv3E,EAAS,KACTojC,EAAK,EACLC,EAAK,EACLyvB,EAAUyhB,GAEd,SAAS6C,EAAKr1D,GACZ,MAAMhU,EAASonE,KAYf,OAXApzD,EAAK/jB,EAAIolC,EAAK,EAAGrhB,EAAK9gB,EAAIoiC,EAAK,EAC3BrjC,EACF+hB,EAAKmyD,WAAWsD,GAAWx3E,IACtBuzE,UAAUkE,GAAmB3kB,EAAS,GAAK/kD,IAC3CmmE,WAAWwD,GAAe,IAE/B31D,EAAKmyD,WAAWsD,GAAWF,KACtB/D,UAAUkE,GAAmBlD,GAAc,EAAGxmE,IAC9CwlE,UAAUkE,GAAmB3kB,EAAS/wC,EAAK1iB,EAAIE,KAAKgC,IAAI6hC,EAAIC,GAAKt1B,IACjEmmE,WAAWwD,GAAen4E,KAAKgC,IAAI6hC,EAAIC,IAAO,EAAIthB,EAAK1iB,KAEvD0iB,CACT,CAcA,OAZAq1D,EAAKp3E,OAAS,SAAShC,GACrB,OAAOoM,UAAUvN,QAAUmD,EAASq0E,GAASr2E,GAAIo5E,GAAQp3E,CAC3D,EAEAo3E,EAAK/2D,KAAO,SAASriB,GACnB,OAAOoM,UAAUvN,QAAUumC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAIo5E,GAAQ,CAACh0C,EAAIC,EAClE,EAEA+zC,EAAKtkB,QAAU,SAAS90D,GACtB,OAAOoM,UAAUvN,QAAUi2D,EAAuB,mBAAN90D,EAAmBA,EAAIw2E,IAAUx2E,GAAIo5E,GAAQtkB,CAC3F,EAEOskB,CACT,CAEA,SAASI,GAAWx3E,GAClB,OAAO,SAAS6V,GACTA,EAAKO,WACRP,EAAKxW,EAAIE,KAAKiC,IAAI,GAAIxB,EAAO6V,IAAS,GAE1C,CACF,CAEA,SAAS4hE,GAAmB3kB,EAAShoD,EAAGiD,GACtC,OAAO,SAAS8H,GACd,GAAIO,EAAWP,EAAKO,SAAU,CAC5B,IAAIA,EACAxZ,EAGAs4B,EAFAh0B,EAAIkV,EAASvZ,OACbwC,EAAIyzD,EAAQj9C,GAAQ/K,GAAK,EAG7B,GAAIzL,EAAG,IAAKzC,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGwZ,EAASxZ,GAAGyC,GAAKA,EAEhD,GADA61B,EAAI8hD,GAAmB5gE,EAAUrI,GAC7B1O,EAAG,IAAKzC,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGwZ,EAASxZ,GAAGyC,GAAKA,EAChDwW,EAAKxW,EAAI61B,EAAI71B,CACf,CACF,CACF,CAEA,SAASq4E,GAAe5sE,GACtB,OAAO,SAAS+K,GACd,IAAIW,EAASX,EAAKW,OAClBX,EAAKxW,GAAKyL,EACN0L,IACFX,EAAK7X,EAAIwY,EAAOxY,EAAI8M,EAAI+K,EAAK7X,EAC7B6X,EAAK5U,EAAIuV,EAAOvV,EAAI6J,EAAI+K,EAAK5U,EAEjC,CACF,CChFe,SAAA02E,GAAS9hE,GACtBA,EAAKjM,GAAKrK,KAAKkJ,MAAMoN,EAAKjM,IAC1BiM,EAAK8xB,GAAKpoC,KAAKkJ,MAAMoN,EAAK8xB,IAC1B9xB,EAAKhM,GAAKtK,KAAKkJ,MAAMoN,EAAKhM,IAC1BgM,EAAKyxB,GAAK/nC,KAAKkJ,MAAMoN,EAAKyxB,GAC5B,CCLe,SAAAswC,GAASphE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GAO1C,IANA,IACIzxB,EADAuK,EAAQ5J,EAAOJ,SAEfxZ,GAAI,EACJsE,EAAIkf,EAAMvjB,OACViO,EAAI0L,EAAO7X,QAAUkL,EAAKD,GAAM4M,EAAO7X,QAElC/B,EAAIsE,IACX2U,EAAOuK,EAAMxjB,IAAS+qC,GAAKA,EAAI9xB,EAAKyxB,GAAKA,EACzCzxB,EAAKjM,GAAKA,EAAIiM,EAAKhM,GAAKD,GAAMiM,EAAKlX,MAAQmM,CAE/C,CCRe,SAAA+sE,KACb,IAAIz0C,EAAK,EACLC,EAAK,EACLyvB,EAAU,EACVrqD,GAAQ,EAEZ,SAASqvE,EAAU/1D,GACjB,IAAI7gB,EAAI6gB,EAAKrhB,OAAS,EAOtB,OANAqhB,EAAKnY,GACLmY,EAAK4lB,GAAKmrB,EACV/wC,EAAKlY,GAAKu5B,EACVrhB,EAAKulB,GAAKjE,EAAKniC,EACf6gB,EAAKmyD,WAKP,SAAsB7wC,EAAIniC,GACxB,OAAO,SAAS2U,GACVA,EAAKO,UACPwhE,GAAY/hE,EAAMA,EAAKjM,GAAIy5B,GAAMxtB,EAAKw2D,MAAQ,GAAKnrE,EAAG2U,EAAKhM,GAAIw5B,GAAMxtB,EAAKw2D,MAAQ,GAAKnrE,GAEzF,IAAI0I,EAAKiM,EAAKjM,GACV+9B,EAAK9xB,EAAK8xB,GACV99B,EAAKgM,EAAKhM,GAAKipD,EACfxrB,EAAKzxB,EAAKyxB,GAAKwrB,EACfjpD,EAAKD,IAAIA,EAAKC,GAAMD,EAAKC,GAAM,GAC/By9B,EAAKK,IAAIA,EAAKL,GAAMK,EAAKL,GAAM,GACnCzxB,EAAKjM,GAAKA,EACViM,EAAK8xB,GAAKA,EACV9xB,EAAKhM,GAAKA,EACVgM,EAAKyxB,GAAKA,CACZ,CACF,CArBkBywC,CAAa10C,EAAIniC,IAC7BuH,GAAOsZ,EAAKmyD,WAAWyD,IACpB51D,CACT,CAgCA,OAZA+1D,EAAUrvE,MAAQ,SAASzK,GACzB,OAAOoM,UAAUvN,QAAU4L,IAAUzK,EAAG85E,GAAarvE,CACvD,EAEAqvE,EAAUz3D,KAAO,SAASriB,GACxB,OAAOoM,UAAUvN,QAAUumC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAI85E,GAAa,CAAC10C,EAAIC,EACvE,EAEAy0C,EAAUhlB,QAAU,SAAS90D,GAC3B,OAAOoM,UAAUvN,QAAUi2D,GAAW90D,EAAG85E,GAAahlB,CACxD,EAEOglB,CACT,CChDA,IAAIE,GAAU,CAAC3L,OAAO,GAClB4L,GAAY,CAAC,EACbC,GAAU,CAAC,EAEf,SAASC,GAAU/5E,GACjB,OAAOA,EAAEtB,EACX,CAEA,SAASs7E,GAAgBh6E,GACvB,OAAOA,EAAEi6E,QACX,CAEe,SAAAC,KACb,IAEIjmE,EAFAvV,EAAKq7E,GACLE,EAAWD,GAGf,SAASG,EAASj4E,GAChB,IAGIY,EACA9C,EACAxB,EACAmlB,EACAvL,EACAX,EACA62C,EACA8rB,EAVAp4D,EAAQje,MAAMC,KAAK9B,GACnBm4E,EAAY37E,EACZ47E,EAAkBL,EASlBM,EAAY,IAAIv0E,IAEpB,GAAY,MAARiO,EAAc,CAChB,MAAMkwC,EAAIniC,EAAM1d,KAAI,CAACtE,EAAGxB,IAkF9B,SAAmByV,GACjBA,EAAO,GAAGA,IACV,IAAIzV,EAAIyV,EAAKxV,OACT+7E,GAAMvmE,EAAMzV,EAAI,KAAOg8E,GAAMvmE,EAAMzV,EAAI,KAAIyV,EAAOA,EAAKzS,MAAM,GAAG,IACpE,MAAmB,MAAZyS,EAAK,GAAaA,EAAO,IAAIA,GACtC,CAvFoCwmE,CAAUxmE,EAAKjU,EAAGxB,EAAG0D,MAC7Ck8C,EAAI+F,EAAE7/C,IAAIo2E,IACV54E,EAAI,IAAIkF,IAAIm9C,GAAG3+C,IAAI,IACzB,IAAK,MAAMhH,KAAK4/C,EACTt8C,EAAE6E,IAAInI,KACTsD,EAAE0D,IAAIhH,GACN2lD,EAAEz/C,KAAKlG,GACP4/C,EAAE15C,KAAKg2E,GAASl8E,IAChBwjB,EAAMtd,KAAKo1E,KAGfO,EAAY,CAACtuE,EAAGvN,IAAM2lD,EAAE3lD,GACxB87E,EAAkB,CAACvuE,EAAGvN,IAAM4/C,EAAE5/C,EAChC,CAEA,IAAKA,EAAI,EAAGsE,EAAIkf,EAAMvjB,OAAQD,EAAIsE,IAAKtE,EACrCwB,EAAIgiB,EAAMxjB,GAAIiZ,EAAOuK,EAAMxjB,GAAK,IAAIq3E,GAAK71E,GACD,OAAnCsuD,EAAS+rB,EAAUr6E,EAAGxB,EAAG0D,MAAmBosD,GAAU,MACzD8rB,EAAU3iE,EAAK/Y,GAAK4vD,EACpBisB,EAAU/zE,IAAI4zE,EAASG,EAAU5zE,IAAIyzE,GAAWP,GAAYpiE,IAEhB,OAAzC62C,EAASgsB,EAAgBt6E,EAAGxB,EAAG0D,MAAmBosD,GAAU,MAC/D72C,EAAKW,OAASk2C,GAIlB,IAAK9vD,EAAI,EAAGA,EAAIsE,IAAKtE,EAEnB,GAAI8vD,GADJ72C,EAAOuK,EAAMxjB,IACK4Z,OAAQ,CAExB,KADAA,EAASmiE,EAAU9zE,IAAI6nD,IACV,MAAM,IAAI1vD,MAAM,YAAc0vD,GAC3C,GAAIl2C,IAAWyhE,GAAW,MAAM,IAAIj7E,MAAM,cAAgB0vD,GACtDl2C,EAAOJ,SAAUI,EAAOJ,SAAStT,KAAK+S,GACrCW,EAAOJ,SAAW,CAACP,GACxBA,EAAKW,OAASA,CAChB,KAAO,CACL,GAAIuL,EAAM,MAAM,IAAI/kB,MAAM,kBAC1B+kB,EAAOlM,CACT,CAGF,IAAKkM,EAAM,MAAM,IAAI/kB,MAAM,WAI3B,GAAY,MAARqV,EAAc,CAChB,KAAO0P,EAAKzhB,OAAS43E,IAAoC,IAAzBn2D,EAAK3L,SAASvZ,QAC5CklB,EAAOA,EAAK3L,SAAS,KAAMlV,EAE7B,IAAK,IAAItE,EAAIwjB,EAAMvjB,OAAS,EAAGD,GAAK,IAClCiZ,EAAOuK,EAAMxjB,IACJ0D,OAAS43E,KAFqBt7E,EAGvCiZ,EAAKvV,KAAO,IAEhB,CAKA,GAHAyhB,EAAKvL,OAASwhE,GACdj2D,EAAKmyD,YAAW,SAASr+D,GAAQA,EAAKw2D,MAAQx2D,EAAKW,OAAO61D,MAAQ,IAAKnrE,CAAG,IAAGgzE,WAAWC,IACxFpyD,EAAKvL,OAAS,KACVtV,EAAI,EAAG,MAAM,IAAIlE,MAAM,SAE3B,OAAO+kB,CACT,CAcA,OAZAw2D,EAASz7E,GAAK,SAASkB,GACrB,OAAOoM,UAAUvN,QAAUC,EAAKu3E,GAASr2E,GAAIu6E,GAAYz7E,CAC3D,EAEAy7E,EAASF,SAAW,SAASr6E,GAC3B,OAAOoM,UAAUvN,QAAUw7E,EAAWhE,GAASr2E,GAAIu6E,GAAYF,CACjE,EAEAE,EAASlmE,KAAO,SAASrU,GACvB,OAAOoM,UAAUvN,QAAUwV,EAAOgiE,GAASr2E,GAAIu6E,GAAYlmE,CAC7D,EAEOkmE,CACT,CAeA,SAASO,GAASzmE,GAChB,IAAIzV,EAAIyV,EAAKxV,OACb,GAAID,EAAI,EAAG,MAAO,GAClB,OAASA,EAAI,IAAOg8E,GAAMvmE,EAAMzV,KAChC,OAAOyV,EAAKzS,MAAM,EAAGhD,EACvB,CAKA,SAASg8E,GAAMvmE,EAAMzV,GACnB,GAAgB,MAAZyV,EAAKzV,GAAY,CACnB,IAAIkO,EAAI,EACR,KAAOlO,EAAI,GAAmB,OAAdyV,IAAOzV,MAAekO,EACtC,GAAgB,IAAP,EAAJA,GAAc,OAAO,CAC5B,CACA,OAAO,CACT,CC9IA,SAASiuE,GAAkBz7E,EAAGC,GAC5B,OAAOD,EAAEkZ,SAAWjZ,EAAEiZ,OAAS,EAAI,CACrC,CAUA,SAASwiE,GAAS/1E,GAChB,IAAImT,EAAWnT,EAAEmT,SACjB,OAAOA,EAAWA,EAAS,GAAKnT,EAAEvB,CACpC,CAGA,SAASu3E,GAAUh2E,GACjB,IAAImT,EAAWnT,EAAEmT,SACjB,OAAOA,EAAWA,EAASA,EAASvZ,OAAS,GAAKoG,EAAEvB,CACtD,CAIA,SAASw3E,GAAYC,EAAIC,EAAI3qC,GAC3B,IAAI4qC,EAAS5qC,GAAS2qC,EAAGx8E,EAAIu8E,EAAGv8E,GAChCw8E,EAAGpyE,GAAKqyE,EACRD,EAAG/3E,GAAKotC,EACR0qC,EAAGnyE,GAAKqyE,EACRD,EAAGpuE,GAAKyjC,EACR2qC,EAAGpvE,GAAKykC,CACV,CAqBA,SAAS6qC,GAAaC,EAAKt2E,EAAGwxE,GAC5B,OAAO8E,EAAIj8E,EAAEkZ,SAAWvT,EAAEuT,OAAS+iE,EAAIj8E,EAAIm3E,CAC7C,CAEA,SAAS+E,GAAS3jE,EAAMjZ,GACtB6G,KAAK0G,EAAI0L,EACTpS,KAAK+S,OAAS,KACd/S,KAAK2S,SAAW,KAChB3S,KAAKo+D,EAAI,KACTp+D,KAAKnG,EAAImG,KACTA,KAAKuH,EAAI,EACTvH,KAAKuG,EAAI,EACTvG,KAAKuD,EAAI,EACTvD,KAAKpC,EAAI,EACToC,KAAK/B,EAAI,KACT+B,KAAK7G,EAAIA,CACX,CA4Be,SAAA68E,KACb,IAAItG,EAAa4F,GACb31C,EAAK,EACLC,EAAK,EACL+vC,EAAW,KAEf,SAAS7oB,EAAKxoC,GACZ,IAAIrgB,EA/BR,SAAkBqgB,GAShB,IARA,IACIlM,EAEA6B,EACAtB,EACAxZ,EACAsE,EANAqpD,EAAO,IAAIivB,GAASz3D,EAAM,GAE1B3B,EAAQ,CAACmqC,GAMN10C,EAAOuK,EAAM5d,UACd4T,EAAWP,EAAK1L,EAAEiM,SAEpB,IADAP,EAAKO,SAAW,IAAIjU,MAAMjB,EAAIkV,EAASvZ,QAClCD,EAAIsE,EAAI,EAAGtE,GAAK,IAAKA,EACxBwjB,EAAMtd,KAAK4U,EAAQ7B,EAAKO,SAASxZ,GAAK,IAAI48E,GAASpjE,EAASxZ,GAAIA,IAChE8a,EAAMlB,OAASX,EAMrB,OADC00C,EAAK/zC,OAAS,IAAIgjE,GAAS,KAAM,IAAIpjE,SAAW,CAACm0C,GAC3CA,CACT,CAUYmvB,CAAS33D,GAOjB,GAJArgB,EAAE6xE,UAAUoG,GAAYj4E,EAAE8U,OAAOxM,GAAKtI,EAAEsJ,EACxCtJ,EAAEwyE,WAAW0F,GAGTxG,EAAUrxD,EAAKmyD,WAAW2F,OAIzB,CACH,IAAI97E,EAAOgkB,EACPhjB,EAAQgjB,EACR2oC,EAAS3oC,EACbA,EAAKmyD,YAAW,SAASr+D,GACnBA,EAAK7X,EAAID,EAAKC,IAAGD,EAAO8X,GACxBA,EAAK7X,EAAIe,EAAMf,IAAGe,EAAQ8W,GAC1BA,EAAKw2D,MAAQ3hB,EAAO2hB,QAAO3hB,EAAS70C,EAC1C,IACA,IAAIxU,EAAItD,IAASgB,EAAQ,EAAIo0E,EAAWp1E,EAAMgB,GAAS,EACnDmzE,EAAK7wE,EAAItD,EAAKC,EACdo0E,EAAKhvC,GAAMrkC,EAAMf,EAAIqD,EAAI6wE,GACzBG,EAAKhvC,GAAMqnB,EAAO2hB,OAAS,GAC/BtqD,EAAKmyD,YAAW,SAASr+D,GACvBA,EAAK7X,GAAK6X,EAAK7X,EAAIk0E,GAAME,EACzBv8D,EAAK5U,EAAI4U,EAAKw2D,MAAQgG,CACxB,GACF,CAEA,OAAOtwD,CACT,CAMA,SAAS43D,EAAU12E,GACjB,IAAImT,EAAWnT,EAAEmT,SACb0jE,EAAW72E,EAAEuT,OAAOJ,SACpBrV,EAAIkC,EAAErG,EAAIk9E,EAAS72E,EAAErG,EAAI,GAAK,KAClC,GAAIwZ,EAAU,EA5GlB,SAAuBnT,GAMrB,IALA,IAIIlC,EAJA0tC,EAAQ,EACR4qC,EAAS,EACTjjE,EAAWnT,EAAEmT,SACbxZ,EAAIwZ,EAASvZ,SAERD,GAAK,IACZmE,EAAIqV,EAASxZ,IACXoO,GAAKyjC,EACP1tC,EAAEiJ,GAAKykC,EACPA,GAAS1tC,EAAEM,GAAKg4E,GAAUt4E,EAAEiG,EAEhC,CAiGM+yE,CAAc92E,GACd,IAAI+2E,GAAY5jE,EAAS,GAAGpL,EAAIoL,EAASA,EAASvZ,OAAS,GAAGmO,GAAK,EAC/DjK,GACFkC,EAAE+H,EAAIjK,EAAEiK,EAAImoE,EAAWlwE,EAAEkH,EAAGpJ,EAAEoJ,GAC9BlH,EAAE+G,EAAI/G,EAAE+H,EAAIgvE,GAEZ/2E,EAAE+H,EAAIgvE,CAEV,MAAWj5E,IACTkC,EAAE+H,EAAIjK,EAAEiK,EAAImoE,EAAWlwE,EAAEkH,EAAGpJ,EAAEoJ,IAEhClH,EAAEuT,OAAOqrD,EAoBX,SAAmB5+D,EAAGlC,EAAG0zE,GACvB,GAAI1zE,EAAG,CAUL,IATA,IAQI0tC,EARAwrC,EAAMh3E,EACNi3E,EAAMj3E,EACNs2E,EAAMx4E,EACNo5E,EAAMF,EAAIzjE,OAAOJ,SAAS,GAC1BgkE,EAAMH,EAAIjwE,EACVqwE,EAAMH,EAAIlwE,EACVswE,EAAMf,EAAIvvE,EACVuwE,EAAMJ,EAAInwE,EAEPuvE,EAAMN,GAAUM,GAAMU,EAAMjB,GAASiB,GAAMV,GAAOU,GACvDE,EAAMnB,GAASmB,IACfD,EAAMjB,GAAUiB,IACZ58E,EAAI2F,GACRwrC,EAAQ8qC,EAAIvuE,EAAIsvE,EAAML,EAAIjvE,EAAIovE,EAAMjH,EAAWoG,EAAIpvE,EAAG8vE,EAAI9vE,IAC9C,IACV+uE,GAAYI,GAAaC,EAAKt2E,EAAGwxE,GAAWxxE,EAAGwrC,GAC/C2rC,GAAO3rC,EACP4rC,GAAO5rC,GAET6rC,GAAOf,EAAIvvE,EACXowE,GAAOH,EAAIjwE,EACXuwE,GAAOJ,EAAInwE,EACXqwE,GAAOH,EAAIlwE,EAETuvE,IAAQN,GAAUiB,KACpBA,EAAIx4E,EAAI63E,EACRW,EAAIlwE,GAAKswE,EAAMD,GAEbJ,IAAQjB,GAASmB,KACnBA,EAAIz4E,EAAIu4E,EACRE,EAAInwE,GAAKowE,EAAMG,EACf9F,EAAWxxE,EAEf,CACA,OAAOwxE,CACT,CAzDe+F,CAAUv3E,EAAGlC,EAAGkC,EAAEuT,OAAOqrD,GAAKiY,EAAS,GACtD,CAGA,SAASF,EAAW32E,GAClBA,EAAEkH,EAAEnM,EAAIiF,EAAE+H,EAAI/H,EAAEuT,OAAOxM,EACvB/G,EAAE+G,GAAK/G,EAAEuT,OAAOxM,CAClB,CAoDA,SAAS6vE,EAAShkE,GAChBA,EAAK7X,GAAKolC,EACVvtB,EAAK5U,EAAI4U,EAAKw2D,MAAQhpC,CACxB,CAcA,OAZAknB,EAAK4oB,WAAa,SAASn1E,GACzB,OAAOoM,UAAUvN,QAAUs2E,EAAan1E,EAAGusD,GAAQ4oB,CACrD,EAEA5oB,EAAKlqC,KAAO,SAASriB,GACnB,OAAOoM,UAAUvN,QAAUu2E,GAAW,EAAOhwC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAIusD,GAAS6oB,EAAW,KAAO,CAAChwC,EAAIC,EACvG,EAEAknB,EAAK6oB,SAAW,SAASp1E,GACvB,OAAOoM,UAAUvN,QAAUu2E,GAAW,EAAMhwC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAIusD,GAAS6oB,EAAW,CAAChwC,EAAIC,GAAM,IACrG,EAEOknB,CACT,CC5Oe,SAAAkwB,GAASjkE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GAO1C,IANA,IACIzxB,EADAuK,EAAQ5J,EAAOJ,SAEfxZ,GAAI,EACJsE,EAAIkf,EAAMvjB,OACViO,EAAI0L,EAAO7X,QAAU2oC,EAAKK,GAAMnxB,EAAO7X,QAElC/B,EAAIsE,IACX2U,EAAOuK,EAAMxjB,IAASgN,GAAKA,EAAIiM,EAAKhM,GAAKA,EACzCgM,EAAK8xB,GAAKA,EAAI9xB,EAAKyxB,GAAKK,GAAM9xB,EAAKlX,MAAQmM,CAE/C,CD8DA0uE,GAAS9xE,UAAY/K,OAAOkkB,OAAOozD,GAAKvsE,WEtEjC,IAAIgzE,IAAO,EAAIn7E,KAAK8D,KAAK,IAAM,EAE/B,SAASs3E,GAAcC,EAAOpkE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GAkBvD,IAjBA,IAEIj5B,EACAwsE,EAIAz3C,EAAIC,EAEJy3C,EACArtE,EACAnC,EACAyvE,EACAC,EACA9tB,EACA+tB,EAfAl6B,EAAO,GACP3gC,EAAQ5J,EAAOJ,SAGf1K,EAAK,EACLpD,EAAK,EACLpH,EAAIkf,EAAMvjB,OAEV8B,EAAQ6X,EAAO7X,MASZ+M,EAAKxK,GAAG,CACbkiC,EAAKv5B,EAAKD,EAAIy5B,EAAKiE,EAAKK,EAGxB,GAAGmzC,EAAW16D,EAAM9X,KAAM3J,aAAem8E,GAAYxyE,EAAKpH,GAO1D,IANAuM,EAAWnC,EAAWwvE,EAEtBG,EAAOH,EAAWA,GADlB5tB,EAAQ3tD,KAAKiC,IAAI6hC,EAAKD,EAAIA,EAAKC,IAAO1kC,EAAQi8E,IAE9CI,EAAWz7E,KAAKiC,IAAI8J,EAAW2vE,EAAMA,EAAOxtE,GAGrCnF,EAAKpH,IAAKoH,EAAI,CAMnB,GALAwyE,GAAYD,EAAYz6D,EAAM9X,GAAI3J,MAC9Bk8E,EAAYptE,IAAUA,EAAWotE,GACjCA,EAAYvvE,IAAUA,EAAWuvE,GACrCI,EAAOH,EAAWA,EAAW5tB,GAC7B6tB,EAAWx7E,KAAKiC,IAAI8J,EAAW2vE,EAAMA,EAAOxtE,IAC7ButE,EAAU,CAAEF,GAAYD,EAAW,KAAO,CACzDG,EAAWD,CACb,CAGAh6B,EAAKj+C,KAAKuL,EAAM,CAAC1P,MAAOm8E,EAAUI,KAAM93C,EAAKC,EAAIjtB,SAAUgK,EAAMxgB,MAAM8L,EAAIpD,KACvE+F,EAAI6sE,KAAMtD,GAAYvpE,EAAKzE,EAAI+9B,EAAI99B,EAAIlL,EAAQgpC,GAAMtE,EAAKy3C,EAAWn8E,EAAQ2oC,GAC5EmzC,GAAapsE,EAAKzE,EAAI+9B,EAAIhpC,EAAQiL,GAAMw5B,EAAK03C,EAAWn8E,EAAQkL,EAAIy9B,GACzE3oC,GAASm8E,EAAUpvE,EAAKpD,CAC1B,CAEA,OAAOy4C,CACT,C,IAEAo6B,GAAe,SAAUt2B,EAAO+1B,GAE9B,SAASQ,EAAS5kE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GACpCqzC,GAAcC,EAAOpkE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,EAC3C,CAMA,OAJA8zC,EAASR,MAAQ,SAAS58E,GACxB,OAAO6mD,GAAQ7mD,GAAKA,GAAK,EAAIA,EAAI,EACnC,EAEOo9E,CACT,CAXe,CAWZV,IC5DY,SAAAW,KACb,IAAIC,EAAOH,GACP1yE,GAAQ,EACR26B,EAAK,EACLC,EAAK,EACLk4C,EAAe,CAAC,GAChBC,EAAejH,GACfkH,EAAalH,GACbmH,EAAenH,GACfoH,EAAgBpH,GAChBqH,EAAcrH,GAElB,SAASsH,EAAQ95D,GAQf,OAPAA,EAAKnY,GACLmY,EAAK4lB,GAAK,EACV5lB,EAAKlY,GAAKu5B,EACVrhB,EAAKulB,GAAKjE,EACVthB,EAAKmyD,WAAW6D,GAChBwD,EAAe,CAAC,GACZ9yE,GAAOsZ,EAAKmyD,WAAWyD,IACpB51D,CACT,CAEA,SAASg2D,EAAaliE,GACpB,IAAIhS,EAAI03E,EAAa1lE,EAAKw2D,OACtBziE,EAAKiM,EAAKjM,GAAK/F,EACf8jC,EAAK9xB,EAAK8xB,GAAK9jC,EACfgG,EAAKgM,EAAKhM,GAAKhG,EACfyjC,EAAKzxB,EAAKyxB,GAAKzjC,EACfgG,EAAKD,IAAIA,EAAKC,GAAMD,EAAKC,GAAM,GAC/By9B,EAAKK,IAAIA,EAAKL,GAAMK,EAAKL,GAAM,GACnCzxB,EAAKjM,GAAKA,EACViM,EAAK8xB,GAAKA,EACV9xB,EAAKhM,GAAKA,EACVgM,EAAKyxB,GAAKA,EACNzxB,EAAKO,WACPvS,EAAI03E,EAAa1lE,EAAKw2D,MAAQ,GAAKmP,EAAa3lE,GAAQ,EACxDjM,GAAMgyE,EAAY/lE,GAAQhS,EAC1B8jC,GAAM8zC,EAAW5lE,GAAQhS,GACzBgG,GAAM6xE,EAAa7lE,GAAQhS,GAElB+F,IAAIA,EAAKC,GAAMD,EAAKC,GAAM,IADnCy9B,GAAMq0C,EAAc9lE,GAAQhS,GAEnB8jC,IAAIA,EAAKL,GAAMK,EAAKL,GAAM,GACnCg0C,EAAKzlE,EAAMjM,EAAI+9B,EAAI99B,EAAIy9B,GAE3B,CA0CA,OAxCAu0C,EAAQpzE,MAAQ,SAASzK,GACvB,OAAOoM,UAAUvN,QAAU4L,IAAUzK,EAAG69E,GAAWpzE,CACrD,EAEAozE,EAAQx7D,KAAO,SAASriB,GACtB,OAAOoM,UAAUvN,QAAUumC,GAAMplC,EAAE,GAAIqlC,GAAMrlC,EAAE,GAAI69E,GAAW,CAACz4C,EAAIC,EACrE,EAEAw4C,EAAQP,KAAO,SAASt9E,GACtB,OAAOoM,UAAUvN,QAAUy+E,EAAOhH,GAASt2E,GAAI69E,GAAWP,CAC5D,EAEAO,EAAQ/oB,QAAU,SAAS90D,GACzB,OAAOoM,UAAUvN,OAASg/E,EAAQL,aAAax9E,GAAG89E,aAAa99E,GAAK69E,EAAQL,cAC9E,EAEAK,EAAQL,aAAe,SAASx9E,GAC9B,OAAOoM,UAAUvN,QAAU2+E,EAA4B,mBAANx9E,EAAmBA,EAAIw2E,IAAUx2E,GAAI69E,GAAWL,CACnG,EAEAK,EAAQC,aAAe,SAAS99E,GAC9B,OAAOoM,UAAUvN,OAASg/E,EAAQJ,WAAWz9E,GAAG09E,aAAa19E,GAAG29E,cAAc39E,GAAG49E,YAAY59E,GAAK69E,EAAQJ,YAC5G,EAEAI,EAAQJ,WAAa,SAASz9E,GAC5B,OAAOoM,UAAUvN,QAAU4+E,EAA0B,mBAANz9E,EAAmBA,EAAIw2E,IAAUx2E,GAAI69E,GAAWJ,CACjG,EAEAI,EAAQH,aAAe,SAAS19E,GAC9B,OAAOoM,UAAUvN,QAAU6+E,EAA4B,mBAAN19E,EAAmBA,EAAIw2E,IAAUx2E,GAAI69E,GAAWH,CACnG,EAEAG,EAAQF,cAAgB,SAAS39E,GAC/B,OAAOoM,UAAUvN,QAAU8+E,EAA6B,mBAAN39E,EAAmBA,EAAIw2E,IAAUx2E,GAAI69E,GAAWF,CACpG,EAEAE,EAAQD,YAAc,SAAS59E,GAC7B,OAAOoM,UAAUvN,QAAU++E,EAA2B,mBAAN59E,EAAmBA,EAAIw2E,IAAUx2E,GAAI69E,GAAWD,CAClG,EAEOC,CACT,CC7Fe,SAAAE,GAASvlE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GAC1C,IACI1qC,EACAwE,EAFAgf,EAAQ5J,EAAOJ,SACZlV,EAAIkf,EAAMvjB,OACRm/E,EAAO,IAAI75E,MAAMjB,EAAI,GAE9B,IAAK86E,EAAK,GAAK56E,EAAMxE,EAAI,EAAGA,EAAIsE,IAAKtE,EACnCo/E,EAAKp/E,EAAI,GAAKwE,GAAOgf,EAAMxjB,GAAG+B,OAKhC,SAASm5E,EAAUl7E,EAAG0E,EAAG3C,EAAOiL,EAAI+9B,EAAI99B,EAAIy9B,GAC1C,GAAI1qC,GAAK0E,EAAI,EAAG,CACd,IAAIuU,EAAOuK,EAAMxjB,GAGjB,OAFAiZ,EAAKjM,GAAKA,EAAIiM,EAAK8xB,GAAKA,EACxB9xB,EAAKhM,GAAKA,OAAIgM,EAAKyxB,GAAKA,EAE1B,CAEA,IAAI20C,EAAcD,EAAKp/E,GACnBs/E,EAAcv9E,EAAS,EAAKs9E,EAC5BnxE,EAAIlO,EAAI,EACRsB,EAAKoD,EAAI,EAEb,KAAOwJ,EAAI5M,GAAI,CACb,IAAIC,EAAM2M,EAAI5M,IAAO,EACjB89E,EAAK79E,GAAO+9E,EAAapxE,EAAI3M,EAAM,EAClCD,EAAKC,CACZ,CAEI+9E,EAAeF,EAAKlxE,EAAI,GAAOkxE,EAAKlxE,GAAKoxE,GAAgBt/E,EAAI,EAAIkO,KAAKA,EAE1E,IAAIqxE,EAAYH,EAAKlxE,GAAKmxE,EACtBG,EAAaz9E,EAAQw9E,EAEzB,GAAItyE,EAAMD,EAAO09B,EAAKK,EAAK,CACzB,IAAI00C,EAAK19E,GAASiL,EAAKwyE,EAAavyE,EAAKsyE,GAAax9E,EAAQkL,EAC9DiuE,EAAUl7E,EAAGkO,EAAGqxE,EAAWvyE,EAAI+9B,EAAI00C,EAAI/0C,GACvCwwC,EAAUhtE,EAAGxJ,EAAG86E,EAAYC,EAAI10C,EAAI99B,EAAIy9B,EAC1C,KAAO,CACL,IAAIg1C,EAAK39E,GAASgpC,EAAKy0C,EAAa90C,EAAK60C,GAAax9E,EAAQ2oC,EAC9DwwC,EAAUl7E,EAAGkO,EAAGqxE,EAAWvyE,EAAI+9B,EAAI99B,EAAIyyE,GACvCxE,EAAUhtE,EAAGxJ,EAAG86E,EAAYxyE,EAAI0yE,EAAIzyE,EAAIy9B,EAC1C,CACF,CAnCAwwC,CAAU,EAAG52E,EAAGsV,EAAO7X,MAAOiL,EAAI+9B,EAAI99B,EAAIy9B,EAoC5C,CC1Ce,SAAAi1C,GAAS/lE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,IAC1B,EAAf9wB,EAAO61D,MAAYoO,GAAQ7C,IAAMphE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,EACxD,C,ICDAk1C,GAAe,SAAU33B,EAAO+1B,GAE9B,SAAS6B,EAAWjmE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GACtC,IAAKyZ,EAAOvqC,EAAOkmE,YAAe37B,EAAK65B,QAAUA,EAU/C,IATA,IAAI75B,EACA1yC,EACA+R,EACAxjB,EAEAsE,EADAI,GAAI,EAEJ0I,EAAI+2C,EAAKlkD,OACT8B,EAAQ6X,EAAO7X,QAEV2C,EAAI0I,GAAG,CAEd,IADeoW,GAAf/R,EAAM0yC,EAAKz/C,IAAgB8U,SACtBxZ,EAAIyR,EAAI1P,MAAQ,EAAGuC,EAAIkf,EAAMvjB,OAAQD,EAAIsE,IAAKtE,EAAGyR,EAAI1P,OAASyhB,EAAMxjB,GAAG+B,MACxE0P,EAAI6sE,KAAMtD,GAAYvpE,EAAKzE,EAAI+9B,EAAI99B,EAAIlL,EAAQgpC,IAAOL,EAAKK,GAAMt5B,EAAI1P,MAAQA,EAAQ2oC,GACpFmzC,GAAapsE,EAAKzE,EAAI+9B,EAAIhpC,EAAQiL,IAAOC,EAAKD,GAAMyE,EAAI1P,MAAQA,EAAQkL,EAAIy9B,GACjF3oC,GAAS0P,EAAI1P,KACf,MAEA6X,EAAOkmE,UAAY37B,EAAO45B,GAAcC,EAAOpkE,EAAQ5M,EAAI+9B,EAAI99B,EAAIy9B,GACnEyZ,EAAK65B,MAAQA,CAEjB,CAMA,OAJA6B,EAAW7B,MAAQ,SAAS58E,GAC1B,OAAO6mD,GAAQ7mD,GAAKA,GAAK,EAAIA,EAAI,EACnC,EAEOy+E,CACT,CA/Be,CA+BZ/B,I,MCnCY,SAAAiC,GAASzvE,GACtB,IAAIhM,EAAIgM,EAAMrQ,OACd,OAAO,SAAS6E,GACd,OAAOwL,EAAM3N,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAIL,EAAI,EAAG3B,KAAKC,MAAMkC,EAAIR,KAC1D,CACF,CCHe,SAAA07E,GAASt/E,EAAGC,GACzB,IAAIX,EAAImzB,IAAKzyB,GAAIC,GACjB,OAAO,SAASmE,GACd,IAAI1D,EAAIpB,EAAE8E,GACV,OAAO1D,EAAI,IAAMuB,KAAKC,MAAMxB,EAAI,IAClC,CACF,CCRe,SAAA6+E,GAASv/E,EAAGC,GACzB,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAASmE,GAC9B,OAAOnC,KAAKkJ,MAAMnL,GAAK,EAAIoE,GAAKnE,EAAImE,EACtC,CACF,C,k7BCFA,SAASo7E,GAAK9+E,GACZ,QAASA,EAAIuB,KAAK0L,IAAIjN,IAAM,EAAIA,GAAK,CACvC,C,IAUA++E,GAAe,SAAUC,EAAQC,EAAKC,EAAMC,GAI1C,SAASC,EAAK/kC,EAAIG,GAChB,IAKI57C,EACAsD,EANAm9E,EAAMhlC,EAAG,GAAIilC,EAAMjlC,EAAG,GAAIjW,EAAKiW,EAAG,GAClCklC,EAAM/kC,EAAG,GAAIglC,EAAMhlC,EAAG,GAAInW,EAAKmW,EAAG,GAClCpV,EAAKm6C,EAAMF,EACXh6C,EAAKm6C,EAAMF,EACX9vB,EAAKpqB,EAAKA,EAAKC,EAAKA,EAKxB,GAAImqB,EA5BO,MA6BTttD,EAAIX,KAAK6J,IAAIi5B,EAAKD,GAAM66C,EACxBrgF,EAAI,SAAS8E,GACX,MAAO,CACL27E,EAAM37E,EAAI0hC,EACVk6C,EAAM57E,EAAI2hC,EACVjB,EAAK7iC,KAAK0L,IAAIgyE,EAAMv7E,EAAIxB,GAE5B,MAIG,CACH,IAAIu2E,EAAKl3E,KAAK8D,KAAKmqD,GACfrV,GAAM9V,EAAKA,EAAKD,EAAKA,EAAK+6C,EAAO3vB,IAAO,EAAIprB,EAAK86C,EAAOzG,GACxD/S,GAAMrhC,EAAKA,EAAKD,EAAKA,EAAK+6C,EAAO3vB,IAAO,EAAInrB,EAAK66C,EAAOzG,GACxDxH,EAAK1vE,KAAK6J,IAAI7J,KAAK8D,KAAK80C,EAAKA,EAAK,GAAKA,GACvC69B,EAAKz2E,KAAK6J,IAAI7J,KAAK8D,KAAKqgE,EAAKA,EAAK,GAAKA,GAC3CxjE,GAAK81E,EAAK/G,GAAMgO,EAChBrgF,EAAI,SAAS8E,GACX,IAtCM1D,EAsCFqD,EAAIK,EAAIxB,EACRu9E,EAASX,GAAK7N,GACd3W,EAAIl2B,GAAM86C,EAAOzG,IAAOgH,GAxCtBz/E,EAwCoCi/E,EAAM57E,EAAI4tE,IAvCjDjxE,EAAIuB,KAAK0L,IAAI,EAAIjN,IAAM,IAAMA,EAAI,IAL5C,SAAcA,GACZ,QAASA,EAAIuB,KAAK0L,IAAIjN,IAAM,EAAIA,GAAK,CACvC,CA0CkE0/E,CAAKzO,IAC/D,MAAO,CACLoO,EAAM/kB,EAAIl1B,EACVk6C,EAAMhlB,EAAIj1B,EACVjB,EAAKq7C,EAASX,GAAKG,EAAM57E,EAAI4tE,GAEjC,CACF,CAIA,OAFAryE,EAAEm6B,SAAe,IAAJ72B,EAAW+8E,EAAM19E,KAAKo+E,MAE5B/gF,CACT,CAOA,OALAwgF,EAAKH,IAAM,SAAS9yE,GAClB,IAAIylC,EAAKrwC,KAAKiC,IAAI,MAAO2I,GAAIyzE,EAAKhuC,EAAKA,EACvC,OAAOotC,EAAQptC,EAAIguC,EAD6BA,EAAKA,EAEvD,EAEOR,CACT,CAxDe,CAwDZ79E,KAAKo+E,MAAO,EAAG,GCnElB,SAASE,GAAIC,GACX,OAAO,SAAS39E,EAAOmwB,GACrB,IAAItvB,EAAI88E,GAAK39E,EAAQkuB,GAASluB,IAAQa,GAAIsvB,EAAMjC,GAASiC,IAAMtvB,GAC3DK,EAAI4uB,GAAM9vB,EAAMkB,EAAGivB,EAAIjvB,GACvB6rB,EAAI+C,GAAM9vB,EAAM+sB,EAAGoD,EAAIpD,GACvBS,EAAUsC,GAAM9vB,EAAMwtB,QAAS2C,EAAI3C,SACvC,OAAO,SAASjsB,GAKd,OAJAvB,EAAMa,EAAIA,EAAEU,GACZvB,EAAMkB,EAAIA,EAAEK,GACZvB,EAAM+sB,EAAIA,EAAExrB,GACZvB,EAAMwtB,QAAUA,EAAQjsB,GACjBvB,EAAQ,EACjB,CACF,CACF,C,IAEA49E,GAAeF,GAAI9tD,IACRiuD,GAAUH,GAAI5tD,ICjBV,SAAAguD,GAAa99E,EAAOmwB,GACjC,IAAIpD,EAAI+C,IAAO9vB,EAAQ0rC,GAAS1rC,IAAQ+sB,GAAIoD,EAAMub,GAASvb,IAAMpD,GAC7D5vB,EAAI2yB,GAAM9vB,EAAM7C,EAAGgzB,EAAIhzB,GACvBC,EAAI0yB,GAAM9vB,EAAM5C,EAAG+yB,EAAI/yB,GACvBowB,EAAUsC,GAAM9vB,EAAMwtB,QAAS2C,EAAI3C,SACvC,OAAO,SAASjsB,GAKd,OAJAvB,EAAM+sB,EAAIA,EAAExrB,GACZvB,EAAM7C,EAAIA,EAAEoE,GACZvB,EAAM5C,EAAIA,EAAEmE,GACZvB,EAAMwtB,QAAUA,EAAQjsB,GACjBvB,EAAQ,EACjB,CACF,CCZA,SAAS+9E,GAAIJ,GACX,OAAO,SAAS39E,EAAOmwB,GACrB,IAAItvB,EAAI88E,GAAK39E,EAAQ+rC,GAAS/rC,IAAQa,GAAIsvB,EAAM4b,GAAS5b,IAAMtvB,GAC3DgG,EAAIipB,GAAM9vB,EAAM6G,EAAGspB,EAAItpB,GACvBkmB,EAAI+C,GAAM9vB,EAAM+sB,EAAGoD,EAAIpD,GACvBS,EAAUsC,GAAM9vB,EAAMwtB,QAAS2C,EAAI3C,SACvC,OAAO,SAASjsB,GAKd,OAJAvB,EAAMa,EAAIA,EAAEU,GACZvB,EAAM6G,EAAIA,EAAEtF,GACZvB,EAAM+sB,EAAIA,EAAExrB,GACZvB,EAAMwtB,QAAUA,EAAQjsB,GACjBvB,EAAQ,EACjB,CACF,CACF,C,IAEAg+E,GAAeD,GAAInuD,IACRquD,GAAUF,GAAIjuD,ICjBzB,SAASouD,GAAUP,GACjB,OAAO,SAAUQ,EAAer9E,GAG9B,SAASs9E,EAAUp+E,EAAOmwB,GACxB,IAAItvB,EAAI88E,GAAK39E,EAAQwsC,GAAexsC,IAAQa,GAAIsvB,EAAMqc,GAAerc,IAAMtvB,GACvEK,EAAI4uB,GAAM9vB,EAAMkB,EAAGivB,EAAIjvB,GACvB6rB,EAAI+C,GAAM9vB,EAAM+sB,EAAGoD,EAAIpD,GACvBS,EAAUsC,GAAM9vB,EAAMwtB,QAAS2C,EAAI3C,SACvC,OAAO,SAASjsB,GAKd,OAJAvB,EAAMa,EAAIA,EAAEU,GACZvB,EAAMkB,EAAIA,EAAEK,GACZvB,EAAM+sB,EAAIA,EAAE3tB,KAAK6I,IAAI1G,EAAGT,IACxBd,EAAMwtB,QAAUA,EAAQjsB,GACjBvB,EAAQ,EACjB,CACF,CAIA,OAlBAc,GAAKA,EAgBLs9E,EAAUhuD,MAAQ+tD,EAEXC,CACT,CApBO,CAoBJ,EACL,C,IAEAC,GAAeH,GAAUtuD,IACd0uD,GAAgBJ,GAAUpuD,IC1BtB,SAAAyuD,GAAmB5kD,EAAat7B,QAC9BE,IAAXF,IAAsBA,EAASs7B,EAAaA,EAAcxI,IAE9D,IADA,IAAI10B,EAAI,EAAGsE,EAAI1C,EAAO3B,OAAS,EAAGoG,EAAIzE,EAAO,GAAI+jD,EAAI,IAAIpgD,MAAMjB,EAAI,EAAI,EAAIA,GACpEtE,EAAIsE,GAAGqhD,EAAE3lD,GAAKk9B,EAAY72B,EAAGA,EAAIzE,IAAS5B,IACjD,OAAO,SAAS8E,GACd,IAAI9E,EAAI2C,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAIL,EAAI,EAAG3B,KAAKC,MAAMkC,GAAKR,KACpD,OAAOqhD,EAAE3lD,GAAG8E,EAAI9E,EAClB,CACF,CCVe,SAAA+hF,GAASC,EAAc19E,GAEpC,IADA,IAAI29E,EAAU,IAAI18E,MAAMjB,GACftE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGiiF,EAAQjiF,GAAKgiF,EAAahiF,GAAKsE,EAAI,IAC/D,OAAO29E,CACT,C,2FCJe,SAAAC,GAASzvC,GAOtB,IANA,IAEI/xC,EAFAV,GAAI,EACJsE,EAAImuC,EAAQxyC,OAEZU,EAAI8xC,EAAQnuC,EAAI,GAChBmsC,EAAO,IAEFzwC,EAAIsE,GACX5D,EAAIC,EACJA,EAAI8xC,EAAQzyC,GACZywC,GAAQ/vC,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAGjC,OAAO8vC,EAAO,CAChB,CCde,SAAA0xC,GAAS1vC,GAUtB,IATA,IAII/xC,EAEA0J,EANApK,GAAI,EACJsE,EAAImuC,EAAQxyC,OACZmB,EAAI,EACJiD,EAAI,EAEJ1D,EAAI8xC,EAAQnuC,EAAI,GAEhB4J,EAAI,IAEClO,EAAIsE,GACX5D,EAAIC,EACJA,EAAI8xC,EAAQzyC,GACZkO,GAAK9D,EAAI1J,EAAE,GAAKC,EAAE,GAAKA,EAAE,GAAKD,EAAE,GAChCU,IAAMV,EAAE,GAAKC,EAAE,IAAMyJ,EACrB/F,IAAM3D,EAAE,GAAKC,EAAE,IAAMyJ,EAGvB,MAAe,CAAChJ,GAAT8M,GAAK,GAAW7J,EAAI6J,EAC7B,CCjBA,SAASk0E,GAAmB1hF,EAAGC,GAC7B,OAAOD,EAAE,GAAKC,EAAE,IAAMD,EAAE,GAAKC,EAAE,EACjC,CAKA,SAAS0hF,GAAwBz7C,GAC/B,MAAMtiC,EAAIsiC,EAAO3mC,OACbqiF,EAAU,CAAC,EAAG,GAClB,IAActiF,EAAVyjB,EAAO,EAEX,IAAKzjB,EAAI,EAAGA,EAAIsE,IAAKtE,EAAG,CACtB,KAAOyjB,EAAO,ICXM/iB,EDWKkmC,EAAO07C,EAAQ7+D,EAAO,ICXxB9iB,EDW6BimC,EAAO07C,EAAQ7+D,EAAO,ICXhDrZ,EDWqDw8B,EAAO5mC,ICVhFW,EAAE,GAAKD,EAAE,KAAO0J,EAAE,GAAK1J,EAAE,KAAOC,EAAE,GAAKD,EAAE,KAAO0J,EAAE,GAAK1J,EAAE,KDU8B,MAAK+iB,EAClG6+D,EAAQ7+D,KAAUzjB,CACpB,CCba,IAASU,EAAGC,EAAGyJ,EDe5B,OAAOk4E,EAAQt/E,MAAM,EAAGygB,EAC1B,CAEe,SAAA8+D,GAAS37C,GACtB,IAAKtiC,EAAIsiC,EAAO3mC,QAAU,EAAG,OAAO,KAEpC,IAAID,EACAsE,EACAk+E,EAAe,IAAIj9E,MAAMjB,GACzBm+E,EAAgB,IAAIl9E,MAAMjB,GAE9B,IAAKtE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGwiF,EAAaxiF,GAAK,EAAE4mC,EAAO5mC,GAAG,IAAK4mC,EAAO5mC,GAAG,GAAIA,GAEzE,IADAwiF,EAAar4E,KAAKi4E,IACbpiF,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGyiF,EAAcziF,GAAK,CAACwiF,EAAaxiF,GAAG,IAAKwiF,EAAaxiF,GAAG,IAEjF,IAAI0iF,EAAeL,GAAwBG,GACvCG,EAAeN,GAAwBI,GAGvCG,EAAWD,EAAa,KAAOD,EAAa,GAC5CG,EAAYF,EAAaA,EAAa1iF,OAAS,KAAOyiF,EAAaA,EAAaziF,OAAS,GACzFk6C,EAAO,GAIX,IAAKn6C,EAAI0iF,EAAaziF,OAAS,EAAGD,GAAK,IAAKA,EAAGm6C,EAAKj0C,KAAK0gC,EAAO47C,EAAaE,EAAa1iF,IAAI,KAC9F,IAAKA,GAAK4iF,EAAU5iF,EAAI2iF,EAAa1iF,OAAS4iF,IAAa7iF,EAAGm6C,EAAKj0C,KAAK0gC,EAAO47C,EAAaG,EAAa3iF,IAAI,KAE7G,OAAOm6C,CACT,CEhDe,SAAA2oC,GAASrwC,EAASxc,GAQ/B,IAPA,IAIIhpB,EAAIy9B,EAJJpmC,EAAImuC,EAAQxyC,OACZgH,EAAIwrC,EAAQnuC,EAAI,GAChBlD,EAAI60B,EAAM,GAAI5xB,EAAI4xB,EAAM,GACxBjpB,EAAK/F,EAAE,GAAI8jC,EAAK9jC,EAAE,GAElB87E,GAAS,EAEJ/iF,EAAI,EAAGA,EAAIsE,IAAKtE,EACPiN,GAAhBhG,EAAIwrC,EAAQzyC,IAAW,IAAI0qC,EAAKzjC,EAAE,IACvB5C,GAAQ0mC,EAAK1mC,GAAQjD,GAAK4L,EAAKC,IAAO5I,EAAIqmC,IAAOK,EAAKL,GAAMz9B,IAAK81E,GAAUA,GACtF/1E,EAAKC,EAAI89B,EAAKL,EAGhB,OAAOq4C,CACT,CCfe,SAAAC,GAASvwC,GAUtB,IATA,IAGI7W,EACAC,EAJA77B,GAAI,EACJsE,EAAImuC,EAAQxyC,OACZU,EAAI8xC,EAAQnuC,EAAI,GAGhBw3B,EAAKn7B,EAAE,GACPo7B,EAAKp7B,EAAE,GACPsiF,EAAY,IAEPjjF,EAAIsE,GACXs3B,EAAKE,EACLD,EAAKE,EAILH,GAFAE,GADAn7B,EAAI8xC,EAAQzyC,IACL,GAGP67B,GAFAE,EAAKp7B,EAAE,GAGPsiF,GAAatgF,KAAK4+C,MAAM3lB,EAAIC,GAG9B,OAAOonD,CACT,C,mvBCtBA,IAAAC,GAAevgF,KAAKwO,OCEpBgyE,GAAe,SAAUC,EAAoBx5E,GAC3C,SAASy5E,EAAc1+E,EAAKC,GAK1B,OAJAD,EAAa,MAAPA,EAAc,GAAKA,EACzBC,EAAa,MAAPA,EAAc,GAAKA,EACA,IAArB4I,UAAUvN,QAAc2E,EAAMD,EAAKA,EAAM,GACxCC,GAAOD,EACL,WACL,OAAOiF,IAAWhF,EAAMD,CAC1B,CACF,CAIA,OAFA0+E,EAAcz5E,OAASw5E,EAEhBC,CACT,CAde,CAcZH,ICdHI,GAAe,SAAUC,EAAgB35E,GACvC,SAAS45E,EAAU7+E,EAAKC,GAItB,OAHI4I,UAAUvN,OAAS,IAAG2E,EAAMD,EAAKA,EAAM,GAC3CA,EAAMhC,KAAKC,MAAM+B,GACjBC,EAAMjC,KAAKC,MAAMgC,GAAOD,EACjB,WACL,OAAOhC,KAAKC,MAAMgH,IAAWhF,EAAMD,EACrC,CACF,CAIA,OAFA6+E,EAAU55E,OAAS25E,EAEZC,CACT,CAbe,CAaZN,ICbHO,GAAe,SAAUC,EAAmB95E,GAC1C,SAAS+5E,EAAaC,EAAIC,GACxB,IAAIziF,EAAGqB,EAGP,OAFAmhF,EAAW,MAANA,EAAa,GAAKA,EACvBC,EAAiB,MAATA,EAAgB,GAAKA,EACtB,WACL,IAAIx/E,EAGJ,GAAS,MAALjD,EAAWiD,EAAIjD,EAAGA,EAAI,UAGrB,GACHA,EAAe,EAAXwI,IAAe,EACnBvF,EAAe,EAAXuF,IAAe,EACnBnH,EAAIrB,EAAIA,EAAIiD,EAAIA,SACR5B,GAAKA,EAAI,GAEnB,OAAOmhF,EAAKC,EAAQx/E,EAAI1B,KAAK8D,MAAK,EAAK9D,KAAK6J,IAAI/J,GAAKA,EACvD,CACF,CAIA,OAFAkhF,EAAa/5E,OAAS85E,EAEfC,CACT,CAzBe,CAyBZT,ICxBHY,GAAe,SAAUC,EAAsBn6E,GAC7C,IAAI08B,EAAIm9C,GAAO75E,OAAOA,GAEtB,SAASo6E,IACP,IAAIL,EAAer9C,EAAErxB,MAAMpO,KAAM2G,WACjC,OAAO,WACL,OAAO7K,KAAK0L,IAAIs1E,IAClB,CACF,CAIA,OAFAK,EAAgBp6E,OAASm6E,EAElBC,CACT,CAbe,CAaZd,ICdHe,GAAe,SAAUC,EAAsBt6E,GAC7C,SAASu6E,EAAgB7/E,GACvB,OAAKA,GAAKA,IAAM,EAAU,IAAM,EACzB,WACL,IAAK,IAAIE,EAAM,EAAGxE,EAAIsE,EAAGtE,EAAI,IAAKA,EAAGwE,GAAOoF,IAC5C,OAAOpF,EAAMxE,EAAI4J,GACnB,CACF,CAIA,OAFAu6E,EAAgBv6E,OAASs6E,EAElBC,CACT,CAZe,CAYZjB,ICXHkB,GAAe,SAAUC,EAAkBz6E,GACzC,IAAI+7C,EAAIs+B,GAAUr6E,OAAOA,GAEzB,SAAS06E,EAAYhgF,GAEnB,GAAiB,IAAZA,GAAKA,GAAU,OAAOsF,EAC3B,IAAIu6E,EAAkBx+B,EAAErhD,GACxB,OAAO,WACL,OAAO6/E,IAAoB7/E,CAC7B,CACF,CAIA,OAFAggF,EAAY16E,OAASy6E,EAEdC,CACT,CAfe,CAeZpB,IChBHqB,GAAe,SAAUC,EAAwB56E,GAC/C,SAAS66E,EAAkBtpB,GACzB,OAAO,WACL,OAAQx4D,KAAK+hF,OAAO96E,KAAYuxD,CAClC,CACF,CAIA,OAFAspB,EAAkB76E,OAAS46E,EAEpBC,CACT,CAVe,CAUZvB,ICVHyB,GAAe,SAAUC,EAAmBh7E,GAC1C,SAASi7E,EAAav0B,GACpB,IAAKA,GAASA,GAAS,EAAG,MAAM,IAAI5tD,WAAW,iBAE/C,OADA4tD,EAAQ,GAAKA,EACN,WACL,OAAO3tD,KAAK6I,IAAI,EAAI5B,IAAU0mD,EAChC,CACF,CAIA,OAFAu0B,EAAaj7E,OAASg7E,EAEfC,CACT,CAZe,CAYZ3B,ICZH4B,GAAe,SAAUC,EAAsBn7E,GAC7C,SAASo7E,EAAgB/9E,GACvB,IAAKA,GAAKA,GAAK,GAAKA,EAAI,EAAG,MAAM,IAAIvE,WAAW,aAChD,OAAO,WACL,OAAOC,KAAKC,MAAMgH,IAAW3C,EAC/B,CACF,CAIA,OAFA+9E,EAAgBp7E,OAASm7E,EAElBC,CACT,CAXe,CAWZ9B,ICXH+B,GAAe,SAAUC,EAAsBt7E,GAC7C,SAASu7E,EAAgBl+E,GACvB,IAAKA,GAAKA,GAAK,GAAKA,EAAI,EAAG,MAAM,IAAIvE,WAAW,aAChD,OAAU,IAANuE,EAAgB,IAAMkH,IAChB,IAANlH,EAAgB,IAAM,GAC1BA,EAAItE,KAAK+hF,OAAOz9E,GACT,WACL,OAAO,EAAItE,KAAKC,MAAMD,KAAK+hF,OAAO96E,KAAY3C,EAChD,EACF,CAIA,OAFAk+E,EAAgBv7E,OAASs7E,EAElBC,CACT,CAde,CAcZjC,ICbHkC,GAAe,SAAUC,EAAkBz7E,GACzC,IAAI+5E,EAAeF,GAAO75E,OAAOA,EAAd,GAEnB,SAAS07E,EAAYp3E,EAAGykD,GACtB,IAAKzkD,GAAKA,GAAK,EAAG,MAAM,IAAIxL,WAAW,aAEvC,GAAU,IAANwL,EAAS,MAAO,IAAM,EAG1B,GAFAykD,EAAiB,MAATA,EAAgB,GAAKA,EAEnB,IAANzkD,EAAS,MAAO,KAAOvL,KAAK+hF,OAAO96E,KAAY+oD,EAEnD,IAAInxD,GAAK0M,EAAI,EAAIA,EAAI,EAAIA,GAAK,EAAI,EAC9B9D,EAAI,GAAK,EAAIzH,KAAK8D,KAAKjF,IACvB+jF,EAAar3E,EAAI,EAAI,IAAMvL,KAAK6I,IAAI5B,IAAU,EAAIsE,GAAK,IAAM,EACjE,OAAO,WACL,EAAG,CACD,GACE,IAAI9M,EAAIuiF,IACJt9E,EAAI,EAAI+D,EAAIhJ,QACTiF,GAAK,GACdA,GAAKA,EAAIA,EACT,IAAIq1D,EAAI,EAAI9xD,GACd,OAAS8xD,GAAK,EAAI,MAASt6D,EAAIA,EAAIA,EAAIA,GAAKuB,KAAK6J,IAAIkvD,IAAM,GAAMt6D,EAAIA,EAAII,GAAK,EAAI6E,EAAI1D,KAAK6J,IAAInG,KAC/F,OAAO7E,EAAI6E,EAAIk/E,IAAe5yB,CAChC,CACF,CAIA,OAFA2yB,EAAY17E,OAASy7E,EAEdC,CACT,CA9Be,CA8BZpC,IC9BHsC,GAAe,SAAUC,EAAiB77E,GACxC,IAAI87E,EAAIN,GAAMx7E,OAAOA,GAErB,SAAS+7E,EAAWr1B,EAAO+tB,GACzB,IAAI/pB,EAAIoxB,EAAEp1B,GACNyY,EAAI2c,EAAErH,GACV,OAAO,WACL,IAAIj9E,EAAIkzD,IACR,OAAa,IAANlzD,EAAU,EAAIA,GAAKA,EAAI2nE,IAChC,CACF,CAIA,OAFA4c,EAAW/7E,OAAS67E,EAEbE,CACT,CAfe,CAeZzC,ICdH0C,GAAe,SAAUC,EAAqBj8E,GAC5C,IAAI87E,EAAIT,GAAUr7E,OAAOA,GACrBogE,EAAIwb,GAAK57E,OAAOA,GAEpB,SAASk8E,EAAexhF,EAAG2C,GAEzB,OADA3C,GAAKA,GACA2C,GAAKA,IAAM,EAAU,IAAM3C,EAC5B2C,GAAK,EAAU,IAAM,EAClB,WAEL,IADA,IAAI8+E,EAAM,EAAGC,EAAK1hF,EAAG2hF,EAAKh/E,EACnB++E,EAAKC,EAAK,IAAMD,GAAM,EAAIC,GAAM,IAAI,CACzC,IAAIjmF,EAAI2C,KAAKC,OAAOojF,EAAK,GAAKC,GAC1B5hF,EAAI2lE,EAAEhqE,EAAGgmF,EAAKhmF,EAAI,EAAdgqE,GACJ3lE,GAAK4hF,GACPF,GAAO/lF,EACPgmF,GAAMhmF,EACNimF,GAAMA,EAAK5hF,IAAM,EAAIA,KAErB2hF,EAAKhmF,EAAI,EACTimF,GAAM5hF,EAEV,CAIA,IAHA,IAAI4uC,EAAOgzC,EAAK,GAEZj9E,EAAI08E,EADKzyC,EAAOgzC,EAAK,EAAIA,GAEpBxhF,EAAIuE,IAAKkF,EAAI,EAAGzJ,GAAKuhF,IAAM93E,EAAGzJ,GAAKuE,IAC5C,OAAO+8E,GAAO9yC,EAAO/kC,EAAI83E,EAAK93E,EAChC,CACF,CAIA,OAFA43E,EAAel8E,OAASi8E,EAEjBC,CACT,CAjCe,CAiCZ5C,ICnCHgD,GAAe,SAAUC,EAAoBv8E,GAC3C,SAASw8E,EAAcl4E,EAAGxN,EAAGC,GAC3B,IAAI0lF,EASJ,OARiB,IAAZn4E,GAAKA,GACRm4E,EAAYjlF,IAAMuB,KAAK6J,IAAIpL,IAE3B8M,EAAI,EAAIA,EACRm4E,EAAYjlF,GAAKuB,KAAK6I,IAAIpK,EAAG8M,IAE/BxN,EAAS,MAALA,EAAY,GAAKA,EACrBC,EAAS,MAALA,EAAY,GAAKA,EACd,WACL,OAAOD,EAAIC,EAAI0lF,GAAW1jF,KAAK+hF,OAAO96E,KACxC,CACF,CAIA,OAFAw8E,EAAcx8E,OAASu8E,EAEhBC,CACT,CAnBe,CAmBZlD,ICnBHoD,GAAe,SAAUC,EAAmB38E,GAC1C,SAAS48E,EAAa9lF,EAAGC,GAGvB,OAFAD,EAAS,MAALA,EAAY,GAAKA,EACrBC,EAAS,MAALA,EAAY,GAAKA,EACd,WACL,OAAOD,EAAIC,EAAIgC,KAAK0sB,IAAI1sB,KAAKk4B,GAAKjxB,IACpC,CACF,CAIA,OAFA48E,EAAa58E,OAAS28E,EAEfC,CACT,CAZe,CAYZtD,ICZHuD,GAAe,SAAUC,EAAqB98E,GAC5C,SAAS+8E,EAAejmF,EAAGC,GAGzB,OAFAD,EAAS,MAALA,EAAY,GAAKA,EACrBC,EAAS,MAALA,EAAY,GAAKA,EACd,WACL,IAAI+6D,EAAI9xD,IACR,OAAOlJ,EAAIC,EAAIgC,KAAK6J,IAAIkvD,GAAK,EAAIA,GACnC,CACF,CAIA,OAFAirB,EAAe/8E,OAAS88E,EAEjBC,CACT,CAbe,CAaZzD,ICXH0D,GAAe,SAAUC,EAAoBj9E,GAC3C,IAAI87E,EAAIN,GAAMx7E,OAAOA,GACjBogE,EAAI4b,GAASh8E,OAAOA,GAExB,SAASk9E,EAAc3rB,GACrB,OAAO,WAEL,IADA,IAAI4qB,EAAM,EAAGz1D,EAAI6qC,EACV7qC,EAAI,IAAI,CACb,IAAIhsB,EAAI3B,KAAKC,MAAM,KAAQ0tB,GACvBxrB,EAAI4gF,EAAEphF,EAAFohF,GACR,GAAI5gF,EAAIwrB,EAAG,OAAOy1D,EAAM/b,EAAE1lE,EAAI,EAAGgsB,EAAIxrB,EAAbklE,GACxB+b,GAAOzhF,EACPgsB,GAAKxrB,CACP,CACA,IAAK,IAAIL,GAAK9B,KAAK+hF,OAAO96E,KAAWsE,EAAI,EAAGzJ,GAAK6rB,IAAKpiB,EAAGzJ,GAAK9B,KAAK+hF,OAAO96E,KAC1E,OAAOm8E,EAAM73E,CACf,CACF,CAIA,OAFA44E,EAAcl9E,OAASi9E,EAEhBC,CACT,CAtBe,CAsBZ5D,ICzBH,MAAM6D,GAAM,QACNC,GAAM,WACNC,GAAM,EAAI,WAED,SAAAC,GAAaC,EAAOxkF,KAAKwO,UACtC,IAAI8oB,EAAgE,GAAvD,GAAKktD,GAAQA,EAAO,EAAIA,EAAOF,GAAMtkF,KAAKuE,IAAIigF,IAC3D,MAAO,KAAOltD,EAAQ8sD,GAAM9sD,EAAQ+sD,GAAM,EAAGC,IAAOhtD,IAAU,GAChE,C,UCRO,SAASmtD,GAAUz6E,EAAQ2D,GAChC,OAAQ9C,UAAUvN,QAChB,KAAK,EAAG,MACR,KAAK,EAAG4G,KAAKyJ,MAAM3D,GAAS,MAC5B,QAAS9F,KAAKyJ,MAAMA,GAAO3D,OAAOA,GAEpC,OAAO9F,IACT,CAEO,SAASwgF,GAAiB16E,EAAQq1E,GACvC,OAAQx0E,UAAUvN,QAChB,KAAK,EAAG,MACR,KAAK,EACmB,mBAAX0M,EAAuB9F,KAAKm7E,aAAar1E,GAC/C9F,KAAKyJ,MAAM3D,GAChB,MAEF,QACE9F,KAAK8F,OAAOA,GACgB,mBAAjBq1E,EAA6Bn7E,KAAKm7E,aAAaA,GACrDn7E,KAAKyJ,MAAM0xE,GAIpB,OAAOn7E,IACT,C,s3BCtBO,MAAMygF,GAAWv9E,OAAO,YAEhB,SAAAw9E,KACb,IAAIvlF,EAAQ,IAAIuF,EACZoF,EAAS,GACT2D,EAAQ,GACRk3E,EAAUF,GAEd,SAASxzE,EAAMtS,GACb,IAAIxB,EAAIgC,EAAMiG,IAAIzG,GAClB,QAAUM,IAAN9B,EAAiB,CACnB,GAAIwnF,IAAYF,GAAU,OAAOE,EACjCxlF,EAAMgG,IAAIxG,EAAGxB,EAAI2M,EAAOzG,KAAK1E,GAAK,EACpC,CACA,OAAO8O,EAAMtQ,EAAIsQ,EAAMrQ,OACzB,CA0BA,OAxBA6T,EAAMnH,OAAS,SAASY,GACtB,IAAKC,UAAUvN,OAAQ,OAAO0M,EAAO3J,QACrC2J,EAAS,GAAI3K,EAAQ,IAAIuF,EACzB,IAAK,MAAMxF,KAASwL,EACdvL,EAAMmG,IAAIpG,IACdC,EAAMgG,IAAIjG,EAAO4K,EAAOzG,KAAKnE,GAAS,GAExC,OAAO+R,CACT,EAEAA,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,QAAUqQ,EAAQ/K,MAAMC,KAAK+H,GAAIuG,GAASxD,EAAMtN,OACnE,EAEA8Q,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEA1zE,EAAMyB,KAAO,WACX,OAAOgyE,GAAQ56E,EAAQ2D,GAAOk3E,QAAQA,EACxC,EAEAJ,GAAUnyE,MAAMnB,EAAOtG,WAEhBsG,CACT,CCzCe,SAAA2zE,KACb,IAKIhkF,EACAwQ,EANAH,EAAQyzE,KAAUC,aAAQ1lF,GAC1B6K,EAASmH,EAAMnH,OACf+6E,EAAe5zE,EAAMxD,MACrB+hE,EAAK,EACL+G,EAAK,EAGLvtE,GAAQ,EACR+yE,EAAe,EACfM,EAAe,EACfvrB,EAAQ,GAIZ,SAASg0B,IACP,IAAIrjF,EAAIqI,IAAS1M,OACb8L,EAAUqtE,EAAK/G,EACf9uE,EAAQwI,EAAUqtE,EAAK/G,EACvB7uE,EAAOuI,EAAUsmE,EAAK+G,EAC1B31E,GAAQD,EAAOD,GAASZ,KAAKiC,IAAI,EAAGN,EAAIs6E,EAA8B,EAAfM,GACnDrzE,IAAOpI,EAAOd,KAAKC,MAAMa,IAC7BF,IAAUC,EAAOD,EAAQE,GAAQa,EAAIs6E,IAAiBjrB,EACtD1/C,EAAYxQ,GAAQ,EAAIm7E,GACpB/yE,IAAOtI,EAAQZ,KAAKkJ,MAAMtI,GAAQ0Q,EAAYtR,KAAKkJ,MAAMoI,IAC7D,IAAIrS,EAASyO,GAAS/L,GAAGwB,KAAI,SAAS9F,GAAK,OAAOuD,EAAQE,EAAOzD,CAAG,IACpE,OAAO0nF,EAAa37E,EAAUnK,EAAOmK,UAAYnK,EACnD,CAkDA,cAhEOkS,EAAM0zE,QAgBb1zE,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,QAAU0M,EAAOY,GAAIo6E,KAAah7E,GACrD,EAEAmH,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,SAAWoyE,EAAI+G,GAAM7rE,EAAG8kE,GAAMA,EAAI+G,GAAMA,EAAIuO,KAAa,CAACtV,EAAI+G,EACjF,EAEAtlE,EAAM8zE,WAAa,SAASr6E,GAC1B,OAAQ8kE,EAAI+G,GAAM7rE,EAAG8kE,GAAMA,EAAI+G,GAAMA,EAAIvtE,GAAQ,EAAM87E,GACzD,EAEA7zE,EAAMG,UAAY,WAChB,OAAOA,CACT,EAEAH,EAAMrQ,KAAO,WACX,OAAOA,CACT,EAEAqQ,EAAMjI,MAAQ,SAAS0B,GACrB,OAAOC,UAAUvN,QAAU4L,IAAU0B,EAAGo6E,KAAa97E,CACvD,EAEAiI,EAAMoiD,QAAU,SAAS3oD,GACvB,OAAOC,UAAUvN,QAAU2+E,EAAej8E,KAAKgC,IAAI,EAAGu6E,GAAgB3xE,GAAIo6E,KAAa/I,CACzF,EAEA9qE,EAAM8qE,aAAe,SAASrxE,GAC5B,OAAOC,UAAUvN,QAAU2+E,EAAej8E,KAAKgC,IAAI,EAAG4I,GAAIo6E,KAAa/I,CACzE,EAEA9qE,EAAMorE,aAAe,SAAS3xE,GAC5B,OAAOC,UAAUvN,QAAUi/E,GAAgB3xE,EAAGo6E,KAAazI,CAC7D,EAEAprE,EAAM6/C,MAAQ,SAASpmD,GACrB,OAAOC,UAAUvN,QAAU0zD,EAAQhxD,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAG4I,IAAKo6E,KAAah0B,CAC/E,EAEA7/C,EAAMyB,KAAO,WACX,OAAOkyE,GAAK96E,IAAU,CAAC0lE,EAAI+G,IACtBvtE,MAAMA,GACN+yE,aAAaA,GACbM,aAAaA,GACbvrB,MAAMA,EACb,EAEOyzB,GAAUnyE,MAAM0yE,IAAWn6E,UACpC,CAEA,SAASq6E,GAAS/zE,GAChB,IAAIyB,EAAOzB,EAAMyB,KAUjB,OARAzB,EAAMoiD,QAAUpiD,EAAMorE,oBACfprE,EAAM8qE,oBACN9qE,EAAMorE,aAEbprE,EAAMyB,KAAO,WACX,OAAOsyE,GAAStyE,IAClB,EAEOzB,CACT,CAEO,SAASg0E,KACd,OAAOD,GAASJ,GAAKxyE,MAAM,KAAMzH,WAAWoxE,aAAa,GAC3D,CCpGe,SAAAmJ,GAAgB3mF,GAC7B,OAAQA,CACV,CCGA,IAAI4mF,GAAO,CAAC,EAAG,GAER,SAASC,GAAS7mF,GACvB,OAAOA,CACT,CAEA,SAAS8mF,GAAUxnF,EAAGC,GACpB,OAAQA,GAAMD,GAAKA,GACb,SAASU,GAAK,OAAQA,EAAIV,GAAKC,CAAG,GCbRS,EDcjByN,MAAMlO,GAAKC,IAAM,GCbzB,WACL,OAAOQ,CACT,GAHa,IAAmBA,CDelC,CAUA,SAAS+mF,GAAMx7E,EAAQ2D,EAAO4sB,GAC5B,IAAIkd,EAAKztC,EAAO,GAAIktE,EAAKltE,EAAO,GAAI0lE,EAAK/hE,EAAM,GAAI8oE,EAAK9oE,EAAM,GAG9D,OAFIupE,EAAKz/B,GAAIA,EAAK8tC,GAAUrO,EAAIz/B,GAAKi4B,EAAKn1C,EAAYk8C,EAAI/G,KACrDj4B,EAAK8tC,GAAU9tC,EAAIy/B,GAAKxH,EAAKn1C,EAAYm1C,EAAI+G,IAC3C,SAASh4E,GAAK,OAAOixE,EAAGj4B,EAAGh5C,GAAK,CACzC,CAEA,SAASgnF,GAAQz7E,EAAQ2D,EAAO4sB,GAC9B,IAAIx4B,EAAI/B,KAAKgC,IAAIgI,EAAO1M,OAAQqQ,EAAMrQ,QAAU,EAC5CuB,EAAI,IAAI+D,MAAMb,GACdjC,EAAI,IAAI8C,MAAMb,GACd1E,GAAI,EAQR,IALI2M,EAAOjI,GAAKiI,EAAO,KACrBA,EAASA,EAAO3J,QAAQ+I,UACxBuE,EAAQA,EAAMtN,QAAQ+I,aAGf/L,EAAI0E,GACXlD,EAAExB,GAAKkoF,GAAUv7E,EAAO3M,GAAI2M,EAAO3M,EAAI,IACvCyC,EAAEzC,GAAKk9B,EAAY5sB,EAAMtQ,GAAIsQ,EAAMtQ,EAAI,IAGzC,OAAO,SAASoB,GACd,IAAIpB,EAAIuC,EAAOoK,EAAQvL,EAAG,EAAGsD,GAAK,EAClC,OAAOjC,EAAEzC,GAAGwB,EAAExB,GAAGoB,GACnB,CACF,CAEO,SAASinF,GAAKz+E,EAAQy3B,GAC3B,OAAOA,EACF10B,OAAO/C,EAAO+C,UACd2D,MAAM1G,EAAO0G,SACb4sB,YAAYtzB,EAAOszB,eACnBlK,MAAMppB,EAAOopB,SACbw0D,QAAQ59E,EAAO49E,UACtB,CAEO,SAASc,KACd,IAGIxzE,EACAyzE,EACAf,EAEAgB,EACAhmD,EACAD,EATA51B,EAASq7E,GACT13E,EAAQ03E,GACR9qD,EAAcxI,GAId1B,EAAQi1D,GAKZ,SAASN,IACP,IA5DajnF,EAAGC,EACdmE,EA2DER,EAAI3B,KAAKgC,IAAIgI,EAAO1M,OAAQqQ,EAAMrQ,QAItC,OAHI+yB,IAAUi1D,KA7DDvnF,EA6D2BiM,EAAO,GA7D/BhM,EA6DmCgM,EAAOrI,EAAI,GA3D5D5D,EAAIC,IAAGmE,EAAIpE,EAAGA,EAAIC,EAAGA,EAAImE,GA2DHkuB,EA1DnB,SAAS5xB,GAAK,OAAOuB,KAAKiC,IAAIlE,EAAGiC,KAAKgC,IAAIhE,EAAGS,GAAK,GA2DvDonF,EAAYlkF,EAAI,EAAI8jF,GAAUD,GAC9B3lD,EAASD,EAAQ,KACVzuB,CACT,CAEA,SAASA,EAAM1S,GACb,OAAY,MAALA,GAAayN,MAAMzN,GAAKA,GAAKomF,GAAWhlD,IAAWA,EAASgmD,EAAU77E,EAAO7G,IAAIgP,GAAYxE,EAAO4sB,KAAepoB,EAAUke,EAAM5xB,IAC5I,CA8BA,OA5BA0S,EAAM8rD,OAAS,SAASv7D,GACtB,OAAO2uB,EAAMu1D,GAAahmD,IAAUA,EAAQimD,EAAUl4E,EAAO3D,EAAO7G,IAAIgP,GAAYggB,MAAqBzwB,IAC3G,EAEAyP,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,QAAU0M,EAASpH,MAAMC,KAAK+H,EAAGw6E,IAASJ,KAAah7E,EAAO3J,OACjF,EAEA8Q,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,QAAUqQ,EAAQ/K,MAAMC,KAAK+H,GAAIo6E,KAAar3E,EAAMtN,OACvE,EAEA8Q,EAAM8zE,WAAa,SAASr6E,GAC1B,OAAO+C,EAAQ/K,MAAMC,KAAK+H,GAAI2vB,EAAc+iD,GAAkB0H,GAChE,EAEA7zE,EAAMkf,MAAQ,SAASzlB,GACrB,OAAOC,UAAUvN,QAAU+yB,IAAQzlB,GAAW06E,GAAUN,KAAa30D,IAAUi1D,EACjF,EAEAn0E,EAAMopB,YAAc,SAAS3vB,GAC3B,OAAOC,UAAUvN,QAAUi9B,EAAc3vB,EAAGo6E,KAAazqD,CAC3D,EAEAppB,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEO,SAAS1iF,EAAG42D,GAEjB,OADA5mD,EAAYhQ,EAAGyjF,EAAc7sB,EACtBisB,GACT,CACF,CAEe,SAAAc,KACb,OAAOH,KAAcL,GAAUA,GACjC,CEzHe,SAAAS,GAAoBnlF,EAAOC,EAAM0B,EAAOuuD,GACrD,IACIM,EADAtwD,EAAOyI,GAAS3I,EAAOC,EAAM0B,GAGjC,QADAuuD,EAAYD,GAA6B,MAAbC,EAAoB,KAAOA,IACrCl8C,MAChB,IAAK,IACH,IAAIxV,EAAQY,KAAKiC,IAAIjC,KAAKuE,IAAI3D,GAAQZ,KAAKuE,IAAI1D,IAE/C,OAD2B,MAAvBiwD,EAAUM,WAAsBllD,MAAMklD,EAAYuC,GAAgB7yD,EAAM1B,MAAS0xD,EAAUM,UAAYA,GACpGY,GAAalB,EAAW1xD,GAEjC,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACwB,MAAvB0xD,EAAUM,WAAsBllD,MAAMklD,EAAYwC,GAAe9yD,EAAMd,KAAKiC,IAAIjC,KAAKuE,IAAI3D,GAAQZ,KAAKuE,IAAI1D,QAAUiwD,EAAUM,UAAYA,GAAgC,MAAnBN,EAAUl8C,OACrK,MAEF,IAAK,IACL,IAAK,IACwB,MAAvBk8C,EAAUM,WAAsBllD,MAAMklD,EAAYsC,GAAe5yD,MAAQgwD,EAAUM,UAAYA,EAAuC,GAAP,MAAnBN,EAAUl8C,OAI9H,OAAOm9C,GAAOjB,EAChB,CCvBO,SAASk1B,GAAU70E,GACxB,IAAInH,EAASmH,EAAMnH,OAkDnB,OAhDAmH,EAAM9H,MAAQ,SAAS9G,GACrB,IAAI1D,EAAImL,IACR,OAAOb,GAAMtK,EAAE,GAAIA,EAAEA,EAAEvB,OAAS,GAAa,MAATiF,EAAgB,GAAKA,EAC3D,EAEA4O,EAAMU,WAAa,SAAStP,EAAOuuD,GACjC,IAAIjyD,EAAImL,IACR,OAAO+7E,GAAWlnF,EAAE,GAAIA,EAAEA,EAAEvB,OAAS,GAAa,MAATiF,EAAgB,GAAKA,EAAOuuD,EACvE,EAEA3/C,EAAM80E,KAAO,SAAS1jF,GACP,MAATA,IAAeA,EAAQ,IAE3B,IAKIkH,EACA3I,EANAjC,EAAImL,IACJmC,EAAK,EACLpD,EAAKlK,EAAEvB,OAAS,EAChBsD,EAAQ/B,EAAEsN,GACVtL,EAAOhC,EAAEkK,GAGTm9E,EAAU,GAOd,IALIrlF,EAAOD,IACTE,EAAOF,EAAOA,EAAQC,EAAMA,EAAOC,EACnCA,EAAOqL,EAAIA,EAAKpD,EAAIA,EAAKjI,GAGpBolF,KAAY,GAAG,CAEpB,IADAplF,EAAOwI,GAAc1I,EAAOC,EAAM0B,MACrBkH,EAGX,OAFA5K,EAAEsN,GAAMvL,EACR/B,EAAEkK,GAAMlI,EACDmJ,EAAOnL,GACT,GAAIiC,EAAO,EAChBF,EAAQZ,KAAKC,MAAMW,EAAQE,GAAQA,EACnCD,EAAOb,KAAK2J,KAAK9I,EAAOC,GAAQA,MAC3B,MAAIA,EAAO,GAIhB,MAHAF,EAAQZ,KAAK2J,KAAK/I,EAAQE,GAAQA,EAClCD,EAAOb,KAAKC,MAAMY,EAAOC,GAAQA,CAE3B,CAER2I,EAAU3I,CACZ,CAEA,OAAOqQ,CACT,EAEOA,CACT,CAEe,SAAAg1E,KACb,IAAIh1E,EAAQ20E,KAQZ,OANA30E,EAAMyB,KAAO,WACX,OAAO8yE,GAAKv0E,EAAOg1E,KACrB,EAEA1B,GAAUnyE,MAAMnB,EAAOtG,WAEhBm7E,GAAU70E,EACnB,CClEe,SAAAi1E,GAAkBp8E,GAC/B,IAAI66E,EAEJ,SAAS1zE,EAAM1S,GACb,OAAY,MAALA,GAAayN,MAAMzN,GAAKA,GAAKomF,EAAUpmF,CAChD,CAkBA,OAhBA0S,EAAM8rD,OAAS9rD,EAEfA,EAAMnH,OAASmH,EAAMxD,MAAQ,SAAS/C,GACpC,OAAOC,UAAUvN,QAAU0M,EAASpH,MAAMC,KAAK+H,EAAGw6E,IAASj0E,GAASnH,EAAO3J,OAC7E,EAEA8Q,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEA1zE,EAAMyB,KAAO,WACX,OAAOwzE,GAASp8E,GAAQ66E,QAAQA,EAClC,EAEA76E,EAASa,UAAUvN,OAASsF,MAAMC,KAAKmH,EAAQo7E,IAAU,CAAC,EAAG,GAEtDY,GAAU70E,EACnB,CC3Be,SAAAk1E,GAAcr8E,EAAQs8E,GAGnC,IAIInkF,EAJAgK,EAAK,EACLpD,GAHJiB,EAASA,EAAO3J,SAGA/C,OAAS,EACrB+M,EAAKL,EAAOmC,GACZ7B,EAAKN,EAAOjB,GAUhB,OAPIuB,EAAKD,IACPlI,EAAIgK,EAAIA,EAAKpD,EAAIA,EAAK5G,EACtBA,EAAIkI,EAAIA,EAAKC,EAAIA,EAAKnI,GAGxB6H,EAAOmC,GAAMm6E,EAASrmF,MAAMoK,GAC5BL,EAAOjB,GAAMu9E,EAAS38E,KAAKW,GACpBN,CACT,CCXA,SAASu8E,GAAa9nF,GACpB,OAAOuB,KAAK6J,IAAIpL,EAClB,CAEA,SAAS+nF,GAAa/nF,GACpB,OAAOuB,KAAK0L,IAAIjN,EAClB,CAEA,SAASgoF,GAAchoF,GACrB,OAAQuB,KAAK6J,KAAKpL,EACpB,CAEA,SAASioF,GAAcjoF,GACrB,OAAQuB,KAAK0L,KAAKjN,EACpB,CAEA,SAASkoF,GAAMloF,GACb,OAAOiL,SAASjL,KAAO,KAAOA,GAAKA,EAAI,EAAI,EAAIA,CACjD,CAeA,SAASmoF,GAAQxoF,GACf,MAAO,CAACK,EAAG8M,KAAOnN,GAAGK,EAAG8M,EAC1B,CAEO,SAASs7E,GAAQ10E,GACtB,MAAMhB,EAAQgB,EAAUo0E,GAAcC,IAChCx8E,EAASmH,EAAMnH,OACrB,IACI88E,EACAC,EAFAC,EAAO,GAIX,SAAShC,IAQP,OAPA8B,EAnBJ,SAAcE,GACZ,OAAOA,IAAShnF,KAAK4jC,EAAI5jC,KAAK6J,IACf,KAATm9E,GAAehnF,KAAK2I,OACV,IAATq+E,GAAchnF,KAAKinF,OAClBD,EAAOhnF,KAAK6J,IAAIm9E,GAAOvoF,GAAKuB,KAAK6J,IAAIpL,GAAKuoF,EACpD,CAcWE,CAAKF,GAAOD,EAzBvB,SAAcC,GACZ,OAAgB,KAATA,EAAcL,GACfK,IAAShnF,KAAK4jC,EAAI5jC,KAAK0L,IACvBjN,GAAKuB,KAAK6I,IAAIm+E,EAAMvoF,EAC5B,CAqB8B0oF,CAAKH,GAC3Bh9E,IAAS,GAAK,GAChB88E,EAAOF,GAAQE,GAAOC,EAAOH,GAAQG,GACrC50E,EAAUs0E,GAAeC,KAEzBv0E,EAAUo0E,GAAcC,IAEnBr1E,CACT,CAwEA,OAtEAA,EAAM61E,KAAO,SAASp8E,GACpB,OAAOC,UAAUvN,QAAU0pF,GAAQp8E,EAAGo6E,KAAagC,CACrD,EAEA71E,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,QAAU0M,EAAOY,GAAIo6E,KAAah7E,GACrD,EAEAmH,EAAM9H,MAAQ9G,IACZ,MAAM1D,EAAImL,IACV,IAAI+uD,EAAIl6D,EAAE,GACN6E,EAAI7E,EAAEA,EAAEvB,OAAS,GACrB,MAAMwC,EAAI4D,EAAIq1D,EAEVj5D,KAAKi5D,EAAGr1D,GAAK,CAACA,EAAGq1D,IAErB,IAEIxtD,EACApJ,EAHA9E,EAAIypF,EAAK/tB,GACTh3D,EAAI+kF,EAAKpjF,GAGb,MAAM/B,EAAa,MAATY,EAAgB,IAAMA,EAChC,IAAIkJ,EAAI,GAER,KAAMu7E,EAAO,IAAMjlF,EAAI1E,EAAIsE,EAAG,CAE5B,GADAtE,EAAI2C,KAAKC,MAAM5C,GAAI0E,EAAI/B,KAAK2J,KAAK5H,GAC7Bg3D,EAAI,GAAG,KAAO17D,GAAK0E,IAAK1E,EAC1B,IAAKkO,EAAI,EAAGA,EAAIy7E,IAAQz7E,EAEtB,GADApJ,EAAI9E,EAAI,EAAIkO,EAAIw7E,GAAM1pF,GAAKkO,EAAIw7E,EAAK1pF,KAChC8E,EAAI42D,GAAR,CACA,GAAI52D,EAAIuB,EAAG,MACX+H,EAAElI,KAAKpB,EAFa,OAIjB,KAAO9E,GAAK0E,IAAK1E,EACtB,IAAKkO,EAAIy7E,EAAO,EAAGz7E,GAAK,IAAKA,EAE3B,GADApJ,EAAI9E,EAAI,EAAIkO,EAAIw7E,GAAM1pF,GAAKkO,EAAIw7E,EAAK1pF,KAChC8E,EAAI42D,GAAR,CACA,GAAI52D,EAAIuB,EAAG,MACX+H,EAAElI,KAAKpB,EAFa,CAKT,EAAXsJ,EAAEnO,OAAaqE,IAAG8J,EAAItC,GAAM4vD,EAAGr1D,EAAG/B,GACxC,MACE8J,EAAItC,GAAM9L,EAAG0E,EAAG/B,KAAKgC,IAAID,EAAI1E,EAAGsE,IAAIwB,IAAI4jF,GAE1C,OAAOjnF,EAAI2L,EAAErC,UAAYqC,CAAC,EAG5B0F,EAAMU,WAAa,CAACtP,EAAOuuD,KAOzB,GANa,MAATvuD,IAAeA,EAAQ,IACV,MAAbuuD,IAAmBA,EAAqB,KAATk2B,EAAc,IAAM,KAC9B,mBAAdl2B,IACHk2B,EAAO,GAA4D,OAArDl2B,EAAYD,GAAgBC,IAAYM,YAAmBN,EAAU17C,MAAO,GAChG07C,EAAYiB,GAAOjB,IAEjBvuD,IAAUiJ,IAAU,OAAOslD,EAC/B,MAAMvlD,EAAIvL,KAAKiC,IAAI,EAAG+kF,EAAOzkF,EAAQ4O,EAAM9H,QAAQ/L,QACnD,OAAOuB,IACL,IAAIxB,EAAIwB,EAAIkoF,EAAK/mF,KAAKkJ,MAAM49E,EAAKjoF,KAEjC,OADIxB,EAAI2pF,EAAOA,EAAO,KAAK3pF,GAAK2pF,GACzB3pF,GAAKkO,EAAIulD,EAAUjyD,GAAK,EAAE,CACnC,EAGFsS,EAAM80E,KAAO,IACJj8E,EAAOq8E,GAAKr8E,IAAU,CAC3B/J,MAAOxB,GAAKsoF,EAAK/mF,KAAKC,MAAM6mF,EAAKroF,KACjCkL,KAAMlL,GAAKsoF,EAAK/mF,KAAK2J,KAAKm9E,EAAKroF,QAI5B0S,CACT,CAEe,SAAAi2E,KACb,MAAMj2E,EAAQ01E,GAAQlB,MAAe37E,OAAO,CAAC,EAAG,KAGhD,OAFAmH,EAAMyB,KAAO,IAAM8yE,GAAKv0E,EAAOi2E,MAAOJ,KAAK71E,EAAM61E,QACjDvC,GAAUnyE,MAAMnB,EAAOtG,WAChBsG,CACT,CCvIA,SAASk2E,GAAgB5/E,GACvB,OAAO,SAAShJ,GACd,OAAOuB,KAAKswC,KAAK7xC,GAAKuB,KAAK+hF,MAAM/hF,KAAKuE,IAAI9F,EAAIgJ,GAChD,CACF,CAEA,SAAS6/E,GAAgB7/E,GACvB,OAAO,SAAShJ,GACd,OAAOuB,KAAKswC,KAAK7xC,GAAKuB,KAAKunF,MAAMvnF,KAAKuE,IAAI9F,IAAMgJ,CAClD,CACF,CAEO,SAAS+/E,GAAUr1E,GACxB,IAAI1K,EAAI,EAAG0J,EAAQgB,EAAUk1E,GAAgB5/E,GAAI6/E,GAAgB7/E,IAMjE,OAJA0J,EAAMs2E,SAAW,SAAS78E,GACxB,OAAOC,UAAUvN,OAAS6U,EAAUk1E,GAAgB5/E,GAAKmD,GAAI08E,GAAgB7/E,IAAMA,CACrF,EAEOu+E,GAAU70E,EACnB,CAEe,SAAAu2E,KACb,IAAIv2E,EAAQq2E,GAAU7B,MAMtB,OAJAx0E,EAAMyB,KAAO,WACX,OAAO8yE,GAAKv0E,EAAOu2E,MAAUD,SAASt2E,EAAMs2E,WAC9C,EAEOhD,GAAUnyE,MAAMnB,EAAOtG,UAChC,CC9BA,SAAS88E,GAAaniC,GACpB,OAAO,SAAS/mD,GACd,OAAOA,EAAI,GAAKuB,KAAK6I,KAAKpK,EAAG+mD,GAAYxlD,KAAK6I,IAAIpK,EAAG+mD,EACvD,CACF,CAEA,SAASoiC,GAAcnpF,GACrB,OAAOA,EAAI,GAAKuB,KAAK8D,MAAMrF,GAAKuB,KAAK8D,KAAKrF,EAC5C,CAEA,SAASopF,GAAgBppF,GACvB,OAAOA,EAAI,GAAKA,EAAIA,EAAIA,EAAIA,CAC9B,CAEO,SAASqpF,GAAO31E,GACrB,IAAIhB,EAAQgB,EAAUmzE,GAAUA,IAC5B9/B,EAAW,EAYf,OAJAr0C,EAAMq0C,SAAW,SAAS56C,GACxB,OAAOC,UAAUvN,OANG,KAMOkoD,GAAY56C,GANfuH,EAAUmzE,GAAUA,IACzB,KAAb9/B,EAAmBrzC,EAAUy1E,GAAeC,IAC5C11E,EAAUw1E,GAAaniC,GAAWmiC,GAAa,EAAIniC,IAIFA,CACzD,EAEOwgC,GAAU70E,EACnB,CAEe,SAAA42E,KACb,IAAI52E,EAAQ22E,GAAOnC,MAQnB,OANAx0E,EAAMyB,KAAO,WACX,OAAO8yE,GAAKv0E,EAAO42E,MAAOviC,SAASr0C,EAAMq0C,WAC3C,EAEAi/B,GAAUnyE,MAAMnB,EAAOtG,WAEhBsG,CACT,CAEO,SAAS62E,KACd,OAAOD,GAAIz1E,MAAM,KAAMzH,WAAW26C,SAAS,GAC7C,CC5CA,SAASyiC,GAAOxpF,GACd,OAAOuB,KAAKswC,KAAK7xC,GAAKA,EAAIA,CAC5B,CAMe,SAAAypF,KACb,IAGIrD,EAHAsD,EAAUrC,KACVn4E,EAAQ,CAAC,EAAG,GACZzE,GAAQ,EAGZ,SAASiI,EAAM1S,GACb,IAAIiD,EAXR,SAAkBjD,GAChB,OAAOuB,KAAKswC,KAAK7xC,GAAKuB,KAAK8D,KAAK9D,KAAKuE,IAAI9F,GAC3C,CASY2pF,CAASD,EAAQ1pF,IACzB,OAAOyN,MAAMxK,GAAKmjF,EAAU37E,EAAQlJ,KAAKkJ,MAAMxH,GAAKA,CACtD,CAuCA,OArCAyP,EAAM8rD,OAAS,SAASv7D,GACtB,OAAOymF,EAAQlrB,OAAOgrB,GAAOvmF,GAC/B,EAEAyP,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,QAAU6qF,EAAQn+E,OAAOY,GAAIuG,GAASg3E,EAAQn+E,QACjE,EAEAmH,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,QAAU6qF,EAAQx6E,OAAOA,EAAQ/K,MAAMC,KAAK+H,EAAGw6E,KAASjiF,IAAI8kF,KAAU92E,GAASxD,EAAMtN,OACxG,EAEA8Q,EAAM8zE,WAAa,SAASr6E,GAC1B,OAAOuG,EAAMxD,MAAM/C,GAAG1B,OAAM,EAC9B,EAEAiI,EAAMjI,MAAQ,SAAS0B,GACrB,OAAOC,UAAUvN,QAAU4L,IAAU0B,EAAGuG,GAASjI,CACnD,EAEAiI,EAAMkf,MAAQ,SAASzlB,GACrB,OAAOC,UAAUvN,QAAU6qF,EAAQ93D,MAAMzlB,GAAIuG,GAASg3E,EAAQ93D,OAChE,EAEAlf,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEA1zE,EAAMyB,KAAO,WACX,OAAOs1E,GAAOC,EAAQn+E,SAAU2D,GAC3BzE,MAAMA,GACNmnB,MAAM83D,EAAQ93D,SACdw0D,QAAQA,EACf,EAEAJ,GAAUnyE,MAAMnB,EAAOtG,WAEhBm7E,GAAU70E,EACnB,CC3De,SAAAk3E,KACb,IAGIxD,EAHA76E,EAAS,GACT2D,EAAQ,GACR7C,EAAa,GAGjB,SAASk6E,IACP,IAAI3nF,EAAI,EAAGsE,EAAI3B,KAAKiC,IAAI,EAAG0L,EAAMrQ,QAEjC,IADAwN,EAAa,IAAIlI,MAAMjB,EAAI,KAClBtE,EAAIsE,GAAGmJ,EAAWzN,EAAI,GAAKiP,GAAUtC,EAAQ3M,EAAIsE,GAC1D,OAAOwP,CACT,CAEA,SAASA,EAAM1S,GACb,OAAY,MAALA,GAAayN,MAAMzN,GAAKA,GAAKomF,EAAUl3E,EAAM/N,EAAOkL,EAAYrM,GACzE,CAqCA,OAnCA0S,EAAMm3E,aAAe,SAAS5mF,GAC5B,IAAIrE,EAAIsQ,EAAM2H,QAAQ5T,GACtB,OAAOrE,EAAI,EAAI,CAACY,IAAKA,KAAO,CAC1BZ,EAAI,EAAIyN,EAAWzN,EAAI,GAAK2M,EAAO,GACnC3M,EAAIyN,EAAWxN,OAASwN,EAAWzN,GAAK2M,EAAOA,EAAO1M,OAAS,GAEnE,EAEA6T,EAAMnH,OAAS,SAASY,GACtB,IAAKC,UAAUvN,OAAQ,OAAO0M,EAAO3J,QACrC2J,EAAS,GACT,IAAK,IAAInL,KAAK+L,EAAY,MAAL/L,GAAcqN,MAAMrN,GAAKA,IAAImL,EAAOzG,KAAK1E,GAE9D,OADAmL,EAAOxC,KAAK1J,GACLknF,GACT,EAEA7zE,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,QAAUqQ,EAAQ/K,MAAMC,KAAK+H,GAAIo6E,KAAar3E,EAAMtN,OACvE,EAEA8Q,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEA1zE,EAAMo3E,UAAY,WAChB,OAAOz9E,EAAWzK,OACpB,EAEA8Q,EAAMyB,KAAO,WACX,OAAOy1E,KACFr+E,OAAOA,GACP2D,MAAMA,GACNk3E,QAAQA,EACf,EAEOJ,GAAUnyE,MAAMnB,EAAOtG,UAChC,CCpDe,SAAA29E,KACb,IAKI3D,EALAx6E,EAAK,EACLC,EAAK,EACL3I,EAAI,EACJqI,EAAS,CAAC,IACV2D,EAAQ,CAAC,EAAG,GAGhB,SAASwD,EAAM1S,GACb,OAAY,MAALA,GAAaA,GAAKA,EAAIkP,EAAM/N,EAAOoK,EAAQvL,EAAG,EAAGkD,IAAMkjF,CAChE,CAEA,SAASG,IACP,IAAI3nF,GAAI,EAER,IADA2M,EAAS,IAAIpH,MAAMjB,KACVtE,EAAIsE,GAAGqI,EAAO3M,KAAOA,EAAI,GAAKiN,GAAMjN,EAAIsE,GAAK0I,IAAO1I,EAAI,GACjE,OAAOwP,CACT,CAiCA,OA/BAA,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,SAAW+M,EAAIC,GAAMM,EAAGP,GAAMA,EAAIC,GAAMA,EAAI06E,KAAa,CAAC36E,EAAIC,EACjF,EAEA6G,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,QAAUqE,GAAKgM,EAAQ/K,MAAMC,KAAK+H,IAAItN,OAAS,EAAG0nF,KAAar3E,EAAMtN,OACxF,EAEA8Q,EAAMm3E,aAAe,SAAS5mF,GAC5B,IAAIrE,EAAIsQ,EAAM2H,QAAQ5T,GACtB,OAAOrE,EAAI,EAAI,CAACY,IAAKA,KACfZ,EAAI,EAAI,CAACgN,EAAIL,EAAO,IACpB3M,GAAKsE,EAAI,CAACqI,EAAOrI,EAAI,GAAI2I,GACzB,CAACN,EAAO3M,EAAI,GAAI2M,EAAO3M,GAC/B,EAEA8T,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAASA,CACnD,EAEAA,EAAMrG,WAAa,WACjB,OAAOd,EAAO3J,OAChB,EAEA8Q,EAAMyB,KAAO,WACX,OAAO41E,KACFx+E,OAAO,CAACK,EAAIC,IACZqD,MAAMA,GACNk3E,QAAQA,EACf,EAEOJ,GAAUnyE,MAAM0zE,GAAU70E,GAAQtG,UAC3C,CCpDe,SAAA49E,KACb,IAEI5D,EAFA76E,EAAS,CAAC,IACV2D,EAAQ,CAAC,EAAG,GAEZhM,EAAI,EAER,SAASwP,EAAM1S,GACb,OAAY,MAALA,GAAaA,GAAKA,EAAIkP,EAAM/N,EAAOoK,EAAQvL,EAAG,EAAGkD,IAAMkjF,CAChE,CA0BA,OAxBA1zE,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,QAAU0M,EAASpH,MAAMC,KAAK+H,GAAIjJ,EAAI3B,KAAKgC,IAAIgI,EAAO1M,OAAQqQ,EAAMrQ,OAAS,GAAI6T,GAASnH,EAAO3J,OACpH,EAEA8Q,EAAMxD,MAAQ,SAAS/C,GACrB,OAAOC,UAAUvN,QAAUqQ,EAAQ/K,MAAMC,KAAK+H,GAAIjJ,EAAI3B,KAAKgC,IAAIgI,EAAO1M,OAAQqQ,EAAMrQ,OAAS,GAAI6T,GAASxD,EAAMtN,OAClH,EAEA8Q,EAAMm3E,aAAe,SAAS5mF,GAC5B,IAAIrE,EAAIsQ,EAAM2H,QAAQ5T,GACtB,MAAO,CAACsI,EAAO3M,EAAI,GAAI2M,EAAO3M,GAChC,EAEA8T,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEA1zE,EAAMyB,KAAO,WACX,OAAO61E,KACFz+E,OAAOA,GACP2D,MAAMA,GACNk3E,QAAQA,EACf,EAEOJ,GAAUnyE,MAAMnB,EAAOtG,UAChC,CCtCA,MAAM69E,GAAK,IAAIz2D,KAAM02D,GAAK,IAAI12D,KAEvB,SAAS22D,GAAaC,EAAQC,EAASvmF,EAAOwmF,GAEnD,SAASzC,EAASzkC,GAChB,OAAOgnC,EAAOhnC,EAA4B,IAArBh3C,UAAUvN,OAAe,IAAI20B,KAAO,IAAIA,MAAM4vB,IAAQA,CAC7E,CA6DA,OA3DAykC,EAASrmF,MAAS4hD,IACTgnC,EAAOhnC,EAAO,IAAI5vB,MAAM4vB,IAAQA,GAGzCykC,EAAS38E,KAAQk4C,IACRgnC,EAAOhnC,EAAO,IAAI5vB,KAAK4vB,EAAO,IAAKinC,EAAQjnC,EAAM,GAAIgnC,EAAOhnC,GAAOA,GAG5EykC,EAASp9E,MAAS24C,IAChB,MAAMpK,EAAK6uC,EAASzkC,GAAOq1B,EAAKoP,EAAS38E,KAAKk4C,GAC9C,OAAOA,EAAOpK,EAAKy/B,EAAKr1B,EAAOpK,EAAKy/B,CAAE,EAGxCoP,EAASj1E,OAAS,CAACwwC,EAAM/gD,KAChBgoF,EAAQjnC,EAAO,IAAI5vB,MAAM4vB,GAAe,MAAR/gD,EAAe,EAAId,KAAKC,MAAMa,IAAQ+gD,GAG/EykC,EAAS34E,MAAQ,CAAC/M,EAAOC,EAAMC,KAC7B,MAAM6M,EAAQ,GAGd,GAFA/M,EAAQ0lF,EAAS38E,KAAK/I,GACtBE,EAAe,MAARA,EAAe,EAAId,KAAKC,MAAMa,KAC/BF,EAAQC,GAAWC,EAAO,GAAI,OAAO6M,EAC3C,IAAIH,EACJ,GAAGG,EAAMpK,KAAKiK,EAAW,IAAIykB,MAAMrxB,IAASkoF,EAAQloF,EAAOE,GAAO+nF,EAAOjoF,SAClE4M,EAAW5M,GAASA,EAAQC,GACnC,OAAO8M,CAAA,EAGT24E,EAASryE,OAAUhF,GACV25E,IAAc/mC,IACnB,GAAIA,GAAQA,EAAM,KAAOgnC,EAAOhnC,IAAQ5yC,EAAK4yC,IAAOA,EAAK3vB,QAAQ2vB,EAAO,MACvE,CAACA,EAAM/gD,KACR,GAAI+gD,GAAQA,EACV,GAAI/gD,EAAO,EAAG,OAASA,GAAQ,GAC7B,KAAOgoF,EAAQjnC,GAAM,IAAM5yC,EAAK4yC,UAC3B,OAAS/gD,GAAQ,GACtB,KAAOgoF,EAAQjnC,EAAM,IAAM5yC,EAAK4yC,KAEpC,IAIAt/C,IACF+jF,EAAS/jF,MAAQ,CAAC3B,EAAOmwB,KACvB23D,GAAGx2D,SAAStxB,GAAQ+nF,GAAGz2D,SAASnB,GAChC83D,EAAOH,IAAKG,EAAOF,IACZ3oF,KAAKC,MAAMsC,EAAMmmF,GAAIC,MAG9BrC,EAAS3pD,MAAS77B,IAChBA,EAAOd,KAAKC,MAAMa,GACV4I,SAAS5I,IAAWA,EAAO,EAC3BA,EAAO,EACTwlF,EAASryE,OAAO80E,EACXlqF,GAAMkqF,EAAMlqF,GAAKiC,GAAS,EAC1BjC,GAAMynF,EAAS/jF,MAAM,EAAG1D,GAAKiC,GAAS,GAH7BwlF,EADoB,OAQrCA,CACT,CCpEO,MAAM0C,GAAiB,IACjBC,GAAiBD,IACjBE,GAAgC,GAAjBD,GACfE,GAA6B,GAAfD,GACdE,GAA6B,EAAdD,GACfE,GAA8B,GAAdF,GAChBG,GAA6B,IAAdH,GCHfI,GAAUX,IACrB/mC,GAAQA,EAAK2nC,SAAS,EAAG,EAAG,EAAG,KAC/B,CAAC3nC,EAAM/gD,IAAS+gD,EAAK4nC,QAAQ5nC,EAAK6nC,UAAY5oF,KAC9C,CAACF,EAAOmwB,KAASA,EAAMnwB,GAASmwB,EAAI44D,oBAAsB/oF,EAAM+oF,qBAAuBV,IAAkBE,KACzGtnC,GAAQA,EAAK6nC,UAAY,IAGdE,GAAWL,GAAQ57E,MAEnBk8E,GAASjB,IAAc/mC,IAClCA,EAAKioC,YAAY,EAAG,EAAG,EAAG,MACzB,CAACjoC,EAAM/gD,KACR+gD,EAAKkoC,WAAWloC,EAAKY,aAAe3hD,EAAA,IACnC,CAACF,EAAOmwB,KACDA,EAAMnwB,GAASuoF,KACrBtnC,GACKA,EAAKY,aAAe,IAGhBunC,GAAUH,GAAOl8E,MAEjBs8E,GAAUrB,IAAc/mC,IACnCA,EAAKioC,YAAY,EAAG,EAAG,EAAG,MACzB,CAACjoC,EAAM/gD,KACR+gD,EAAKkoC,WAAWloC,EAAKY,aAAe3hD,EAAA,IACnC,CAACF,EAAOmwB,KACDA,EAAMnwB,GAASuoF,KACrBtnC,GACK7hD,KAAKC,MAAM4hD,EAAOsnC,MAGde,GAAWD,GAAQt8E,MC/BnBw8E,GAAWvB,IAAc/mC,IACpCA,EAAK3vB,QAAQ2vB,EAAOA,EAAKuoC,kBAAoBvoC,EAAKwoC,aAAerB,GAAiBnnC,EAAKyoC,aAAerB,GAAa,IAClH,CAACpnC,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAOooF,GAAW,IACtC,CAACtoF,EAAOmwB,KACDA,EAAMnwB,GAASsoF,KACrBrnC,GACKA,EAAKmD,aAGDulC,GAAYJ,GAASx8E,MAErB68E,GAAU5B,IAAc/mC,IACnCA,EAAK4oC,cAAc,EAAG,EAAG,MACxB,CAAC5oC,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAOooF,GAAW,IACtC,CAACtoF,EAAOmwB,KACDA,EAAMnwB,GAASsoF,KACrBrnC,GACKA,EAAKG,gBAGD0oC,GAAWF,GAAQ78E,MCtBnBg9E,GAAa/B,IAAc/mC,IACtCA,EAAK3vB,QAAQ2vB,EAAOA,EAAKuoC,kBAAoBvoC,EAAKwoC,aAAerB,GAAa,IAC7E,CAACnnC,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAOmoF,GAAa,IACxC,CAACroF,EAAOmwB,KACDA,EAAMnwB,GAASqoF,KACrBpnC,GACKA,EAAKyoC,eAGDM,GAAcD,GAAWh9E,MAEzBk9E,GAAYjC,IAAc/mC,IACrCA,EAAKipC,cAAc,EAAG,MACrB,CAACjpC,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAOmoF,GAAa,IACxC,CAACroF,EAAOmwB,KACDA,EAAMnwB,GAASqoF,KACrBpnC,GACKA,EAAKK,kBAGD6oC,GAAaF,GAAUl9E,MCvBvBq9E,GAAYpC,IAAc/mC,IACrCA,EAAK4nC,QAAQ,GACb5nC,EAAK2nC,SAAS,EAAG,EAAG,EAAG,MACtB,CAAC3nC,EAAM/gD,KACR+gD,EAAKopC,SAASppC,EAAKqpC,WAAapqF,EAAA,IAC/B,CAACF,EAAOmwB,IACFA,EAAIm6D,WAAatqF,EAAMsqF,WAAyD,IAA3Cn6D,EAAIo6D,cAAgBvqF,EAAMuqF,iBACpEtpC,GACKA,EAAKqpC,aAGDE,GAAaJ,GAAUr9E,MAEvB09E,GAAWzC,IAAc/mC,IACpCA,EAAKkoC,WAAW,GAChBloC,EAAKioC,YAAY,EAAG,EAAG,EAAG,MACzB,CAACjoC,EAAM/gD,KACR+gD,EAAKypC,YAAYzpC,EAAKW,cAAgB1hD,EAAA,IACrC,CAACF,EAAOmwB,IACFA,EAAIyxB,cAAgB5hD,EAAM4hD,cAAkE,IAAjDzxB,EAAIwxB,iBAAmB3hD,EAAM2hD,oBAC7EV,GACKA,EAAKW,gBAGD+oC,GAAYF,GAAS19E,MCvBrB69E,GAAS5C,IAAc/mC,IAClCA,EAAK3vB,QAAQ2vB,EAAOA,EAAKuoC,kBAAe,IACvC,CAACvoC,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAOkoF,GAAa,IACxC,CAACpoF,EAAOmwB,KACDA,EAAMnwB,GAASooF,KACrBnnC,GACKA,EAAKO,kBAGDqpC,GAAUD,GAAO79E,MCXjB+9E,GAAc9C,IAAa,SAErC,CAAC/mC,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAA,IACpB,CAACF,EAAOmwB,IACFA,EAAMnwB,IAIf8qF,GAAY/uD,MAASpxB,IACnBA,EAAIvL,KAAKC,MAAMsL,GACV7B,SAAS6B,IAAQA,EAAI,EACpBA,EAAI,EACHq9E,IAAc/mC,IACnBA,EAAK3vB,QAAQlyB,KAAKC,MAAM4hD,EAAOt2C,GAAKA,EAAA,IACnC,CAACs2C,EAAM/gD,KACR+gD,EAAK3vB,SAAS2vB,EAAO/gD,EAAOyK,EAAA,IAC3B,CAAC3K,EAAOmwB,KACDA,EAAMnwB,GAAS2K,IANJmgF,GADgB,MAWhC,MAAMC,GAAeD,GAAY/9E,MCrBxC,SAASi+E,GAAYvuF,GACnB,OAAOurF,IAAc/mC,IACnBA,EAAK4nC,QAAQ5nC,EAAK6nC,WAAa7nC,EAAKgqC,SAAW,EAAIxuF,GAAK,GACxDwkD,EAAK2nC,SAAS,EAAG,EAAG,EAAG,MACtB,CAAC3nC,EAAM/gD,KACR+gD,EAAK4nC,QAAQ5nC,EAAK6nC,UAAmB,EAAP5oF,EAAO,IACpC,CAACF,EAAOmwB,KACDA,EAAMnwB,GAASmwB,EAAI44D,oBAAsB/oF,EAAM+oF,qBAAuBV,IAAkBG,IAEpG,CAEO,MAAM0C,GAAaF,GAAY,GACzBG,GAAaH,GAAY,GACzBI,GAAcJ,GAAY,GAC1BK,GAAgBL,GAAY,GAC5BM,GAAeN,GAAY,GAC3BO,GAAaP,GAAY,GACzBQ,GAAeR,GAAY,GAE3BS,GAAcP,GAAWn+E,MACzB2+E,GAAcP,GAAWp+E,MACzB4+E,GAAeP,GAAYr+E,MAC3B6+E,GAAiBP,GAAct+E,MAC/B8+E,GAAgBP,GAAav+E,MAC7B++E,GAAcP,GAAWx+E,MACzBg/E,GAAgBP,GAAaz+E,MAE1C,SAASi/E,GAAWvvF,GAClB,OAAOurF,IAAc/mC,IACnBA,EAAKkoC,WAAWloC,EAAKY,cAAgBZ,EAAKgrC,YAAc,EAAIxvF,GAAK,GACjEwkD,EAAKioC,YAAY,EAAG,EAAG,EAAG,MACzB,CAACjoC,EAAM/gD,KACR+gD,EAAKkoC,WAAWloC,EAAKY,aAAsB,EAAP3hD,EAAO,IAC1C,CAACF,EAAOmwB,KACDA,EAAMnwB,GAASwoF,IAE3B,CAEO,MAAM0D,GAAYF,GAAW,GACvBG,GAAYH,GAAW,GACvBI,GAAaJ,GAAW,GACxBK,GAAeL,GAAW,GAC1BM,GAAcN,GAAW,GACzBO,GAAYP,GAAW,GACvBQ,GAAcR,GAAW,GAEzBS,GAAaP,GAAUn/E,MACvB2/E,GAAaP,GAAUp/E,MACvB4/E,GAAcP,GAAWr/E,MACzB6/E,GAAgBP,GAAat/E,MAC7B8/E,GAAeP,GAAYv/E,MAC3B+/E,GAAaP,GAAUx/E,MACvBggF,GAAeP,GAAYz/E,MCrD3BigF,GAAWhF,IAAc/mC,IACpCA,EAAKopC,SAAS,EAAG,GACjBppC,EAAK2nC,SAAS,EAAG,EAAG,EAAG,MACtB,CAAC3nC,EAAM/gD,KACR+gD,EAAKgsC,YAAYhsC,EAAKspC,cAAgBrqF,EAAA,IACrC,CAACF,EAAOmwB,IACFA,EAAIo6D,cAAgBvqF,EAAMuqF,gBAC/BtpC,GACKA,EAAKspC,gBAIdyC,GAASjxD,MAASpxB,GACR7B,SAAS6B,EAAIvL,KAAKC,MAAMsL,KAASA,EAAI,EAAYq9E,IAAc/mC,IACrEA,EAAKgsC,YAAY7tF,KAAKC,MAAM4hD,EAAKspC,cAAgB5/E,GAAKA,GACtDs2C,EAAKopC,SAAS,EAAG,GACjBppC,EAAK2nC,SAAS,EAAG,EAAG,EAAG,MACtB,CAAC3nC,EAAM/gD,KACR+gD,EAAKgsC,YAAYhsC,EAAKspC,cAAgBrqF,EAAOyK,EAAA,IALG,KAS7C,MAAMuiF,GAAYF,GAASjgF,MAErBogF,GAAUnF,IAAc/mC,IACnCA,EAAKypC,YAAY,EAAG,GACpBzpC,EAAKioC,YAAY,EAAG,EAAG,EAAG,MACzB,CAACjoC,EAAM/gD,KACR+gD,EAAKmsC,eAAensC,EAAKU,iBAAmBzhD,EAAA,IAC3C,CAACF,EAAOmwB,IACFA,EAAIwxB,iBAAmB3hD,EAAM2hD,mBAClCV,GACKA,EAAKU,mBAIdwrC,GAAQpxD,MAASpxB,GACP7B,SAAS6B,EAAIvL,KAAKC,MAAMsL,KAASA,EAAI,EAAYq9E,IAAc/mC,IACrEA,EAAKmsC,eAAehuF,KAAKC,MAAM4hD,EAAKU,iBAAmBh3C,GAAKA,GAC5Ds2C,EAAKypC,YAAY,EAAG,GACpBzpC,EAAKioC,YAAY,EAAG,EAAG,EAAG,MACzB,CAACjoC,EAAM/gD,KACR+gD,EAAKmsC,eAAensC,EAAKU,iBAAmBzhD,EAAOyK,EAAA,IALH,KAS7C,MAAM0iF,GAAWF,GAAQpgF,MCrChC,SAASugF,GAAOpsC,EAAMqsC,EAAOC,EAAMC,EAAKC,EAAMC,GAE5C,MAAMC,EAAgB,CACpB,CAAChD,GAAS,EAAQxC,IAClB,CAACwC,GAAS,EAAI,KACd,CAACA,GAAQ,GAAI,MACb,CAACA,GAAQ,GAAI,KACb,CAAC+C,EAAS,EAAQtF,IAClB,CAACsF,EAAS,EAAI,EAAItF,IAClB,CAACsF,EAAQ,GAAI,GAAKtF,IAClB,CAACsF,EAAQ,GAAI,GAAKtF,IAClB,CAAGqF,EAAO,EAAQpF,IAClB,CAAGoF,EAAO,EAAI,EAAIpF,IAClB,CAAGoF,EAAO,EAAI,EAAIpF,IAClB,CAAGoF,EAAM,GAAI,GAAKpF,IAClB,CAAImF,EAAM,EAAQlF,IAClB,CAAIkF,EAAM,EAAI,EAAIlF,IAClB,CAAGiF,EAAO,EAAQhF,IAClB,CAAE+E,EAAQ,EAAQ9E,IAClB,CAAE8E,EAAQ,EAAI,EAAI9E,IAClB,CAAGvnC,EAAO,EAAQwnC,KAWpB,SAASmF,EAAa7tF,EAAOC,EAAM0B,GACjC,MAAMm8B,EAAS1+B,KAAKuE,IAAI1D,EAAOD,GAAS2B,EAClClF,EAAIc,GAAS,EAAC,EAAI2C,KAAUA,IAAMtB,MAAMgvF,EAAe9vD,GAC7D,GAAIrhC,IAAMmxF,EAAclxF,OAAQ,OAAOwkD,EAAKnlB,MAAMpzB,GAAS3I,EAAQ0oF,GAAczoF,EAAOyoF,GAAc/mF,IACtG,GAAU,IAANlF,EAAS,OAAOquF,GAAY/uD,MAAM38B,KAAKiC,IAAIsH,GAAS3I,EAAOC,EAAM0B,GAAQ,IAC7E,MAAOJ,EAAGrB,GAAQ0tF,EAAc9vD,EAAS8vD,EAAcnxF,EAAI,GAAG,GAAKmxF,EAAcnxF,GAAG,GAAKqhC,EAASrhC,EAAI,EAAIA,GAC1G,OAAO8E,EAAEw6B,MAAM77B,EACjB,CAEA,MAAO,CAjBP,SAAeF,EAAOC,EAAM0B,GAC1B,MAAM6G,EAAUvI,EAAOD,EACnBwI,KAAUxI,EAAOC,GAAQ,CAACA,EAAMD,IACpC,MAAM0lF,EAAW/jF,GAAgC,mBAAhBA,EAAMoL,MAAuBpL,EAAQksF,EAAa7tF,EAAOC,EAAM0B,GAC1F8G,EAAQi9E,EAAWA,EAAS34E,MAAM/M,GAAQC,EAAO,GAAK,GAC5D,OAAOuI,EAAUC,EAAMD,UAAYC,CACrC,EAWeolF,EACjB,CAEA,MAAOC,GAAUC,IAAmBT,GAAOH,GAAS1C,GAAUyB,GAAW7C,GAASO,GAASK,KACpF+D,GAAWC,IAAoBX,GAAON,GAAU5C,GAAWc,GAAYvC,GAASY,GAAUQ,IC1CjG,SAASmE,GAAUjwF,GACjB,GAAI,GAAKA,EAAE6C,GAAK7C,EAAE6C,EAAI,IAAK,CACzB,IAAImgD,EAAO,IAAI5vB,MAAK,EAAIpzB,EAAE4L,EAAG5L,EAAEA,EAAGA,EAAEkwF,EAAGlwF,EAAEmwF,EAAGnwF,EAAE8B,EAAG9B,EAAEowF,GAEnD,OADAptC,EAAKgsC,YAAYhvF,EAAE6C,GACZmgD,CACT,CACA,OAAO,IAAI5vB,KAAKpzB,EAAE6C,EAAG7C,EAAE4L,EAAG5L,EAAEA,EAAGA,EAAEkwF,EAAGlwF,EAAEmwF,EAAGnwF,EAAE8B,EAAG9B,EAAEowF,EAClD,CAEA,SAASC,GAAQrwF,GACf,GAAI,GAAKA,EAAE6C,GAAK7C,EAAE6C,EAAI,IAAK,CACzB,IAAImgD,EAAO,IAAI5vB,KAAKA,KAAKk9D,KAAI,EAAItwF,EAAE4L,EAAG5L,EAAEA,EAAGA,EAAEkwF,EAAGlwF,EAAEmwF,EAAGnwF,EAAE8B,EAAG9B,EAAEowF,IAE5D,OADAptC,EAAKmsC,eAAenvF,EAAE6C,GACfmgD,CACT,CACA,OAAO,IAAI5vB,KAAKA,KAAKk9D,IAAItwF,EAAE6C,EAAG7C,EAAE4L,EAAG5L,EAAEA,EAAGA,EAAEkwF,EAAGlwF,EAAEmwF,EAAGnwF,EAAE8B,EAAG9B,EAAEowF,GAC3D,CAEA,SAASG,GAAQ1tF,EAAG+I,EAAG5L,GACrB,MAAO,CAAC6C,EAAGA,EAAG+I,EAAGA,EAAG5L,EAAGA,EAAGkwF,EAAG,EAAGC,EAAG,EAAGruF,EAAG,EAAGsuF,EAAG,EACjD,CAEe,SAAAI,GAAsBj9B,GACnC,IAAIk9B,EAAkBl9B,EAAOm9B,SACzBC,EAAcp9B,EAAOvQ,KACrB4tC,EAAcr9B,EAAO58B,KACrBk6D,EAAiBt9B,EAAOu9B,QACxBC,EAAkBx9B,EAAOy9B,KACzBC,EAAuB19B,EAAO29B,UAC9BC,EAAgB59B,EAAO69B,OACvBC,EAAqB99B,EAAO+9B,YAE5BC,EAAWC,GAASX,GACpBY,EAAeC,GAAab,GAC5Bc,EAAYH,GAAST,GACrBa,EAAgBF,GAAaX,GAC7Bc,EAAiBL,GAASP,GAC1Ba,EAAqBJ,GAAaT,GAClCc,EAAUP,GAASL,GACnBa,EAAcN,GAAaP,GAC3Bc,EAAeT,GAASH,GACxBa,EAAmBR,GAAaL,GAEhCc,EAAU,CACZjzF,EAkQF,SAA4Bc,GAC1B,OAAOixF,EAAqBjxF,EAAEgtF,SAChC,EAnQEvpB,EAqQF,SAAuBzjE,GACrB,OAAO+wF,EAAgB/wF,EAAEgtF,SAC3B,EAtQE7tF,EAwQF,SAA0Ba,GACxB,OAAOqxF,EAAmBrxF,EAAEqsF,WAC9B,EAzQE7jB,EA2QF,SAAqBxoE,GACnB,OAAOmxF,EAAcnxF,EAAEqsF,WACzB,EA5QEzjF,EAAK,KACL5I,EAAKoyF,GACLt7D,EAAKs7D,GACL7yF,EAAK8yF,GACL7qF,EAAK8qF,GACLpO,EAAKqO,GACLrC,EAAKsC,GACLruC,EAAKsuC,GACLvvF,EAAKwvF,GACLtC,EAAKuC,GACL/mF,EAAKgnF,GACLzC,EAAK0C,GACLptF,EAkQF,SAAsBzF,GACpB,OAAO6wF,IAAiB7wF,EAAEmmD,YAAc,IAC1C,EAnQEnyB,EAqQF,SAAuBh0B,GACrB,OAAO,KAAOA,EAAEqsF,WAAa,EAC/B,EAtQEl5C,EAAK2/C,GACL7vF,EAAK8vF,GACLjxF,EAAKkxF,GACL94B,EAAK+4B,GACLC,EAAKC,GACLnkF,EAAKokF,GACLzwF,EAAK0wF,GACLxuD,EAAKyuD,GACL1zF,EAAK,KACLkzD,EAAK,KACLjwD,EAAK0wF,GACLhsB,EAAKisB,GACLC,EAAKC,GACL,IAAKC,IAGHC,EAAa,CACf10F,EAuPF,SAA+Bc,GAC7B,OAAOixF,EAAqBjxF,EAAEguF,YAChC,EAxPEvqB,EA0PF,SAA0BzjE,GACxB,OAAO+wF,EAAgB/wF,EAAEguF,YAC3B,EA3PE7uF,EA6PF,SAA6Ba,GAC3B,OAAOqxF,EAAmBrxF,EAAE2jD,cAC9B,EA9PE6kB,EAgQF,SAAwBxoE,GACtB,OAAOmxF,EAAcnxF,EAAE2jD,cACzB,EAjQE/6C,EAAK,KACL5I,EAAK6zF,GACL/8D,EAAK+8D,GACLt0F,EAAKu0F,GACLtsF,EAAKusF,GACL7P,EAAK8P,GACL9D,EAAK+D,GACL9vC,EAAK+vC,GACLhxF,EAAKixF,GACL/D,EAAKgE,GACLxoF,EAAKyoF,GACLlE,EAAKmE,GACL7uF,EAuPF,SAAyBzF,GACvB,OAAO6wF,IAAiB7wF,EAAEmjD,eAAiB,IAC7C,EAxPEnvB,EA0PF,SAA0Bh0B,GACxB,OAAO,KAAOA,EAAE2jD,cAAgB,EAClC,EA3PExQ,EAAK2/C,GACL7vF,EAAK8vF,GACLjxF,EAAKyyF,GACLr6B,EAAKs6B,GACLtB,EAAKuB,GACLzlF,EAAK0lF,GACL/xF,EAAKgyF,GACL9vD,EAAK+vD,GACLh1F,EAAK,KACLkzD,EAAK,KACLjwD,EAAKgyF,GACLttB,EAAKutB,GACLrB,EAAKsB,GACL,IAAKpB,IAGHqB,EAAS,CACX91F,EA4JF,SAA2Bc,EAAG+b,EAAQvd,GACpC,IAAIsE,EAAI+uF,EAAe7iE,KAAKjT,EAAOva,MAAMhD,IACzC,OAAOsE,GAAK9C,EAAE2C,EAAImvF,EAAmBrrF,IAAI3D,EAAE,GAAGisB,eAAgBvwB,EAAIsE,EAAE,GAAGrE,SAAU,CACnF,EA9JEglE,EAgKF,SAAsBzjE,EAAG+b,EAAQvd,GAC/B,IAAIsE,EAAI6uF,EAAU3iE,KAAKjT,EAAOva,MAAMhD,IACpC,OAAOsE,GAAK9C,EAAE2C,EAAIivF,EAAcnrF,IAAI3D,EAAE,GAAGisB,eAAgBvwB,EAAIsE,EAAE,GAAGrE,SAAU,CAC9E,EAlKEU,EAoKF,SAAyBa,EAAG+b,EAAQvd,GAClC,IAAIsE,EAAImvF,EAAajjE,KAAKjT,EAAOva,MAAMhD,IACvC,OAAOsE,GAAK9C,EAAE4L,EAAIsmF,EAAiBzrF,IAAI3D,EAAE,GAAGisB,eAAgBvwB,EAAIsE,EAAE,GAAGrE,SAAU,CACjF,EAtKE+pE,EAwKF,SAAoBxoE,EAAG+b,EAAQvd,GAC7B,IAAIsE,EAAIivF,EAAQ/iE,KAAKjT,EAAOva,MAAMhD,IAClC,OAAOsE,GAAK9C,EAAE4L,EAAIomF,EAAYvrF,IAAI3D,EAAE,GAAGisB,eAAgBvwB,EAAIsE,EAAE,GAAGrE,SAAU,CAC5E,EA1KEmK,EA4KF,SAA6B5I,EAAG+b,EAAQvd,GACtC,OAAOy2F,EAAej1F,EAAGywF,EAAiB10E,EAAQvd,EACpD,EA7KEwB,EAAKk1F,GACLp+D,EAAKo+D,GACL31F,EAAK41F,GACL3tF,EAAK4tF,GACLlR,EAAKmR,GACLnF,EAAKoF,GACLnxC,EAAKmxC,GACLpyF,EAAKqyF,GACLnF,EAAKoF,GACL5pF,EAAK6pF,GACLtF,EAAKuF,GACLjwF,EAuIF,SAAqBzF,EAAG+b,EAAQvd,GAC9B,IAAIsE,EAAIyuF,EAASviE,KAAKjT,EAAOva,MAAMhD,IACnC,OAAOsE,GAAK9C,EAAEyF,EAAIgsF,EAAahrF,IAAI3D,EAAE,GAAGisB,eAAgBvwB,EAAIsE,EAAE,GAAGrE,SAAU,CAC7E,EAzIEu1B,EAAK2hE,GACLxiD,EAAKyiD,GACL3yF,EAAK4yF,GACL/zF,EAAKg0F,GACL57B,EAAK67B,GACL7C,EAAK8C,GACLhnF,EAAKinF,GACLtzF,EAAKuzF,GACLrxD,EAAKsxD,GACLv2F,EA0JF,SAAyBI,EAAG+b,EAAQvd,GAClC,OAAOy2F,EAAej1F,EAAG2wF,EAAa50E,EAAQvd,EAChD,EA3JEs0D,EA6JF,SAAyB9yD,EAAG+b,EAAQvd,GAClC,OAAOy2F,EAAej1F,EAAG4wF,EAAa70E,EAAQvd,EAChD,EA9JEqE,EAAKuyF,GACL7tB,EAAK8tB,GACL5B,EAAK2C,GACL,IAAKC,IAWP,SAASliC,EAAUlC,EAAWkgC,GAC5B,OAAO,SAASnvC,GACd,IAIIp6C,EACA0tF,EACA5iF,EANAqI,EAAS,GACTvd,GAAI,EACJ0E,EAAI,EACJJ,EAAImvD,EAAUxzD,OAOlB,IAFMukD,aAAgB5vB,OAAO4vB,EAAO,IAAI5vB,MAAM4vB,MAErCxkD,EAAIsE,GACqB,KAA5BmvD,EAAUhO,WAAWzlD,KACvBud,EAAOrX,KAAKutD,EAAUzwD,MAAM0B,EAAG1E,IACgB,OAA1C83F,EAAMC,GAAK3tF,EAAIqpD,EAAUukC,SAASh4F,KAAcoK,EAAIqpD,EAAUukC,SAASh4F,GACvE83F,EAAY,MAAN1tF,EAAY,IAAM,KACzB8K,EAASy+E,EAAQvpF,MAAIA,EAAI8K,EAAOsvC,EAAMszC,IAC1Cv6E,EAAOrX,KAAKkE,GACZ1F,EAAI1E,EAAI,GAKZ,OADAud,EAAOrX,KAAKutD,EAAUzwD,MAAM0B,EAAG1E,IACxBud,EAAO4D,KAAK,GACrB,CACF,CAEA,SAAS82E,EAASxkC,EAAWwhC,GAC3B,OAAO,SAAS13E,GACd,IAEIwzE,EAAMC,EAFNxvF,EAAIuwF,GAAQ,UAAMjwF,EAAW,GAGjC,GAFQ20F,EAAej1F,EAAGiyD,EAAWl2C,GAAU,GAAI,IAE1CA,EAAOtd,OAAQ,OAAO,KAG/B,GAAI,MAAOuB,EAAG,OAAO,IAAIozB,KAAKpzB,EAAEmzC,GAChC,GAAI,MAAOnzC,EAAG,OAAO,IAAIozB,KAAW,IAANpzB,EAAEiD,GAAY,MAAOjD,EAAIA,EAAEowF,EAAI,IAY7D,GATIqD,KAAO,MAAOzzF,KAAIA,EAAEyzF,EAAI,GAGxB,MAAOzzF,IAAGA,EAAEkwF,EAAIlwF,EAAEkwF,EAAI,GAAW,GAANlwF,EAAEyF,QAGrBnF,IAARN,EAAE4L,IAAiB5L,EAAE4L,EAAI,MAAO5L,EAAIA,EAAEg0B,EAAI,GAG1C,MAAOh0B,EAAG,CACZ,GAAIA,EAAEgP,EAAI,GAAKhP,EAAEgP,EAAI,GAAI,OAAO,KAC1B,MAAOhP,IAAIA,EAAE2C,EAAI,GACnB,MAAO3C,GAC2BwvF,GAApCD,EAAOc,GAAQE,GAAQvwF,EAAE6C,EAAG,EAAG,KAAgBmrF,YAC/CuB,EAAOC,EAAM,GAAa,IAARA,EAAYtB,GAAUpjF,KAAKykF,GAAQrB,GAAUqB,GAC/DA,EAAOvE,GAAOx4E,OAAO+8E,EAAkB,GAAXvvF,EAAEgP,EAAI,IAClChP,EAAE6C,EAAI0sF,EAAK7rC,iBACX1jD,EAAE4L,EAAI2jF,EAAK5rC,cACX3jD,EAAEA,EAAIuvF,EAAK3rC,cAAgB5jD,EAAE2C,EAAI,GAAK,IAEA6sF,GAAtCD,EAAOU,GAAUM,GAAQvwF,EAAE6C,EAAG,EAAG,KAAgBmqF,SACjDuC,EAAOC,EAAM,GAAa,IAARA,EAAYtC,GAAWpiF,KAAKykF,GAAQrC,GAAWqC,GACjEA,EAAO7E,GAAQl4E,OAAO+8E,EAAkB,GAAXvvF,EAAEgP,EAAI,IACnChP,EAAE6C,EAAI0sF,EAAKjD,cACXtsF,EAAE4L,EAAI2jF,EAAKlD,WACXrsF,EAAEA,EAAIuvF,EAAK1E,WAAa7qF,EAAE2C,EAAI,GAAK,EAEvC,MAAW,MAAO3C,GAAK,MAAOA,KACtB,MAAOA,IAAIA,EAAE2C,EAAI,MAAO3C,EAAIA,EAAEk6D,EAAI,EAAI,MAAOl6D,EAAI,EAAI,GAC3DwvF,EAAM,MAAOxvF,EAAIqwF,GAAQE,GAAQvwF,EAAE6C,EAAG,EAAG,IAAImrF,YAAciC,GAAUM,GAAQvwF,EAAE6C,EAAG,EAAG,IAAImqF,SACzFhtF,EAAE4L,EAAI,EACN5L,EAAEA,EAAI,MAAOA,GAAKA,EAAE2C,EAAI,GAAK,EAAU,EAAN3C,EAAE6kC,GAAS2qD,EAAM,GAAK,EAAIxvF,EAAE2C,EAAU,EAAN3C,EAAEkzF,GAAS1D,EAAM,GAAK,GAKzF,MAAI,MAAOxvF,GACTA,EAAEkwF,GAAKlwF,EAAEyzF,EAAI,IAAM,EACnBzzF,EAAEmwF,GAAKnwF,EAAEyzF,EAAI,IACNpD,GAAQrwF,IAIViwF,GAAUjwF,EACnB,CACF,CAEA,SAASi1F,EAAej1F,EAAGiyD,EAAWl2C,EAAQ7Y,GAO5C,IANA,IAGI0F,EACA5J,EAJAR,EAAI,EACJsE,EAAImvD,EAAUxzD,OACdmN,EAAImQ,EAAOtd,OAIRD,EAAIsE,GAAG,CACZ,GAAII,GAAK0I,EAAG,OAAO,EAEnB,GAAU,MADVhD,EAAIqpD,EAAUhO,WAAWzlD,OAIvB,GAFAoK,EAAIqpD,EAAUukC,OAAOh4F,OACrBQ,EAAQg2F,EAAOpsF,KAAK2tF,GAAOtkC,EAAUukC,OAAOh4F,KAAOoK,MACnC1F,EAAIlE,EAAMgB,EAAG+b,EAAQ7Y,IAAM,EAAI,OAAO,OACjD,GAAI0F,GAAKmT,EAAOkoC,WAAW/gD,KAChC,OAAO,CAEX,CAEA,OAAOA,CACT,CAuFA,OAzMAivF,EAAQvyF,EAAIu0D,EAAUw8B,EAAawB,GACnCA,EAAQr/B,EAAIqB,EAAUy8B,EAAauB,GACnCA,EAAQvpF,EAAIurD,EAAUs8B,EAAiB0B,GACvCyB,EAAWh0F,EAAIu0D,EAAUw8B,EAAaiD,GACtCA,EAAW9gC,EAAIqB,EAAUy8B,EAAagD,GACtCA,EAAWhrF,EAAIurD,EAAUs8B,EAAiBmD,GAoMnC,CACLlgF,OAAQ,SAASu+C,GACf,IAAI1yD,EAAI40D,EAAUlC,GAAa,GAAIkgC,GAEnC,OADA5yF,EAAEuwB,SAAW,WAAa,OAAOmiC,CAAW,EACrC1yD,CACT,EACAP,MAAO,SAASizD,GACd,IAAIxsD,EAAIgxF,EAASxkC,GAAa,IAAI,GAElC,OADAxsD,EAAEqqB,SAAW,WAAa,OAAOmiC,CAAW,EACrCxsD,CACT,EACAixF,UAAW,SAASzkC,GAClB,IAAI1yD,EAAI40D,EAAUlC,GAAa,GAAI2hC,GAEnC,OADAr0F,EAAEuwB,SAAW,WAAa,OAAOmiC,CAAW,EACrC1yD,CACT,EACAo3F,SAAU,SAAS1kC,GACjB,IAAIxsD,EAAIgxF,EAASxkC,GAAa,IAAI,GAElC,OADAxsD,EAAEqqB,SAAW,WAAa,OAAOmiC,CAAW,EACrCxsD,CACT,EAEJ,CAEA,ICjYImxF,GACOC,GACAC,GACAC,GACAC,GD6XPT,GAAO,CAAC,IAAK,GAAIxqF,EAAK,IAAK,EAAK,KAChCkrF,GAAW,UACXC,GAAY,KACZC,GAAY,sBAEhB,SAASC,GAAI72F,EAAOgE,EAAMlC,GACxB,IAAIovC,EAAOlxC,EAAQ,EAAI,IAAM,GACzBwb,GAAU01B,GAAQlxC,EAAQA,GAAS,GACnC9B,EAASsd,EAAOtd,OACpB,OAAOgzC,GAAQhzC,EAAS4D,EAAQ,IAAI0B,MAAM1B,EAAQ5D,EAAS,GAAGkhB,KAAKpb,GAAQwX,EAASA,EACtF,CAEA,SAASs7E,GAAQp0F,GACf,OAAOA,EAAEshD,QAAQ4yC,GAAW,OAC9B,CAEA,SAAS3F,GAASl1E,GAChB,OAAO,IAAIuI,OAAO,OAASvI,EAAMhY,IAAI+yF,IAAS13E,KAAK,KAAO,IAAK,IACjE,CAEA,SAAS+xE,GAAap1E,GACpB,OAAO,IAAItW,IAAIsW,EAAMhY,KAAI,CAAC0R,EAAMxX,IAAM,CAACwX,EAAK+Y,cAAevwB,KAC7D,CAEA,SAAS03F,GAAyBl2F,EAAG+b,EAAQvd,GAC3C,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE2C,GAAKG,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAASs3F,GAAyB/1F,EAAG+b,EAAQvd,GAC3C,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEk6D,GAAKp3D,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAASu3F,GAAsBh2F,EAAG+b,EAAQvd,GACxC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEkzF,GAAKpwF,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAASw3F,GAAmBj2F,EAAG+b,EAAQvd,GACrC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEgP,GAAKlM,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS03F,GAAsBn2F,EAAG+b,EAAQvd,GACxC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE6kC,GAAK/hC,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS42F,GAAcr1F,EAAG+b,EAAQvd,GAChC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE6C,GAAKC,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS22F,GAAUp1F,EAAG+b,EAAQvd,GAC5B,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE6C,GAAKC,EAAE,KAAOA,EAAE,GAAK,GAAK,KAAO,KAAOtE,EAAIsE,EAAE,GAAGrE,SAAU,CAC3E,CAEA,SAAS23F,GAAUp2F,EAAG+b,EAAQvd,GAC5B,IAAIsE,EAAI,+BAA+BksB,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAChE,OAAOsE,GAAK9C,EAAEyzF,EAAI3wF,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,IAAM,OAAQtE,EAAIsE,EAAE,GAAGrE,SAAU,CAC5E,CAEA,SAASk3F,GAAa31F,EAAG+b,EAAQvd,GAC/B,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEg0B,EAAW,EAAPlxB,EAAE,GAAS,EAAGtE,EAAIsE,EAAE,GAAGrE,SAAU,CACrD,CAEA,SAASg3F,GAAiBz1F,EAAG+b,EAAQvd,GACnC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE4L,EAAI9I,EAAE,GAAK,EAAGtE,EAAIsE,EAAE,GAAGrE,SAAU,CACjD,CAEA,SAASy2F,GAAgBl1F,EAAG+b,EAAQvd,GAClC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEA,GAAK8C,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS82F,GAAev1F,EAAG+b,EAAQvd,GACjC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE4L,EAAI,EAAG5L,EAAEA,GAAK8C,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CACvD,CAEA,SAAS62F,GAAYt1F,EAAG+b,EAAQvd,GAC9B,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEkwF,GAAKptF,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAASi3F,GAAa11F,EAAG+b,EAAQvd,GAC/B,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEmwF,GAAKrtF,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAASq3F,GAAa91F,EAAG+b,EAAQvd,GAC/B,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAE8B,GAAKgB,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS+2F,GAAkBx1F,EAAG+b,EAAQvd,GACpC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEowF,GAAKttF,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS02F,GAAkBn1F,EAAG+b,EAAQvd,GACpC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC1C,OAAOsE,GAAK9C,EAAEowF,EAAIjvF,KAAKC,MAAM0B,EAAE,GAAK,KAAOtE,EAAIsE,EAAE,GAAGrE,SAAU,CAChE,CAEA,SAAS43F,GAAoBr2F,EAAG+b,EAAQvd,GACtC,IAAIsE,EAAIo0F,GAAUloE,KAAKjT,EAAOva,MAAMhD,EAAGA,EAAI,IAC3C,OAAOsE,EAAItE,EAAIsE,EAAE,GAAGrE,QAAS,CAC/B,CAEA,SAASm3F,GAAmB51F,EAAG+b,EAAQvd,GACrC,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,IACnC,OAAOsE,GAAK9C,EAAEmzC,GAAKrwC,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAASo3F,GAA0B71F,EAAG+b,EAAQvd,GAC5C,IAAIsE,EAAIm0F,GAASjoE,KAAKjT,EAAOva,MAAMhD,IACnC,OAAOsE,GAAK9C,EAAEiD,GAAKH,EAAE,GAAItE,EAAIsE,EAAE,GAAGrE,SAAU,CAC9C,CAEA,SAAS2zF,GAAiBpyF,EAAGyF,GAC3B,OAAO2xF,GAAIp3F,EAAE6qF,UAAWplF,EAAG,EAC7B,CAEA,SAAS+sF,GAAaxyF,EAAGyF,GACvB,OAAO2xF,GAAIp3F,EAAEmmD,WAAY1gD,EAAG,EAC9B,CAEA,SAASgtF,GAAazyF,EAAGyF,GACvB,OAAO2xF,GAAIp3F,EAAEmmD,WAAa,IAAM,GAAI1gD,EAAG,EACzC,CAEA,SAASitF,GAAgB1yF,EAAGyF,GAC1B,OAAO2xF,GAAI,EAAI1M,GAAQhnF,MAAMqrF,GAAS/uF,GAAIA,GAAIyF,EAAG,EACnD,CAEA,SAASktF,GAAmB3yF,EAAGyF,GAC7B,OAAO2xF,GAAIp3F,EAAEurF,kBAAmB9lF,EAAG,EACrC,CAEA,SAAS4sF,GAAmBryF,EAAGyF,GAC7B,OAAOktF,GAAmB3yF,EAAGyF,GAAK,KACpC,CAEA,SAASmtF,GAAkB5yF,EAAGyF,GAC5B,OAAO2xF,GAAIp3F,EAAEqsF,WAAa,EAAG5mF,EAAG,EAClC,CAEA,SAASotF,GAAc7yF,EAAGyF,GACxB,OAAO2xF,GAAIp3F,EAAEyrF,aAAchmF,EAAG,EAChC,CAEA,SAASutF,GAAchzF,EAAGyF,GACxB,OAAO2xF,GAAIp3F,EAAEwrF,aAAc/lF,EAAG,EAChC,CAEA,SAASwtF,GAA0BjzF,GACjC,IAAIwvF,EAAMxvF,EAAEgtF,SACZ,OAAe,IAARwC,EAAY,EAAIA,CACzB,CAEA,SAAS2D,GAAuBnzF,EAAGyF,GACjC,OAAO2xF,GAAInK,GAAWvpF,MAAMqrF,GAAS/uF,GAAK,EAAGA,GAAIyF,EAAG,EACtD,CAEA,SAAS6xF,GAAKt3F,GACZ,IAAIwvF,EAAMxvF,EAAEgtF,SACZ,OAAOwC,GAAQ,GAAa,IAARA,EAAanC,GAAartF,GAAKqtF,GAAaviF,KAAK9K,EACvE,CAEA,SAASozF,GAAoBpzF,EAAGyF,GAE9B,OADAzF,EAAIs3F,GAAKt3F,GACFo3F,GAAI/J,GAAa3pF,MAAMqrF,GAAS/uF,GAAIA,IAA+B,IAAzB+uF,GAAS/uF,GAAGgtF,UAAiBvnF,EAAG,EACnF,CAEA,SAAS4tF,GAA0BrzF,GACjC,OAAOA,EAAEgtF,QACX,CAEA,SAASsG,GAAuBtzF,EAAGyF,GACjC,OAAO2xF,GAAIlK,GAAWxpF,MAAMqrF,GAAS/uF,GAAK,EAAGA,GAAIyF,EAAG,EACtD,CAEA,SAAS8tF,GAAWvzF,EAAGyF,GACrB,OAAO2xF,GAAIp3F,EAAEssF,cAAgB,IAAK7mF,EAAG,EACvC,CAEA,SAAS6sF,GAActyF,EAAGyF,GAExB,OAAO2xF,IADPp3F,EAAIs3F,GAAKt3F,IACIssF,cAAgB,IAAK7mF,EAAG,EACvC,CAEA,SAAS+tF,GAAexzF,EAAGyF,GACzB,OAAO2xF,GAAIp3F,EAAEssF,cAAgB,IAAO7mF,EAAG,EACzC,CAEA,SAAS8sF,GAAkBvyF,EAAGyF,GAC5B,IAAI+pF,EAAMxvF,EAAEgtF,SAEZ,OAAOoK,IADPp3F,EAAIwvF,GAAQ,GAAa,IAARA,EAAanC,GAAartF,GAAKqtF,GAAaviF,KAAK9K,IACrDssF,cAAgB,IAAO7mF,EAAG,EACzC,CAEA,SAASiuF,GAAW1zF,GAClB,IAAI4M,EAAI5M,EAAE8qF,oBACV,OAAQl+E,EAAI,EAAI,KAAOA,IAAK,EAAI,MAC1BwqF,GAAIxqF,EAAI,GAAK,EAAG,IAAK,GACrBwqF,GAAIxqF,EAAI,GAAI,IAAK,EACzB,CAEA,SAASinF,GAAoB7zF,EAAGyF,GAC9B,OAAO2xF,GAAIp3F,EAAE4jD,aAAcn+C,EAAG,EAChC,CAEA,SAASwuF,GAAgBj0F,EAAGyF,GAC1B,OAAO2xF,GAAIp3F,EAAEmjD,cAAe19C,EAAG,EACjC,CAEA,SAASyuF,GAAgBl0F,EAAGyF,GAC1B,OAAO2xF,GAAIp3F,EAAEmjD,cAAgB,IAAM,GAAI19C,EAAG,EAC5C,CAEA,SAAS0uF,GAAmBn0F,EAAGyF,GAC7B,OAAO2xF,GAAI,EAAIpM,GAAOtnF,MAAMwrF,GAAQlvF,GAAIA,GAAIyF,EAAG,EACjD,CAEA,SAAS2uF,GAAsBp0F,EAAGyF,GAChC,OAAO2xF,GAAIp3F,EAAEyjD,qBAAsBh+C,EAAG,EACxC,CAEA,SAASquF,GAAsB9zF,EAAGyF,GAChC,OAAO2uF,GAAsBp0F,EAAGyF,GAAK,KACvC,CAEA,SAAS4uF,GAAqBr0F,EAAGyF,GAC/B,OAAO2xF,GAAIp3F,EAAE2jD,cAAgB,EAAGl+C,EAAG,EACrC,CAEA,SAAS6uF,GAAiBt0F,EAAGyF,GAC3B,OAAO2xF,GAAIp3F,EAAEqjD,gBAAiB59C,EAAG,EACnC,CAEA,SAAS8uF,GAAiBv0F,EAAGyF,GAC3B,OAAO2xF,GAAIp3F,EAAEujD,gBAAiB99C,EAAG,EACnC,CAEA,SAAS+uF,GAA6Bx0F,GACpC,IAAIu3F,EAAMv3F,EAAEguF,YACZ,OAAe,IAARuJ,EAAY,EAAIA,CACzB,CAEA,SAAS9C,GAA0Bz0F,EAAGyF,GACpC,OAAO2xF,GAAInJ,GAAUvqF,MAAMwrF,GAAQlvF,GAAK,EAAGA,GAAIyF,EAAG,EACpD,CAEA,SAAS+xF,GAAQx3F,GACf,IAAIwvF,EAAMxvF,EAAEguF,YACZ,OAAOwB,GAAQ,GAAa,IAARA,EAAanB,GAAYruF,GAAKquF,GAAYvjF,KAAK9K,EACrE,CAEA,SAAS00F,GAAuB10F,EAAGyF,GAEjC,OADAzF,EAAIw3F,GAAQx3F,GACLo3F,GAAI/I,GAAY3qF,MAAMwrF,GAAQlvF,GAAIA,IAAiC,IAA3BkvF,GAAQlvF,GAAGguF,aAAoBvoF,EAAG,EACnF,CAEA,SAASkvF,GAA6B30F,GACpC,OAAOA,EAAEguF,WACX,CAEA,SAAS4G,GAA0B50F,EAAGyF,GACpC,OAAO2xF,GAAIlJ,GAAUxqF,MAAMwrF,GAAQlvF,GAAK,EAAGA,GAAIyF,EAAG,EACpD,CAEA,SAASovF,GAAc70F,EAAGyF,GACxB,OAAO2xF,GAAIp3F,EAAE0jD,iBAAmB,IAAKj+C,EAAG,EAC1C,CAEA,SAASsuF,GAAiB/zF,EAAGyF,GAE3B,OAAO2xF,IADPp3F,EAAIw3F,GAAQx3F,IACC0jD,iBAAmB,IAAKj+C,EAAG,EAC1C,CAEA,SAASqvF,GAAkB90F,EAAGyF,GAC5B,OAAO2xF,GAAIp3F,EAAE0jD,iBAAmB,IAAOj+C,EAAG,EAC5C,CAEA,SAASuuF,GAAqBh0F,EAAGyF,GAC/B,IAAI+pF,EAAMxvF,EAAEguF,YAEZ,OAAOoJ,IADPp3F,EAAIwvF,GAAQ,GAAa,IAARA,EAAanB,GAAYruF,GAAKquF,GAAYvjF,KAAK9K,IACnD0jD,iBAAmB,IAAOj+C,EAAG,EAC5C,CAEA,SAASsvF,KACP,MAAO,OACT,CAEA,SAASpB,KACP,MAAO,GACT,CAEA,SAASb,GAAoB9yF,GAC3B,OAAQA,CACV,CAEA,SAAS+yF,GAA2B/yF,GAClC,OAAOmB,KAAKC,OAAOpB,EAAI,IACzB,CCrqBe,SAAAy3F,GAAuBrzE,GAMpC,OALAwyE,GAASpG,GAAapsE,GACtByyE,GAAaD,GAAOljF,OACpBojF,GAAYF,GAAO53F,MACnB+3F,GAAYH,GAAOF,UACnBM,GAAWJ,GAAOD,SACXC,EACT,CCpBA,SAASc,GAAKp0F,GACZ,OAAO,IAAI8vB,KAAK9vB,EAClB,CAEA,SAASq0F,GAAOr0F,GACd,OAAOA,aAAa8vB,MAAQ9vB,GAAK,IAAI8vB,MAAM9vB,EAC7C,CAEO,SAASs0F,GAASptF,EAAOolF,EAAc3sC,EAAMqsC,EAAOC,EAAMC,EAAKC,EAAMC,EAAQmI,EAAQnkF,GAC1F,IAAIpB,EAAQ20E,KACR7oB,EAAS9rD,EAAM8rD,OACfjzD,EAASmH,EAAMnH,OAEf2sF,EAAoBpkF,EAAO,OAC3BqkF,EAAerkF,EAAO,OACtBskF,EAAetkF,EAAO,SACtBukF,EAAavkF,EAAO,SACpBwkF,EAAYxkF,EAAO,SACnBykF,EAAazkF,EAAO,SACpB0kF,EAAc1kF,EAAO,MACrB2kF,EAAa3kF,EAAO,MAExB,SAASV,EAAWgwC,GAClB,OAAQ60C,EAAO70C,GAAQA,EAAO80C,EACxBpI,EAAO1sC,GAAQA,EAAO+0C,EACtBtI,EAAKzsC,GAAQA,EAAOg1C,EACpBxI,EAAIxsC,GAAQA,EAAOi1C,EACnB3I,EAAMtsC,GAAQA,EAAQusC,EAAKvsC,GAAQA,EAAOk1C,EAAYC,EACtDl1C,EAAKD,GAAQA,EAAOo1C,EACpBC,GAAYr1C,EACpB,CA6BA,OA3BA1wC,EAAM8rD,OAAS,SAASv7D,GACtB,OAAO,IAAIuwB,KAAKgrC,EAAOv7D,GACzB,EAEAyP,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,OAAS0M,EAAOpH,MAAMC,KAAK+H,EAAG4rF,KAAWxsF,IAAS7G,IAAIozF,GACzE,EAEAplF,EAAM9H,MAAQ,SAASi9E,GACrB,IAAIznF,EAAImL,IACR,OAAOX,EAAMxK,EAAE,GAAIA,EAAEA,EAAEvB,OAAS,GAAgB,MAAZgpF,EAAmB,GAAKA,EAC9D,EAEAn1E,EAAMU,WAAa,SAAStP,EAAOuuD,GACjC,OAAoB,MAAbA,EAAoBj/C,EAAaU,EAAOu+C,EACjD,EAEA3/C,EAAM80E,KAAO,SAASK,GACpB,IAAIznF,EAAImL,IAER,OADKs8E,GAAsC,mBAAnBA,EAAS34E,QAAsB24E,EAAWmI,EAAa5vF,EAAE,GAAIA,EAAEA,EAAEvB,OAAS,GAAgB,MAAZgpF,EAAmB,GAAKA,IACvHA,EAAWt8E,EAAOq8E,GAAKxnF,EAAGynF,IAAan1E,CAChD,EAEAA,EAAMyB,KAAO,WACX,OAAO8yE,GAAKv0E,EAAOslF,GAASptF,EAAOolF,EAAc3sC,EAAMqsC,EAAOC,EAAMC,EAAKC,EAAMC,EAAQmI,EAAQnkF,GACjG,EAEOpB,CACT,CAEe,SAAAgmF,KACb,OAAO1S,GAAUnyE,MAAMmkF,GAAS7H,GAAWC,GAAkBjB,GAAU5C,GAAWc,GAAUvC,GAASY,GAAUQ,GAAYa,GAAYkK,IAAY1rF,OAAO,CAAC,IAAIioB,KAAK,IAAM,EAAG,GAAI,IAAIA,KAAK,IAAM,EAAG,KAAMpnB,UAC3M,CCjEe,SAAAusF,KACb,OAAO3S,GAAUnyE,MAAMmkF,GAAS/H,GAAUC,GAAiBZ,GAAS1C,GAAUyB,GAASjD,GAAQW,GAASK,GAAWW,GAAWoK,IAAW5rF,OAAO,CAACioB,KAAKk9D,IAAI,IAAM,EAAG,GAAIl9D,KAAKk9D,IAAI,IAAM,EAAG,KAAMtkF,UACjM,CCCA,SAASwsF,KACP,IAEIxhE,EACAzG,EACAkoE,EACAnlF,EAGA0yE,EARAx6E,EAAK,EACLC,EAAK,EAKL+0E,EAAeiG,GACfj1D,GAAQ,EAGZ,SAASlf,EAAM1S,GACb,OAAY,MAALA,GAAayN,MAAMzN,GAAKA,GAAKomF,EAAUxF,EAAqB,IAARiY,EAAY,IAAO74F,GAAK0T,EAAU1T,GAAKo3B,GAAMyhE,EAAKjnE,EAAQrwB,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAGvD,IAAMA,GACrJ,CAcA,SAASkP,EAAM4sB,GACb,OAAO,SAAS3vB,GACd,IAAI8kE,EAAI+G,EACR,OAAO5rE,UAAUvN,SAAWoyE,EAAI+G,GAAM7rE,EAAGy0E,EAAe9kD,EAAYm1C,EAAI+G,GAAKtlE,GAAS,CAACkuE,EAAa,GAAIA,EAAa,GACvH,CACF,CAUA,OA3BAluE,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,SAAW+M,EAAIC,GAAMM,EAAGirB,EAAK1jB,EAAU9H,GAAMA,GAAK+kB,EAAKjd,EAAU7H,GAAMA,GAAKgtF,EAAMzhE,IAAOzG,EAAK,EAAI,GAAKA,EAAKyG,GAAK1kB,GAAS,CAAC9G,EAAIC,EAClJ,EAEA6G,EAAMkf,MAAQ,SAASzlB,GACrB,OAAOC,UAAUvN,QAAU+yB,IAAUzlB,EAAGuG,GAASkf,CACnD,EAEAlf,EAAMkuE,aAAe,SAASz0E,GAC5B,OAAOC,UAAUvN,QAAU+hF,EAAez0E,EAAGuG,GAASkuE,CACxD,EASAluE,EAAMxD,MAAQA,EAAMokB,IAEpB5gB,EAAM8zE,WAAat3E,EAAM2vE,IAEzBnsE,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEO,SAAS1iF,GAEd,OADAgQ,EAAYhQ,EAAG0zB,EAAK1zB,EAAEkI,GAAK+kB,EAAKjtB,EAAEmI,GAAKgtF,EAAMzhE,IAAOzG,EAAK,EAAI,GAAKA,EAAKyG,GAChE1kB,CACT,CACF,CAEO,SAASomF,GAAKtwF,EAAQy3B,GAC3B,OAAOA,EACF10B,OAAO/C,EAAO+C,UACdq1E,aAAap4E,EAAOo4E,gBACpBhvD,MAAMppB,EAAOopB,SACbw0D,QAAQ59E,EAAO49E,UACtB,CAEe,SAAA2S,KACb,IAAIrmF,EAAQ60E,GAAUqR,KAAc/R,KAMpC,OAJAn0E,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAOqmF,KACrB,EAEO9S,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAAS4sF,KACd,IAAItmF,EAAQ01E,GAAQwQ,MAAertF,OAAO,CAAC,EAAG,KAM9C,OAJAmH,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAOsmF,MAAiBzQ,KAAK71E,EAAM61E,OACjD,EAEOtC,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAAS6sF,KACd,IAAIvmF,EAAQq2E,GAAU6P,MAMtB,OAJAlmF,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAOumF,MAAoBjQ,SAASt2E,EAAMs2E,WACxD,EAEO/C,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAAS8sF,KACd,IAAIxmF,EAAQ22E,GAAOuP,MAMnB,OAJAlmF,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAOwmF,MAAiBnyC,SAASr0C,EAAMq0C,WACrD,EAEOk/B,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAAS+sF,KACd,OAAOD,GAAcrlF,MAAM,KAAMzH,WAAW26C,SAAS,GACvD,CCtGe,SAAAqyC,KACb,IAAI7tF,EAAS,GACTq1E,EAAeiG,GAEnB,SAASn0E,EAAM1S,GACb,GAAS,MAALA,IAAcyN,MAAMzN,GAAKA,GAAI,OAAO4gF,GAAcz/E,EAAOoK,EAAQvL,EAAG,GAAK,IAAMuL,EAAO1M,OAAS,GACrG,CA0BA,OAxBA6T,EAAMnH,OAAS,SAASY,GACtB,IAAKC,UAAUvN,OAAQ,OAAO0M,EAAO3J,QACrC2J,EAAS,GACT,IAAK,IAAInL,KAAK+L,EAAY,MAAL/L,GAAcqN,MAAMrN,GAAKA,IAAImL,EAAOzG,KAAK1E,GAE9D,OADAmL,EAAOxC,KAAK1J,GACLqT,CACT,EAEAA,EAAMkuE,aAAe,SAASz0E,GAC5B,OAAOC,UAAUvN,QAAU+hF,EAAez0E,EAAGuG,GAASkuE,CACxD,EAEAluE,EAAMxD,MAAQ,WACZ,OAAO3D,EAAO7G,KAAI,CAACtE,EAAGxB,IAAMgiF,EAAahiF,GAAK2M,EAAO1M,OAAS,KAChE,EAEA6T,EAAMo3E,UAAY,SAAS5mF,GACzB,OAAOiB,MAAMC,KAAK,CAACvF,OAAQqE,EAAI,IAAI,CAACiJ,EAAGvN,IAAM4O,GAASjC,EAAQ3M,EAAIsE,IACpE,EAEAwP,EAAMyB,KAAO,WACX,OAAOilF,GAAmBxY,GAAcr1E,OAAOA,EACjD,EAEO06E,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CC5BA,SAASitF,KACP,IAIIjiE,EACAzG,EACAK,EACA6nE,EACAS,EAEA5lF,EAEA0yE,EAZAx6E,EAAK,EACLC,EAAK,GACL29B,EAAK,EACLnmC,EAAI,EAMJu9E,EAAeiG,GAEfj1D,GAAQ,EAGZ,SAASlf,EAAM1S,GACb,OAAOyN,MAAMzN,GAAKA,GAAKomF,GAAWpmF,EAAI,KAAQA,GAAK0T,EAAU1T,IAAM2wB,IAAOttB,EAAIrD,EAAIqD,EAAIstB,EAAKkoE,EAAMS,GAAM1Y,EAAahvD,EAAQrwB,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAGvD,IAAMA,GAC5J,CAcA,SAASkP,EAAM4sB,GACb,OAAO,SAAS3vB,GACd,IAAI8kE,EAAI+G,EAAIC,EACZ,OAAO7rE,UAAUvN,SAAWoyE,EAAI+G,EAAIC,GAAM9rE,EAAGy0E,EAAeF,GAAU5kD,EAAa,CAACm1C,EAAI+G,EAAIC,IAAMvlE,GAAS,CAACkuE,EAAa,GAAIA,EAAa,IAAMA,EAAa,GAC/J,CACF,CAUA,OA3BAluE,EAAMnH,OAAS,SAASY,GACtB,OAAOC,UAAUvN,SAAW+M,EAAIC,EAAI29B,GAAMr9B,EAAGirB,EAAK1jB,EAAU9H,GAAMA,GAAK+kB,EAAKjd,EAAU7H,GAAMA,GAAKmlB,EAAKtd,EAAU81B,GAAMA,GAAKqvD,EAAMzhE,IAAOzG,EAAK,EAAI,IAAOA,EAAKyG,GAAKkiE,EAAM3oE,IAAOK,EAAK,EAAI,IAAOA,EAAKL,GAAKttB,EAAIstB,EAAKyG,GAAK,EAAK,EAAG1kB,GAAS,CAAC9G,EAAIC,EAAI29B,EACnP,EAEA92B,EAAMkf,MAAQ,SAASzlB,GACrB,OAAOC,UAAUvN,QAAU+yB,IAAUzlB,EAAGuG,GAASkf,CACnD,EAEAlf,EAAMkuE,aAAe,SAASz0E,GAC5B,OAAOC,UAAUvN,QAAU+hF,EAAez0E,EAAGuG,GAASkuE,CACxD,EASAluE,EAAMxD,MAAQA,EAAMokB,IAEpB5gB,EAAM8zE,WAAat3E,EAAM2vE,IAEzBnsE,EAAM0zE,QAAU,SAASj6E,GACvB,OAAOC,UAAUvN,QAAUunF,EAAUj6E,EAAGuG,GAAS0zE,CACnD,EAEO,SAAS1iF,GAEd,OADAgQ,EAAYhQ,EAAG0zB,EAAK1zB,EAAEkI,GAAK+kB,EAAKjtB,EAAEmI,GAAKmlB,EAAKttB,EAAE8lC,GAAKqvD,EAAMzhE,IAAOzG,EAAK,EAAI,IAAOA,EAAKyG,GAAKkiE,EAAM3oE,IAAOK,EAAK,EAAI,IAAOA,EAAKL,GAAKttB,EAAIstB,EAAKyG,GAAK,EAAK,EAC7I1kB,CACT,CACF,CAEe,SAAA6mF,KACb,IAAI7mF,EAAQ60E,GAAU8R,KAAcxS,KAMpC,OAJAn0E,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAO6mF,KACrB,EAEOtT,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAASotF,KACd,IAAI9mF,EAAQ01E,GAAQiR,MAAe9tF,OAAO,CAAC,GAAK,EAAG,KAMnD,OAJAmH,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAO8mF,MAAgBjR,KAAK71E,EAAM61E,OAChD,EAEOtC,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAASqtF,KACd,IAAI/mF,EAAQq2E,GAAUsQ,MAMtB,OAJA3mF,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAO+mF,MAAmBzQ,SAASt2E,EAAMs2E,WACvD,EAEO/C,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAASstF,KACd,IAAIhnF,EAAQ22E,GAAOgQ,MAMnB,OAJA3mF,EAAMyB,KAAO,WACX,OAAO2kF,GAAKpmF,EAAOgnF,MAAgB3yC,SAASr0C,EAAMq0C,WACpD,EAEOk/B,GAAiBpyE,MAAMnB,EAAOtG,UACvC,CAEO,SAASutF,KACd,OAAOD,GAAa7lF,MAAM,KAAMzH,WAAW26C,SAAS,GACtD,CL/FA8wC,GAAc,CACZ/G,SAAU,SACV1tC,KAAM,aACNrsB,KAAM,eACNm6D,QAAS,CAAC,KAAM,MAChBE,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACzEE,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDE,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACvHE,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,S,UMhB9E,SAAAkI,GAASvnC,GAEtB,IADA,IAAInvD,EAAImvD,EAAUxzD,OAAS,EAAI,EAAG6zB,EAAS,IAAIvuB,MAAMjB,GAAItE,EAAI,EACtDA,EAAIsE,GAAGwvB,EAAO9zB,GAAK,IAAMyzD,EAAUzwD,MAAU,EAAJhD,EAAa,IAAJA,GACzD,OAAO8zB,CACT,C,+1ECFAmnE,GAAeD,GAAO,gECAtBE,GAAeF,GAAO,oDCAtBG,GAAeH,GAAO,oDCAtBI,GAAeJ,GAAO,4ECAtBK,GAAeL,GAAO,0DCAtBM,GAAeN,GAAO,oDCAtBO,GAAeP,GAAO,0DCAtBQ,GAAeR,GAAO,oDCAtBS,GAAeT,GAAO,4ECAtBU,GAAeV,GAAO,gECAtBW,GAAeC,GAAU7nE,GAAoB6nE,EAAOA,EAAO37F,OAAS,ICCzD47F,GAAS,IAAIt2F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAENc,GAAeH,GAAKE,ICZTE,GAAS,IAAIx2F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAENgB,GAAeL,GAAKI,ICZTE,GAAS,IAAI12F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAENkB,GAAeP,GAAKM,ICZTE,GAAS,IAAI52F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAENoB,GAAeT,GAAKQ,ICZTE,GAAS,IAAI92F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAENsB,GAAeX,GAAKU,ICZTE,GAAS,IAAIh3F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAENwB,GAAeb,GAAKY,ICZTE,GAAS,IAAIl3F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAEN0B,GAAef,GAAKc,ICZTE,GAAS,IAAIp3F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAEN4B,GAAejB,GAAKgB,ICZTE,GAAS,IAAIt3F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACA7R,IAAIk1F,IAEN8B,GAAenB,GAAKkB,ICZTE,GAAS,IAAIx3F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENgC,GAAerB,GAAKoB,ICVTE,GAAS,IAAI13F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENkC,GAAevB,GAAKsB,ICVTE,GAAS,IAAI53F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENoC,GAAezB,GAAKwB,ICVTE,GAAS,IAAI93F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENsC,GAAe3B,GAAK0B,ICVTE,GAAS,IAAIh4F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENwC,GAAe7B,GAAK4B,ICVTE,GAAS,IAAIl4F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAEN0C,GAAe/B,GAAK8B,ICVTE,GAAS,IAAIp4F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAEN4C,GAAejC,GAAKgC,ICVTE,GAAS,IAAIt4F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAEN8C,GAAenC,GAAKkC,ICVTE,GAAS,IAAIx4F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENgD,GAAerC,GAAKoC,ICVTE,GAAS,IAAI14F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENkD,GAAevC,GAAKsC,ICVTE,GAAS,IAAI54F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENoD,GAAezC,GAAKwC,ICVTE,GAAS,IAAI94F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENsD,GAAe3C,GAAK0C,ICVTE,GAAS,IAAIh5F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENwD,GAAe7C,GAAK4C,ICVTE,GAAS,IAAIl5F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAEN0D,GAAe/C,GAAK8C,ICVTE,GAAS,IAAIp5F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAEN4D,GAAejD,GAAKgD,ICVTE,GAAS,IAAIt5F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAEN8D,GAAenD,GAAKkD,ICVTE,GAAS,IAAIx5F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENgE,GAAerD,GAAKoD,ICVTE,GAAS,IAAI15F,MAAM,GAAGoS,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACA7R,IAAIk1F,IAENkE,GAAevD,GAAKsD,ICbL,SAAAE,GAASr6F,GAEtB,OADAA,EAAInC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAGG,IACrB,OACDnC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,OAAM,KAAQ/G,GAAK,MAAQA,GAAK,QAAUA,GAAK,OAASA,GAAK,QAAc,QAAJA,SAAqB,KAC3HnC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,MAAM,MAAQ/G,GAAK,OAASA,GAAK,MAAQA,GAAK,OAASA,GAAK,OAAa,MAAJA,SAAmB,KACvHnC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,MAAM,MAAQ/G,GAAK,OAASA,GAAK,QAAUA,GAAK,QAAUA,GAAK,QAAc,QAAJA,SACxG,GACR,C,ICJAs6F,GAAevd,GAAyB9xC,GAAU,IAAK,GAAK,GAAMA,IAAU,IAAM,GAAK,ICA5EsvD,GAAOxd,GAAyB9xC,IAAU,IAAM,IAAM,KAAOA,GAAU,GAAI,IAAM,KAEjFuvD,GAAOzd,GAAyB9xC,GAAU,IAAK,IAAM,KAAOA,GAAU,GAAI,IAAM,KAEvFwvD,GAAIxvD,KAEO,SAAAyvD,GAAS16F,IAClBA,EAAI,GAAKA,EAAI,KAAGA,GAAKnC,KAAKC,MAAMkC,IACpC,IAAI26F,EAAK98F,KAAKuE,IAAIpC,EAAI,IAItB,OAHAy6F,GAAEn7F,EAAI,IAAMU,EAAI,IAChBy6F,GAAE96F,EAAI,IAAM,IAAMg7F,EAClBF,GAAEjvE,EAAI,GAAM,GAAMmvE,EACXF,GAAI,EACb,CCdA,IAAIG,GAAI1uE,KACJ2uE,GAASh9F,KAAKk4B,GAAK,EACnB+kE,GAAmB,EAAVj9F,KAAKk4B,GAAS,EAEZ,SAAAglE,GAAS/6F,GACtB,IAAI1D,EAKJ,OAJA0D,GAAK,GAAMA,GAAKnC,KAAKk4B,GACrB6kE,GAAEj9F,EAAI,KAAOrB,EAAIuB,KAAKslC,IAAInjC,IAAM1D,EAChCs+F,GAAE12F,EAAI,KAAO5H,EAAIuB,KAAKslC,IAAInjC,EAAI66F,KAAWv+F,EACzCs+F,GAAE/+F,EAAI,KAAOS,EAAIuB,KAAKslC,IAAInjC,EAAI86F,KAAWx+F,EAClCs+F,GAAI,EACb,CCbe,SAAAI,GAASh7F,GAEtB,OADAA,EAAInC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,EAAGG,IACrB,OACDnC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,MAAM,MAAQ/G,GAAK,QAAUA,GAAK,SAAWA,GAAK,SAAWA,GAAK,SAAe,SAAJA,SAAsB,KAClInC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,MAAM,MAAQ/G,GAAK,OAASA,GAAK,QAAUA,GAAK,QAAUA,GAAK,QAAc,OAAJA,SAAoB,KAC5HnC,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAI,IAAKhC,KAAKkJ,MAAM,KAAO/G,GAAK,OAASA,GAAK,SAAWA,GAAK,MAAQA,GAAK,SAAe,QAAJA,SACvG,GACR,CCLA,SAASi7F,GAAKzvF,GACZ,IAAIhM,EAAIgM,EAAMrQ,OACd,OAAO,SAAS6E,GACd,OAAOwL,EAAM3N,KAAKiC,IAAI,EAAGjC,KAAKgC,IAAIL,EAAI,EAAG3B,KAAKC,MAAMkC,EAAIR,KAC1D,CACF,C,IAEA07F,GAAeD,GAAK/E,GAAO,qgDAEhBiF,GAAQF,GAAK/E,GAAO,qgDAEpBkF,GAAUH,GAAK/E,GAAO,qgDAEtBmF,GAASJ,GAAK/E,GAAO,qgD,MCZjB,SAAAoF,GAAS5oF,GACtB,OAAOgN,GAAOjF,GAAQ/H,GAAM9J,KAAK8O,SAAS2C,iBAC5C,C,+XCLA,IAAIkhF,GAAS,EAEE,SAAAC,KACb,OAAO,IAAIC,EACb,CAEA,SAASA,KACP15F,KAAK0G,EAAI,OAAS8yF,IAAQ/uE,SAAS,GACrC,CCLe,SAAAkvE,GAASC,EAAQxnF,GAM9B,OALIwnF,EAAOp/D,SACTo/D,EAAS9qE,GAAY8qE,QACR3+F,IAATmX,IAAoBA,EAAOwnF,EAAO3qE,eACtC2qE,EAASA,EAAOl7D,SAAW,CAACk7D,IAEvBl7F,MAAMC,KAAKi7F,GAAQpgF,GAASwV,GAAQxV,EAAOpH,IACpD,CCPe,SAAAynF,GAASloF,GACtB,MAA2B,iBAAbA,EACR,IAAI+I,GAAU,CAAC/E,SAAS3D,iBAAiBL,IAAY,CAACgE,SAAS2C,kBAC/D,IAAIoC,GAAU,CAAC7I,GAAMF,IAAY8I,GACzC,CFGAi/E,GAAMz1F,UAAYw1F,GAAMx1F,UAAY,CAClClE,YAAa25F,GACbt4F,IAAK,SAASgR,GAEZ,IADA,IAAI/Y,EAAK2G,KAAK0G,IACLrN,KAAM+Y,SAAaA,EAAOA,EAAKvC,YAAa,OACrD,OAAOuC,EAAK/Y,EACd,EACA8H,IAAK,SAASiR,EAAMlX,GAClB,OAAOkX,EAAKpS,KAAK0G,GAAKxL,CACxB,EACA4U,OAAQ,SAASsC,GACf,OAAOpS,KAAK0G,KAAK0L,UAAeA,EAAKpS,KAAK0G,EAC5C,EACA+jB,SAAU,WACR,OAAOzqB,KAAK0G,CACd,G,UGzBa,SAAAozF,GAASv/F,GACtB,OAAO,WACL,OAAOA,CACT,CACF,C,s4DCJO,MAAMw/F,GAAMj+F,KAAKuE,IACX25F,GAAQl+F,KAAK24B,MACbwlE,GAAMn+F,KAAKolC,IACXg5D,GAAMp+F,KAAKiC,IACXo8F,GAAMr+F,KAAKgC,IACXs8F,GAAMt+F,KAAKslC,IACXi5D,GAAOv+F,KAAK8D,KAEZ06F,GAAU,MACVC,GAAKz+F,KAAKk4B,GACVwmE,GAASD,GAAK,EACdE,GAAM,EAAIF,GAMhB,SAASG,GAAKngG,GACnB,OAAOA,GAAK,EAAIigG,GAASjgG,IAAK,GAAMigG,GAAS1+F,KAAKgoD,KAAKvpD,EACzD,CCjBO,SAASogG,GAASC,GACvB,IAAI13D,EAAS,EAcb,OAZA03D,EAAM13D,OAAS,SAASx8B,GACtB,IAAKC,UAAUvN,OAAQ,OAAO8pC,EAC9B,GAAS,MAALx8B,EACFw8B,EAAS,SACJ,CACL,MAAMvoC,EAAImB,KAAKC,MAAM2K,GACrB,KAAM/L,GAAK,GAAI,MAAM,IAAIkB,WAAW,mBAAmB6K,KACvDw8B,EAASvoC,CACX,CACA,OAAOigG,CACT,EAEO,IAAM,IAAI33D,GAAKC,EACxB,CCdA,SAAS23D,GAAelgG,GACtB,OAAOA,EAAEmgG,WACX,CAEA,SAASC,GAAepgG,GACtB,OAAOA,EAAEqgG,WACX,CAEA,SAASC,GAActgG,GACrB,OAAOA,EAAE8nC,UACX,CAEA,SAASy4D,GAAYvgG,GACnB,OAAOA,EAAE+nC,QACX,CAEA,SAASy4D,GAAYxgG,GACnB,OAAOA,GAAKA,EAAEqnC,QAChB,CAaA,SAASo5D,GAAej1F,EAAI+9B,EAAI99B,EAAIy9B,EAAI0uC,EAAI8oB,EAAIh2D,GAC9C,IAAIhB,EAAMl+B,EAAKC,EACXk+B,EAAMJ,EAAKL,EACXrpC,GAAM6qC,EAAKg2D,GAAMA,GAAMhB,GAAKh2D,EAAMA,EAAMC,EAAMA,GAC9Cg3D,EAAK9gG,EAAK8pC,EACVi3D,GAAM/gG,EAAK6pC,EACXm3D,EAAMr1F,EAAKm1F,EACXG,EAAMv3D,EAAKq3D,EACXG,EAAMt1F,EAAKk1F,EACXK,EAAM93D,EAAK03D,EACXpyB,GAAOqyB,EAAME,GAAO,EACpBtyB,GAAOqyB,EAAME,GAAO,EACpBh8D,EAAK+7D,EAAMF,EACX57D,EAAK+7D,EAAMF,EACX1xC,EAAKpqB,EAAKA,EAAKC,EAAKA,EACpBhkC,EAAI22E,EAAK8oB,EACTO,EAAIJ,EAAMG,EAAMD,EAAMD,EACtB9gG,GAAKilC,EAAK,GAAI,EAAK,GAAKy6D,GAAKH,GAAI,EAAGt+F,EAAIA,EAAImuD,EAAK6xC,EAAIA,IACrDC,GAAOD,EAAIh8D,EAAKD,EAAKhlC,GAAKovD,EAC1B8Y,IAAQ+4B,EAAIj8D,EAAKC,EAAKjlC,GAAKovD,EAC3B+xC,GAAOF,EAAIh8D,EAAKD,EAAKhlC,GAAKovD,EAC1B+Y,IAAQ84B,EAAIj8D,EAAKC,EAAKjlC,GAAKovD,EAC3BgyC,EAAMF,EAAM1yB,EACZ6yB,EAAMn5B,EAAMuG,EACZ6yB,EAAMH,EAAM3yB,EACZ+yB,EAAMp5B,EAAMsG,EAMhB,OAFI2yB,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,IAAKL,EAAMC,EAAKj5B,EAAMC,GAE7D,CACLzzB,GAAIwsD,EACJvsD,GAAIuzB,EACJx+B,KAAMi3D,EACNh3D,KAAMi3D,EACNC,IAAKK,GAAOtpB,EAAK32E,EAAI,GACrB6/F,IAAK54B,GAAO0P,EAAK32E,EAAI,GAEzB,CAEe,SAAAugG,KACb,IAAIrB,EAAcD,GACdG,EAAcD,GACdqB,EAAetC,GAAS,GACxBuC,EAAY,KACZ55D,EAAaw4D,GACbv4D,EAAWw4D,GACXl5D,EAAWm5D,GACXhtF,EAAU,KACVS,EAAO+rF,GAAS11D,GAEpB,SAASA,IACP,IAAIsB,EACA3qC,EF5EarB,EE6EbixE,GAAMsvB,EAAY1sF,MAAMpO,KAAM2G,WAC9B4rE,GAAMyoB,EAAY5sF,MAAMpO,KAAM2G,WAC9Bu+B,EAAKzC,EAAWr0B,MAAMpO,KAAM2G,WAAa6zF,GACzCr1D,EAAKzC,EAASt0B,MAAMpO,KAAM2G,WAAa6zF,GACvCl1D,EAAKy0D,GAAI50D,EAAKD,GACdG,EAAKF,EAAKD,EAQd,GANK/2B,IAASA,EAAUo4B,EAAS33B,KAG7B2jE,EAAK/G,IAAI5vE,EAAI22E,EAAIA,EAAK/G,EAAIA,EAAK5vE,GAG7B22E,EAAK+nB,GAGN,GAAIh1D,EAAKm1D,GAAMH,GAClBnsF,EAAQs1B,OAAO8uC,EAAK0nB,GAAI/0D,GAAKqtC,EAAK6nB,GAAIl1D,IACtC/2B,EAAQ82B,IAAI,EAAG,EAAGstC,EAAIrtC,EAAIC,GAAKE,GAC3BmmC,EAAK8uB,KACPnsF,EAAQs1B,OAAO+nC,EAAKyuB,GAAI90D,GAAKqmC,EAAK4uB,GAAIj1D,IACtCh3B,EAAQ82B,IAAI,EAAG,EAAGumC,EAAIrmC,EAAID,EAAIG,QAK7B,CACH,IAWI1T,EACAzG,EAZAoxE,EAAMp3D,EACNq3D,EAAMp3D,EACNkkC,EAAMnkC,EACNs3D,EAAMr3D,EACNs3D,EAAMn3D,EACNo3D,EAAMp3D,EACNkB,EAAKxE,EAAS5zB,MAAMpO,KAAM2G,WAAa,EACvCg2F,EAAKn2D,EAAM8zD,KAAa+B,GAAaA,EAAUjuF,MAAMpO,KAAM2G,WAAa0zF,GAAK7uB,EAAKA,EAAK+G,EAAKA,IAC5F8oB,EAAKlB,GAAIJ,GAAIxnB,EAAK/G,GAAM,GAAI4wB,EAAahuF,MAAMpO,KAAM2G,YACrDi2F,EAAMvB,EACNwB,EAAMxB,EAKV,GAAIsB,EAAKrC,GAAS,CAChB,IAAI1lD,EAAK8lD,GAAKiC,EAAKnxB,EAAK4uB,GAAI5zD,IACxBuO,EAAK2lD,GAAKiC,EAAKpqB,EAAK6nB,GAAI5zD,KACvBi2D,GAAY,EAAL7nD,GAAU0lD,IAA8BjxB,GAArBz0B,GAAOvP,EAAK,GAAI,EAAgBm3D,GAAO5nD,IACjE6nD,EAAM,EAAGpzB,EAAMmzB,GAAOt3D,EAAKC,GAAM,IACjCu3D,GAAY,EAAL3nD,GAAUulD,IAA8BgC,GAArBvnD,GAAO1P,EAAK,GAAI,EAAgBk3D,GAAOxnD,IACjE2nD,EAAM,EAAGJ,EAAMC,GAAOr3D,EAAKC,GAAM,EACxC,CAEA,IAAId,EAAMkuC,EAAK0nB,GAAIqC,GACfh4D,EAAMiuC,EAAK6nB,GAAIkC,GACfZ,EAAMlwB,EAAKyuB,GAAIuC,GACfb,EAAMnwB,EAAK4uB,GAAIoC,GAGnB,GAAInB,EAAKf,GAAS,CAChB,IAIIwC,EAJAtB,EAAMjpB,EAAK0nB,GAAIsC,GACfd,EAAMlpB,EAAK6nB,GAAImC,GACfpzB,EAAMqC,EAAKyuB,GAAI5wB,GACfD,EAAMoC,EAAK4uB,GAAI/wB,GAMnB,GAAI/jC,EAAKi1D,GACP,GAAIuC,EAtId,SAAmB32F,EAAI+9B,EAAI99B,EAAIy9B,EAAIE,EAAIC,EAAI6S,EAAIC,GAC7C,IAAI4kD,EAAMt1F,EAAKD,EAAIw1F,EAAM93D,EAAKK,EAC1B64D,EAAMlmD,EAAK9S,EAAIi5D,EAAMlmD,EAAK9S,EAC1B/lC,EAAI++F,EAAMtB,EAAMqB,EAAMpB,EAC1B,KAAI19F,EAAIA,EAAIq8F,IAEZ,MAAO,CAACn0F,GADRlI,GAAK8+F,GAAO74D,EAAKF,GAAMg5D,GAAO72F,EAAK49B,IAAO9lC,GACzBy9F,EAAKx3D,EAAKjmC,EAAI09F,EACjC,CA+HmBsB,CAAU54D,EAAKC,EAAK6kC,EAAKC,EAAKoyB,EAAKC,EAAKC,EAAKC,GAAM,CAC1D,IAAI1sD,EAAK5K,EAAMy4D,EAAG,GACd5tD,EAAK5K,EAAMw4D,EAAG,GACd3tD,EAAKqsD,EAAMsB,EAAG,GACd1tD,EAAKqsD,EAAMqB,EAAG,GACdI,EAAK,EAAI9C,KFtJJ7/F,GEsJc00C,EAAKE,EAAKD,EAAKE,IAAOirD,GAAKprD,EAAKA,EAAKC,EAAKA,GAAMmrD,GAAKlrD,EAAKA,EAAKC,EAAKA,KFrJ1F,EAAI,EAAI70C,GAAI,EAAKggG,GAAKz+F,KAAKgpC,KAAKvqC,IEqJkE,GAC/F4iG,EAAK9C,GAAKyC,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,IACzCF,EAAMzC,GAAIkB,GAAK7vB,EAAK2xB,IAAOD,EAAK,IAChCL,EAAM1C,GAAIkB,GAAK9oB,EAAK4qB,IAAOD,EAAK,GAClC,MACEN,EAAMC,EAAM,CAGlB,CAGMH,EAAMpC,GAGHuC,EAAMvC,IACb3oE,EAAKypE,GAAejyB,EAAKC,EAAK/kC,EAAKC,EAAKiuC,EAAIsqB,EAAKx3D,GACjDna,EAAKkwE,GAAeI,EAAKC,EAAKC,EAAKC,EAAKppB,EAAIsqB,EAAKx3D,GAEjDl3B,EAAQs1B,OAAO9R,EAAG0d,GAAK1d,EAAG0S,IAAK1S,EAAG2d,GAAK3d,EAAG2S,KAGtCu4D,EAAMxB,EAAIltF,EAAQ82B,IAAItT,EAAG0d,GAAI1d,EAAG2d,GAAIutD,EAAK7C,GAAMroE,EAAG2S,IAAK3S,EAAG0S,KAAM21D,GAAM9uE,EAAGoZ,IAAKpZ,EAAGmZ,MAAOgB,IAI1Fl3B,EAAQ82B,IAAItT,EAAG0d,GAAI1d,EAAG2d,GAAIutD,EAAK7C,GAAMroE,EAAG2S,IAAK3S,EAAG0S,KAAM21D,GAAMroE,EAAG8pE,IAAK9pE,EAAG6pE,MAAOn2D,GAC9El3B,EAAQ82B,IAAI,EAAG,EAAGstC,EAAIynB,GAAMroE,EAAG2d,GAAK3d,EAAG8pE,IAAK9pE,EAAG0d,GAAK1d,EAAG6pE,KAAMxB,GAAM9uE,EAAGokB,GAAKpkB,EAAGuwE,IAAKvwE,EAAGmkB,GAAKnkB,EAAGswE,MAAOn2D,GACrGl3B,EAAQ82B,IAAI/Z,EAAGmkB,GAAInkB,EAAGokB,GAAIutD,EAAK7C,GAAM9uE,EAAGuwE,IAAKvwE,EAAGswE,KAAMxB,GAAM9uE,EAAGoZ,IAAKpZ,EAAGmZ,MAAOgB,MAK7El3B,EAAQs1B,OAAOY,EAAKC,GAAMn2B,EAAQ82B,IAAI,EAAG,EAAGstC,EAAI+pB,EAAKC,GAAMl3D,IArB1Cl3B,EAAQs1B,OAAOY,EAAKC,GAyBpCknC,EAAK8uB,IAAcmC,EAAMnC,GAGtBsC,EAAMtC,IACb3oE,EAAKypE,GAAeM,EAAKC,EAAKH,EAAKC,EAAKjwB,GAAKoxB,EAAKv3D,GAClDna,EAAKkwE,GAAe/2D,EAAKC,EAAK6kC,EAAKC,EAAKoC,GAAKoxB,EAAKv3D,GAElDl3B,EAAQw1B,OAAOhS,EAAG0d,GAAK1d,EAAG0S,IAAK1S,EAAG2d,GAAK3d,EAAG2S,KAGtCs4D,EAAMvB,EAAIltF,EAAQ82B,IAAItT,EAAG0d,GAAI1d,EAAG2d,GAAIstD,EAAK5C,GAAMroE,EAAG2S,IAAK3S,EAAG0S,KAAM21D,GAAM9uE,EAAGoZ,IAAKpZ,EAAGmZ,MAAOgB,IAI1Fl3B,EAAQ82B,IAAItT,EAAG0d,GAAI1d,EAAG2d,GAAIstD,EAAK5C,GAAMroE,EAAG2S,IAAK3S,EAAG0S,KAAM21D,GAAMroE,EAAG8pE,IAAK9pE,EAAG6pE,MAAOn2D,GAC9El3B,EAAQ82B,IAAI,EAAG,EAAGumC,EAAIwuB,GAAMroE,EAAG2d,GAAK3d,EAAG8pE,IAAK9pE,EAAG0d,GAAK1d,EAAG6pE,KAAMxB,GAAM9uE,EAAGokB,GAAKpkB,EAAGuwE,IAAKvwE,EAAGmkB,GAAKnkB,EAAGswE,KAAMn2D,GACpGl3B,EAAQ82B,IAAI/Z,EAAGmkB,GAAInkB,EAAGokB,GAAIstD,EAAK5C,GAAM9uE,EAAGuwE,IAAKvwE,EAAGswE,KAAMxB,GAAM9uE,EAAGoZ,IAAKpZ,EAAGmZ,MAAOgB,KAK7El3B,EAAQ82B,IAAI,EAAG,EAAGumC,EAAIgxB,EAAKnzB,EAAKhkC,GArBIl3B,EAAQw1B,OAAO+3D,EAAKC,EAsB/D,MAtHqBxtF,EAAQs1B,OAAO,EAAG,GA0HvC,GAFAt1B,EAAQu1B,YAEJ6C,EAAQ,OAAOp4B,EAAU,KAAMo4B,EAAS,IAAM,IACpD,CAwCA,OAtCAtB,EAAIwgC,SAAW,WACb,IAAI7pE,IAAMk/F,EAAY1sF,MAAMpO,KAAM2G,aAAcq0F,EAAY5sF,MAAMpO,KAAM2G,YAAc,EAClF9M,IAAM4oC,EAAWr0B,MAAMpO,KAAM2G,aAAc+7B,EAASt0B,MAAMpO,KAAM2G,YAAc,EAAI4zF,GAAK,EAC3F,MAAO,CAACN,GAAIpgG,GAAK+B,EAAGw+F,GAAIvgG,GAAK+B,EAC/B,EAEAqpC,EAAI61D,YAAc,SAASp0F,GACzB,OAAOC,UAAUvN,QAAU0hG,EAA2B,mBAANp0F,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAO61D,CAC9F,EAEA71D,EAAI+1D,YAAc,SAASt0F,GACzB,OAAOC,UAAUvN,QAAU4hG,EAA2B,mBAANt0F,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAO+1D,CAC9F,EAEA/1D,EAAIm3D,aAAe,SAAS11F,GAC1B,OAAOC,UAAUvN,QAAUgjG,EAA4B,mBAAN11F,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAOm3D,CAC/F,EAEAn3D,EAAIo3D,UAAY,SAAS31F,GACvB,OAAOC,UAAUvN,QAAUijG,EAAiB,MAAL31F,EAAY,KAAoB,mBAANA,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAOo3D,CAC/G,EAEAp3D,EAAIxC,WAAa,SAAS/7B,GACxB,OAAOC,UAAUvN,QAAUqpC,EAA0B,mBAAN/7B,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAOxC,CAC7F,EAEAwC,EAAIvC,SAAW,SAASh8B,GACtB,OAAOC,UAAUvN,QAAUspC,EAAwB,mBAANh8B,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAOvC,CAC3F,EAEAuC,EAAIjD,SAAW,SAASt7B,GACtB,OAAOC,UAAUvN,QAAU4oC,EAAwB,mBAANt7B,EAAmBA,EAAIozF,IAAUpzF,GAAIu+B,GAAOjD,CAC3F,EAEAiD,EAAI92B,QAAU,SAASzH,GACrB,OAAOC,UAAUvN,QAAU+U,EAAgB,MAALzH,EAAY,KAAOA,EAAIu+B,GAAO92B,CACtE,EAEO82B,CACT,CC3QO,IAAIm4D,GAAQ1+F,MAAMuF,UAAU9H,MAEpB,SAAAkhG,GAAS9iG,GACtB,MAAoB,iBAANA,GAAkB,WAAYA,EACxCA,EACAmE,MAAMC,KAAKpE,EACjB,CCNA,SAAS+iG,GAAOnvF,GACdnO,KAAKgmE,SAAW73D,CAClB,CA0Be,SAAAovF,GAASpvF,GACtB,OAAO,IAAImvF,GAAOnvF,EACpB,CC9BO,SAASqvF,GAAEp9F,GAChB,OAAOA,EAAE,EACX,CAEO,SAASq9F,GAAEr9F,GAChB,OAAOA,EAAE,EACX,CCAe,SAAAs9F,GAASnjG,EAAGiD,GACzB,IAAIoK,EAAUkyF,IAAS,GACnB3rF,EAAU,KACVwvF,EAAQJ,GACR5hE,EAAS,KACT/sB,EAAO+rF,GAASrrF,GAKpB,SAASA,EAAKzS,GACZ,IAAI1D,EAEAwB,EAEA4rC,EAHA9oC,GAAKZ,EAAOwgG,GAAMxgG,IAAOzD,OAEzBwkG,GAAW,EAKf,IAFe,MAAXzvF,IAAiBwtB,EAASgiE,EAAMp3D,EAAS33B,MAExCzV,EAAI,EAAGA,GAAKsE,IAAKtE,IACdA,EAAIsE,GAAKmK,EAAQjN,EAAIkC,EAAK1D,GAAIA,EAAG0D,MAAW+gG,KAC5CA,GAAYA,GAAUjiE,EAAO82B,YAC5B92B,EAAO+2B,WAEVkrC,GAAUjiE,EAAOvM,OAAO70B,EAAEI,EAAGxB,EAAG0D,IAAQW,EAAE7C,EAAGxB,EAAG0D,IAGtD,GAAI0pC,EAAQ,OAAO5K,EAAS,KAAM4K,EAAS,IAAM,IACnD,CAsBA,OA3CAhsC,EAAiB,mBAANA,EAAmBA,OAAWU,IAAPV,EAAoBijG,GAAS1D,GAASv/F,GACxEiD,EAAiB,mBAANA,EAAmBA,OAAWvC,IAAPuC,EAAoBigG,GAAS3D,GAASt8F,GAsBxE8R,EAAK/U,EAAI,SAASmM,GAChB,OAAOC,UAAUvN,QAAUmB,EAAiB,mBAANmM,EAAmBA,EAAIozF,IAAUpzF,GAAI4I,GAAQ/U,CACrF,EAEA+U,EAAK9R,EAAI,SAASkJ,GAChB,OAAOC,UAAUvN,QAAUoE,EAAiB,mBAANkJ,EAAmBA,EAAIozF,IAAUpzF,GAAI4I,GAAQ9R,CACrF,EAEA8R,EAAK1H,QAAU,SAASlB,GACtB,OAAOC,UAAUvN,QAAUwO,EAAuB,mBAANlB,EAAmBA,EAAIozF,KAAWpzF,GAAI4I,GAAQ1H,CAC5F,EAEA0H,EAAKquF,MAAQ,SAASj3F,GACpB,OAAOC,UAAUvN,QAAUukG,EAAQj3F,EAAc,MAAXyH,IAAoBwtB,EAASgiE,EAAMxvF,IAAWmB,GAAQquF,CAC9F,EAEAruF,EAAKnB,QAAU,SAASzH,GACtB,OAAOC,UAAUvN,QAAe,MAALsN,EAAYyH,EAAUwtB,EAAS,KAAOA,EAASgiE,EAAMxvF,EAAUzH,GAAI4I,GAAQnB,CACxG,EAEOmB,CACT,CClDe,SAAAuuF,GAAS13F,EAAI+9B,EAAIL,GAC9B,IAAIz9B,EAAK,KACLwB,EAAUkyF,IAAS,GACnB3rF,EAAU,KACVwvF,EAAQJ,GACR5hE,EAAS,KACT/sB,EAAO+rF,GAAS/wD,GAMpB,SAASA,EAAK/sC,GACZ,IAAI1D,EACA0E,EACAwJ,EAEA1M,EAEA4rC,EAHA9oC,GAAKZ,EAAOwgG,GAAMxgG,IAAOzD,OAEzBwkG,GAAW,EAEXE,EAAM,IAAIp/F,MAAMjB,GAChBsgG,EAAM,IAAIr/F,MAAMjB,GAIpB,IAFe,MAAX0Q,IAAiBwtB,EAASgiE,EAAMp3D,EAAS33B,MAExCzV,EAAI,EAAGA,GAAKsE,IAAKtE,EAAG,CACvB,KAAMA,EAAIsE,GAAKmK,EAAQjN,EAAIkC,EAAK1D,GAAIA,EAAG0D,MAAW+gG,EAChD,GAAIA,GAAYA,EACd//F,EAAI1E,EACJwiC,EAAOqiE,YACPriE,EAAO82B,gBACF,CAGL,IAFA92B,EAAO+2B,UACP/2B,EAAO82B,YACFprD,EAAIlO,EAAI,EAAGkO,GAAKxJ,IAAKwJ,EACxBs0B,EAAOvM,MAAM0uE,EAAIz2F,GAAI02F,EAAI12F,IAE3Bs0B,EAAO+2B,UACP/2B,EAAOsiE,SACT,CAEEL,IACFE,EAAI3kG,IAAMgN,EAAGxL,EAAGxB,EAAG0D,GAAOkhG,EAAI5kG,IAAM+qC,EAAGvpC,EAAGxB,EAAG0D,GAC7C8+B,EAAOvM,MAAMhpB,GAAMA,EAAGzL,EAAGxB,EAAG0D,GAAQihG,EAAI3kG,GAAI0qC,GAAMA,EAAGlpC,EAAGxB,EAAG0D,GAAQkhG,EAAI5kG,IAE3E,CAEA,GAAIotC,EAAQ,OAAO5K,EAAS,KAAM4K,EAAS,IAAM,IACnD,CAEA,SAAS23D,IACP,OAAOR,KAAO91F,QAAQA,GAAS+1F,MAAMA,GAAOxvF,QAAQA,EACtD,CAmDA,OA/FAhI,EAAmB,mBAAPA,EAAoBA,OAAalL,IAARkL,EAAqBq3F,GAAS1D,IAAU3zF,GAC7E+9B,EAAmB,mBAAPA,EAAoBA,EAA0B41D,QAAb7+F,IAARipC,EAA8B,GAAeA,GAClFL,EAAmB,mBAAPA,EAAoBA,OAAa5oC,IAAR4oC,EAAqB45D,GAAS3D,IAAUj2D,GA4C7E+F,EAAKrvC,EAAI,SAASmM,GAChB,OAAOC,UAAUvN,QAAU+M,EAAkB,mBAANO,EAAmBA,EAAIozF,IAAUpzF,GAAIN,EAAK,KAAMwjC,GAAQzjC,CACjG,EAEAyjC,EAAKzjC,GAAK,SAASO,GACjB,OAAOC,UAAUvN,QAAU+M,EAAkB,mBAANO,EAAmBA,EAAIozF,IAAUpzF,GAAIkjC,GAAQzjC,CACtF,EAEAyjC,EAAKxjC,GAAK,SAASM,GACjB,OAAOC,UAAUvN,QAAUgN,EAAU,MAALM,EAAY,KAAoB,mBAANA,EAAmBA,EAAIozF,IAAUpzF,GAAIkjC,GAAQxjC,CACzG,EAEAwjC,EAAKpsC,EAAI,SAASkJ,GAChB,OAAOC,UAAUvN,QAAU8qC,EAAkB,mBAANx9B,EAAmBA,EAAIozF,IAAUpzF,GAAIm9B,EAAK,KAAM+F,GAAQ1F,CACjG,EAEA0F,EAAK1F,GAAK,SAASx9B,GACjB,OAAOC,UAAUvN,QAAU8qC,EAAkB,mBAANx9B,EAAmBA,EAAIozF,IAAUpzF,GAAIkjC,GAAQ1F,CACtF,EAEA0F,EAAK/F,GAAK,SAASn9B,GACjB,OAAOC,UAAUvN,QAAUyqC,EAAU,MAALn9B,EAAY,KAAoB,mBAANA,EAAmBA,EAAIozF,IAAUpzF,GAAIkjC,GAAQ/F,CACzG,EAEA+F,EAAKu0D,OACLv0D,EAAKw0D,OAAS,WACZ,OAAOF,IAAW3jG,EAAE4L,GAAI3I,EAAE0mC,EAC5B,EAEA0F,EAAKy0D,OAAS,WACZ,OAAOH,IAAW3jG,EAAE4L,GAAI3I,EAAEqmC,EAC5B,EAEA+F,EAAK00D,OAAS,WACZ,OAAOJ,IAAW3jG,EAAE6L,GAAI5I,EAAE0mC,EAC5B,EAEA0F,EAAKhiC,QAAU,SAASlB,GACtB,OAAOC,UAAUvN,QAAUwO,EAAuB,mBAANlB,EAAmBA,EAAIozF,KAAWpzF,GAAIkjC,GAAQhiC,CAC5F,EAEAgiC,EAAK+zD,MAAQ,SAASj3F,GACpB,OAAOC,UAAUvN,QAAUukG,EAAQj3F,EAAc,MAAXyH,IAAoBwtB,EAASgiE,EAAMxvF,IAAWy7B,GAAQ+zD,CAC9F,EAEA/zD,EAAKz7B,QAAU,SAASzH,GACtB,OAAOC,UAAUvN,QAAe,MAALsN,EAAYyH,EAAUwtB,EAAS,KAAOA,EAASgiE,EAAMxvF,EAAUzH,GAAIkjC,GAAQz7B,CACxG,EAEOy7B,CACT,CC/Ge,SAAA20D,GAAS1kG,EAAGC,GACzB,OAAOA,EAAID,GAAI,EAAKC,EAAID,EAAI,EAAIC,GAAKD,EAAI,EAAIE,GAC/C,CCFe,SAAAykG,GAAS7jG,GACtB,OAAOA,CACT,CCIe,SAAA8jG,KACb,IAAIvjG,EAAQsjG,GACRE,EAAaH,GACbj7F,EAAO,KACPm/B,EAAaq3D,GAAS,GACtBp3D,EAAWo3D,GAASW,IACpBz4D,EAAW83D,GAAS,GAExB,SAAS6E,EAAI9hG,GACX,IAAI1D,EAEA0E,EACAwJ,EAMA89B,EAGA3lC,EAXA/B,GAAKZ,EAAOwgG,GAAMxgG,IAAOzD,OAGzBuE,EAAM,EACNxC,EAAQ,IAAIuD,MAAMjB,GAClBmhG,EAAO,IAAIlgG,MAAMjB,GACjBynC,GAAMzC,EAAWr0B,MAAMpO,KAAM2G,WAC7B2+B,EAAKxpC,KAAKgC,IAAI28F,GAAK3+F,KAAKiC,KAAK08F,GAAK/3D,EAASt0B,MAAMpO,KAAM2G,WAAau+B,IAEpE9kC,EAAItE,KAAKgC,IAAIhC,KAAKuE,IAAIilC,GAAM7nC,EAAGukC,EAAS5zB,MAAMpO,KAAM2G,YACpDk4F,EAAKz+F,GAAKklC,EAAK,GAAI,EAAK,GAG5B,IAAKnsC,EAAI,EAAGA,EAAIsE,IAAKtE,GACdqG,EAAIo/F,EAAKzjG,EAAMhC,GAAKA,IAAM+B,EAAM2B,EAAK1D,GAAIA,EAAG0D,IAAS,IACxDc,GAAO6B,GASX,IAJkB,MAAdk/F,EAAoBvjG,EAAMmI,MAAK,SAASnK,EAAG0E,GAAK,OAAO6gG,EAAWE,EAAKzlG,GAAIylG,EAAK/gG,GAAK,IACxE,MAARyF,GAAcnI,EAAMmI,MAAK,SAASnK,EAAG0E,GAAK,OAAOyF,EAAKzG,EAAK1D,GAAI0D,EAAKgB,GAAK,IAG7E1E,EAAI,EAAGkO,EAAI1J,GAAO2nC,EAAK7nC,EAAIohG,GAAMlhG,EAAM,EAAGxE,EAAIsE,IAAKtE,EAAG+rC,EAAKC,EAC9DtnC,EAAI1C,EAAMhC,GAAiBgsC,EAAKD,IAAlB1lC,EAAIo/F,EAAK/gG,IAAmB,EAAI2B,EAAI6H,EAAI,GAAKw3F,EAAID,EAAK/gG,GAAK,CACvEhB,KAAMA,EAAKgB,GACX1C,MAAOhC,EACP+B,MAAOsE,EACPijC,WAAYyC,EACZxC,SAAUyC,EACVnD,SAAU5hC,GAId,OAAOw+F,CACT,CA0BA,OAxBAD,EAAIzjG,MAAQ,SAASwL,GACnB,OAAOC,UAAUvN,QAAU8B,EAAqB,mBAANwL,EAAmBA,EAAIozF,IAAUpzF,GAAIi4F,GAAOzjG,CACxF,EAEAyjG,EAAID,WAAa,SAASh4F,GACxB,OAAOC,UAAUvN,QAAUslG,EAAah4F,EAAGpD,EAAO,KAAMq7F,GAAOD,CACjE,EAEAC,EAAIr7F,KAAO,SAASoD,GAClB,OAAOC,UAAUvN,QAAUkK,EAAOoD,EAAGg4F,EAAa,KAAMC,GAAOr7F,CACjE,EAEAq7F,EAAIl8D,WAAa,SAAS/7B,GACxB,OAAOC,UAAUvN,QAAUqpC,EAA0B,mBAAN/7B,EAAmBA,EAAIozF,IAAUpzF,GAAIi4F,GAAOl8D,CAC7F,EAEAk8D,EAAIj8D,SAAW,SAASh8B,GACtB,OAAOC,UAAUvN,QAAUspC,EAAwB,mBAANh8B,EAAmBA,EAAIozF,IAAUpzF,GAAIi4F,GAAOj8D,CAC3F,EAEAi8D,EAAI38D,SAAW,SAASt7B,GACtB,OAAOC,UAAUvN,QAAU4oC,EAAwB,mBAANt7B,EAAmBA,EAAIozF,IAAUpzF,GAAIi4F,GAAO38D,CAC3F,EAEO28D,CACT,CN3EArB,GAAOr5F,UAAY,CACjB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKomE,OAAS,CAChB,EACA1T,QAAS,YACH1yD,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAAI,MAC/F,KAAK,EAAGwC,KAAKomE,OAAS,EACtB,QAASpmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAErC,GOvBK,IAAIshG,GAAoBC,GAAYxB,IAE3C,SAASyB,GAAOrB,GACd39F,KAAKi/F,OAAStB,CAChB,CAoBe,SAAAoB,GAAqBpB,GAElC,SAASuB,EAAO/wF,GACd,OAAO,IAAI6wF,GAAOrB,EAAMxvF,GAC1B,CAIA,OAFA+wF,EAAOD,OAAStB,EAETuB,CACT,CChCO,SAASC,GAAW11E,GACzB,IAAIlmB,EAAIkmB,EAAEk0E,MASV,OAPAl0E,EAAE0hC,MAAQ1hC,EAAElvB,SAAUkvB,EAAElvB,EACxBkvB,EAAEltB,OAASktB,EAAEjsB,SAAUisB,EAAEjsB,EAEzBisB,EAAEk0E,MAAQ,SAASj3F,GACjB,OAAOC,UAAUvN,OAASmK,EAAEw7F,GAAYr4F,IAAMnD,IAAI07F,MACpD,EAEOx1E,CACT,CAEe,SAAA21E,KACb,OAAOD,GAAWzB,KAAOC,MAAMmB,IACjC,CCde,SAAAO,KACb,IAAIxlG,EAAIgkG,KAAOF,MAAMmB,IACjBv7F,EAAI1J,EAAE8jG,MACNx3F,EAAKtM,EAAEskG,OACP/3F,EAAKvM,EAAEykG,OACPp6D,EAAKrqC,EAAEukG,OACPv6D,EAAKhqC,EAAEwkG,OAiBX,OAfAxkG,EAAEsxD,MAAQtxD,EAAEU,SAAUV,EAAEU,EACxBV,EAAE4oC,WAAa5oC,EAAEsM,UAAWtM,EAAEsM,GAC9BtM,EAAE6oC,SAAW7oC,EAAEuM,UAAWvM,EAAEuM,GAC5BvM,EAAE0C,OAAS1C,EAAE2D,SAAU3D,EAAE2D,EACzB3D,EAAEihG,YAAcjhG,EAAEqqC,UAAWrqC,EAAEqqC,GAC/BrqC,EAAEmhG,YAAcnhG,EAAEgqC,UAAWhqC,EAAEgqC,GAC/BhqC,EAAEylG,eAAiB,WAAa,OAAOH,GAAWh5F,IAAO,SAAUtM,EAAEskG,OACrEtkG,EAAE0lG,aAAe,WAAa,OAAOJ,GAAW/4F,IAAO,SAAUvM,EAAEykG,OACnEzkG,EAAE2lG,gBAAkB,WAAa,OAAOL,GAAWj7D,IAAO,SAAUrqC,EAAEukG,OACtEvkG,EAAE4lG,gBAAkB,WAAa,OAAON,GAAWt7D,IAAO,SAAUhqC,EAAEwkG,OAEtExkG,EAAE8jG,MAAQ,SAASj3F,GACjB,OAAOC,UAAUvN,OAASmK,EAAEw7F,GAAYr4F,IAAMnD,IAAI07F,MACpD,EAEOplG,CACT,CC5Be,SAAA6lG,GAASnlG,EAAGiD,GACzB,MAAO,EAAEA,GAAKA,GAAK1B,KAAKolC,IAAI3mC,GAAKuB,KAAKk4B,GAAK,GAAIx2B,EAAI1B,KAAKslC,IAAI7mC,GAC9D,CHMAykG,GAAO/6F,UAAY,CACjB+5F,UAAW,WACTh+F,KAAKi/F,OAAOjB,WACd,EACAC,QAAS,WACPj+F,KAAKi/F,OAAOhB,SACd,EACAxrC,UAAW,WACTzyD,KAAKi/F,OAAOxsC,WACd,EACAC,QAAS,WACP1yD,KAAKi/F,OAAOvsC,SACd,EACAtjC,MAAO,SAASv1B,EAAG+B,GACjBoE,KAAKi/F,OAAO7vE,MAAMxzB,EAAIE,KAAKslC,IAAIvnC,GAAI+B,GAAKE,KAAKolC,IAAIrnC,GACnD,GIrBF,MAAM8lG,GACJ5/F,YAAYoO,EAAS5T,GACnByF,KAAKgmE,SAAW73D,EAChBnO,KAAKonD,GAAK7sD,CACZ,CACAyjG,YACEh+F,KAAKmmE,MAAQ,CACf,CACA83B,UACEj+F,KAAKmmE,MAAQpsE,GACf,CACA04D,YACEzyD,KAAKomE,OAAS,CAChB,CACA1T,WACM1yD,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,CACA/2C,MAAM70B,EAAGiD,GAEP,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EACHpmE,KAAKomE,OAAS,EACVpmE,KAAKmmE,MAAOnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GACnCwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAC7B,MAEF,KAAK,EAAGwC,KAAKomE,OAAS,EACtB,QACMpmE,KAAKonD,GAAIpnD,KAAKgmE,SAASliC,cAAc9jC,KAAKmjC,KAAOnjC,KAAKmjC,IAAM5oC,GAAK,EAAGyF,KAAKojC,IAAKpjC,KAAKmjC,IAAK3lC,EAAGjD,EAAGiD,GAC7FwC,KAAKgmE,SAASliC,cAAc9jC,KAAKmjC,IAAKnjC,KAAKojC,KAAOpjC,KAAKojC,IAAM5lC,GAAK,EAAGjD,EAAGyF,KAAKojC,IAAK7oC,EAAGiD,GAI9FwC,KAAKmjC,IAAM5oC,EAAGyF,KAAKojC,IAAM5lC,CAC3B,EAGF,MAAMoiG,GACJ7/F,YAAYoO,GACVnO,KAAKgmE,SAAW73D,CAClB,CACAskD,YACEzyD,KAAKomE,OAAS,CAChB,CACA1T,UAAW,CACXtjC,MAAM70B,EAAGiD,GAEP,GADAjD,GAAKA,EAAGiD,GAAKA,EACO,IAAhBwC,KAAKomE,OACPpmE,KAAKomE,OAAS,MACT,CACL,MAAMxxB,EAAK8qD,GAAY1/F,KAAKmjC,IAAKnjC,KAAKojC,KAChC2R,EAAK2qD,GAAY1/F,KAAKmjC,IAAKnjC,KAAKojC,KAAOpjC,KAAKojC,IAAM5lC,GAAK,GACvDqiG,EAAKH,GAAYnlG,EAAGyF,KAAKojC,KACzB08D,EAAKJ,GAAYnlG,EAAGiD,GAC1BwC,KAAKgmE,SAASviC,UAAUmR,GACxB50C,KAAKgmE,SAASliC,iBAAiBiR,KAAO8qD,KAAOC,EAC/C,CACA9/F,KAAKmjC,IAAM5oC,EAAGyF,KAAKojC,IAAM5lC,CAC3B,EAGK,SAASuiG,GAAM5xF,GACpB,OAAO,IAAIwxF,GAAKxxF,GAAS,EAC3B,CAEO,SAAS6xF,GAAM7xF,GACpB,OAAO,IAAIwxF,GAAKxxF,GAAS,EAC3B,CAEO,SAAS8xF,GAAW9xF,GACzB,OAAO,IAAIyxF,GAAWzxF,EACxB,CCpEA,SAAS+xF,GAAWvlG,GAClB,OAAOA,EAAEoI,MACX,CAEA,SAASo9F,GAAWxlG,GAClB,OAAOA,EAAE6/B,MACX,CAEO,SAAS4lE,GAAKzC,GACnB,IAAI56F,EAASm9F,GACT1lE,EAAS2lE,GACT5lG,EAAIijG,GACJhgG,EAAIigG,GACJtvF,EAAU,KACVwtB,EAAS,KACT/sB,EAAO+rF,GAASpxC,GAEpB,SAASA,IACP,IAAIhjB,EACJ,MAAME,EAAO22D,GAAMv2F,KAAKF,WAClB/I,EAAImF,EAAOqL,MAAMpO,KAAMymC,GACvBxoC,EAAIu8B,EAAOpsB,MAAMpO,KAAMymC,GAM7B,GALe,MAAXt4B,IAAiBwtB,EAASgiE,EAAMp3D,EAAS33B,MAC7C+sB,EAAO82B,YACPhsB,EAAK,GAAK7oC,EAAG+9B,EAAOvM,OAAO70B,EAAE6T,MAAMpO,KAAMymC,IAAQjpC,EAAE4Q,MAAMpO,KAAMymC,IAC/DA,EAAK,GAAKxoC,EAAG09B,EAAOvM,OAAO70B,EAAE6T,MAAMpO,KAAMymC,IAAQjpC,EAAE4Q,MAAMpO,KAAMymC,IAC/D9K,EAAO+2B,UACHnsB,EAAQ,OAAO5K,EAAS,KAAM4K,EAAS,IAAM,IACnD,CAsBA,OApBAgjB,EAAKxmD,OAAS,SAAS2D,GACrB,OAAOC,UAAUvN,QAAU2J,EAAS2D,EAAG6iD,GAAQxmD,CACjD,EAEAwmD,EAAK/uB,OAAS,SAAS9zB,GACrB,OAAOC,UAAUvN,QAAUohC,EAAS9zB,EAAG6iD,GAAQ/uB,CACjD,EAEA+uB,EAAKhvD,EAAI,SAASmM,GAChB,OAAOC,UAAUvN,QAAUmB,EAAiB,mBAANmM,EAAmBA,EAAIozF,IAAUpzF,GAAI6iD,GAAQhvD,CACrF,EAEAgvD,EAAK/rD,EAAI,SAASkJ,GAChB,OAAOC,UAAUvN,QAAUoE,EAAiB,mBAANkJ,EAAmBA,EAAIozF,IAAUpzF,GAAI6iD,GAAQ/rD,CACrF,EAEA+rD,EAAKp7C,QAAU,SAASzH,GACtB,OAAOC,UAAUvN,QAAe,MAALsN,EAAYyH,EAAUwtB,EAAS,KAAOA,EAASgiE,EAAMxvF,EAAUzH,GAAI6iD,GAAQp7C,CACxG,EAEOo7C,CACT,CAEO,SAAS82C,KACd,OAAOD,GAAKL,GACd,CAEO,SAASO,KACd,OAAOF,GAAKJ,GACd,CAEO,SAASO,KACd,MAAM92E,EAAI22E,GAAKH,IAGf,OAFAx2E,EAAE0hC,MAAQ1hC,EAAElvB,SAAUkvB,EAAElvB,EACxBkvB,EAAEltB,OAASktB,EAAEjsB,SAAUisB,EAAEjsB,EAClBisB,CACT,CCtEA,MAAM+2E,GAAQnG,GAAK,G,IAEnBoG,GAAe,CACbC,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAwC,OAApCy+F,GAAKz9E,EAAOu9E,GAAIv9E,EAAO,GAAI,MAC/B3e,EAAIrC,EAAI,EACRi5D,EAAI52D,EAAIuiG,GACdryF,EAAQs1B,OAAO,EAAG7nC,GAClBuS,EAAQw1B,OAAO,GAAI/nC,GACnBuS,EAAQs1B,QAAQoxB,GAAI52D,GACpBkQ,EAAQw1B,OAAOkxB,EAAG52D,GAClBkQ,EAAQs1B,QAAQoxB,EAAG52D,GACnBkQ,EAAQw1B,OAAOkxB,GAAI52D,EACrB,GCbF0iG,GAAe,CACbD,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAIy+F,GAAKz9E,EAAO29E,IACtBpsF,EAAQs1B,OAAO7nC,EAAG,GAClBuS,EAAQ82B,IAAI,EAAG,EAAGrpC,EAAG,EAAG6+F,GAC1B,GCLFmG,GAAe,CACbF,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAIy+F,GAAKz9E,EAAO,GAAK,EAC3BzO,EAAQs1B,QAAO,EAAK7nC,GAAIA,GACxBuS,EAAQw1B,QAAQ/nC,GAAIA,GACpBuS,EAAQw1B,QAAQ/nC,GAAG,EAAKA,GACxBuS,EAAQw1B,OAAO/nC,GAAG,EAAKA,GACvBuS,EAAQw1B,OAAO/nC,GAAIA,GACnBuS,EAAQw1B,OAAO,EAAI/nC,GAAIA,GACvBuS,EAAQw1B,OAAO,EAAI/nC,EAAGA,GACtBuS,EAAQw1B,OAAO/nC,EAAGA,GAClBuS,EAAQw1B,OAAO/nC,EAAG,EAAIA,GACtBuS,EAAQw1B,QAAQ/nC,EAAG,EAAIA,GACvBuS,EAAQw1B,QAAQ/nC,EAAGA,GACnBuS,EAAQw1B,QAAO,EAAK/nC,EAAGA,GACvBuS,EAAQu1B,WACV,GChBF,MAAMm9D,GAAQxG,GAAK,EAAI,GACjByG,GAAkB,EAARD,G,IAEhBE,GAAe,CACbL,KAAKvyF,EAASyO,GACZ,MAAMpf,EAAI68F,GAAKz9E,EAAOkkF,IAChBvmG,EAAIiD,EAAIqjG,GACd1yF,EAAQs1B,OAAO,GAAIjmC,GACnB2Q,EAAQw1B,OAAOppC,EAAG,GAClB4T,EAAQw1B,OAAO,EAAGnmC,GAClB2Q,EAAQw1B,QAAQppC,EAAG,GACnB4T,EAAQu1B,WACV,GCZFs9D,GAAe,CACbN,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAiB,OAAby+F,GAAKz9E,GACfzO,EAAQs1B,OAAO,GAAI7nC,GACnBuS,EAAQw1B,OAAO/nC,EAAG,GAClBuS,EAAQw1B,OAAO,EAAG/nC,GAClBuS,EAAQw1B,QAAQ/nC,EAAG,GACnBuS,EAAQu1B,WACV,GCRFu9D,GAAe,CACbP,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAoC,OAAhCy+F,GAAKz9E,EAAOu9E,GAAIv9E,EAAO,EAAG,IACpCzO,EAAQs1B,QAAQ7nC,EAAG,GACnBuS,EAAQw1B,OAAO/nC,EAAG,GAClBuS,EAAQs1B,OAAO,EAAG7nC,GAClBuS,EAAQw1B,OAAO,GAAI/nC,EACrB,GCPFslG,GAAe,CACbR,KAAKvyF,EAASyO,GACZ,MAAMtf,EAAI+8F,GAAKz9E,GACTriB,GAAK+C,EAAI,EACf6Q,EAAQwhB,KAAKp1B,EAAGA,EAAG+C,EAAGA,EACxB,GCLF6jG,GAAe,CACbT,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAiB,MAAby+F,GAAKz9E,GACfzO,EAAQs1B,OAAO7nC,EAAGA,GAClBuS,EAAQw1B,OAAO/nC,GAAIA,GACnBuS,EAAQw1B,QAAQ/nC,GAAIA,GACpBuS,EAAQw1B,QAAQ/nC,EAAGA,GACnBuS,EAAQu1B,WACV,GCRF,MACM09D,GAAKhH,GAAIG,GAAK,IAAMH,GAAI,EAAIG,GAAK,IACjC8G,GAAKjH,GAAIK,GAAM,IAAM2G,GACrBE,IAAMrH,GAAIQ,GAAM,IAAM2G,G,IAE5BG,GAAe,CACbb,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAIy+F,GAPH,kBAOQz9E,GACTriB,EAAI8mG,GAAKzlG,EACT4B,EAAI8jG,GAAK1lG,EACfuS,EAAQs1B,OAAO,GAAI7nC,GACnBuS,EAAQw1B,OAAOppC,EAAGiD,GAClB,IAAK,IAAIrE,EAAI,EAAGA,EAAI,IAAKA,EAAG,CAC1B,MAAMU,EAAI4gG,GAAMthG,EAAI,EACdoK,EAAI02F,GAAIpgG,GACR+D,EAAIw8F,GAAIvgG,GACdsU,EAAQw1B,OAAO/lC,EAAIhC,GAAI2H,EAAI3H,GAC3BuS,EAAQw1B,OAAOpgC,EAAIhJ,EAAIqD,EAAIJ,EAAGI,EAAIrD,EAAIgJ,EAAI/F,EAC5C,CACA2Q,EAAQu1B,WACV,GCpBF,MAAM89D,GAAQnH,GAAK,G,IAEnBoH,GAAe,CACbf,KAAKvyF,EAASyO,GACZ,MAAMpf,GAAK68F,GAAKz9E,GAAgB,EAAR4kF,KACxBrzF,EAAQs1B,OAAO,EAAO,EAAJjmC,GAClB2Q,EAAQw1B,QAAQ69D,GAAQhkG,GAAIA,GAC5B2Q,EAAQw1B,OAAO69D,GAAQhkG,GAAIA,GAC3B2Q,EAAQu1B,WACV,GCTF,MAAMg+D,GAAQrH,GAAK,G,IAEnBsH,GAAe,CACbjB,KAAKvyF,EAASyO,GACZ,MAAMhf,EAAiB,MAAby8F,GAAKz9E,GACT3e,EAAIL,EAAK,EACTi3D,EAAIj3D,EAAK8jG,GAAS,EACxBvzF,EAAQs1B,OAAO,GAAI7lC,GACnBuQ,EAAQw1B,OAAOkxB,EAAG52D,GAClBkQ,EAAQw1B,QAAQkxB,EAAG52D,GACnBkQ,EAAQu1B,WACV,GCXF,MAAMk+D,IAAI,GACJC,GAAIxH,GAAK,GAAK,EACdyH,GAAI,EAAIzH,GAAK,IACb0H,GAAkB,GAAbD,GAAI,EAAI,G,IAEnBE,GAAe,CACbtB,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAIy+F,GAAKz9E,EAAOmlF,IAChB57F,EAAKvK,EAAI,EAAGsoC,EAAKtoC,EAAIkmG,GACrB17F,EAAKD,EAAI09B,EAAKjoC,EAAIkmG,GAAIlmG,EACtBmoC,GAAM39B,EAAI49B,EAAKH,EACrB11B,EAAQs1B,OAAOt9B,EAAI+9B,GACnB/1B,EAAQw1B,OAAOv9B,EAAIy9B,GACnB11B,EAAQw1B,OAAOI,EAAIC,GACnB71B,EAAQw1B,OAAOi+D,GAAIz7F,EAAK07F,GAAI39D,EAAI29D,GAAI17F,EAAKy7F,GAAI19D,GAC7C/1B,EAAQw1B,OAAOi+D,GAAIx7F,EAAKy7F,GAAIh+D,EAAIg+D,GAAIz7F,EAAKw7F,GAAI/9D,GAC7C11B,EAAQw1B,OAAOi+D,GAAI79D,EAAK89D,GAAI79D,EAAI69D,GAAI99D,EAAK69D,GAAI59D,GAC7C71B,EAAQw1B,OAAOi+D,GAAIz7F,EAAK07F,GAAI39D,EAAI09D,GAAI19D,EAAK29D,GAAI17F,GAC7CgI,EAAQw1B,OAAOi+D,GAAIx7F,EAAKy7F,GAAIh+D,EAAI+9D,GAAI/9D,EAAKg+D,GAAIz7F,GAC7C+H,EAAQw1B,OAAOi+D,GAAI79D,EAAK89D,GAAI79D,EAAI49D,GAAI59D,EAAK69D,GAAI99D,GAC7C51B,EAAQu1B,WACV,GCrBFu+D,GAAe,CACbvB,KAAKvyF,EAASyO,GACZ,MAAMhhB,EAAsC,MAAlCy+F,GAAKz9E,EAAOu9E,GAAIv9E,EAAO,EAAG,MACpCzO,EAAQs1B,QAAQ7nC,GAAIA,GACpBuS,EAAQw1B,OAAO/nC,EAAGA,GAClBuS,EAAQs1B,QAAQ7nC,EAAGA,GACnBuS,EAAQw1B,OAAO/nC,GAAIA,EACrB,GCQK,MAAMsmG,GAAc,CACzBvB,GACAC,GACAG,GACAG,GACAK,GACAE,GACAO,IAIWG,GAAgB,CAC3BxB,GACAM,GACAgB,GACAN,GACAlB,GACAU,GACAH,IAGa,SAAAoB,GAAgB1xF,EAAMkM,GACnC,IAAIzO,EAAU,KACVS,EAAO+rF,GAAS5tC,GAKpB,SAASA,IACP,IAAIxmB,EAGJ,GAFKp4B,IAASA,EAAUo4B,EAAS33B,KACjC8B,EAAKtC,MAAMpO,KAAM2G,WAAW+5F,KAAKvyF,GAAUyO,EAAKxO,MAAMpO,KAAM2G,YACxD4/B,EAAQ,OAAOp4B,EAAU,KAAMo4B,EAAS,IAAM,IACpD,CAcA,OAtBA71B,EAAuB,mBAATA,EAAsBA,EAAOopF,GAASppF,GAAQiwF,IAC5D/jF,EAAuB,mBAATA,EAAsBA,EAAOk9E,QAAkB7+F,IAAT2hB,EAAqB,IAAMA,GAS/EmwC,EAAOr8C,KAAO,SAAShK,GACrB,OAAOC,UAAUvN,QAAUsX,EAAoB,mBAANhK,EAAmBA,EAAIozF,GAASpzF,GAAIqmD,GAAUr8C,CACzF,EAEAq8C,EAAOnwC,KAAO,SAASlW,GACrB,OAAOC,UAAUvN,QAAUwjB,EAAoB,mBAANlW,EAAmBA,EAAIozF,IAAUpzF,GAAIqmD,GAAUnwC,CAC1F,EAEAmwC,EAAO5+C,QAAU,SAASzH,GACxB,OAAOC,UAAUvN,QAAU+U,EAAe,MAALzH,EAAY,KAAOA,EAAGqmD,GAAU5+C,CACvE,EAEO4+C,CACT,CCjEe,SAAAs1C,KAAY,CCApB,SAASC,GAAMhxF,EAAM/W,EAAGiD,GAC7B8T,EAAK00D,SAASliC,eACX,EAAIxyB,EAAK6xB,IAAM7xB,EAAK+xB,KAAO,GAC3B,EAAI/xB,EAAK8xB,IAAM9xB,EAAKgyB,KAAO,GAC3BhyB,EAAK6xB,IAAM,EAAI7xB,EAAK+xB,KAAO,GAC3B/xB,EAAK8xB,IAAM,EAAI9xB,EAAKgyB,KAAO,GAC3BhyB,EAAK6xB,IAAM,EAAI7xB,EAAK+xB,IAAM9oC,GAAK,GAC/B+W,EAAK8xB,IAAM,EAAI9xB,EAAKgyB,IAAM9lC,GAAK,EAEpC,CAEO,SAAS+kG,GAAMp0F,GACpBnO,KAAKgmE,SAAW73D,CAClB,CAmCe,SAAAq0F,GAASr0F,GACtB,OAAO,IAAIo0F,GAAMp0F,EACnB,CC/CA,SAASs0F,GAAYt0F,GACnBnO,KAAKgmE,SAAW73D,CAClB,CA4Ce,SAAAu0F,GAASv0F,GACtB,OAAO,IAAIs0F,GAAYt0F,EACzB,CCjDA,SAASw0F,GAAUx0F,GACjBnO,KAAKgmE,SAAW73D,CAClB,CAgCe,SAAAy0F,GAASz0F,GACtB,OAAO,IAAIw0F,GAAUx0F,EACvB,CCpCA,SAAS00F,GAAO10F,EAASqpE,GACvBx3E,KAAK8iG,OAAS,IAAIP,GAAMp0F,GACxBnO,KAAK+iG,MAAQvrB,CACf,CHUA+qB,GAAMt+F,UAAY,CAChB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAChBrjC,KAAKojC,IAAMpjC,KAAKsjC,IAAMvpC,IACtBiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EAAGk8B,GAAMtiG,KAAMA,KAAKqjC,IAAKrjC,KAAKsjC,KACnC,KAAK,EAAGtjC,KAAKgmE,SAASriC,OAAO3jC,KAAKqjC,IAAKrjC,KAAKsjC,MAE1CtjC,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAAI,MAC/F,KAAK,EAAGwC,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKgmE,SAASriC,QAAQ,EAAI3jC,KAAKmjC,IAAMnjC,KAAKqjC,KAAO,GAAI,EAAIrjC,KAAKojC,IAAMpjC,KAAKsjC,KAAO,GACzG,QAASg/D,GAAMtiG,KAAMzF,EAAGiD,GAE1BwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAM9oC,EAChCyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAM9lC,CAClC,GCtCFilG,GAAYx+F,UAAY,CACtB+5F,UAAWqE,GACXpE,QAASoE,GACT5vC,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAMhjG,KAAKijG,IAAMjjG,KAAKkjG,IACjDljG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMnjG,KAAKojG,IAAMpjG,KAAKqjG,IAAMtpG,IACvDiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EACHpmE,KAAKgmE,SAASviC,OAAOzjC,KAAKgjG,IAAKhjG,KAAKmjG,KACpCnjG,KAAKgmE,SAAStiC,YACd,MAEF,KAAK,EACH1jC,KAAKgmE,SAASviC,QAAQzjC,KAAKgjG,IAAM,EAAIhjG,KAAKijG,KAAO,GAAIjjG,KAAKmjG,IAAM,EAAInjG,KAAKojG,KAAO,GAChFpjG,KAAKgmE,SAASriC,QAAQ3jC,KAAKijG,IAAM,EAAIjjG,KAAKgjG,KAAO,GAAIhjG,KAAKojG,IAAM,EAAIpjG,KAAKmjG,KAAO,GAChFnjG,KAAKgmE,SAAStiC,YACd,MAEF,KAAK,EACH1jC,KAAKovB,MAAMpvB,KAAKgjG,IAAKhjG,KAAKmjG,KAC1BnjG,KAAKovB,MAAMpvB,KAAKijG,IAAKjjG,KAAKojG,KAC1BpjG,KAAKovB,MAAMpvB,KAAKkjG,IAAKljG,KAAKqjG,KAIhC,EACAj0E,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKgjG,IAAMzoG,EAAGyF,KAAKmjG,IAAM3lG,EAAG,MACrD,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAKijG,IAAM1oG,EAAGyF,KAAKojG,IAAM5lG,EAAG,MACrD,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAKkjG,IAAM3oG,EAAGyF,KAAKqjG,IAAM7lG,EAAGwC,KAAKgmE,SAASviC,QAAQzjC,KAAKmjC,IAAM,EAAInjC,KAAKqjC,IAAM9oC,GAAK,GAAIyF,KAAKojC,IAAM,EAAIpjC,KAAKsjC,IAAM9lC,GAAK,GAAI,MACjJ,QAAS8kG,GAAMtiG,KAAMzF,EAAGiD,GAE1BwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAM9oC,EAChCyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAM9lC,CAClC,GCxCFmlG,GAAU1+F,UAAY,CACpB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAChBrjC,KAAKojC,IAAMpjC,KAAKsjC,IAAMvpC,IACtBiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,YACH1yD,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,IAAIjgE,GAAMnG,KAAKmjC,IAAM,EAAInjC,KAAKqjC,IAAM9oC,GAAK,EAAG2pC,GAAMlkC,KAAKojC,IAAM,EAAIpjC,KAAKsjC,IAAM9lC,GAAK,EAAGwC,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOx9B,EAAI+9B,GAAMlkC,KAAKgmE,SAASviC,OAAOt9B,EAAI+9B,GAAK,MACvL,KAAK,EAAGlkC,KAAKomE,OAAS,EACtB,QAASk8B,GAAMtiG,KAAMzF,EAAGiD,GAE1BwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAM9oC,EAChCyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAM9lC,CAClC,GC1BFqlG,GAAO5+F,UAAY,CACjBwuD,UAAW,WACTzyD,KAAKonD,GAAK,GACVpnD,KAAKqnD,GAAK,GACVrnD,KAAK8iG,OAAOrwC,WACd,EACAC,QAAS,WACP,IAAIn4D,EAAIyF,KAAKonD,GACT5pD,EAAIwC,KAAKqnD,GACTxpD,EAAItD,EAAEnB,OAAS,EAEnB,GAAIyE,EAAI,EAQN,IAPA,IAKII,EALAkI,EAAK5L,EAAE,GACP2pC,EAAK1mC,EAAE,GACPmiC,EAAKplC,EAAEsD,GAAKsI,EACZy5B,EAAKpiC,EAAEK,GAAKqmC,EACZ/qC,GAAI,IAGCA,GAAK0E,GACZI,EAAI9E,EAAI0E,EACRmC,KAAK8iG,OAAO1zE,MACVpvB,KAAK+iG,MAAQxoG,EAAEpB,IAAM,EAAI6G,KAAK+iG,QAAU58F,EAAKlI,EAAI0hC,GACjD3/B,KAAK+iG,MAAQvlG,EAAErE,IAAM,EAAI6G,KAAK+iG,QAAU7+D,EAAKjmC,EAAI2hC,IAKvD5/B,KAAKonD,GAAKpnD,KAAKqnD,GAAK,KACpBrnD,KAAK8iG,OAAOpwC,SACd,EACAtjC,MAAO,SAAS70B,EAAGiD,GACjBwC,KAAKonD,GAAG/nD,MAAM9E,GACdyF,KAAKqnD,GAAGhoD,MAAM7B,EAChB,G,IAGF8lG,GAAe,SAAUliD,EAAOo2B,GAE9B,SAAS+rB,EAAOp1F,GACd,OAAgB,IAATqpE,EAAa,IAAI+qB,GAAMp0F,GAAW,IAAI00F,GAAO10F,EAASqpE,EAC/D,CAMA,OAJA+rB,EAAO/rB,KAAO,SAASA,GACrB,OAAOp2B,GAAQo2B,EACjB,EAEO+rB,CACT,CAXe,CAWZ,KCvDI,SAASC,GAAMlyF,EAAM/W,EAAGiD,GAC7B8T,EAAK00D,SAASliC,cACZxyB,EAAK+xB,IAAM/xB,EAAKmyF,IAAMnyF,EAAK0xF,IAAM1xF,EAAK6xB,KACtC7xB,EAAKgyB,IAAMhyB,EAAKmyF,IAAMnyF,EAAK6xF,IAAM7xF,EAAK8xB,KACtC9xB,EAAK0xF,IAAM1xF,EAAKmyF,IAAMnyF,EAAK+xB,IAAM9oC,GACjC+W,EAAK6xF,IAAM7xF,EAAKmyF,IAAMnyF,EAAKgyB,IAAM9lC,GACjC8T,EAAK0xF,IACL1xF,EAAK6xF,IAET,CAEO,SAASO,GAASv1F,EAASw1F,GAChC3jG,KAAKgmE,SAAW73D,EAChBnO,KAAKyjG,IAAM,EAAIE,GAAW,CAC5B,CAEAD,GAASz/F,UAAY,CACnB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAC3BhjG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMppG,IACjCiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EAAGpmE,KAAKgmE,SAASriC,OAAO3jC,KAAKgjG,IAAKhjG,KAAKmjG,KAAM,MAClD,KAAK,EAAGK,GAAMxjG,KAAMA,KAAKqjC,IAAKrjC,KAAKsjC,MAEjCtjC,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAAI,MAC/F,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAKqjC,IAAM9oC,EAAGyF,KAAKsjC,IAAM9lC,EAAG,MACrD,KAAK,EAAGwC,KAAKomE,OAAS,EACtB,QAASo9B,GAAMxjG,KAAMzF,EAAGiD,GAE1BwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAKhjG,KAAKgjG,IAAMzoG,EACrDyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAKnjG,KAAKmjG,IAAM3lG,CACvD,G,IAGFomG,GAAe,SAAUxiD,EAAOuiD,GAE9B,SAASE,EAAS11F,GAChB,OAAO,IAAIu1F,GAASv1F,EAASw1F,EAC/B,CAMA,OAJAE,EAASF,QAAU,SAASA,GAC1B,OAAOviD,GAAQuiD,EACjB,EAEOE,CACT,CAXe,CAWZ,GCzDI,SAASC,GAAe31F,EAASw1F,GACtC3jG,KAAKgmE,SAAW73D,EAChBnO,KAAKyjG,IAAM,EAAIE,GAAW,CAC5B,CAEAG,GAAe7/F,UAAY,CACzB+5F,UAAWqE,GACXpE,QAASoE,GACT5vC,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAMhjG,KAAKijG,IAAMjjG,KAAKkjG,IAAMljG,KAAK+jG,IAC5D/jG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMnjG,KAAKojG,IAAMpjG,KAAKqjG,IAAMrjG,KAAKgkG,IAAMjqG,IAClEiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EACHpmE,KAAKgmE,SAASviC,OAAOzjC,KAAKijG,IAAKjjG,KAAKojG,KACpCpjG,KAAKgmE,SAAStiC,YACd,MAEF,KAAK,EACH1jC,KAAKgmE,SAASriC,OAAO3jC,KAAKijG,IAAKjjG,KAAKojG,KACpCpjG,KAAKgmE,SAAStiC,YACd,MAEF,KAAK,EACH1jC,KAAKovB,MAAMpvB,KAAKijG,IAAKjjG,KAAKojG,KAC1BpjG,KAAKovB,MAAMpvB,KAAKkjG,IAAKljG,KAAKqjG,KAC1BrjG,KAAKovB,MAAMpvB,KAAK+jG,IAAK/jG,KAAKgkG,KAIhC,EACA50E,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKijG,IAAM1oG,EAAGyF,KAAKojG,IAAM5lG,EAAG,MACrD,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAKgmE,SAASviC,OAAOzjC,KAAKkjG,IAAM3oG,EAAGyF,KAAKqjG,IAAM7lG,GAAI,MAC3E,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAK+jG,IAAMxpG,EAAGyF,KAAKgkG,IAAMxmG,EAAG,MACrD,QAASgmG,GAAMxjG,KAAMzF,EAAGiD,GAE1BwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAKhjG,KAAKgjG,IAAMzoG,EACrDyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAKnjG,KAAKmjG,IAAM3lG,CACvD,G,IAGFymG,GAAe,SAAU7iD,EAAOuiD,GAE9B,SAASE,EAAS11F,GAChB,OAAO,IAAI21F,GAAe31F,EAASw1F,EACrC,CAMA,OAJAE,EAASF,QAAU,SAASA,GAC1B,OAAOviD,GAAQuiD,EACjB,EAEOE,CACT,CAXe,CAWZ,GC1DI,SAASK,GAAa/1F,EAASw1F,GACpC3jG,KAAKgmE,SAAW73D,EAChBnO,KAAKyjG,IAAM,EAAIE,GAAW,CAC5B,CAEAO,GAAajgG,UAAY,CACvB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAC3BhjG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMppG,IACjCiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,YACH1yD,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAO3jC,KAAKgjG,IAAKhjG,KAAKmjG,KAAOnjG,KAAKgmE,SAASviC,OAAOzjC,KAAKgjG,IAAKhjG,KAAKmjG,KAAM,MAC3H,KAAK,EAAGnjG,KAAKomE,OAAS,EACtB,QAASo9B,GAAMxjG,KAAMzF,EAAGiD,GAE1BwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAKhjG,KAAKgjG,IAAMzoG,EACrDyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAKnjG,KAAKmjG,IAAM3lG,CACvD,G,IAGF2mG,GAAe,SAAU/iD,EAAOuiD,GAE9B,SAASE,EAAS11F,GAChB,OAAO,IAAI+1F,GAAa/1F,EAASw1F,EACnC,CAMA,OAJAE,EAASF,QAAU,SAASA,GAC1B,OAAOviD,GAAQuiD,EACjB,EAEOE,CACT,CAXe,CAWZ,GC7CI,SAASO,GAAM9yF,EAAM/W,EAAGiD,GAC7B,IAAI4I,EAAKkL,EAAK+xB,IACVQ,EAAKvyB,EAAKgyB,IACVS,EAAKzyB,EAAK0xF,IACVh/D,EAAK1yB,EAAK6xF,IAEd,GAAI7xF,EAAK+yF,OAAS/J,GAAS,CACzB,IAAIzgG,EAAI,EAAIyX,EAAKgzF,QAAU,EAAIhzF,EAAK+yF,OAAS/yF,EAAKizF,OAASjzF,EAAKkzF,QAC5D/mG,EAAI,EAAI6T,EAAK+yF,QAAU/yF,EAAK+yF,OAAS/yF,EAAKizF,QAC9Cn+F,GAAMA,EAAKvM,EAAIyX,EAAK6xB,IAAM7xB,EAAKkzF,QAAUlzF,EAAK0xF,IAAM1xF,EAAKgzF,SAAW7mG,EACpEomC,GAAMA,EAAKhqC,EAAIyX,EAAK8xB,IAAM9xB,EAAKkzF,QAAUlzF,EAAK6xF,IAAM7xF,EAAKgzF,SAAW7mG,CACtE,CAEA,GAAI6T,EAAKmzF,OAASnK,GAAS,CACzB,IAAIxgG,EAAI,EAAIwX,EAAKozF,QAAU,EAAIpzF,EAAKmzF,OAASnzF,EAAKizF,OAASjzF,EAAKkzF,QAC5Dj+F,EAAI,EAAI+K,EAAKmzF,QAAUnzF,EAAKmzF,OAASnzF,EAAKizF,QAC9CxgE,GAAMA,EAAKjqC,EAAIwX,EAAK+xB,IAAM/xB,EAAKozF,QAAUnqG,EAAI+W,EAAKkzF,SAAWj+F,EAC7Dy9B,GAAMA,EAAKlqC,EAAIwX,EAAKgyB,IAAMhyB,EAAKozF,QAAUlnG,EAAI8T,EAAKkzF,SAAWj+F,CAC/D,CAEA+K,EAAK00D,SAASliC,cAAc19B,EAAIy9B,EAAIE,EAAIC,EAAI1yB,EAAK0xF,IAAK1xF,EAAK6xF,IAC7D,CAEA,SAASwB,GAAWx2F,EAASs7C,GAC3BzpD,KAAKgmE,SAAW73D,EAChBnO,KAAK4kG,OAASn7C,CAChB,CAEAk7C,GAAW1gG,UAAY,CACrB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAC3BhjG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMppG,IACjCiG,KAAKqkG,OAASrkG,KAAKukG,OAASvkG,KAAKykG,OACjCzkG,KAAKskG,QAAUtkG,KAAKwkG,QAAUxkG,KAAK0kG,QACnC1kG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EAAGpmE,KAAKgmE,SAASriC,OAAO3jC,KAAKgjG,IAAKhjG,KAAKmjG,KAAM,MAClD,KAAK,EAAGnjG,KAAKovB,MAAMpvB,KAAKgjG,IAAKhjG,KAAKmjG,MAEhCnjG,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAGjB,GAFAjD,GAAKA,EAAGiD,GAAKA,EAETwC,KAAKomE,OAAQ,CACf,IAAIy+B,EAAM7kG,KAAKgjG,IAAMzoG,EACjBuqG,EAAM9kG,KAAKmjG,IAAM3lG,EACrBwC,KAAKykG,OAAS3oG,KAAK8D,KAAKI,KAAK0kG,QAAU5oG,KAAK6I,IAAIkgG,EAAMA,EAAMC,EAAMA,EAAK9kG,KAAK4kG,QAC9E,CAEA,OAAQ5kG,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAAI,MAC/F,KAAK,EAAGwC,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EACtB,QAASg+B,GAAMpkG,KAAMzF,EAAGiD,GAG1BwC,KAAKqkG,OAASrkG,KAAKukG,OAAQvkG,KAAKukG,OAASvkG,KAAKykG,OAC9CzkG,KAAKskG,QAAUtkG,KAAKwkG,QAASxkG,KAAKwkG,QAAUxkG,KAAK0kG,QACjD1kG,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAKhjG,KAAKgjG,IAAMzoG,EACrDyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAKnjG,KAAKmjG,IAAM3lG,CACvD,G,IAGFunG,GAAe,SAAU3jD,EAAOqI,GAE9B,SAASu7C,EAAW72F,GAClB,OAAOs7C,EAAQ,IAAIk7C,GAAWx2F,EAASs7C,GAAS,IAAIi6C,GAASv1F,EAAS,EACxE,CAMA,OAJA62F,EAAWv7C,MAAQ,SAASA,GAC1B,OAAOrI,GAAQqI,EACjB,EAEOu7C,CACT,CAXe,CAWZ,ICnFH,SAASC,GAAiB92F,EAASs7C,GACjCzpD,KAAKgmE,SAAW73D,EAChBnO,KAAK4kG,OAASn7C,CAChB,CAEAw7C,GAAiBhhG,UAAY,CAC3B+5F,UAAWqE,GACXpE,QAASoE,GACT5vC,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAMhjG,KAAKijG,IAAMjjG,KAAKkjG,IAAMljG,KAAK+jG,IAC5D/jG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMnjG,KAAKojG,IAAMpjG,KAAKqjG,IAAMrjG,KAAKgkG,IAAMjqG,IAClEiG,KAAKqkG,OAASrkG,KAAKukG,OAASvkG,KAAKykG,OACjCzkG,KAAKskG,QAAUtkG,KAAKwkG,QAAUxkG,KAAK0kG,QACnC1kG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EACHpmE,KAAKgmE,SAASviC,OAAOzjC,KAAKijG,IAAKjjG,KAAKojG,KACpCpjG,KAAKgmE,SAAStiC,YACd,MAEF,KAAK,EACH1jC,KAAKgmE,SAASriC,OAAO3jC,KAAKijG,IAAKjjG,KAAKojG,KACpCpjG,KAAKgmE,SAAStiC,YACd,MAEF,KAAK,EACH1jC,KAAKovB,MAAMpvB,KAAKijG,IAAKjjG,KAAKojG,KAC1BpjG,KAAKovB,MAAMpvB,KAAKkjG,IAAKljG,KAAKqjG,KAC1BrjG,KAAKovB,MAAMpvB,KAAK+jG,IAAK/jG,KAAKgkG,KAIhC,EACA50E,MAAO,SAAS70B,EAAGiD,GAGjB,GAFAjD,GAAKA,EAAGiD,GAAKA,EAETwC,KAAKomE,OAAQ,CACf,IAAIy+B,EAAM7kG,KAAKgjG,IAAMzoG,EACjBuqG,EAAM9kG,KAAKmjG,IAAM3lG,EACrBwC,KAAKykG,OAAS3oG,KAAK8D,KAAKI,KAAK0kG,QAAU5oG,KAAK6I,IAAIkgG,EAAMA,EAAMC,EAAMA,EAAK9kG,KAAK4kG,QAC9E,CAEA,OAAQ5kG,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKijG,IAAM1oG,EAAGyF,KAAKojG,IAAM5lG,EAAG,MACrD,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAKgmE,SAASviC,OAAOzjC,KAAKkjG,IAAM3oG,EAAGyF,KAAKqjG,IAAM7lG,GAAI,MAC3E,KAAK,EAAGwC,KAAKomE,OAAS,EAAGpmE,KAAK+jG,IAAMxpG,EAAGyF,KAAKgkG,IAAMxmG,EAAG,MACrD,QAAS4mG,GAAMpkG,KAAMzF,EAAGiD,GAG1BwC,KAAKqkG,OAASrkG,KAAKukG,OAAQvkG,KAAKukG,OAASvkG,KAAKykG,OAC9CzkG,KAAKskG,QAAUtkG,KAAKwkG,QAASxkG,KAAKwkG,QAAUxkG,KAAK0kG,QACjD1kG,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAKhjG,KAAKgjG,IAAMzoG,EACrDyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAKnjG,KAAKmjG,IAAM3lG,CACvD,G,IAGF0nG,GAAe,SAAU9jD,EAAOqI,GAE9B,SAASu7C,EAAW72F,GAClB,OAAOs7C,EAAQ,IAAIw7C,GAAiB92F,EAASs7C,GAAS,IAAIq6C,GAAe31F,EAAS,EACpF,CAMA,OAJA62F,EAAWv7C,MAAQ,SAASA,GAC1B,OAAOrI,GAAQqI,EACjB,EAEOu7C,CACT,CAXe,CAWZ,ICtEH,SAASG,GAAeh3F,EAASs7C,GAC/BzpD,KAAKgmE,SAAW73D,EAChBnO,KAAK4kG,OAASn7C,CAChB,CAEA07C,GAAelhG,UAAY,CACzB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAAMrjC,KAAKgjG,IAC3BhjG,KAAKojC,IAAMpjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAMppG,IACjCiG,KAAKqkG,OAASrkG,KAAKukG,OAASvkG,KAAKykG,OACjCzkG,KAAKskG,QAAUtkG,KAAKwkG,QAAUxkG,KAAK0kG,QACnC1kG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,YACH1yD,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GAGjB,GAFAjD,GAAKA,EAAGiD,GAAKA,EAETwC,KAAKomE,OAAQ,CACf,IAAIy+B,EAAM7kG,KAAKgjG,IAAMzoG,EACjBuqG,EAAM9kG,KAAKmjG,IAAM3lG,EACrBwC,KAAKykG,OAAS3oG,KAAK8D,KAAKI,KAAK0kG,QAAU5oG,KAAK6I,IAAIkgG,EAAMA,EAAMC,EAAMA,EAAK9kG,KAAK4kG,QAC9E,CAEA,OAAQ5kG,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAO3jC,KAAKgjG,IAAKhjG,KAAKmjG,KAAOnjG,KAAKgmE,SAASviC,OAAOzjC,KAAKgjG,IAAKhjG,KAAKmjG,KAAM,MAC3H,KAAK,EAAGnjG,KAAKomE,OAAS,EACtB,QAASg+B,GAAMpkG,KAAMzF,EAAGiD,GAG1BwC,KAAKqkG,OAASrkG,KAAKukG,OAAQvkG,KAAKukG,OAASvkG,KAAKykG,OAC9CzkG,KAAKskG,QAAUtkG,KAAKwkG,QAASxkG,KAAKwkG,QAAUxkG,KAAK0kG,QACjD1kG,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAMrjC,KAAKgjG,IAAKhjG,KAAKgjG,IAAMzoG,EACrDyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAMtjC,KAAKmjG,IAAKnjG,KAAKmjG,IAAM3lG,CACvD,G,IAGF4nG,GAAe,SAAUhkD,EAAOqI,GAE9B,SAASu7C,EAAW72F,GAClB,OAAOs7C,EAAQ,IAAI07C,GAAeh3F,EAASs7C,GAAS,IAAIy6C,GAAa/1F,EAAS,EAChF,CAMA,OAJA62F,EAAWv7C,MAAQ,SAASA,GAC1B,OAAOrI,GAAQqI,EACjB,EAEOu7C,CACT,CAXe,CAWZ,IC3DH,SAASK,GAAal3F,GACpBnO,KAAKgmE,SAAW73D,CAClB,CAkBe,SAAAm3F,GAASn3F,GACtB,OAAO,IAAIk3F,GAAal3F,EAC1B,CCxBA,SAASo3F,GAAKhrG,GACZ,OAAOA,EAAI,GAAI,EAAK,CACtB,CAMA,SAASirG,GAAOl0F,EAAMyyB,EAAIC,GACxB,IAAIqT,EAAK/lC,EAAK+xB,IAAM/xB,EAAK6xB,IACrBmU,EAAKvT,EAAKzyB,EAAK+xB,IACfnlC,GAAMoT,EAAKgyB,IAAMhyB,EAAK8xB,MAAQiU,GAAMC,EAAK,IAAK,GAC9Cn5C,GAAM6lC,EAAK1yB,EAAKgyB,MAAQgU,GAAMD,EAAK,IAAK,GACxCj3C,GAAKlC,EAAKo5C,EAAKn5C,EAAKk5C,IAAOA,EAAKC,GACpC,OAAQiuD,GAAKrnG,GAAMqnG,GAAKpnG,IAAOrC,KAAKgC,IAAIhC,KAAKuE,IAAInC,GAAKpC,KAAKuE,IAAIlC,GAAK,GAAMrC,KAAKuE,IAAID,KAAO,CAC5F,CAGA,SAASqlG,GAAOn0F,EAAMrT,GACpB,IAAIV,EAAI+T,EAAK+xB,IAAM/xB,EAAK6xB,IACxB,OAAO5lC,GAAK,GAAK+T,EAAKgyB,IAAMhyB,EAAK8xB,KAAO7lC,EAAIU,GAAK,EAAIA,CACvD,CAKA,SAASynG,GAAMp0F,EAAMqgB,EAAIzG,GACvB,IAAI/kB,EAAKmL,EAAK6xB,IACVe,EAAK5yB,EAAK8xB,IACVh9B,EAAKkL,EAAK+xB,IACVQ,EAAKvyB,EAAKgyB,IACV3D,GAAMv5B,EAAKD,GAAM,EACrBmL,EAAK00D,SAASliC,cAAc39B,EAAKw5B,EAAIuE,EAAKvE,EAAKhO,EAAIvrB,EAAKu5B,EAAIkE,EAAKlE,EAAKzU,EAAI9kB,EAAIy9B,EAChF,CAEA,SAAS8hE,GAAUx3F,GACjBnO,KAAKgmE,SAAW73D,CAClB,CAyCA,SAASy3F,GAAUz3F,GACjBnO,KAAKgmE,SAAW,IAAI6/B,GAAe13F,EACrC,CAMA,SAAS03F,GAAe13F,GACtBnO,KAAKgmE,SAAW73D,CAClB,CASO,SAAS23F,GAAU33F,GACxB,OAAO,IAAIw3F,GAAUx3F,EACvB,CAEO,SAAS43F,GAAU53F,GACxB,OAAO,IAAIy3F,GAAUz3F,EACvB,CCvGA,SAAS63F,GAAQ73F,GACfnO,KAAKgmE,SAAW73D,CAClB,CA0CA,SAAS83F,GAAc1rG,GACrB,IAAIpB,EAEAoN,EADA9I,EAAIlD,EAAEnB,OAAS,EAEfS,EAAI,IAAI6E,MAAMjB,GACd3D,EAAI,IAAI4E,MAAMjB,GACd7B,EAAI,IAAI8C,MAAMjB,GAElB,IADA5D,EAAE,GAAK,EAAGC,EAAE,GAAK,EAAG8B,EAAE,GAAKrB,EAAE,GAAK,EAAIA,EAAE,GACnCpB,EAAI,EAAGA,EAAIsE,EAAI,IAAKtE,EAAGU,EAAEV,GAAK,EAAGW,EAAEX,GAAK,EAAGyC,EAAEzC,GAAK,EAAIoB,EAAEpB,GAAK,EAAIoB,EAAEpB,EAAI,GAE5E,IADAU,EAAE4D,EAAI,GAAK,EAAG3D,EAAE2D,EAAI,GAAK,EAAG7B,EAAE6B,EAAI,GAAK,EAAIlD,EAAEkD,EAAI,GAAKlD,EAAEkD,GACnDtE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGoN,EAAI1M,EAAEV,GAAKW,EAAEX,EAAI,GAAIW,EAAEX,IAAMoN,EAAG3K,EAAEzC,IAAMoN,EAAI3K,EAAEzC,EAAI,GAE1E,IADAU,EAAE4D,EAAI,GAAK7B,EAAE6B,EAAI,GAAK3D,EAAE2D,EAAI,GACvBtE,EAAIsE,EAAI,EAAGtE,GAAK,IAAKA,EAAGU,EAAEV,IAAMyC,EAAEzC,GAAKU,EAAEV,EAAI,IAAMW,EAAEX,GAE1D,IADAW,EAAE2D,EAAI,IAAMlD,EAAEkD,GAAK5D,EAAE4D,EAAI,IAAM,EAC1BtE,EAAI,EAAGA,EAAIsE,EAAI,IAAKtE,EAAGW,EAAEX,GAAK,EAAIoB,EAAEpB,EAAI,GAAKU,EAAEV,EAAI,GACxD,MAAO,CAACU,EAAGC,EACb,CAEe,SAAAosG,GAAS/3F,GACtB,OAAO,IAAI63F,GAAQ73F,EACrB,CChEA,SAASg4F,GAAKh4F,EAASlQ,GACrB+B,KAAKgmE,SAAW73D,EAChBnO,KAAKomG,GAAKnoG,CACZ,CAuCe,SAAAooG,GAASl4F,GACtB,OAAO,IAAIg4F,GAAKh4F,EAAS,GAC3B,CAEO,SAASm4F,GAAWn4F,GACzB,OAAO,IAAIg4F,GAAKh4F,EAAS,EAC3B,CAEO,SAASo4F,GAAUp4F,GACxB,OAAO,IAAIg4F,GAAKh4F,EAAS,EAC3B,CCpDe,SAAAq4F,GAASC,EAAQ13F,GAC9B,IAAOtR,EAAIgpG,EAAOrtG,QAAU,EAC5B,IAAK,IAAWyE,EAAGK,EAA2BT,EAArCtE,EAAI,EAAUgF,EAAKsoG,EAAO13F,EAAM,IAAQxI,EAAIpI,EAAG/E,OAAQD,EAAIsE,IAAKtE,EAEvE,IADA+E,EAAKC,EAAIA,EAAKsoG,EAAO13F,EAAM5V,IACtB0E,EAAI,EAAGA,EAAI0I,IAAK1I,EACnBM,EAAGN,GAAG,IAAMM,EAAGN,GAAG,GAAKmK,MAAM9J,EAAGL,GAAG,IAAMK,EAAGL,GAAG,GAAKK,EAAGL,GAAG,EAGhE,CCRe,SAAA6oG,GAASD,GAEtB,IADA,IAAIhpG,EAAIgpG,EAAOrtG,OAAQ8S,EAAI,IAAIxN,MAAMjB,KAC5BA,GAAK,GAAGyO,EAAEzO,GAAKA,EACxB,OAAOyO,CACT,CCCA,SAASy6F,GAAWhsG,EAAGkG,GACrB,OAAOlG,EAAEkG,EACX,CAEA,SAAS+lG,GAAY/lG,GACnB,MAAM4lG,EAAS,GAEf,OADAA,EAAO5lG,IAAMA,EACN4lG,CACT,CAEe,SAAAI,KACb,IAAI5tG,EAAO6gG,GAAS,IAChB/qF,EAAQ23F,GACRv5F,EAASq5F,GACTtrG,EAAQyrG,GAEZ,SAASG,EAAMjqG,GACb,IACI1D,EACA4tG,EAFAC,EAAKtoG,MAAMC,KAAK1F,EAAKmV,MAAMpO,KAAM2G,WAAYigG,IAC1CnpG,EAAIupG,EAAG5tG,OAAQyE,GAAI,EAG1B,IAAK,MAAMlD,KAAKkC,EACd,IAAK1D,EAAI,IAAK0E,EAAG1E,EAAIsE,IAAKtE,GACvB6tG,EAAG7tG,GAAG0E,GAAK,CAAC,GAAI3C,EAAMP,EAAGqsG,EAAG7tG,GAAG0H,IAAKhD,EAAGhB,KAAQA,KAAOlC,EAI3D,IAAKxB,EAAI,EAAG4tG,EAAK1J,GAAMtuF,EAAMi4F,IAAM7tG,EAAIsE,IAAKtE,EAC1C6tG,EAAGD,EAAG5tG,IAAIgC,MAAQhC,EAIpB,OADAgU,EAAO65F,EAAID,GACJC,CACT,CAkBA,OAhBAF,EAAM7tG,KAAO,SAASyN,GACpB,OAAOC,UAAUvN,QAAUH,EAAoB,mBAANyN,EAAmBA,EAAIozF,GAASp7F,MAAMC,KAAK+H,IAAKogG,GAAS7tG,CACpG,EAEA6tG,EAAM5rG,MAAQ,SAASwL,GACrB,OAAOC,UAAUvN,QAAU8B,EAAqB,mBAANwL,EAAmBA,EAAIozF,IAAUpzF,GAAIogG,GAAS5rG,CAC1F,EAEA4rG,EAAM/3F,MAAQ,SAASrI,GACrB,OAAOC,UAAUvN,QAAU2V,EAAa,MAALrI,EAAYggG,GAAyB,mBAANhgG,EAAmBA,EAAIozF,GAASp7F,MAAMC,KAAK+H,IAAKogG,GAAS/3F,CAC7H,EAEA+3F,EAAM35F,OAAS,SAASzG,GACtB,OAAOC,UAAUvN,QAAU+T,EAAc,MAALzG,EAAY8/F,GAAa9/F,EAAGogG,GAAS35F,CAC3E,EAEO25F,CACT,CCvDe,SAAAG,GAASR,EAAQ13F,GAC9B,IAAOtR,EAAIgpG,EAAOrtG,QAAU,EAA5B,CACA,IAAK,IAAID,EAAGsE,EAAgCD,EAA7BK,EAAI,EAAG0I,EAAIkgG,EAAO,GAAGrtG,OAAWyE,EAAI0I,IAAK1I,EAAG,CACzD,IAAKL,EAAIrE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGqE,GAAKipG,EAAOttG,GAAG0E,GAAG,IAAM,EACpD,GAAIL,EAAG,IAAKrE,EAAI,EAAGA,EAAIsE,IAAKtE,EAAGstG,EAAOttG,GAAG0E,GAAG,IAAML,CACpD,CACAgpG,GAAKC,EAAQ13F,EALmB,CAMlC,CCTe,SAAAm4F,GAAST,EAAQ13F,GAC9B,IAAOtR,EAAIgpG,EAAOrtG,QAAU,EAC5B,IAAK,IAAID,EAAUwB,EAAGilC,EAAI0U,EAAI6yD,EAAI1pG,EAAtBI,EAAI,EAAqB0I,EAAIkgG,EAAO13F,EAAM,IAAI3V,OAAQyE,EAAI0I,IAAK1I,EACzE,IAAKy2C,EAAK6yD,EAAK,EAAGhuG,EAAI,EAAGA,EAAIsE,IAAKtE,GAC3BymC,GAAMjlC,EAAI8rG,EAAO13F,EAAM5V,IAAI0E,IAAI,GAAKlD,EAAE,IAAM,GAC/CA,EAAE,GAAK25C,EAAI35C,EAAE,GAAK25C,GAAM1U,GACfA,EAAK,GACdjlC,EAAE,GAAKwsG,EAAIxsG,EAAE,GAAKwsG,GAAMvnE,IAExBjlC,EAAE,GAAK,EAAGA,EAAE,GAAKilC,EAIzB,CCXe,SAAAwnE,GAASX,EAAQ13F,GAC9B,IAAOtR,EAAIgpG,EAAOrtG,QAAU,EAA5B,CACA,IAAK,IAAkCqE,EAA9BI,EAAI,EAAGK,EAAKuoG,EAAO13F,EAAM,IAAQxI,EAAIrI,EAAG9E,OAAQyE,EAAI0I,IAAK1I,EAAG,CACnE,IAAK,IAAI1E,EAAI,EAAGqE,EAAI,EAAGrE,EAAIsE,IAAKtE,EAAGqE,GAAKipG,EAAOttG,GAAG0E,GAAG,IAAM,EAC3DK,EAAGL,GAAG,IAAMK,EAAGL,GAAG,IAAML,EAAI,CAC9B,CACAgpG,GAAKC,EAAQ13F,EALmB,CAMlC,CCPe,SAAAs4F,GAASZ,EAAQ13F,GAC9B,IAAOtR,EAAIgpG,EAAOrtG,QAAU,IAASmN,GAAKrI,EAAKuoG,EAAO13F,EAAM,KAAK3V,QAAU,EAA3E,CACA,IAAK,IAAkB8E,EAAIqI,EAAG9I,EAArBD,EAAI,EAAGK,EAAI,EAAaA,EAAI0I,IAAK1I,EAAG,CAC3C,IAAK,IAAI1E,EAAI,EAAGgF,EAAK,EAAGmpG,EAAK,EAAGnuG,EAAIsE,IAAKtE,EAAG,CAK1C,IAJA,IAAIouG,EAAKd,EAAO13F,EAAM5V,IAClBquG,EAAOD,EAAG1pG,GAAG,IAAM,EAEnB4pG,GAAMD,GADCD,EAAG1pG,EAAI,GAAG,IAAM,IACF,EAChBwJ,EAAI,EAAGA,EAAIlO,IAAKkO,EAAG,CAC1B,IAAIqsE,EAAK+yB,EAAO13F,EAAM1H,IAGtBogG,IAFW/zB,EAAG71E,GAAG,IAAM,IACZ61E,EAAG71E,EAAI,GAAG,IAAM,EAE7B,CACAM,GAAMqpG,EAAMF,GAAMG,EAAKD,CACzB,CACAtpG,EAAGL,EAAI,GAAG,IAAMK,EAAGL,EAAI,GAAG,GAAKL,EAC3BW,IAAIX,GAAK8pG,EAAKnpG,EACpB,CACAD,EAAGL,EAAI,GAAG,IAAMK,EAAGL,EAAI,GAAG,GAAKL,EAC/BgpG,GAAKC,EAAQ13F,EAnBkE,CAoBjF,CCrBe,SAAA24F,GAASjB,GACtB,IAAIkB,EAAQlB,EAAOxnG,IAAI2oG,IACvB,OAAOlB,GAAKD,GAAQnjG,MAAK,SAASzJ,EAAGC,GAAK,OAAO6tG,EAAM9tG,GAAK8tG,EAAM7tG,EAAI,GACxE,CAEA,SAAS8tG,GAAKnB,GAEZ,IADA,IAAsCoB,EAAlC1uG,GAAI,EAAI0E,EAAI,EAAGJ,EAAIgpG,EAAOrtG,OAAY0uG,GAAMxgG,MACvCnO,EAAIsE,IAAQoqG,GAAMpB,EAAOttG,GAAG,IAAM2uG,IAAIA,EAAKD,EAAIhqG,EAAI1E,GAC5D,OAAO0E,CACT,CCTe,SAAAkqG,GAAStB,GACtB,IAAIluB,EAAOkuB,EAAOxnG,IAAI+oG,IACtB,OAAOtB,GAAKD,GAAQnjG,MAAK,SAASzJ,EAAGC,GAAK,OAAOy+E,EAAK1+E,GAAK0+E,EAAKz+E,EAAI,GACtE,CAEO,SAASkuG,GAAIvB,GAElB,IADA,IAAsCjnG,EAAlC5B,EAAI,EAAGzE,GAAI,EAAIsE,EAAIgpG,EAAOrtG,SACrBD,EAAIsE,IAAO+B,GAAKinG,EAAOttG,GAAG,MAAIyE,GAAK4B,GAC5C,OAAO5B,CACT,CCTe,SAAAqqG,GAASxB,GACtB,OAAOsB,GAAUtB,GAAQvhG,SAC3B,CCDe,SAAAgjG,GAASzB,GACtB,IACIttG,EACA0E,EAFAJ,EAAIgpG,EAAOrtG,OAGXm/E,EAAOkuB,EAAOxnG,IAAI+oG,IAClBj5F,EAAQ24F,GAAWjB,GACnB52E,EAAM,EACNo3B,EAAS,EACTkhD,EAAO,GACPC,EAAU,GAEd,IAAKjvG,EAAI,EAAGA,EAAIsE,IAAKtE,EACnB0E,EAAIkR,EAAM5V,GACN02B,EAAMo3B,GACRp3B,GAAO0oD,EAAK16E,GACZsqG,EAAK9oG,KAAKxB,KAEVopD,GAAUsxB,EAAK16E,GACfuqG,EAAQ/oG,KAAKxB,IAIjB,OAAOuqG,EAAQljG,UAAU4L,OAAOq3F,EAClC,CCxBe,SAAAE,GAAS5B,GACtB,OAAOC,GAAKD,GAAQvhG,SACtB,CfEAmgG,GAAaphG,UAAY,CACvB+5F,UAAWqE,GACXpE,QAASoE,GACT5vC,UAAW,WACTzyD,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACH1yD,KAAKomE,QAAQpmE,KAAKgmE,SAAStiC,WACjC,EACAtU,MAAO,SAAS70B,EAAGiD,GACjBjD,GAAKA,EAAGiD,GAAKA,EACTwC,KAAKomE,OAAQpmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,IACpCwC,KAAKomE,OAAS,EAAGpmE,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAChD,GCoBFmoG,GAAU1hG,UAAY,CACpB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKmjC,IAAMnjC,KAAKqjC,IAChBrjC,KAAKojC,IAAMpjC,KAAKsjC,IAChBtjC,KAAKsoG,IAAMvuG,IACXiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACP,OAAQ1yD,KAAKomE,QACX,KAAK,EAAGpmE,KAAKgmE,SAASriC,OAAO3jC,KAAKqjC,IAAKrjC,KAAKsjC,KAAM,MAClD,KAAK,EAAGoiE,GAAM1lG,KAAMA,KAAKsoG,IAAK7C,GAAOzlG,KAAMA,KAAKsoG,OAE9CtoG,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACzE1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,KACxB,EACA/2C,MAAO,SAAS70B,EAAGiD,GACjB,IAAI0tB,EAAKnxB,IAGT,GADQyD,GAAKA,GAAbjD,GAAKA,KACKyF,KAAKqjC,KAAO7lC,IAAMwC,KAAKsjC,IAAjC,CACA,OAAQtjC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAAI,MAC/F,KAAK,EAAGwC,KAAKomE,OAAS,EAAG,MACzB,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGs/B,GAAM1lG,KAAMylG,GAAOzlG,KAAMkrB,EAAKs6E,GAAOxlG,KAAMzF,EAAGiD,IAAK0tB,GAAK,MACjF,QAASw6E,GAAM1lG,KAAMA,KAAKsoG,IAAKp9E,EAAKs6E,GAAOxlG,KAAMzF,EAAGiD,IAGtDwC,KAAKmjC,IAAMnjC,KAAKqjC,IAAKrjC,KAAKqjC,IAAM9oC,EAChCyF,KAAKojC,IAAMpjC,KAAKsjC,IAAKtjC,KAAKsjC,IAAM9lC,EAChCwC,KAAKsoG,IAAMp9E,CAV2B,CAWxC,IAOD06E,GAAU3hG,UAAY/K,OAAOkkB,OAAOuoF,GAAU1hG,YAAYmrB,MAAQ,SAAS70B,EAAGiD,GAC7EmoG,GAAU1hG,UAAUmrB,MAAMvoB,KAAK7G,KAAMxC,EAAGjD,EAC1C,EAMAsrG,GAAe5hG,UAAY,CACzBw/B,OAAQ,SAASlpC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOjmC,EAAGjD,EAAI,EACrDmpC,UAAW,WAAa1jC,KAAKgmE,SAAStiC,WAAa,EACnDC,OAAQ,SAASppC,EAAGiD,GAAKwC,KAAKgmE,SAASriC,OAAOnmC,EAAGjD,EAAI,EACrDupC,cAAe,SAAS19B,EAAIy9B,EAAIE,EAAIC,EAAIzpC,EAAGiD,GAAKwC,KAAKgmE,SAASliC,cAAcD,EAAIz9B,EAAI49B,EAAID,EAAIvmC,EAAGjD,EAAI,GC1FrGyrG,GAAQ/hG,UAAY,CAClB+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKonD,GAAK,GACVpnD,KAAKqnD,GAAK,EACZ,EACAqL,QAAS,WACP,IAAIn4D,EAAIyF,KAAKonD,GACT5pD,EAAIwC,KAAKqnD,GACT5pD,EAAIlD,EAAEnB,OAEV,GAAIqE,EAEF,GADAuC,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAE,GAAIiD,EAAE,IAAMwC,KAAKgmE,SAASviC,OAAOlpC,EAAE,GAAIiD,EAAE,IACnE,IAANC,EACFuC,KAAKgmE,SAASriC,OAAOppC,EAAE,GAAIiD,EAAE,SAI7B,IAFA,IAAI43C,EAAK6wD,GAAc1rG,GACnB86C,EAAK4wD,GAAczoG,GACdyK,EAAK,EAAGpD,EAAK,EAAGA,EAAKpH,IAAKwK,IAAMpD,EACvC7E,KAAKgmE,SAASliC,cAAcsR,EAAG,GAAGntC,GAAKotC,EAAG,GAAGptC,GAAKmtC,EAAG,GAAGntC,GAAKotC,EAAG,GAAGptC,GAAK1N,EAAEsK,GAAKrH,EAAEqH,KAKnF7E,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAAqB,IAAN1oE,IAAUuC,KAAKgmE,SAAStiC,YAC/D1jC,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,MACtBnmE,KAAKonD,GAAKpnD,KAAKqnD,GAAK,IACtB,EACAj4B,MAAO,SAAS70B,EAAGiD,GACjBwC,KAAKonD,GAAG/nD,MAAM9E,GACdyF,KAAKqnD,GAAGhoD,MAAM7B,EAChB,GCnCF2oG,GAAKliG,UAAY,CACf+5F,UAAW,WACTh+F,KAAKmmE,MAAQ,CACf,EACA83B,QAAS,WACPj+F,KAAKmmE,MAAQpsE,GACf,EACA04D,UAAW,WACTzyD,KAAKonD,GAAKpnD,KAAKqnD,GAAKttD,IACpBiG,KAAKomE,OAAS,CAChB,EACA1T,QAAS,WACH,EAAI1yD,KAAKomG,IAAMpmG,KAAKomG,GAAK,GAAqB,IAAhBpmG,KAAKomE,QAAcpmE,KAAKgmE,SAASriC,OAAO3jC,KAAKonD,GAAIpnD,KAAKqnD,KACpFrnD,KAAKmmE,OAAyB,IAAfnmE,KAAKmmE,OAA+B,IAAhBnmE,KAAKomE,SAAepmE,KAAKgmE,SAAStiC,YACrE1jC,KAAKmmE,OAAS,IAAGnmE,KAAKomG,GAAK,EAAIpmG,KAAKomG,GAAIpmG,KAAKmmE,MAAQ,EAAInmE,KAAKmmE,MACpE,EACA/2C,MAAO,SAAS70B,EAAGiD,GAEjB,OADAjD,GAAKA,EAAGiD,GAAKA,EACLwC,KAAKomE,QACX,KAAK,EAAGpmE,KAAKomE,OAAS,EAAGpmE,KAAKmmE,MAAQnmE,KAAKgmE,SAASriC,OAAOppC,EAAGiD,GAAKwC,KAAKgmE,SAASviC,OAAOlpC,EAAGiD,GAAI,MAC/F,KAAK,EAAGwC,KAAKomE,OAAS,EACtB,QACE,GAAIpmE,KAAKomG,IAAM,EACbpmG,KAAKgmE,SAASriC,OAAO3jC,KAAKonD,GAAI5pD,GAC9BwC,KAAKgmE,SAASriC,OAAOppC,EAAGiD,OACnB,CACL,IAAI4I,EAAKpG,KAAKonD,IAAM,EAAIpnD,KAAKomG,IAAM7rG,EAAIyF,KAAKomG,GAC5CpmG,KAAKgmE,SAASriC,OAAOv9B,EAAIpG,KAAKqnD,IAC9BrnD,KAAKgmE,SAASriC,OAAOv9B,EAAI5I,EAC3B,EAIJwC,KAAKonD,GAAK7sD,EAAGyF,KAAKqnD,GAAK7pD,CACzB,G,qmEarCK,IAAI+qG,GAAe,wBAM1B,IAIAC,GAJgBz6E,KAAK9pB,UAAUwkG,YAJ/B,SAAyB9qD,GACvB,OAAOA,EAAK8qD,aACd,EAIM/W,GAAU6W,ICFhB,IAIAG,IAJgB,IAAI36E,KAAK,4BALzB,SAAwBrX,GACtB,IAAIinC,EAAO,IAAI5vB,KAAKrX,GACpB,OAAO1O,MAAM21C,GAAQ,KAAOA,CAC9B,EAIMg0C,GAAS4W,I,MCRA,SAAAI,GAAS93F,EAAUwgB,EAAOC,GACvC,IAAIrzB,EAAI,IAAIgzB,GAAO23E,EAAQv3E,EAC3B,OAAa,MAATA,GAAsBpzB,EAAEszB,QAAQ1gB,EAAUwgB,EAAOC,GAAOrzB,IAC5DA,EAAE4qG,SAAW5qG,EAAEszB,QACftzB,EAAEszB,QAAU,SAAS1gB,EAAUwgB,EAAOC,GACpCD,GAASA,EAAOC,EAAe,MAARA,EAAeP,MAASO,EAC/CrzB,EAAE4qG,UAAS,SAAS/5F,EAAKqjB,GACvBA,GAAWy2E,EACX3qG,EAAE4qG,SAAS/5F,EAAM85F,GAASv3E,EAAOC,GACjCzgB,EAASshB,EACX,GAAGd,EAAOC,EACZ,EACArzB,EAAEszB,QAAQ1gB,EAAUwgB,EAAOC,GACpBrzB,EACT,C,uPChBA,IAAA6qG,GAAevuG,GAAK,IAAMA,ECAX,SAAAwuG,GAAmBr4F,GAAMqe,YACtCA,EAAWyL,OACXA,EAAMvsB,UACNA,EAASwP,SACTA,IAEAvkB,OAAO8H,iBAAiBhB,KAAM,CAC5B0Q,KAAM,CAACxV,MAAOwV,EAAMgqB,YAAY,EAAMC,cAAc,GACpD5L,YAAa,CAAC7zB,MAAO6zB,EAAa2L,YAAY,EAAMC,cAAc,GAClEH,OAAQ,CAACt/B,MAAOs/B,EAAQE,YAAY,EAAMC,cAAc,GACxD1sB,UAAW,CAAC/S,MAAO+S,EAAWysB,YAAY,EAAMC,cAAc,GAC9Dj0B,EAAG,CAACxL,MAAOuiB,IAEf,CCbO,SAASurF,GAAU3hG,EAAG9M,EAAGiD,GAC9BwC,KAAKqH,EAAIA,EACTrH,KAAKzF,EAAIA,EACTyF,KAAKxC,EAAIA,CACX,CAEAwrG,GAAU/kG,UAAY,CACpBlE,YAAaipG,GACb/7F,MAAO,SAAS5F,GACd,OAAa,IAANA,EAAUrH,KAAO,IAAIgpG,GAAUhpG,KAAKqH,EAAIA,EAAGrH,KAAKzF,EAAGyF,KAAKxC,EACjE,EACA23B,UAAW,SAAS56B,EAAGiD,GACrB,OAAa,IAANjD,EAAgB,IAANiD,EAAUwC,KAAO,IAAIgpG,GAAUhpG,KAAKqH,EAAGrH,KAAKzF,EAAIyF,KAAKqH,EAAI9M,EAAGyF,KAAKxC,EAAIwC,KAAKqH,EAAI7J,EACjG,EACA4Q,MAAO,SAASghB,GACd,MAAO,CAACA,EAAM,GAAKpvB,KAAKqH,EAAIrH,KAAKzF,EAAG60B,EAAM,GAAKpvB,KAAKqH,EAAIrH,KAAKxC,EAC/D,EACAyrG,OAAQ,SAAS1uG,GACf,OAAOA,EAAIyF,KAAKqH,EAAIrH,KAAKzF,CAC3B,EACA2uG,OAAQ,SAAS1rG,GACf,OAAOA,EAAIwC,KAAKqH,EAAIrH,KAAKxC,CAC3B,EACAu7D,OAAQ,SAASowC,GACf,MAAO,EAAEA,EAAS,GAAKnpG,KAAKzF,GAAKyF,KAAKqH,GAAI8hG,EAAS,GAAKnpG,KAAKxC,GAAKwC,KAAKqH,EACzE,EACA+hG,QAAS,SAAS7uG,GAChB,OAAQA,EAAIyF,KAAKzF,GAAKyF,KAAKqH,CAC7B,EACAgiG,QAAS,SAAS7rG,GAChB,OAAQA,EAAIwC,KAAKxC,GAAKwC,KAAKqH,CAC7B,EACAiiG,SAAU,SAAS/uG,GACjB,OAAOA,EAAEmU,OAAO5I,OAAOvL,EAAEkP,QAAQxK,IAAIe,KAAKopG,QAASppG,MAAMf,IAAI1E,EAAEw+D,OAAQx+D,GACzE,EACAgvG,SAAU,SAAS/rG,GACjB,OAAOA,EAAEkR,OAAO5I,OAAOtI,EAAEiM,QAAQxK,IAAIe,KAAKqpG,QAASrpG,MAAMf,IAAIzB,EAAEu7D,OAAQv7D,GACzE,EACAitB,SAAU,WACR,MAAO,aAAezqB,KAAKzF,EAAI,IAAMyF,KAAKxC,EAAI,WAAawC,KAAKqH,EAAI,GACtE,GAGK,IAAImiG,GAAW,IAAIR,GAAU,EAAG,EAAG,GAI3B,SAAAS,GAAmBr3F,GAChC,MAAQA,EAAKs3F,aAAct3F,EAAOA,EAAKvC,YAAa,OAAO25F,GAC3D,OAAOp3F,EAAKs3F,MACd,CClDO,SAASC,GAAcnwF,GAC5BA,EAAMyE,0BACR,CAEe,SAAA2rF,GAASpwF,GACtBA,EAAM2E,iBACN3E,EAAMyE,0BACR,CCKA,SAAS4rF,GAAcrwF,GACrB,QAASA,EAAMkjB,SAA0B,UAAfljB,EAAM9I,MAAsB8I,EAAMmjB,OAC9D,CAEA,SAASmtE,KACP,IAAIr4E,EAAIzxB,KACR,OAAIyxB,aAAas4E,YACft4E,EAAIA,EAAEvC,iBAAmBuC,GACnBoL,aAAa,WAEV,CAAC,EADRpL,EAAIA,EAAEqL,QAAQrH,SACHl7B,EAAGk3B,EAAEj0B,GAAI,CAACi0B,EAAEl3B,EAAIk3B,EAAEz0B,MAAOy0B,EAAEj0B,EAAIi0B,EAAEx0B,SAEvC,CAAC,CAAC,EAAG,GAAI,CAACw0B,EAAEz0B,MAAMy4B,QAAQv6B,MAAOu2B,EAAEx0B,OAAOw4B,QAAQv6B,QAEpD,CAAC,CAAC,EAAG,GAAI,CAACu2B,EAAEu4E,YAAav4E,EAAEw4E,cACpC,CAEA,SAASC,KACP,OAAOlqG,KAAK0pG,QAAUF,EACxB,CAEA,SAASW,GAAkB3wF,GACzB,OAAQA,EAAM4wF,QAA8B,IAApB5wF,EAAM6wF,UAAkB,IAAO7wF,EAAM6wF,UAAY,EAAI,OAAU7wF,EAAMkjB,QAAU,GAAK,EAC9G,CAEA,SAAS4tE,KACP,OAAOttE,UAAUC,gBAAmB,iBAAkBj9B,IACxD,CAEA,SAASuqG,GAAiBt8F,EAAW0vB,EAAQ6sE,GAC3C,IAAIzO,EAAM9tF,EAAUm7F,QAAQzrE,EAAO,GAAG,IAAM6sE,EAAgB,GAAG,GAC3DvO,EAAMhuF,EAAUm7F,QAAQzrE,EAAO,GAAG,IAAM6sE,EAAgB,GAAG,GAC3DxO,EAAM/tF,EAAUo7F,QAAQ1rE,EAAO,GAAG,IAAM6sE,EAAgB,GAAG,GAC3DtO,EAAMjuF,EAAUo7F,QAAQ1rE,EAAO,GAAG,IAAM6sE,EAAgB,GAAG,GAC/D,OAAOv8F,EAAUknB,UACf8mE,EAAMF,GAAOA,EAAME,GAAO,EAAIngG,KAAKgC,IAAI,EAAGi+F,IAAQjgG,KAAKiC,IAAI,EAAGk+F,GAC9DC,EAAMF,GAAOA,EAAME,GAAO,EAAIpgG,KAAKgC,IAAI,EAAGk+F,IAAQlgG,KAAKiC,IAAI,EAAGm+F,GAElE,CAEe,SAAAuO,KACb,IAUIC,EACAC,EACAjtE,EAZA3tB,EAAS85F,GACTlsE,EAASmsE,GACTc,EAAYL,GACZM,EAAaV,GACbvsE,EAAY0sE,GACZQ,EAAc,CAAC,EAAGxjG,KAClBkjG,EAAkB,CAAC,EAAEljG,KAAWA,KAAW,CAACA,IAAUA,MACtDgsB,EAAW,IACX+C,EAAcijD,GACdz7C,EAAYrsB,GAAS,QAAS,OAAQ,OAItCu5F,EAAa,IACbC,EAAa,IACb9uD,EAAiB,EACjB+uD,EAAc,GAElB,SAAStxB,EAAKhrE,GACZA,EACKoO,SAAS,SAAUmtF,IACnBn5F,GAAG,aAAcm6F,EAAS,CAACrtF,SAAS,IACpC9M,GAAG,iBAAkBqrC,GACrBrrC,GAAG,gBAAiBo6F,GACtBp7F,OAAO6tB,GACL7sB,GAAG,kBAAmBsrC,GACtBtrC,GAAG,iBAAkBqtB,GACrBrtB,GAAG,iCAAkCstB,GACrCxoB,MAAM,8BAA+B,gBAC5C,CA0DA,SAAS5I,EAAMgB,EAAW5G,GAExB,OADAA,EAAIvL,KAAKiC,IAAI+sG,EAAY,GAAIhvG,KAAKgC,IAAIgtG,EAAY,GAAIzjG,OACzC4G,EAAU5G,EAAI4G,EAAY,IAAI+6F,GAAU3hG,EAAG4G,EAAU1T,EAAG0T,EAAUzQ,EACjF,CAEA,SAAS23B,EAAUlnB,EAAW2mC,EAAIG,GAChC,IAAIx6C,EAAIq6C,EAAG,GAAKG,EAAG,GAAK9mC,EAAU5G,EAAG7J,EAAIo3C,EAAG,GAAKG,EAAG,GAAK9mC,EAAU5G,EACnE,OAAO9M,IAAM0T,EAAU1T,GAAKiD,IAAMyQ,EAAUzQ,EAAIyQ,EAAY,IAAI+6F,GAAU/6F,EAAU5G,EAAG9M,EAAGiD,EAC5F,CAEA,SAASioE,EAAS9nC,GAChB,MAAO,GAAGA,EAAO,GAAG,KAAMA,EAAO,GAAG,IAAM,IAAKA,EAAO,GAAG,KAAMA,EAAO,GAAG,IAAM,EACjF,CAEA,SAASxK,EAASxjB,EAAY1B,EAAWmhB,EAAO5V,GAC9C7J,EACKoB,GAAG,cAAc,WAAaurC,EAAQt8C,KAAM2G,WAAW6S,MAAMA,GAAO9c,OAAS,IAC7EqU,GAAG,2BAA2B,WAAaurC,EAAQt8C,KAAM2G,WAAW6S,MAAMA,GAAOqT,KAAO,IACxFqG,MAAM,QAAQ,WACb,IAAI5hB,EAAOtR,KACPuR,EAAO5K,UACPxE,EAAIm6C,EAAQhrC,EAAMC,GAAMiI,MAAMA,GAC9BiY,EAAIkM,EAAOvvB,MAAMkD,EAAMC,GACvBnR,EAAa,MAATgvB,EAAgBq2C,EAASh0C,GAAsB,mBAAVrC,EAAuBA,EAAMhhB,MAAMkD,EAAMC,GAAQ6d,EAC1F9xB,EAAIxB,KAAKiC,IAAI0zB,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAKA,EAAE,GAAG,IAC/C53B,EAAIyX,EAAKo4F,OACT5vG,EAAyB,mBAAdmU,EAA2BA,EAAUG,MAAMkD,EAAMC,GAAQtD,EACpE9U,EAAIk9B,EAAYx8B,EAAEk/D,OAAO34D,GAAG0Q,OAAOxT,EAAIzD,EAAEwN,GAAIvN,EAAEi/D,OAAO34D,GAAG0Q,OAAOxT,EAAIxD,EAAEuN,IAC1E,OAAO,SAASpJ,GACd,GAAU,IAANA,EAASA,EAAInE,MACZ,CAAE,IAAI2vB,EAAItwB,EAAE8E,GAAIoJ,EAAI/J,EAAImsB,EAAE,GAAIxrB,EAAI,IAAI+qG,GAAU3hG,EAAGjH,EAAE,GAAKqpB,EAAE,GAAKpiB,EAAGjH,EAAE,GAAKqpB,EAAE,GAAKpiB,EAAI,CAC3FlF,EAAEw3E,KAAK,KAAM17E,EACf,CACF,GACN,CAEA,SAASq+C,EAAQhrC,EAAMC,EAAMgtB,GAC3B,OAASA,GAASjtB,EAAK85F,WAAc,IAAIC,EAAQ/5F,EAAMC,EACzD,CAEA,SAAS85F,EAAQ/5F,EAAMC,GACrBvR,KAAKsR,KAAOA,EACZtR,KAAKuR,KAAOA,EACZvR,KAAK6zB,OAAS,EACd7zB,KAAK+uB,YAAc,KACnB/uB,KAAK29B,OAASA,EAAOvvB,MAAMkD,EAAMC,GACjCvR,KAAKsrG,KAAO,CACd,CA8CA,SAASJ,EAAQ1xF,KAAUjI,GACzB,GAAKxB,EAAO3B,MAAMpO,KAAM2G,WAAxB,CACA,IAAIxE,EAAIm6C,EAAQt8C,KAAMuR,GAAMiI,MAAMA,GAC9Bvb,EAAI+B,KAAK0pG,OACTriG,EAAIvL,KAAKiC,IAAI+sG,EAAY,GAAIhvG,KAAKgC,IAAIgtG,EAAY,GAAI7sG,EAAEoJ,EAAIvL,KAAK6I,IAAI,EAAGkmG,EAAWz8F,MAAMpO,KAAM2G,cAC/FvG,EAAI4uB,GAAQxV,GAIhB,GAAIrX,EAAEopG,MACAppG,EAAEs6C,MAAM,GAAG,KAAOr8C,EAAE,IAAM+B,EAAEs6C,MAAM,GAAG,KAAOr8C,EAAE,KAChD+B,EAAEs6C,MAAM,GAAKx+C,EAAE86D,OAAO52D,EAAEs6C,MAAM,GAAKr8C,IAErC2xB,aAAa5vB,EAAEopG,WAIZ,IAAIttG,EAAEoJ,IAAMA,EAAG,OAIlBlF,EAAEs6C,MAAQ,CAACr8C,EAAGnC,EAAE86D,OAAO34D,IACvBwzB,GAAU5zB,MACVmC,EAAEzF,OACJ,CAEAktG,GAAQpwF,GACRrX,EAAEopG,MAAQ5sF,YAGV,WACExc,EAAEopG,MAAQ,KACVppG,EAAE0qB,KACJ,GANiCm+E,GACjC7oG,EAAEw3E,KAAK,QAASixB,EAAUz1E,EAAUloB,EAAMhP,EAAGoJ,GAAIlF,EAAEs6C,MAAM,GAAIt6C,EAAEs6C,MAAM,IAAKt6C,EAAEw7B,OAAQ6sE,GA3BhD,CAiCtC,CAEA,SAASpuD,EAAY5iC,KAAUjI,GAC7B,IAAImsB,GAAgB3tB,EAAO3B,MAAMpO,KAAM2G,WAAvC,CACA,IAAIsoB,EAAgBzV,EAAMyV,cACtB9sB,EAAIm6C,EAAQt8C,KAAMuR,GAAM,GAAMiI,MAAMA,GACpCha,EAAIme,GAAOnE,EAAM6E,MAAMtN,GAAG,kBAW9B,SAAoByI,GAElB,GADAowF,GAAQpwF,IACHrX,EAAEk+B,MAAO,CACZ,IAAIV,EAAKnmB,EAAM6V,QAAUlpB,EAAIy5B,EAAKpmB,EAAM8V,QAAU4U,EAClD/hC,EAAEk+B,MAAQV,EAAKA,EAAKC,EAAKA,EAAKsc,CAChC,CACA/5C,EAAEqX,MAAMA,GACNmgE,KAAK,QAASixB,EAAUz1E,EAAUhzB,EAAEmP,KAAKo4F,OAAQvnG,EAAEs6C,MAAM,GAAKztB,GAAQxV,EAAOyV,GAAgB9sB,EAAEs6C,MAAM,IAAKt6C,EAAEw7B,OAAQ6sE,GACxH,IAnB4D,GAAMz5F,GAAG,gBAqBrE,SAAoByI,GAClBha,EAAEuR,GAAG,8BAA+B,MACpC0N,GAAWjF,EAAM6E,KAAMlc,EAAEk+B,OACzBupE,GAAQpwF,GACRrX,EAAEqX,MAAMA,GAAOqT,KACjB,IA1BiG,GAC7FzsB,EAAI4uB,GAAQxV,EAAOyV,GACnB9oB,EAAKqT,EAAM6V,QACX6U,EAAK1qB,EAAM8V,QAEflR,GAAY5E,EAAM6E,MAClBsrF,GAAcnwF,GACdrX,EAAEs6C,MAAQ,CAACr8C,EAAGJ,KAAK0pG,OAAO3wC,OAAO34D,IACjCwzB,GAAU5zB,MACVmC,EAAEzF,OAZiD,CA8BrD,CAEA,SAASyuG,EAAW3xF,KAAUjI,GAC5B,GAAKxB,EAAO3B,MAAMpO,KAAM2G,WAAxB,CACA,IAAIgrB,EAAK3xB,KAAK0pG,OACV90D,EAAK5lB,GAAQxV,EAAMgnB,eAAiBhnB,EAAMgnB,eAAe,GAAKhnB,EAAOxZ,MACrE+0C,EAAKpjB,EAAGonC,OAAOnkB,GACf42D,EAAK75E,EAAGtqB,GAAKmS,EAAMsmB,SAAW,GAAM,GACpC5U,EAAK0/E,EAAUz1E,EAAUloB,EAAM0kB,EAAI65E,GAAK52D,EAAIG,GAAKpX,EAAOvvB,MAAMpO,KAAMuR,GAAOi5F,GAE/EZ,GAAQpwF,GACJ8Z,EAAW,EAAG3V,GAAO3d,MAAM2P,aAAa2jB,SAASA,GAAUzsB,KAAKssB,EAAUjI,EAAI0pB,EAAIp7B,GACjFmE,GAAO3d,MAAM6G,KAAK8yE,EAAK1rE,UAAWid,EAAI0pB,EAAIp7B,EATX,CAUtC,CAEA,SAAS6iC,EAAa7iC,KAAUjI,GAC9B,GAAKxB,EAAO3B,MAAMpO,KAAM2G,WAAxB,CACA,IAGIw3B,EAAShlC,EAAG8E,EAAGmC,EAHfs+B,EAAUllB,EAAMklB,QAChBjhC,EAAIihC,EAAQtlC,OACZ+I,EAAIm6C,EAAQt8C,KAAMuR,EAAMiI,EAAMgnB,eAAepnC,SAAWqE,GAAG+b,MAAMA,GAIrE,IADAmwF,GAAcnwF,GACTrgB,EAAI,EAAGA,EAAIsE,IAAKtE,EAEnBiH,EAAI,CADYA,EAAI4uB,GAApB/wB,EAAIygC,EAAQvlC,GAAmB6G,MACvBA,KAAK0pG,OAAO3wC,OAAO34D,GAAInC,EAAE+hC,YAC5B79B,EAAEspG,OACGtpG,EAAEupG,QAAUvpG,EAAEspG,OAAO,KAAOrrG,EAAE,KAAI+B,EAAEupG,OAAStrG,EAAG+B,EAAEmpG,KAAO,IADpDnpG,EAAEspG,OAASrrG,EAAG+9B,GAAU,EAAMh8B,EAAEmpG,KAAO,IAAMZ,GAI1DA,IAAeA,EAAgB34E,aAAa24E,IAE5CvsE,IACEh8B,EAAEmpG,KAAO,IAAGX,EAAavqG,EAAE,GAAIsqG,EAAgB/rF,YAAW,WAAa+rF,EAAgB,IAAM,GAAGK,IACpGn3E,GAAU5zB,MACVmC,EAAEzF,QAnBgC,CAqBtC,CAEA,SAAS0hC,EAAW5kB,KAAUjI,GAC5B,GAAKvR,KAAKorG,UAAV,CACA,IAEwBjyG,EAAG8E,EAAGmC,EAAGqpB,EAF7BtnB,EAAIm6C,EAAQt8C,KAAMuR,GAAMiI,MAAMA,GAC9BklB,EAAUllB,EAAMgnB,eAChB/iC,EAAIihC,EAAQtlC,OAGhB,IADAwwG,GAAQpwF,GACHrgB,EAAI,EAAGA,EAAIsE,IAAKtE,EACHiH,EAAI4uB,GAApB/wB,EAAIygC,EAAQvlC,GAAmB6G,MAC3BmC,EAAEspG,QAAUtpG,EAAEspG,OAAO,KAAOxtG,EAAE+hC,WAAY79B,EAAEspG,OAAO,GAAKrrG,EACnD+B,EAAEupG,QAAUvpG,EAAEupG,OAAO,KAAOztG,EAAE+hC,aAAY79B,EAAEupG,OAAO,GAAKtrG,GAGnE,GADAnC,EAAIkE,EAAEmP,KAAKo4F,OACPvnG,EAAEupG,OAAQ,CACZ,IAAI92D,EAAKzyC,EAAEspG,OAAO,GAAIE,EAAKxpG,EAAEspG,OAAO,GAChC12D,EAAK5yC,EAAEupG,OAAO,GAAIE,EAAKzpG,EAAEupG,OAAO,GAChCG,GAAMA,EAAK92D,EAAG,GAAKH,EAAG,IAAMi3D,GAAMA,EAAK92D,EAAG,GAAKH,EAAG,IAAMi3D,EACxDC,GAAMA,EAAKF,EAAG,GAAKD,EAAG,IAAMG,GAAMA,EAAKF,EAAG,GAAKD,EAAG,IAAMG,EAC5D7tG,EAAIgP,EAAMhP,EAAGnC,KAAK8D,KAAKisG,EAAKC,IAC5B1rG,EAAI,EAAEw0C,EAAG,GAAKG,EAAG,IAAM,GAAIH,EAAG,GAAKG,EAAG,IAAM,GAC5CtrB,EAAI,EAAEkiF,EAAG,GAAKC,EAAG,IAAM,GAAID,EAAG,GAAKC,EAAG,IAAM,EAC9C,KACK,KAAIzpG,EAAEspG,OACN,OADcrrG,EAAI+B,EAAEspG,OAAO,GAAIhiF,EAAItnB,EAAEspG,OAAO,EAC5C,CAELtpG,EAAEw3E,KAAK,QAASixB,EAAUz1E,EAAUl3B,EAAGmC,EAAGqpB,GAAItnB,EAAEw7B,OAAQ6sE,GAxBnC,CAyBvB,CAEA,SAASnsE,EAAW7kB,KAAUjI,GAC5B,GAAKvR,KAAKorG,UAAV,CACA,IAEwBjyG,EAAG8E,EAFvBkE,EAAIm6C,EAAQt8C,KAAMuR,GAAMiI,MAAMA,GAC9BklB,EAAUllB,EAAMgnB,eAChB/iC,EAAIihC,EAAQtlC,OAKhB,IAHAuwG,GAAcnwF,GACVkkB,GAAa3L,aAAa2L,GAC9BA,EAAc/e,YAAW,WAAa+e,EAAc,IAAM,GAAGqtE,GACxD5xG,EAAI,EAAGA,EAAIsE,IAAKtE,EACnB8E,EAAIygC,EAAQvlC,GACRgJ,EAAEspG,QAAUtpG,EAAEspG,OAAO,KAAOxtG,EAAE+hC,kBAAmB79B,EAAEspG,OAC9CtpG,EAAEupG,QAAUvpG,EAAEupG,OAAO,KAAOztG,EAAE+hC,mBAAmB79B,EAAEupG,OAG9D,GADIvpG,EAAEupG,SAAWvpG,EAAEspG,SAAQtpG,EAAEspG,OAAStpG,EAAEupG,cAAevpG,EAAEupG,QACrDvpG,EAAEspG,OAAQtpG,EAAEspG,OAAO,GAAKzrG,KAAK0pG,OAAO3wC,OAAO52D,EAAEspG,OAAO,SAItD,GAFAtpG,EAAE0qB,MAEa,IAAX1qB,EAAEmpG,OACJrtG,EAAI+wB,GAAQ/wB,EAAG+B,MACXlE,KAAK4+C,MAAMiwD,EAAW,GAAK1sG,EAAE,GAAI0sG,EAAW,GAAK1sG,EAAE,IAAMgtG,GAAa,CACxE,IAAI7qG,EAAIud,GAAO3d,MAAM+Q,GAAG,iBACpB3Q,GAAGA,EAAEgO,MAAMpO,KAAM2G,UACvB,CAvBiB,CA0BvB,CAmDA,OAzWAgzE,EAAK1rE,UAAY,SAAS89F,EAAY99F,EAAWmhB,EAAO5V,GACtD,IAAI7K,EAAYo9F,EAAWp9F,UAAYo9F,EAAWp9F,YAAco9F,EAChEp9F,EAAUoO,SAAS,SAAUmtF,IACzB6B,IAAep9F,EACjBwkB,EAAS44E,EAAY99F,EAAWmhB,EAAO5V,GAEvC7K,EAAUsrB,YAAYjqB,MAAK,WACzBssC,EAAQt8C,KAAM2G,WACX6S,MAAMA,GACN9c,QACAi9E,KAAK,KAA2B,mBAAd1rE,EAA2BA,EAAUG,MAAMpO,KAAM2G,WAAasH,GAChF4e,KACL,GAEJ,EAEA8sD,EAAKqyB,QAAU,SAASr9F,EAAWtH,EAAGjH,EAAGoZ,GACvCmgE,EAAKsyB,QAAQt9F,GAAW,WAGtB,OAFS3O,KAAK0pG,OAAOriG,GACC,mBAANA,EAAmBA,EAAE+G,MAAMpO,KAAM2G,WAAaU,EAEhE,GAAGjH,EAAGoZ,EACR,EAEAmgE,EAAKsyB,QAAU,SAASt9F,EAAWtH,EAAGjH,EAAGoZ,GACvCmgE,EAAK1rE,UAAUU,GAAW,WACxB,IAAI8iB,EAAIkM,EAAOvvB,MAAMpO,KAAM2G,WACvBgrB,EAAK3xB,KAAK0pG,OACV90D,EAAU,MAALx0C,EAAYqlE,EAASh0C,GAAkB,mBAANrxB,EAAmBA,EAAEgO,MAAMpO,KAAM2G,WAAavG,EACpF20C,EAAKpjB,EAAGonC,OAAOnkB,GACf42D,EAAkB,mBAANnkG,EAAmBA,EAAE+G,MAAMpO,KAAM2G,WAAaU,EAC9D,OAAOujG,EAAUz1E,EAAUloB,EAAM0kB,EAAI65E,GAAK52D,EAAIG,GAAKtjB,EAAG+4E,EACxD,GAAGpqG,EAAGoZ,EACR,EAEAmgE,EAAKuyB,YAAc,SAASv9F,EAAWpU,EAAGiD,EAAGgc,GAC3CmgE,EAAK1rE,UAAUU,GAAW,WACxB,OAAOi8F,EAAU5qG,KAAK0pG,OAAOv0E,UACd,mBAAN56B,EAAmBA,EAAE6T,MAAMpO,KAAM2G,WAAapM,EACxC,mBAANiD,EAAmBA,EAAE4Q,MAAMpO,KAAM2G,WAAanJ,GACpDmgC,EAAOvvB,MAAMpO,KAAM2G,WAAY6jG,EACpC,GAAG,KAAMhxF,EACX,EAEAmgE,EAAKwyB,YAAc,SAASx9F,EAAWpU,EAAGiD,EAAG4C,EAAGoZ,GAC9CmgE,EAAK1rE,UAAUU,GAAW,WACxB,IAAI8iB,EAAIkM,EAAOvvB,MAAMpO,KAAM2G,WACvB1I,EAAI+B,KAAK0pG,OACT90D,EAAU,MAALx0C,EAAYqlE,EAASh0C,GAAkB,mBAANrxB,EAAmBA,EAAEgO,MAAMpO,KAAM2G,WAAavG,EACxF,OAAOwqG,EAAUpB,GAASr0E,UAAUyf,EAAG,GAAIA,EAAG,IAAI3nC,MAAMhP,EAAEoJ,GAAG8tB,UAC9C,mBAAN56B,GAAoBA,EAAE6T,MAAMpO,KAAM2G,YAAcpM,EAC1C,mBAANiD,GAAoBA,EAAE4Q,MAAMpO,KAAM2G,YAAcnJ,GACtDi0B,EAAG+4E,EACR,GAAGpqG,EAAGoZ,EACR,EAmDA6xF,EAAQpnG,UAAY,CAClBuV,MAAO,SAASA,GAEd,OADIA,IAAOxZ,KAAK+uB,YAAcvV,GACvBxZ,IACT,EACAtD,MAAO,WAKL,OAJsB,KAAhBsD,KAAK6zB,SACT7zB,KAAKsR,KAAK85F,UAAYprG,KACtBA,KAAKw+B,KAAK,UAELx+B,IACT,EACA25E,KAAM,SAAS94E,EAAKoN,GAMlB,OALIjO,KAAKy8C,OAAiB,UAAR57C,IAAiBb,KAAKy8C,MAAM,GAAKxuC,EAAU8qD,OAAO/4D,KAAKy8C,MAAM,KAC3Ez8C,KAAKyrG,QAAkB,UAAR5qG,IAAiBb,KAAKyrG,OAAO,GAAKx9F,EAAU8qD,OAAO/4D,KAAKyrG,OAAO,KAC9EzrG,KAAK0rG,QAAkB,UAAR7qG,IAAiBb,KAAK0rG,OAAO,GAAKz9F,EAAU8qD,OAAO/4D,KAAK0rG,OAAO,KAClF1rG,KAAKsR,KAAKo4F,OAASz7F,EACnBjO,KAAKw+B,KAAK,QACHx+B,IACT,EACA6sB,IAAK,WAKH,OAJsB,KAAhB7sB,KAAK6zB,gBACF7zB,KAAKsR,KAAK85F,UACjBprG,KAAKw+B,KAAK,QAELx+B,IACT,EACAw+B,KAAM,SAAS9tB,GACb,IAAI/V,EAAIgjB,GAAO3d,KAAKsR,MAAM0B,QAC1B6qB,EAAUh3B,KACR6J,EACA1Q,KAAKsR,KACL,IAAIy3F,GAAUr4F,EAAM,CAClBqe,YAAa/uB,KAAK+uB,YAClByL,OAAQm/C,E,KACRjpE,EACAzC,UAAWjO,KAAKsR,KAAKo4F,OACrBjsF,SAAUogB,IAEZljC,EAEJ,GAsKFg/E,EAAKkxB,WAAa,SAASnkG,GACzB,OAAOC,UAAUvN,QAAUyxG,EAA0B,mBAANnkG,EAAmBA,EAAIoiG,IAAUpiG,GAAIizE,GAAQkxB,CAC9F,EAEAlxB,EAAK5pE,OAAS,SAASrJ,GACrB,OAAOC,UAAUvN,QAAU2W,EAAsB,mBAANrJ,EAAmBA,EAAIoiG,KAAWpiG,GAAIizE,GAAQ5pE,CAC3F,EAEA4pE,EAAK/7C,UAAY,SAASl3B,GACxB,OAAOC,UAAUvN,QAAUwkC,EAAyB,mBAANl3B,EAAmBA,EAAIoiG,KAAWpiG,GAAIizE,GAAQ/7C,CAC9F,EAEA+7C,EAAKh8C,OAAS,SAASj3B,GACrB,OAAOC,UAAUvN,QAAUukC,EAAsB,mBAANj3B,EAAmBA,EAAIoiG,GAAS,CAAC,EAAEpiG,EAAE,GAAG,IAAKA,EAAE,GAAG,IAAK,EAAEA,EAAE,GAAG,IAAKA,EAAE,GAAG,MAAOizE,GAAQh8C,CACpI,EAEAg8C,EAAKmxB,YAAc,SAASpkG,GAC1B,OAAOC,UAAUvN,QAAU0xG,EAAY,IAAMpkG,EAAE,GAAIokG,EAAY,IAAMpkG,EAAE,GAAIizE,GAAQ,CAACmxB,EAAY,GAAIA,EAAY,GAClH,EAEAnxB,EAAK6wB,gBAAkB,SAAS9jG,GAC9B,OAAOC,UAAUvN,QAAUoxG,EAAgB,GAAG,IAAM9jG,EAAE,GAAG,GAAI8jG,EAAgB,GAAG,IAAM9jG,EAAE,GAAG,GAAI8jG,EAAgB,GAAG,IAAM9jG,EAAE,GAAG,GAAI8jG,EAAgB,GAAG,IAAM9jG,EAAE,GAAG,GAAIizE,GAAQ,CAAC,CAAC6wB,EAAgB,GAAG,GAAIA,EAAgB,GAAG,IAAK,CAACA,EAAgB,GAAG,GAAIA,EAAgB,GAAG,IACzQ,EAEA7wB,EAAKixB,UAAY,SAASlkG,GACxB,OAAOC,UAAUvN,QAAUwxG,EAAYlkG,EAAGizE,GAAQixB,CACpD,EAEAjxB,EAAKrmD,SAAW,SAAS5sB,GACvB,OAAOC,UAAUvN,QAAUk6B,GAAY5sB,EAAGizE,GAAQrmD,CACpD,EAEAqmD,EAAKtjD,YAAc,SAAS3vB,GAC1B,OAAOC,UAAUvN,QAAUi9B,EAAc3vB,EAAGizE,GAAQtjD,CACtD,EAEAsjD,EAAK5oE,GAAK,WACR,IAAI7V,EAAQ2iC,EAAU9sB,GAAG3C,MAAMyvB,EAAWl3B,WAC1C,OAAOzL,IAAU2iC,EAAY87C,EAAOz+E,CACtC,EAEAy+E,EAAKh9B,cAAgB,SAASj2C,GAC5B,OAAOC,UAAUvN,QAAU8iD,GAAkBx1C,GAAKA,GAAKA,EAAGizE,GAAQ79E,KAAK8D,KAAKs8C,EAC9E,EAEAy9B,EAAKsxB,YAAc,SAASvkG,GAC1B,OAAOC,UAAUvN,QAAU6xG,GAAevkG,EAAGizE,GAAQsxB,CACvD,EAEOtxB,CACT,CFjZA8vB,GAAUxlG,UAAY+kG,GAAU/kG,U,sPGrC5BmoG,GACAC,G,YARAC,GAAUC,GAAiB,CAAC,EAUhC,SAASC,KACL,MAAM,IAAIjzG,MAAM,kCACpB,CACA,SAASkzG,KACL,MAAM,IAAIlzG,MAAM,oCACpB,CAqBA,SAASmzG,GAAWC,GAChB,GAAIP,KAAqBztF,WAErB,OAAOA,WAAWguF,EAAK,GAG3B,IAAKP,KAAqBI,KAAqBJ,KAAqBztF,WAEhE,OADAytF,GAAmBztF,WACZA,WAAWguF,EAAK,GAE3B,IAEI,OAAOP,GAAiBO,EAAK,EACjC,CAAE,MAAMl7E,GACJ,IAEI,OAAO26E,GAAiBvlG,KAAK,KAAM8lG,EAAK,EAC5C,CAAE,MAAMl7E,GAEJ,OAAO26E,GAAiBvlG,KAAK7G,KAAM2sG,EAAK,EAC5C,CACJ,CAGJ,EA5CC,WACG,IAEQP,GADsB,mBAAfztF,WACYA,WAEA6tF,EAE3B,CAAE,MAAO/6E,GACL26E,GAAmBI,EACvB,CACA,IAEQH,GADwB,mBAAjBt6E,aACcA,aAEA06E,EAE7B,CAAE,MAAOh7E,GACL46E,GAAqBI,EACzB,CACJ,CAnBC,GAwED,IAEIG,GAFAC,GAAQ,GACRC,IAAW,EAEXC,IAAa,EAEjB,SAASC,KACAF,IAAaF,KAGlBE,IAAW,EACPF,GAAaxzG,OACbyzG,GAAQD,GAAa97F,OAAO+7F,IAE5BE,IAAa,EAEbF,GAAMzzG,QACN6zG,KAER,CAEA,SAASA,KACL,IAAIH,GAAJ,CAGA,IAAII,EAAUR,GAAWM,IACzBF,IAAW,EAGX,IADA,IAAIK,EAAMN,GAAMzzG,OACV+zG,GAAK,CAGP,IAFAP,GAAeC,GACfA,GAAQ,KACCE,GAAaI,GACdP,IACAA,GAAaG,IAAYK,MAGjCL,IAAa,EACbI,EAAMN,GAAMzzG,MAChB,CACAwzG,GAAe,KACfE,IAAW,EAnEf,SAAyBO,GACrB,GAAIhB,KAAuBt6E,aAEvB,OAAOA,aAAas7E,GAGxB,IAAKhB,KAAuBI,KAAwBJ,KAAuBt6E,aAEvE,OADAs6E,GAAqBt6E,aACdA,aAAas7E,GAExB,IAEI,OAAOhB,GAAmBgB,EAC9B,CAAE,MAAO57E,GACL,IAEI,OAAO46E,GAAmBxlG,KAAK,KAAMwmG,EACzC,CAAE,MAAO57E,GAGL,OAAO46E,GAAmBxlG,KAAK7G,KAAMqtG,EACzC,CACJ,CAIJ,CA0CIC,CAAgBJ,EAnBZ,CAoBR,CAgBA,SAASK,GAAKZ,EAAKpuG,GACfyB,KAAK2sG,IAAMA,EACX3sG,KAAKzB,MAAQA,CACjB,CAWA,SAASivG,KAAQ,CA5BjBlB,GAAQmB,SAAW,SAAUd,GACzB,IAAIp7F,EAAO,IAAI7S,MAAMiI,UAAUvN,OAAS,GACxC,GAAIuN,UAAUvN,OAAS,EACnB,IAAK,IAAID,EAAI,EAAGA,EAAIwN,UAAUvN,OAAQD,IAClCoY,EAAKpY,EAAI,GAAKwN,UAAUxN,GAGhC0zG,GAAMxtG,KAAK,IAAIkuG,GAAKZ,EAAKp7F,IACJ,IAAjBs7F,GAAMzzG,QAAiB0zG,IACvBJ,GAAWO,GAEnB,EAOAM,GAAKtpG,UAAUmpG,IAAM,WACjBptG,KAAK2sG,IAAIv+F,MAAM,KAAMpO,KAAKzB,MAC9B,EACA+tG,GAAQoB,MAAQ,UAChBpB,GAAQqB,SAAU,EAClBrB,GAAQsB,IAAM,CAAC,EACftB,GAAQ7lE,KAAO,GACf6lE,GAAQuB,QAAU,GAClBvB,GAAQwB,SAAW,CAAC,EAIpBxB,GAAQv7F,GAAKy8F,GACblB,GAAQyB,YAAcP,GACtBlB,GAAQ0B,KAAOR,GACflB,GAAQ2B,IAAMT,GACdlB,GAAQ4B,eAAiBV,GACzBlB,GAAQ6B,mBAAqBX,GAC7BlB,GAAQ9tE,KAAOgvE,GACflB,GAAQ8B,gBAAkBZ,GAC1BlB,GAAQ+B,oBAAsBb,GAE9BlB,GAAQzuE,UAAY,SAAUltB,GAAQ,MAAO,EAAG,EAEhD27F,GAAQgC,QAAU,SAAU39F,GACxB,MAAM,IAAIpX,MAAM,mCACpB,EAEA+yG,GAAQiC,IAAM,WAAc,MAAO,GAAI,EACvCjC,GAAQkC,MAAQ,SAAUC,GACtB,MAAM,IAAIl1G,MAAM,iCACpB,EACA+yG,GAAQoC,MAAQ,WAAa,OAAO,CAAG,ECvLvC,eAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAG,oBAAAr+E,aAAA,OAAAA,aAAiBA,YAAYC,IAC9Bq+E,GAAiB,WAAG,OAAAt+E,YAAYC,KAAf,EACX,MAAA27E,IAAaA,GAAQqC,QAC3BK,GAAiB,WAAG,OAACN,IAAmBI,GAAgB,GAAvC,EACjBH,EAASrC,GAAQqC,OAIjBE,GAHAH,EAAiB,WACf,IAAAO,EACA,OAAQ,KADRA,EAAKN,KACF,GAAWM,EAAG,EAFF,KAIjBF,EAA4B,IAAnBzC,GAAQ4C,SACjBJ,EAAeD,EAAiBE,GAC1BjhF,KAAK6C,KACXq+E,GAAiB,WAAG,OAAAlhF,KAAK6C,MAAQi+E,CAAhB,EACjBA,EAAW9gF,KAAK6C,QAEhBq+E,GAAiB,WAAO,WAAAlhF,MAAOqhF,UAAYP,CAA1B,EACjBA,GAAe,IAAA9gF,MAAOqhF,U,WCTxB,IAPA,IACIC,GAAyB,oBAAXthG,OAAyBuhG,EAASvhG,OAChDwhG,GAAU,CAAC,MAAO,UAClBC,GAAS,iBACTC,GAAMJ,GAAK,UAAYG,IACvBE,GAAML,GAAK,SAAWG,KAAWH,GAAK,gBAAkBG,IAEpDG,GAAI,GAAIF,IAAOE,GAAIJ,GAAQn2G,OAAQu2G,KACzCF,GAAMJ,GAAKE,GAAQI,IAAK,UAAYH,IACpCE,GAAML,GAAKE,GAAQI,IAAK,SAAWH,KAC5BH,GAAKE,GAAQI,IAAK,gBAAkBH,IAI7C,IAAIC,KAAQC,GAAK,CACf,IAAIE,GAAO,EACPC,GAAK,EACLC,GAAQ,GAGZL,GAAM,SAAS5+F,GACb,GAAoB,IAAjBi/F,GAAM12G,OAAc,CACrB,IAAI22G,EAAOd,KACP1jG,EAAOzP,KAAKiC,IAAI,EALJ,oBAKwBgyG,EAAOH,KAC/CA,GAAOrkG,EAAOwkG,EACdpxF,YAAW,WACT,IAAI82B,EAAKq6D,GAAM3zG,MAAM,GAIrB2zG,GAAM12G,OAAS,EACf,IAAI,IAAID,EAAI,EAAGA,EAAIs8C,EAAGr8C,OAAQD,IAC5B,IAAIs8C,EAAGt8C,GAAG62G,UACR,IACEv6D,EAAGt8C,GAAG0X,SAAS++F,GACjB,CAAE,MAAMn+E,GACN9S,YAAW,WAAa,MAAM8S,CAAE,GAAG,EACrC,CAGN,GAAG31B,KAAKkJ,MAAMuG,GAChB,CAMA,OALAukG,GAAMzwG,KAAK,CACT4+B,SAAU4xE,GACVh/F,SAAUA,EACVm/F,WAAW,IAENH,EACT,EAEAH,GAAM,SAASzxE,GACb,IAAI,IAAI9kC,EAAI,EAAGA,EAAI22G,GAAM12G,OAAQD,IAC5B22G,GAAM32G,GAAG8kC,SAAWA,IACrB6xE,GAAM32G,GAAG62G,WAAY,EAG3B,CACF,EAEAC,GAAiB,SAASC,GAIxB,OAAOT,GAAI5oG,KAAKwoG,GAAMa,EACxB,GACel2E,OAAS,WACtB01E,GAAIthG,MAAMihG,GAAM1oG,UAClB,EACAspG,GAAeE,SAAW,SAAS5wD,GAC5BA,IACHA,EAAS8vD,IAEX9vD,EAAOzuB,sBAAwB2+E,GAC/BlwD,EAAO6wD,qBAAuBV,EAChC,E,OCrEAW,GAAiB,SAASC,GACtBtwG,KAAKwkD,IAAK,EACVxkD,KAAKypD,MAAQ,EAGiB,KAA1B6mD,EAAanf,OAAO,KACpBmf,EAAeA,EAAaC,OAAO,EAAE,IAIzCD,GADAA,EAAeA,EAAapxD,QAAQ,KAAK,KACbx1B,cAI5B,IAAI8mF,EAAgB,CAChBzwF,UAAW,SACXC,aAAc,SACdC,KAAM,SACNC,WAAY,SACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,SACPC,eAAgB,SAChBC,KAAM,SACNC,WAAY,SACZC,MAAO,SACPC,UAAW,SACXC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,SAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,SACNC,SAAU,SACVC,SAAU,SACVC,cAAe,SACfC,SAAU,SACVC,UAAW,SACXE,UAAW,SACXC,YAAa,SACbC,eAAgB,SAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,SACTC,WAAY,SACZC,aAAc,SACdC,cAAe,SACfC,cAAe,SACfE,cAAe,SACfC,WAAY,SACZC,SAAU,SACVC,YAAa,SACbC,QAAS,SACTE,WAAY,SACZ8tF,SAAU,SACV7tF,UAAW,SACXC,YAAa,SACbC,YAAa,SACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,SACNC,MAAO,SACPC,YAAa,SACbE,SAAU,SACVC,QAAS,SACTC,UAAY,SACZC,OAAS,SACTC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,SACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBG,UAAW,SACXD,WAAY,SACZE,UAAW,SACXC,YAAa,SACbC,cAAe,SACfC,aAAc,SACd8rF,eAAgB,SAChB7rF,eAAgB,SAChBE,eAAgB,SAChBC,YAAa,SACbC,KAAM,SACNC,UAAW,SACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,SACRC,iBAAkB,SAClBC,WAAY,SACZC,aAAc,SACdC,aAAc,SACdC,eAAgB,SAChBC,gBAAiB,SACjBC,kBAAmB,SACnBC,gBAAiB,SACjBC,gBAAiB,SACjBC,aAAc,SACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,UAAW,SACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,SACRC,cAAe,SACfC,IAAK,SACLC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,SACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,SACTC,UAAW,SACXC,UAAW,SACXE,KAAM,SACNC,YAAa,SACbC,UAAW,SACXC,IAAK,SACLC,KAAM,SACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACR8nF,UAAW,SACX7nF,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAEjBonF,EAAeE,EAAcF,IAAiBA,EAqD9C,IAjDA,IAAIM,EAAa,CACb,CACIC,GAAI,kEACJC,QAAS,CAAC,0BAA2B,yBACrCC,QAAS,SAAUC,GACf,MAAO,CACHpnF,SAASonF,EAAK,IACdpnF,SAASonF,EAAK,IACdpnF,SAASonF,EAAK,IACdC,WAAWD,EAAK,IAExB,GAEJ,CACIH,GAAI,+CACJC,QAAS,CAAC,oBAAqB,oBAC/BC,QAAS,SAAUC,GACf,MAAO,CACHpnF,SAASonF,EAAK,IACdpnF,SAASonF,EAAK,IACdpnF,SAASonF,EAAK,IAEtB,GAEJ,CACIH,GAAI,qDACJC,QAAS,CAAC,UAAW,UACrBC,QAAS,SAAUC,GACf,MAAO,CACHpnF,SAASonF,EAAK,GAAI,IAClBpnF,SAASonF,EAAK,GAAI,IAClBpnF,SAASonF,EAAK,GAAI,IAE1B,GAEJ,CACIH,GAAI,qDACJC,QAAS,CAAC,OAAQ,OAClBC,QAAS,SAAUC,GACf,MAAO,CACHpnF,SAASonF,EAAK,GAAKA,EAAK,GAAI,IAC5BpnF,SAASonF,EAAK,GAAKA,EAAK,GAAI,IAC5BpnF,SAASonF,EAAK,GAAKA,EAAK,GAAI,IAEpC,IAKC73G,EAAI,EAAGA,EAAIy3G,EAAWx3G,OAAQD,IAAK,CACxC,IAAI03G,EAAKD,EAAWz3G,GAAG03G,GACnBK,EAAYN,EAAWz3G,GAAG43G,QAC1BC,EAAOH,EAAGlnF,KAAK2mF,GACnB,GAAIU,EAAM,CACN,IAAIrlF,EAAWulF,EAAUF,GACzBhxG,KAAKpE,EAAI+vB,EAAS,GAClB3rB,KAAKmC,EAAIwpB,EAAS,GAClB3rB,KAAKlG,EAAI6xB,EAAS,GACdA,EAASvyB,OAAS,IAClB4G,KAAKypD,MAAQ99B,EAAS,IAE1B3rB,KAAKwkD,IAAK,CACd,CAEJ,CAGAxkD,KAAKpE,EAAIoE,KAAMpE,EAAI,GAAKoM,MAAMhI,KAAKpE,GAAM,EAAKoE,KAAMpE,EAAI,IAAO,IAAMoE,KAAKpE,EAC1EoE,KAAKmC,EAAInC,KAAMmC,EAAI,GAAK6F,MAAMhI,KAAKmC,GAAM,EAAKnC,KAAMmC,EAAI,IAAO,IAAMnC,KAAKmC,EAC1EnC,KAAKlG,EAAIkG,KAAMlG,EAAI,GAAKkO,MAAMhI,KAAKlG,GAAM,EAAKkG,KAAMlG,EAAI,IAAO,IAAMkG,KAAKlG,EAC1EkG,KAAKypD,MAAQzpD,KAAMypD,MAAQ,EAAK,EAAKzpD,KAAMypD,MAAQ,GAAOzhD,MAAMhI,KAAKypD,OAAU,EAAMzpD,KAAKypD,MAG1FzpD,KAAKmxG,MAAQ,WACT,MAAO,OAASnxG,KAAKpE,EAAI,KAAOoE,KAAKmC,EAAI,KAAOnC,KAAKlG,EAAI,GAC7D,EACAkG,KAAKoxG,OAAS,WACV,MAAO,QAAUpxG,KAAKpE,EAAI,KAAOoE,KAAKmC,EAAI,KAAOnC,KAAKlG,EAAI,KAAOkG,KAAKypD,MAAQ,GAClF,EACAzpD,KAAKqxG,MAAQ,WACT,IAAIz1G,EAAIoE,KAAKpE,EAAE6uB,SAAS,IACpBtoB,EAAInC,KAAKmC,EAAEsoB,SAAS,IACpB3wB,EAAIkG,KAAKlG,EAAE2wB,SAAS,IAIxB,OAHgB,GAAZ7uB,EAAExC,SAAawC,EAAI,IAAMA,GACb,GAAZuG,EAAE/I,SAAa+I,EAAI,IAAMA,GACb,GAAZrI,EAAEV,SAAaU,EAAI,IAAMA,GACtB,IAAM8B,EAAIuG,EAAIrI,CACzB,EAGAkG,KAAKsxG,WAAa,WAId,IAFA,IAAIC,EAAW,IAAI7yG,MAEVvF,EAAI,EAAGA,EAAIy3G,EAAWx3G,OAAQD,IAEnC,IADA,IAAI23G,EAAUF,EAAWz3G,GAAG23G,QACnBjzG,EAAI,EAAGA,EAAIizG,EAAQ13G,OAAQyE,IAChC0zG,EAASA,EAASn4G,QAAU03G,EAAQjzG,GAI5C,IAAK,IAAI2uE,KAAMgkC,EACXe,EAASA,EAASn4G,QAAUozE,EAGhC,IAAIh4D,EAAMmB,SAAS4C,cAAc,MACjC/D,EAAIY,aAAa,KAAM,qBACvB,IAASjc,EAAI,EAAGA,EAAIo4G,EAASn4G,OAAQD,IACjC,IACI,IAAIq4G,EAAY77F,SAAS4C,cAAc,MACnCk5F,EAAa,IAAIC,SAASH,EAASp4G,IACnCw4G,EAAch8F,SAAS4C,cAAc,OACzCo5F,EAAY97F,MAAM+7F,QACV,oDAEkBH,EAAWJ,QAF7B,WAGaI,EAAWJ,QAEhCM,EAAY39F,YAAY2B,SAASk8F,eAAe,SAChD,IAAIC,EAAkBn8F,SAASk8F,eAC3B,IAAMN,EAASp4G,GAAK,OAASs4G,EAAWN,QAAU,OAASM,EAAWJ,SAE1EG,EAAUx9F,YAAY29F,GACtBH,EAAUx9F,YAAY89F,GACtBt9F,EAAIR,YAAYw9F,EAEpB,CAAE,MAAM//E,GAAG,CAEf,OAAOjd,CAEX,CAEJ;;;;;;;;;;;;;;;AC7RA,IAAIu9F,GAAgB,SAASp3G,EAAGb,GAI5B,OAHAi4G,GAAgB74G,OAAO84G,gBAClB,CAAEC,UAAW,cAAgBvzG,OAAS,SAAU/D,EAAGb,GAAKa,EAAEs3G,UAAYn4G,IACvE,SAAUa,EAAGb,GAAK,IAAK,IAAIsG,KAAKtG,EAAOZ,OAAO+K,UAAUoN,eAAexK,KAAK/M,EAAGsG,KAAIzF,EAAEyF,GAAKtG,EAAEsG,MAC3EzF,EAAGb,IAGrB,SAASo4G,GAAUv3G,EAAGb,GACzB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIsJ,UAAU,uBAAyBsrD,OAAO50D,GAAK,iCAE7D,SAASq4G,IAAOnyG,KAAKD,YAAcpF,EADnCo3G,GAAcp3G,EAAGb,GAEjBa,EAAEsJ,UAAkB,OAANnK,EAAaZ,OAAOkkB,OAAOtjB,IAAMq4G,EAAGluG,UAAYnK,EAAEmK,UAAW,IAAIkuG,GCgC1EC,SCzDOh+E,GAAOi+E,EAA0BC,OAAzB/3G,OAAGiD,OACzB,MAAO,CACLjD,EAAIuB,KAAKolC,IAAIoxE,GAAO90G,EAAI1B,KAAKslC,IAAIkxE,GACjC/3G,EAAIuB,KAAKslC,IAAIkxE,GAAO90G,EAAI1B,KAAKolC,IAAIoxE,aAKrBC,SAAc,IAAAt0G,EAAA,GAAArC,EAAA,EAAAu0C,uBAAAqiE,kBAE1B,IAAK,IAAIr5G,EAAI,EAAGA,EAAIq5G,EAAQp5G,OAAQD,IAClC,GAAI,iBAAoBq5G,EAAQr5G,GAC9B,MAAM,IAAII,MACR,2BAA2BJ,+BAA8Bq5G,EAAQr5G,iBAAgBq5G,EAAQr5G,IAIjG,QAAO,CAGT,IAAM66B,GAAKl4B,KAAKk4B,YASAy+E,GAAmBlvG,EAAa6C,EAAYy9B,GAC1DtgC,EAAEmvG,SAAY,IAAMnvG,EAAEmvG,SAAY,EAAI,EACtCnvG,EAAEovG,UAAa,IAAMpvG,EAAEovG,UAAa,EAAI,EAEnC,IAAAC,EAAgBrvG,KAAZsvG,EAAYtvG,KAARhJ,EAAQgJ,IAAL/F,EAAK+F,IAErBqvG,EAAK92G,KAAKuE,IAAIkD,EAAEqvG,IAChBC,EAAK/2G,KAAKuE,IAAIkD,EAAEsvG,IACV,IAAAR,EAAaj+E,GAAO,EAAEhuB,EAAK7L,GAAK,GAAIspC,EAAKrmC,GAAK,IAAK+F,EAAEuvG,KAAO,IAAM9+E,IAAjE++E,OAAKC,OACNC,EAAYn3G,KAAK6I,IAAIouG,EAAK,GAAKj3G,KAAK6I,IAAIiuG,EAAI,GAAK92G,KAAK6I,IAAIquG,EAAK,GAAKl3G,KAAK6I,IAAIkuG,EAAI,GAEnF,EAAII,IACNL,GAAM92G,KAAK8D,KAAKqzG,GAChBJ,GAAM/2G,KAAK8D,KAAKqzG,IAElB1vG,EAAEqvG,GAAKA,EACPrvG,EAAEsvG,GAAKA,EACP,IAAMK,EAAep3G,KAAK6I,IAAIiuG,EAAI,GAAK92G,KAAK6I,IAAIquG,EAAK,GAAKl3G,KAAK6I,IAAIkuG,EAAI,GAAK/2G,KAAK6I,IAAIouG,EAAK,GACpFI,GAAW5vG,EAAEmvG,WAAanvG,EAAEovG,UAAY,MAC5C72G,KAAK8D,KAAK9D,KAAKiC,IAAI,GAAIjC,KAAK6I,IAAIiuG,EAAI,GAAK92G,KAAK6I,IAAIkuG,EAAI,GAAKK,GAAeA,IACtEE,EAAMR,EAAKI,EAAMH,EAAKM,EACtBE,GAAOR,EAAKE,EAAMH,EAAKO,EACvBG,EAAOl/E,GAAO,CAACg/E,EAAKC,GAAM9vG,EAAEuvG,KAAO,IAAM9+E,IAE/CzwB,EAAEgwG,GAAKD,EAAK,IAAMltG,EAAK7L,GAAK,EAC5BgJ,EAAEiwG,GAAKF,EAAK,IAAMzvE,EAAKrmC,GAAK,EAC5B+F,EAAEw4D,KAAOjgE,KAAK24B,OAAOu+E,EAAMK,GAAOR,GAAKE,EAAMK,GAAOR,GACpDrvG,EAAEslE,KAAO/sE,KAAK24B,QAAQu+E,EAAMK,GAAOR,IAAME,EAAMK,GAAOR,GAClD,IAAMrvG,EAAEovG,WAAapvG,EAAEslE,KAAOtlE,EAAEw4D,OAClCx4D,EAAEslE,MAAQ,EAAI70C,IAEZ,IAAMzwB,EAAEovG,WAAapvG,EAAEslE,KAAOtlE,EAAEw4D,OAClCx4D,EAAEslE,MAAQ,EAAI70C,IAEhBzwB,EAAEw4D,MAAQ,IAAM/nC,GAChBzwB,EAAEslE,MAAQ,IAAM70C,YAaFy/E,GAA2B55G,EAAWC,EAAWyJ,GAC/DgvG,GAAc14G,EAAGC,EAAGyJ,GAEpB,IAAMmwG,EAAU75G,EAAIA,EAAIC,EAAIA,EAAIyJ,EAAIA,EAEpC,GAAI,EAAImwG,EACN,MAAO,GACF,GAAI,IAAMA,EACf,MAAO,CACL,CACG75G,EAAI0J,GAAM1J,EAAIA,EAAIC,EAAIA,GACtBA,EAAIyJ,GAAM1J,EAAIA,EAAIC,EAAIA,KAE7B,IAAM65G,EAAO73G,KAAK8D,KAAK8zG,GAEvB,MAAO,CACL,EACG75G,EAAI0J,EAAIzJ,EAAI65G,IAAS95G,EAAIA,EAAIC,EAAIA,IACjCA,EAAIyJ,EAAI1J,EAAI85G,IAAS95G,EAAIA,EAAIC,EAAIA,IACpC,EACGD,EAAI0J,EAAIzJ,EAAI65G,IAAS95G,EAAIA,EAAIC,EAAIA,IACjCA,EAAIyJ,EAAI1J,EAAI85G,IAAS95G,EAAIA,EAAIC,EAAIA,KAIjC,ICjGU85G,GDiGJC,GAAM/3G,KAAKk4B,GAAK,aAEb8/E,GAAKj6G,EAAWC,EAAWmE,GACzC,OAAQ,EAAIA,GAAKpE,EAAIoE,EAAInE,WAGXi6G,GAAMxwG,EAAW6C,EAAY29B,EAAYiwE,GACvD,OAAOzwG,EAAIzH,KAAKolC,IAAI8yE,EAAS,IAAMhgF,IAAM5tB,EAAKtK,KAAKslC,IAAI4yE,EAAS,IAAMhgF,IAAM+P,WAG9DkwE,GAAW9tG,EAAYC,EAAY29B,EAAY8S,GAC7D,IAAMq9D,EAAM,KACN7vE,EAAMj+B,EAAKD,EACXguG,EAAMpwE,EAAK39B,EAEXvM,EAAI,EAAIwqC,EAAM,GADRwS,EAAK9S,GACa,EAAIowE,EAC5Br6G,EAAkB,GAAbq6G,EAAM9vE,GACX9gC,EAAI,EAAI8gC,EAGd,OAAIvoC,KAAKuE,IAAIxG,GAAKq6G,EAET,EAAE3wG,EAAIzJ,GAiBjB,SAAmBsG,EAAWuuB,EAAWylF,wBAEvC,IAAMC,EAAiBj0G,EAAIA,EAAI,EAAIuuB,EAEnC,GAAI0lF,GAAkBD,EACpB,MAAO,GACF,GAAIC,GAAkBD,EAC3B,MAAO,EAAEh0G,EAAI,GAEf,IAAMke,EAAOxiB,KAAK8D,KAAKy0G,GAEvB,MAAO,EAAGj0G,EAAI,EAAKke,GAAQle,EAAI,EAAKke,GAXtC,CAfmBxkB,EAAID,EAAG0J,EAAI1J,EAAGq6G,YAIjBI,GAASnuG,EAAYC,EAAY29B,EAAY8S,EAAY54C,GAEvE,IAAML,EAAI,EAAIK,EAMd,OAAOkI,GALIvI,EAAIA,EAAIA,GAKFwI,GAJN,EAAIxI,EAAIA,EAAIK,GAII8lC,GAHhB,EAAInmC,EAAIK,EAAIA,GAGc44C,GAF1B54C,EAAIA,EAAIA,ICnIrB,SAAiB21G,GAuCf,SAAgBW,IACd,OAAOC,GAAK,SAACC,EAASC,EAAOC,GAyB3B,OAxBIF,EAAQG,oBAEiBH,EAAQruG,KACjCquG,EAAQruG,IAAMsuG,YAEWD,EAAQ5wE,KACjC4wE,EAAQ5wE,IAAM8wE,YAGWF,EAAQ1wE,KACjC0wE,EAAQ1wE,IAAM2wE,YAEWD,EAAQzwE,KACjCywE,EAAQzwE,IAAM2wE,YAGWF,EAAQl6G,IACjCk6G,EAAQl6G,GAAKm6G,YAEYD,EAAQj3G,IACjCi3G,EAAQj3G,GAAKm3G,GAEfF,EAAQG,aAEHH,KAkEX,SAAgBI,IACd,IAAIC,EAAe/6G,IACfg7G,EAAeh7G,IACfi7G,EAAaj7G,IACbk7G,EAAal7G,IAEjB,OAAOy6G,GAAK,SAACC,EAASC,EAAOC,GA8B3B,OA7BIF,EAAQ/jG,KAAOwkG,GAAYC,kBAC7BV,EAAQ/jG,KAAOwkG,GAAYE,SAC3BN,EAAe9sG,MAAM8sG,GAAgBJ,EAAQI,EAC7CC,EAAe/sG,MAAM+sG,GAAgBJ,EAAQI,EAC7CN,EAAQruG,GAAKquG,EAAQG,SAAWF,EAAQI,EAAe,EAAIJ,EAAQI,EACnEL,EAAQ5wE,GAAK4wE,EAAQG,SAAWD,EAAQI,EAAe,EAAIJ,EAAQI,GAEjEN,EAAQ/jG,KAAOwkG,GAAYE,UAC7BN,EAAeL,EAAQG,SAAWF,EAAQD,EAAQ1wE,GAAK0wE,EAAQ1wE,GAC/DgxE,EAAeN,EAAQG,SAAWD,EAAQF,EAAQzwE,GAAKywE,EAAQzwE,KAE/D8wE,EAAe/6G,IACfg7G,EAAeh7G,KAEb06G,EAAQ/jG,KAAOwkG,GAAYG,iBAC7BZ,EAAQ/jG,KAAOwkG,GAAYI,QAC3BN,EAAahtG,MAAMgtG,GAAcN,EAAQM,EACzCC,EAAajtG,MAAMitG,GAAcN,EAAQM,EACzCR,EAAQruG,GAAKquG,EAAQG,SAAWF,EAAQM,EAAa,EAAIN,EAAQM,EACjEP,EAAQ5wE,GAAK4wE,EAAQG,SAAWD,EAAQM,EAAa,EAAIN,EAAQM,GAE/DR,EAAQ/jG,KAAOwkG,GAAYI,SAC7BN,EAAaP,EAAQG,SAAWF,EAAQD,EAAQruG,GAAKquG,EAAQruG,GAC7D6uG,EAAaR,EAAQG,SAAWD,EAAQF,EAAQ5wE,GAAK4wE,EAAQ5wE,KAE7DmxE,EAAaj7G,IACbk7G,EAAal7G,KAGR06G,KAYX,SAAgBc,IACd,IAAIC,EAAaz7G,IACb07G,EAAa17G,IAEjB,OAAOy6G,GAAK,SAACC,EAASC,EAAOC,GAQ3B,GAPIF,EAAQ/jG,KAAOwkG,GAAYG,iBAC7BZ,EAAQ/jG,KAAOwkG,GAAYI,QAC3BE,EAAaxtG,MAAMwtG,GAAcd,EAAQc,EACzCC,EAAaztG,MAAMytG,GAAcd,EAAQc,EACzChB,EAAQruG,GAAKquG,EAAQG,SAAWF,EAAQc,EAAa,EAAId,EAAQc,EACjEf,EAAQ5wE,GAAK4wE,EAAQG,SAAWD,EAAQc,EAAa,EAAId,EAAQc,GAE/DhB,EAAQ/jG,KAAOwkG,GAAYI,QAAS,CACtCE,EAAaf,EAAQG,SAAWF,EAAQD,EAAQruG,GAAKquG,EAAQruG,GAC7DqvG,EAAahB,EAAQG,SAAWD,EAAQF,EAAQ5wE,GAAK4wE,EAAQ5wE,GAC7D,IAAMz9B,EAAKquG,EAAQruG,GACby9B,EAAK4wE,EAAQ5wE,GAEnB4wE,EAAQ/jG,KAAOwkG,GAAYE,SAC3BX,EAAQruG,KAAOquG,EAAQG,SAAW,EAAIF,GAAc,EAALtuG,GAAU,EACzDquG,EAAQ5wE,KAAO4wE,EAAQG,SAAW,EAAID,GAAc,EAAL9wE,GAAU,EACzD4wE,EAAQ1wE,IAAM0wE,EAAQl6G,EAAS,EAAL6L,GAAU,EACpCquG,EAAQzwE,IAAMywE,EAAQj3G,EAAS,EAALqmC,GAAU,OAEpC2xE,EAAaz7G,IACb07G,EAAa17G,IAGf,OAAO06G,KAGX,SAAgBD,EACdt6G,GAEA,IAAIw7G,EAAW,EACXC,EAAW,EACXC,EAAgB77G,IAChB87G,EAAgB97G,IAEpB,OAAO,SAAmB06G,GACxB,GAAIzsG,MAAM4tG,MAAoBnB,EAAQ/jG,KAAOwkG,GAAYY,SACvD,MAAM,IAAIv8G,MAAM,+BAGlB,IAAMkhE,EAASvgE,EAAEu6G,EAASiB,EAAUC,EAAUC,EAAeC,GAmB7D,OAjBIpB,EAAQ/jG,KAAOwkG,GAAYa,aAC7BL,EAAWE,EACXD,EAAWE,YAGcpB,EAAQl6G,IACjCm7G,EAAYjB,EAAQG,SAAWc,EAAWjB,EAAQl6G,EAAIk6G,EAAQl6G,YAErCk6G,EAAQj3G,IACjCm4G,EAAYlB,EAAQG,SAAWe,EAAWlB,EAAQj3G,EAAIi3G,EAAQj3G,GAG5Di3G,EAAQ/jG,KAAOwkG,GAAYY,UAC7BF,EAAgBF,EAChBG,EAAgBF,GAGXl7C,GAoFX,SAAgBu7C,EAAOn8G,EAAWC,EAAWyJ,EAAW5I,EAAW82B,EAAWv3B,GAG5E,OAFAq4G,GAAc14G,EAAGC,EAAGyJ,EAAG5I,EAAG82B,EAAGv3B,GAEtBs6G,GAAK,SAACC,EAASC,EAAOC,EAAOsB,GAClC,IAAMC,EAASzB,EAAQruG,GACjB+vG,EAAS1B,EAAQ1wE,GAGjBqyE,EAAS3B,EAAQG,WAAa5sG,MAAMiuG,GACpC17G,WAA2Bk6G,EAAQl6G,EAAIk6G,EAAQl6G,EAAK67G,EAAS,EAAI1B,EACjEl3G,WAA2Bi3G,EAAQj3G,EAAIi3G,EAAQj3G,EAAK44G,EAAS,EAAIzB,EA6BvE,SAAS0B,EAAI97G,GAAa,OAAOA,EAAIA,EA3BjCk6G,EAAQ/jG,KAAOwkG,GAAYoB,eAAiB,IAAMx8G,IACpD26G,EAAQ/jG,KAAOwkG,GAAYqB,QAC3B9B,EAAQj3G,EAAIi3G,EAAQG,SAAW,EAAID,GAEjCF,EAAQ/jG,KAAOwkG,GAAYsB,cAAgB,IAAMjzG,IACnDkxG,EAAQ/jG,KAAOwkG,GAAYqB,QAC3B9B,EAAQl6G,EAAIk6G,EAAQG,SAAW,EAAIF,YAGVD,EAAQl6G,IACjCk6G,EAAQl6G,EAAKk6G,EAAQl6G,EAAIV,EAAM2D,EAAI+F,GAAM6yG,EAAS,EAAI3kF,aAE7BgjF,EAAQj3G,IACjCi3G,EAAQj3G,EAAKjD,EAAIT,EAAK26G,EAAQj3G,EAAI7C,GAAKy7G,EAAS,EAAIl8G,aAE3Bu6G,EAAQruG,KACjCquG,EAAQruG,GAAKquG,EAAQruG,GAAKvM,EAAI46G,EAAQ5wE,GAAKtgC,GAAK6yG,EAAS,EAAI3kF,aAEpCgjF,EAAQ5wE,KACjC4wE,EAAQ5wE,GAAKqyE,EAASp8G,EAAI26G,EAAQ5wE,GAAKlpC,GAAKy7G,EAAS,EAAIl8G,aAEhCu6G,EAAQ1wE,KACjC0wE,EAAQ1wE,GAAK0wE,EAAQ1wE,GAAKlqC,EAAI46G,EAAQzwE,GAAKzgC,GAAK6yG,EAAS,EAAI3kF,aAEpCgjF,EAAQzwE,KACjCywE,EAAQzwE,GAAKmyE,EAASr8G,EAAI26G,EAAQzwE,GAAKrpC,GAAKy7G,EAAS,EAAIl8G,IAG3D,IAAMu1C,EAAM51C,EAAIc,EAAIb,EAAIyJ,EAExB,YAA2BkxG,EAAQ3B,OAE7B,IAAMj5G,GAAK,IAAMC,GAAK,IAAMyJ,GAAK,IAAM5I,GAEzC,GAAI,IAAM80C,SAIDglE,EAAQ7B,UACR6B,EAAQ5B,UACR4B,EAAQ3B,YACR2B,EAAQ/B,gBACR+B,EAAQ9B,UACf8B,EAAQ/jG,KAAOwkG,GAAYqB,YACtB,CAEL,IAAMzD,EAAO2B,EAAQ3B,KAAOh3G,KAAKk4B,GAAK,IAOhCyiF,EAAS36G,KAAKslC,IAAI0xE,GAClB4D,EAAS56G,KAAKolC,IAAI4xE,GAClB6D,EAAS,EAAIN,EAAI5B,EAAQ7B,IACzBgE,EAAS,EAAIP,EAAI5B,EAAQ5B,IACzBz0C,EAAIi4C,EAAIK,GAAUC,EAASN,EAAII,GAAUG,EACzCzzC,EAAI,EAAIszC,EAASC,GAAUC,EAASC,GACpC1jC,EAAImjC,EAAII,GAAUE,EAASN,EAAIK,GAAUE,EAOzCC,EAAKz4C,EAAIzjE,EAAIA,EAAIwoE,EAAIrpE,EAAIa,EAAIu4E,EAAIp5E,EAAIA,EACrCg9G,EAAK3zC,GAAKtpE,EAAIc,EAAIb,EAAIyJ,GAAK,GAAK66D,EAAI76D,EAAI5I,EAAIu4E,EAAIr5E,EAAIC,GACpDi9G,EAAK34C,EAAI76D,EAAIA,EAAI4/D,EAAItpE,EAAI0J,EAAI2vE,EAAIr5E,EAAIA,EAerCm9G,GAAYl7G,KAAK24B,MAAMqiF,EAAID,EAAKE,GAAMj7G,KAAKk4B,IAAMl4B,KAAKk4B,GAAM,EAM5DijF,EAAYn7G,KAAKslC,IAAI41E,GACrBE,EAAYp7G,KAAKolC,IAAI81E,GAE3BvC,EAAQ7B,GAAK92G,KAAKuE,IAAIovC,GACpB3zC,KAAK8D,KAAKi3G,EAAKR,EAAIa,GAAaJ,EAAKG,EAAYC,EAAYH,EAAKV,EAAIY,IACxExC,EAAQ5B,GAAK/2G,KAAKuE,IAAIovC,GACpB3zC,KAAK8D,KAAKi3G,EAAKR,EAAIY,GAAaH,EAAKG,EAAYC,EAAYH,EAAKV,EAAIa,IACxEzC,EAAQ3B,KAAiB,IAAVkE,EAAgBl7G,KAAKk4B,GAW1C,gBAH2BygF,EAAQ9B,WAAa,EAAIljE,IAClDglE,EAAQ9B,YAAc8B,EAAQ9B,WAEzB8B,KA1bKb,QAAhB,SAAsBuD,GAEpB,SAASC,EAAGC,GAAe,OAAOv7G,KAAKkJ,MAAMqyG,EAAMF,GAAYA,EAC/D,gBAAAl5G,IAHoBk5G,QACpB5E,GAAc4E,GAEP,SAAe1C,GA6BpB,gBA5B2BA,EAAQruG,KACjCquG,EAAQruG,GAAKgxG,EAAG3C,EAAQruG,cAECquG,EAAQ5wE,KACjC4wE,EAAQ5wE,GAAKuzE,EAAG3C,EAAQ5wE,cAGC4wE,EAAQ1wE,KACjC0wE,EAAQ1wE,GAAKqzE,EAAG3C,EAAQ1wE,cAEC0wE,EAAQzwE,KACjCywE,EAAQzwE,GAAKozE,EAAG3C,EAAQzwE,cAGCywE,EAAQl6G,IACjCk6G,EAAQl6G,EAAI68G,EAAG3C,EAAQl6G,aAEEk6G,EAAQj3G,IACjCi3G,EAAQj3G,EAAI45G,EAAG3C,EAAQj3G,aAGEi3G,EAAQ7B,KACjC6B,EAAQ7B,GAAKwE,EAAG3C,EAAQ7B,cAEC6B,EAAQ5B,KACjC4B,EAAQ5B,GAAKuE,EAAG3C,EAAQ5B,KAGnB4B,IAIKb,WA8BAA,SAAhB,WACE,OAAOY,GAAK,SAACC,EAASC,EAAOC,GAyB3B,OAxBKF,EAAQG,oBAEgBH,EAAQruG,KACjCquG,EAAQruG,IAAMsuG,YAEWD,EAAQ5wE,KACjC4wE,EAAQ5wE,IAAM8wE,YAGWF,EAAQ1wE,KACjC0wE,EAAQ1wE,IAAM2wE,YAEWD,EAAQzwE,KACjCywE,EAAQzwE,IAAM2wE,YAGWF,EAAQl6G,IACjCk6G,EAAQl6G,GAAKm6G,YAEYD,EAAQj3G,IACjCi3G,EAAQj3G,GAAKm3G,GAEfF,EAAQG,aAEHH,MAIKb,gBAAhB,SAA8B0D,EAAmBC,EAAmBC,GAClE,gBAAAv5G,IAD4Bq5G,mBAAmBC,mBAAmBC,MAC3DhD,GAAK,SAACC,EAASC,EAAOC,EAAOsB,EAAYwB,GAC9C,GAAIzvG,MAAMiuG,MAAiBxB,EAAQ/jG,KAAOwkG,GAAYY,SACpD,MAAM,IAAIv8G,MAAM,+BAuBlB,OArBIg+G,GAAc9C,EAAQ/jG,KAAOwkG,GAAYoB,gBAC3C7B,EAAQ/jG,KAAOwkG,GAAYqB,QAC3B9B,EAAQj3G,EAAIi3G,EAAQG,SAAW,EAAID,GAEjC6C,GAAc/C,EAAQ/jG,KAAOwkG,GAAYsB,eAC3C/B,EAAQ/jG,KAAOwkG,GAAYqB,QAC3B9B,EAAQl6G,EAAIk6G,EAAQG,SAAW,EAAIF,GAEjC4C,GAAc7C,EAAQ/jG,KAAOwkG,GAAYa,aAC3CtB,EAAQ/jG,KAAOwkG,GAAYqB,QAC3B9B,EAAQl6G,EAAIk6G,EAAQG,SAAWqB,EAAavB,EAAQuB,EACpDxB,EAAQj3G,EAAIi3G,EAAQG,SAAW6C,EAAa9C,EAAQ8C,GAElDhD,EAAQ/jG,KAAOwkG,GAAYwC,MAAQ,IAAMjD,EAAQ7B,IAAM,IAAM6B,EAAQ5B,MACvE4B,EAAQ/jG,KAAOwkG,GAAYqB,eACpB9B,EAAQ7B,UACR6B,EAAQ5B,UACR4B,EAAQ3B,YACR2B,EAAQ/B,gBACR+B,EAAQ9B,WAEV8B,MAMKb,iBAgDAA,YA+BAA,SAsCAA,WAAhB,SAAyBM,qBACvB3B,GAAc2B,GACd,IAAIY,EAAe/6G,IACfg7G,EAAeh7G,IACfi7G,EAAaj7G,IACbk7G,EAAal7G,IAEjB,OAAOy6G,GAAK,SAACC,EAASC,EAAOC,EAAOsB,EAAYwB,GAC9C,IAAMp3G,EAAMvE,KAAKuE,IACbs3G,KACAC,EAAQ,EACRC,EAAQ,EAwBZ,GAtBIpD,EAAQ/jG,KAAOwkG,GAAYC,kBAC7ByC,EAAQ5vG,MAAM8sG,GAAgB,EAAIJ,EAAQI,EAC1C+C,EAAQ7vG,MAAM+sG,GAAgB,EAAIJ,EAAQI,GAExCN,EAAQ/jG,MAAQwkG,GAAYE,SAAWF,GAAYC,kBACrDL,EAAeL,EAAQG,SAAWF,EAAQD,EAAQ1wE,GAAK0wE,EAAQ1wE,GAC/DgxE,EAAeN,EAAQG,SAAWD,EAAQF,EAAQzwE,GAAKywE,EAAQzwE,KAE/D8wE,EAAe/6G,IACfg7G,EAAeh7G,KAEb06G,EAAQ/jG,KAAOwkG,GAAYG,gBAC7BL,EAAahtG,MAAMgtG,GAAcN,EAAQ,EAAIA,EAAQM,EACrDC,EAAajtG,MAAMitG,GAAcN,EAAQ,EAAIA,EAAQM,GAC5CR,EAAQ/jG,KAAOwkG,GAAYI,SACpCN,EAAaP,EAAQG,SAAWF,EAAQD,EAAQruG,GAAKquG,EAAQruG,GAC7D6uG,EAAaR,EAAQG,SAAWD,EAAQF,EAAQ5wE,GAAK4wE,EAAQzwE,KAE7DgxE,EAAaj7G,IACbk7G,EAAal7G,KAGX06G,EAAQ/jG,KAAOwkG,GAAY4C,eAC7BrD,EAAQ/jG,KAAOwkG,GAAYwC,MAAQ,IAAMjD,EAAQ7B,IAAM,IAAM6B,EAAQ5B,KAAO4B,EAAQ/B,WACpF+B,EAAQ/jG,KAAOwkG,GAAYE,UAAYX,EAAQ/jG,KAAOwkG,GAAYC,iBAClEV,EAAQ/jG,KAAOwkG,GAAYI,SAAWb,EAAQ/jG,KAAOwkG,GAAYG,eAAgB,CACjF,IAAM0C,WAA8BtD,EAAQl6G,EAAI,EAC7Ck6G,EAAQG,SAAWH,EAAQl6G,EAAIk6G,EAAQl6G,EAAIm6G,EACxCsD,WAA8BvD,EAAQj3G,EAAI,EAC7Ci3G,EAAQG,SAAWH,EAAQj3G,EAAIi3G,EAAQj3G,EAAIm3G,EAE9CiD,EAAS5vG,MAAMgtG,YACUP,EAAQruG,GAAKwxG,EAClCnD,EAAQG,SAAWH,EAAQl6G,EACzBk6G,EAAQruG,GAAKsuG,EAHUM,EAAaN,EAI1CmD,EAAS7vG,MAAMitG,YACUR,EAAQ5wE,GAAKg0E,EAClCpD,EAAQG,SAAWH,EAAQj3G,EACzBi3G,EAAQ5wE,GAAK8wE,EAHUM,EAAaN,EAK1C,IAAMsD,WAA+BxD,EAAQ1wE,GAAK,EAC/C0wE,EAAQG,SAAWH,EAAQl6G,EAAIk6G,EAAQ1wE,GAAK2wE,EACzCwD,WAA+BzD,EAAQzwE,GAAK,EAC/CywE,EAAQG,SAAWH,EAAQj3G,EAAIi3G,EAAQzwE,GAAK2wE,EAE3Ct0G,EAAI03G,IAAS7D,GAAO7zG,EAAI23G,IAAS9D,GACnC7zG,EAAIu3G,IAAU1D,GAAO7zG,EAAIw3G,IAAU3D,GACnC7zG,EAAI43G,IAAU/D,GAAO7zG,EAAI63G,IAAUhE,IACnCyD,KAAO,CAUX,OANIlD,EAAQ/jG,KAAOwkG,GAAYa,YACzB11G,EAAIq0G,EAAQuB,IAAe/B,GAAO7zG,EAAIs0G,EAAQ8C,IAAevD,IAC/DyD,MAIGA,EAAO,GAAKlD,MAOPb,WA0HAA,SAAhB,SAAuB/5G,EAAWU,EAAOiD,gBAAPjD,kBAAOiD,KACvC+0G,GAAc14G,EAAGU,EAAGiD,GACpB,IAAM4jC,EAAMtlC,KAAKslC,IAAIvnC,GACfqnC,EAAMplC,KAAKolC,IAAIrnC,GAErB,OAAOm8G,EAAO90E,EAAKE,GAAMA,EAAKF,EAAK3mC,EAAIA,EAAI2mC,EAAM1jC,EAAI4jC,EAAK5jC,EAAIjD,EAAI6mC,EAAM5jC,EAAI0jC,IAE9D0yE,YAAhB,SAA0BuE,EAAYC,GAEpC,gBAAAx8G,IAFoCw8G,KACpC7F,GAAc4F,EAAIC,GACXpC,EAAO,EAAG,EAAG,EAAG,EAAGmC,EAAIC,IAEhBxE,QAAhB,SAAsBuE,EAAYC,GAEhC,gBAAAx8G,IAFgCw8G,KAChC7F,GAAc4F,EAAIC,GACXpC,EAAOmC,EAAI,EAAG,EAAGC,EAAI,EAAG,IAEjBxE,SAAhB,SAAuB/5G,GAErB,OADA04G,GAAc14G,GACPm8G,EAAO,EAAG,EAAGl6G,KAAK44B,KAAK76B,GAAI,EAAG,EAAG,IAE1B+5G,SAAhB,SAAuB/5G,GAErB,OADA04G,GAAc14G,GACPm8G,EAAO,EAAGl6G,KAAK44B,KAAK76B,GAAI,EAAG,EAAG,EAAG,IAE1B+5G,kBAAhB,SAAgCyE,GAE9B,gBAAAp6G,IAF8Bo6G,KAC9B9F,GAAc8F,GACPrC,KAAW,EAAG,EAAG,EAAGqC,EAAS,IAEtBzE,kBAAhB,SAAgC0E,GAE9B,gBAAAr6G,IAF8Bq6G,KAC9B/F,GAAc+F,GACPtC,EAAO,EAAG,EAAG,KAAO,EAAGsC,IAGhB1E,SAAhB,WACE,OAAOY,GAAK,SAACC,EAASC,EAAOC,GAC3B,OAAIO,GAAYwC,MAAQjD,EAAQ/jG,cD3UlBu0B,EAAe9+B,EAAY+9B,eACxCe,EAAIsuE,IACPd,GAAmBxtE,EAAK9+B,EAAI+9B,GAQ9B,IALA,IAAMq0E,EAASz8G,KAAKgC,IAAImnC,EAAI82B,KAAO92B,EAAI4jC,MAAiD1P,EAAhCr9D,KAAKiC,IAAIknC,EAAI82B,KAAO92B,EAAI4jC,MAA4B0vC,EACtGC,EAAY18G,KAAK2J,KAAK0zD,EAAW,IAEjCsB,EAAqB,IAAI/7D,MAAM85G,GACjC9D,EAAQvuG,EAAIwuG,EAAQzwE,EACf/qC,EAAI,EAAGA,EAAIq/G,EAAWr/G,IAAK,CAClC,IAAMs/G,EAAW3E,GAAK7uE,EAAI82B,KAAO92B,EAAI4jC,KAAO1vE,EAAIq/G,GAC1CE,EAAS5E,GAAK7uE,EAAI82B,KAAO92B,EAAI4jC,MAAQ1vE,EAAI,GAAKq/G,GAC9CG,EAAWD,EAASD,EACpBv+G,EAAI,EAAI,EAAI4B,KAAK0sB,IAAImwF,EAAW9E,GAAM,GAEtC+E,EAAW,CACf98G,KAAKolC,IAAIu3E,EAAW5E,IAAO35G,EAAI4B,KAAKslC,IAAIq3E,EAAW5E,IACnD/3G,KAAKslC,IAAIq3E,EAAW5E,IAAO35G,EAAI4B,KAAKolC,IAAIu3E,EAAW5E,KAF9CztG,OAAIy9B,OAGLg1E,EAAS,CAAC/8G,KAAKolC,IAAIw3E,EAAS7E,IAAM/3G,KAAKslC,IAAIs3E,EAAS7E,KAAnDt5G,OAAGiD,OACJs7G,EAAW,CAACv+G,EAAIL,EAAI4B,KAAKslC,IAAIs3E,EAAS7E,IAAMr2G,EAAItD,EAAI4B,KAAKolC,IAAIw3E,EAAS7E,KAArE9vE,OAAIC,OACXy2B,EAAOthE,GAAK,CAACy7G,SAAU3vE,EAAI2vE,SAAUlkG,KAAMwkG,GAAYE,UACvD,IAAMnnG,EAAY,SAAC1T,EAAWiD,GACtB,IAAA60G,EAAiBj+E,GAAO,CAAC75B,EAAI0qC,EAAI2tE,GAAIp1G,EAAIynC,EAAI4tE,IAAK5tE,EAAI6tE,MAArDiG,OAAOC,OACd,MAAO,CAAC/zE,EAAIsuE,GAAMwF,EAAO9zE,EAAIuuE,GAAMwF,IAErC3G,EAA+BpkG,EAAU7H,EAAIy9B,GAA5C42B,EAAOthE,GAAGiN,QAAIq0D,EAAOthE,GAAG0qC,QACzBo1E,EAA+BhrG,EAAU81B,EAAIC,GAA5Cy2B,EAAOthE,GAAG4qC,QAAI02B,EAAOthE,GAAG6qC,QACzBk1E,EAA6BjrG,EAAU1T,EAAGiD,GAAzCi9D,EAAOthE,GAAGoB,OAAGkgE,EAAOthE,GAAGqE,OACpBynC,EAAI2vE,WACNn6C,EAAOthE,GAAGiN,IAAMsuG,EAChBj6C,EAAOthE,GAAG0qC,IAAM8wE,EAChBl6C,EAAOthE,GAAG4qC,IAAM2wE,EAChBj6C,EAAOthE,GAAG6qC,IAAM2wE,EAChBl6C,EAAOthE,GAAGoB,GAAKm6G,EACfj6C,EAAOthE,GAAGqE,GAAKm3G,GAEhBD,GAADyE,EAAiB,CAAC1+C,EAAOthE,GAAGoB,EAAGkgE,EAAOthE,GAAGqE,OAAjCm3G,OAEV,OAAOl6C,ECoS6B/pD,CACnB+jG,EAASA,EAAQG,SAAW,EAAIF,EAAOD,EAAQG,SAAW,EAAID,GAEpEF,MAIKb,gBAAhB,WACE,OAAOY,GAAK,SAACjxG,EAAG6C,EAAIy9B,GAQlB,OAPItgC,EAAEqxG,WACJxuG,EAAK,EACLy9B,EAAK,GAEHqxE,GAAYwC,MAAQn0G,EAAEmN,MACxB+hG,GAAmBlvG,EAAG6C,EAAIy9B,GAErBtgC,MAGKqwG,QAAhB,WACE,OAAO,SAACrwG,GACN,IAAMk3D,EAAS,GAEf,IAAK,IAAM55D,KAAO0C,EAChBk3D,EAAO55D,GAA2B0C,EAAE1C,GAEtC,OAAO45D,IAIKm5C,mBAAhB,WACE,IACMwF,EAAQ7E,IACR8E,EAAQ9D,IACR+D,EAASzE,IACT36G,EACFs6G,GAAK,SAACC,EAASiB,EAAUC,GAC3B,IAAMpyG,EAAI+1G,EAAOD,EAAMD,EAjBlB,SAAC71G,GACN,IAAMk3D,EAAS,GAEf,IAAK,IAAM55D,KAAO0C,EAChBk3D,EAAO55D,GAA2B0C,EAAE1C,GAEtC,OAAO45D,EAWsB1hD,CAAM07F,MACnC,SAAS8E,EAAKC,GACRA,EAAOt/G,EAAEu4C,OAAQv4C,EAAEu4C,KAAO+mE,GAC1BA,EAAOt/G,EAAEq4C,OAAQr4C,EAAEq4C,KAAOinE,GAEhC,SAASC,EAAKC,GACRA,EAAOx/G,EAAEw4C,OAAQx4C,EAAEw4C,KAAOgnE,GAC1BA,EAAOx/G,EAAEs4C,OAAQt4C,EAAEs4C,KAAOknE,GAgBhC,GAdIn2G,EAAEmN,KAAOwkG,GAAYyE,mBACvBJ,EAAK7D,GACL+D,EAAK9D,IAEHpyG,EAAEmN,KAAOwkG,GAAYoB,eACvBiD,EAAKh2G,EAAEhJ,GAELgJ,EAAEmN,KAAOwkG,GAAYsB,cACvBiD,EAAKl2G,EAAE/F,GAEL+F,EAAEmN,KAAOwkG,GAAYqB,UACvBgD,EAAKh2G,EAAEhJ,GACPk/G,EAAKl2G,EAAE/F,IAEL+F,EAAEmN,KAAOwkG,GAAYE,SAAU,CAEjCmE,EAAKh2G,EAAEhJ,GACPk/G,EAAKl2G,EAAE/F,GAGP,IAFA,IAAAhB,EAAA,EAEwBo9G,EAFJ3F,GAAWyB,EAAUnyG,EAAE6C,GAAI7C,EAAEwgC,GAAIxgC,EAAEhJ,GAE/B41C,eAClB,GADK0pE,SACY,EAAIA,GACvBN,EAAKjF,GAASoB,EAAUnyG,EAAE6C,GAAI7C,EAAEwgC,GAAIxgC,EAAEhJ,EAAGs/G,IAK7C,IAFA,IAAA3/G,EAAA,EAEwB4/G,EAFJ7F,GAAW0B,EAAUpyG,EAAEsgC,GAAItgC,EAAEygC,GAAIzgC,EAAE/F,GAE/B60G,eAClB,GADKwH,SACY,EAAIA,GACvBJ,EAAKnF,GAASqB,EAAUpyG,EAAEsgC,GAAItgC,EAAEygC,GAAIzgC,EAAE/F,EAAGq8G,IAI/C,GAAIt2G,EAAEmN,KAAOwkG,GAAYwC,IAAK,CAE5B6B,EAAKh2G,EAAEhJ,GACPk/G,EAAKl2G,EAAE/F,GACPi1G,GAAmBlvG,EAAGmyG,EAAUC,GAwBhC,IArBA,IAAMoE,EAAUx2G,EAAEuvG,KAAO,IAAMh3G,KAAKk4B,GAE9B7tB,EAAKrK,KAAKolC,IAAI64E,GAAWx2G,EAAEqvG,GAC3B1uE,EAAKpoC,KAAKslC,IAAI24E,GAAWx2G,EAAEqvG,GAC3BoH,GAAOl+G,KAAKslC,IAAI24E,GAAWx2G,EAAEsvG,GAC7BoH,EAAMn+G,KAAKolC,IAAI64E,GAAWx2G,EAAEsvG,GAI5BoG,EAAmB11G,EAAEw4D,KAAOx4D,EAAEslE,KAClC,CAACtlE,EAAEw4D,KAAMx4D,EAAEslE,WACHtlE,EAAEslE,KAAO,CAACtlE,EAAEslE,KAAO,IAAKtlE,EAAEw4D,KAAO,KAAO,CAACx4D,EAAEslE,KAAMtlE,EAAEw4D,MAFtDm+C,OAAQC,OAGTC,EAAiB,SAAC/H,OAACnoE,OAAImwE,OAErB9lD,EAAe,IADNz4D,KAAK24B,MAAM4lF,EAAKnwE,GACJpuC,KAAKk4B,GAEhC,OAAOugC,EAAM2lD,EAAS3lD,EAAM,IAAMA,OAKZ+lD,EADJ7G,GAA2BuG,GAAM7zG,EAAI,GAAGlH,IAAIm7G,GACxClB,gBAAbW,QACOK,GAAUL,EAAYM,GACpCZ,EAAKxF,GAAMxwG,EAAEgwG,GAAIptG,EAAI6zG,EAAKH,IAK9B,IADA,IAAAhvB,EAAA,EACwB0vB,EADJ9G,GAA2BwG,GAAM/1E,EAAI,GAAGjlC,IAAIm7G,GACxCjB,eAAa,CAAhC,IAAMU,WACOK,GAAUL,EAAYM,GACpCV,EAAK1F,GAAMxwG,EAAEiwG,GAAItvE,EAAI+1E,EAAKJ,KAIhC,OAAOpF,KAOT,OAJAv6G,EAAEq4C,KAAOjrC,IACTpN,EAAEu4C,UACFv4C,EAAEs4C,KAAOlrC,IACTpN,EAAEw4C,UACKx4C,GAjmBX,CAAiB05G,aCLjB,IAAA4G,GAAAC,GAAA,oBAAAx8G,IAAA,CAsEA,OArEEy8G,kBAAA,SAAMngH,GACJ,OAAOyF,KAAKiO,UAAU2lG,GAAuB+G,MAAMpgH,KAGrDmgH,kBAAA,WACE,OAAO16G,KAAKiO,UAAU2lG,GAAuBW,WAG/CmG,kBAAA,WACE,OAAO16G,KAAKiO,UAAU2lG,GAAuBgH,WAG/CF,yBAAA,SAAa7gH,EAAaC,EAAayJ,GACrC,OAAOvD,KAAKiO,UAAU2lG,GAAuBiH,cAAchhH,EAAGC,EAAGyJ,KAGnEm3G,wBAAA,WACE,OAAO16G,KAAKiO,UAAU2lG,GAAuBiB,iBAG/C6F,kBAAA,WACE,OAAO16G,KAAKiO,UAAU2lG,GAAuB2B,YAG/CmF,iBAAA,WACE,OAAO16G,KAAKiO,UAAU2lG,GAAuBkH,WAG/CJ,qBAAA,SAASK,GACP,OAAO/6G,KAAKiO,UAAU2lG,GAAuBoH,SAASD,KAGxDL,sBAAA,SAAUngH,EAAWiD,GACnB,OAAOwC,KAAKiO,UAAU2lG,GAAuBqH,UAAU1gH,EAAGiD,KAG5Dk9G,kBAAA,SAAMngH,EAAWiD,GACf,OAAOwC,KAAKiO,UAAU2lG,GAAuBsH,MAAM3gH,EAAGiD,KAGxDk9G,mBAAA,SAAO7gH,EAAWU,EAAYiD,GAC5B,OAAOwC,KAAKiO,UAAU2lG,GAAuBuH,OAAOthH,EAAGU,EAAGiD,KAG5Dk9G,mBAAA,SAAO7gH,EAAWC,EAAWyJ,EAAW5I,EAAW82B,EAAWv3B,GAC5D,OAAO8F,KAAKiO,UAAU2lG,GAAuBoC,OAAOn8G,EAAGC,EAAGyJ,EAAG5I,EAAG82B,EAAGv3B,KAGrEwgH,kBAAA,SAAM7gH,GACJ,OAAOmG,KAAKiO,UAAU2lG,GAAuBwH,OAAOvhH,KAGtD6gH,kBAAA,SAAM7gH,GACJ,OAAOmG,KAAKiO,UAAU2lG,GAAuByH,OAAOxhH,KAGtD6gH,sBAAA,SAAUrC,GACR,OAAOr4G,KAAKiO,UAAU2lG,GAAuB0H,gBAAgBjD,KAG/DqC,sBAAA,SAAUpC,GACR,OAAOt4G,KAAKiO,UAAU2lG,GAAuB2H,gBAAgBjD,KAG/DoC,yBAAA,WACE,OAAO16G,KAAKiO,UAAU2lG,GAAuB4H,oBAlEjD,GCGMC,GAAe,SAACl4G,GACpB,YAAQA,GAAK,OAASA,GAAK,OAASA,GAAK,OAASA,GAC9Cm4G,GAAU,SAACn4G,GACf,UAAIq7C,WAAW,IAAMr7C,EAAEq7C,WAAW,IAAMr7C,EAAEq7C,WAAW,IAAM,IAAIA,WAAW,IAAA+8D,GAAA,SAAA19G,GAa1E,SAAAwzB,IAAA,IAAA71B,EACEggH,0BAVMC,YAAoB,GACpBA,oBACAA,wBACAA,4BACAA,qBACAA,2BACAA,yBACAA,UAAoB,GAAAjgH,CAAA,CA6Q9B,OArRuCs2G,QAcrC4J,mBAAA,SAAOC,GAGL,YAAA99G,IAHK89G,MACL/7G,KAAKrG,MAAM,IAAKoiH,GAEZ,IAAM/7G,KAAKg8G,QAAQ5iH,SAAW4G,KAAKi8G,uBACrC,MAAM,IAAIC,YAAY,yCAExB,OAAOH,GAGTD,kBAAA,SAAM1J,EAAa2J,GAAnB,IAAAtqF,EAAAzxB,UAAA,IAAApE,IAAmBmgH,MAOjB,IANA,IAAMI,EAAgB,SAAC1H,GACrBsH,EAAS18G,KAAKo1G,GACdoH,EAAKG,QAAQ5iH,OAAS,EACtByiH,EAAKI,yBAAyB,EAGvB9iH,EAAI,EAAGA,EAAIi5G,EAAIh5G,OAAQD,IAAK,CACnC,IAAMoK,EAAI6uG,EAAIj5G,GAERijH,IAAap8G,KAAKq8G,iBAAmBnH,GAAYwC,KAC5B,IAAxB13G,KAAKg8G,QAAQ5iH,QAAwC,IAAxB4G,KAAKg8G,QAAQ5iH,QACjB,IAA1B4G,KAAKs8G,UAAUljH,QACK,MAAnB4G,KAAKs8G,WAAwC,MAAnBt8G,KAAKs8G,WAC5BC,EAAgBb,GAAQn4G,KACR,MAAnBvD,KAAKs8G,WAA2B,MAAN/4G,GAC3B64G,GAGF,IACEV,GAAQn4G,IACPg5G,EAMH,GAAI,MAAQh5G,GAAK,MAAQA,EAKzB,GACG,MAAQA,GAAK,MAAQA,IACtBvD,KAAKw8G,iBACJx8G,KAAKy8G,sBAMR,GAAI,MAAQl5G,GAAMvD,KAAKw8G,iBAAoBx8G,KAAK08G,qBAAwBN,EAAxE,CAOA,GAAIp8G,KAAKs8G,gBAAoBt8G,KAAKq8G,eAAgB,CAChD,IAAMhF,EAAMrqE,OAAOhtC,KAAKs8G,WACxB,GAAIt0G,MAAMqvG,GACR,MAAM,IAAI6E,YAAY,4BAA4B/iH,GAEpD,GAAI6G,KAAKq8G,iBAAmBnH,GAAYwC,IACtC,GAAI,IAAM13G,KAAKg8G,QAAQ5iH,QAAU,IAAM4G,KAAKg8G,QAAQ5iH,QAClD,GAAI,EAAIi+G,EACN,MAAM,IAAI6E,YACR,kCAAkC7E,iBAAkBl+G,YAGnD,IAAI,IAAM6G,KAAKg8G,QAAQ5iH,QAAU,IAAM4G,KAAKg8G,QAAQ5iH,SACrD,MAAQ4G,KAAKs8G,WAAa,MAAQt8G,KAAKs8G,UACzC,MAAM,IAAIJ,YACR,yBAAyBl8G,KAAKs8G,yBAAwBnjH,OAK9D6G,KAAKg8G,QAAQ38G,KAAKg4G,GACdr3G,KAAKg8G,QAAQ5iH,SAAWujH,GAAmB38G,KAAKq8G,kBAC9CnH,GAAYoB,gBAAkBt2G,KAAKq8G,eACrCF,EAAc,CACZzrG,KAAMwkG,GAAYoB,cAClB1B,SAAU50G,KAAK48G,mBACfriH,EAAG88G,IAEInC,GAAYsB,eAAiBx2G,KAAKq8G,eAC3CF,EAAc,CACZzrG,KAAMwkG,GAAYsB,aAClB5B,SAAU50G,KAAK48G,mBACfp/G,EAAG65G,IAILr3G,KAAKq8G,iBAAmBnH,GAAYY,SACpC91G,KAAKq8G,iBAAmBnH,GAAYqB,SACpCv2G,KAAKq8G,iBAAmBnH,GAAYG,gBAEpC8G,EAAc,CACZzrG,KAAM1Q,KAAKq8G,eACXzH,SAAU50G,KAAK48G,mBACfriH,EAAGyF,KAAKg8G,QAAQ,GAChBx+G,EAAGwC,KAAKg8G,QAAQ,KAGd9G,GAAYY,UAAY91G,KAAKq8G,iBAC/Br8G,KAAKq8G,eAAiBnH,GAAYqB,UAE3Bv2G,KAAKq8G,iBAAmBnH,GAAYE,SAC7C+G,EAAc,CACZzrG,KAAMwkG,GAAYE,SAClBR,SAAU50G,KAAK48G,mBACfx2G,GAAIpG,KAAKg8G,QAAQ,GACjBn4E,GAAI7jC,KAAKg8G,QAAQ,GACjBj4E,GAAI/jC,KAAKg8G,QAAQ,GACjBh4E,GAAIhkC,KAAKg8G,QAAQ,GACjBzhH,EAAGyF,KAAKg8G,QAAQ,GAChBx+G,EAAGwC,KAAKg8G,QAAQ,KAETh8G,KAAKq8G,iBAAmBnH,GAAYC,gBAC7CgH,EAAc,CACZzrG,KAAMwkG,GAAYC,gBAClBP,SAAU50G,KAAK48G,mBACf74E,GAAI/jC,KAAKg8G,QAAQ,GACjBh4E,GAAIhkC,KAAKg8G,QAAQ,GACjBzhH,EAAGyF,KAAKg8G,QAAQ,GAChBx+G,EAAGwC,KAAKg8G,QAAQ,KAETh8G,KAAKq8G,iBAAmBnH,GAAYI,QAC7C6G,EAAc,CACZzrG,KAAMwkG,GAAYI,QAClBV,SAAU50G,KAAK48G,mBACfx2G,GAAIpG,KAAKg8G,QAAQ,GACjBn4E,GAAI7jC,KAAKg8G,QAAQ,GACjBzhH,EAAGyF,KAAKg8G,QAAQ,GAChBx+G,EAAGwC,KAAKg8G,QAAQ,KAETh8G,KAAKq8G,iBAAmBnH,GAAYwC,KAC7CyE,EAAc,CACZzrG,KAAMwkG,GAAYwC,IAClB9C,SAAU50G,KAAK48G,mBACfhK,GAAI5yG,KAAKg8G,QAAQ,GACjBnJ,GAAI7yG,KAAKg8G,QAAQ,GACjBlJ,KAAM9yG,KAAKg8G,QAAQ,GACnBtJ,SAAU1yG,KAAKg8G,QAAQ,GACvBrJ,UAAW3yG,KAAKg8G,QAAQ,GACxBzhH,EAAGyF,KAAKg8G,QAAQ,GAChBx+G,EAAGwC,KAAKg8G,QAAQ,MAItBh8G,KAAKs8G,UAAY,GACjBt8G,KAAKy8G,yBACLz8G,KAAKw8G,mBACLx8G,KAAK08G,uBACL18G,KAAKi8G,yBAAyB,CAGhC,IAAIR,GAAal4G,GAGjB,GAAI,MAAQA,GAAKvD,KAAKi8G,uBAEpBj8G,KAAKi8G,+BAIP,GAAI,MAAQ14G,GAAK,MAAQA,GAAK,MAAQA,EAMtC,GAAIg5G,EACFv8G,KAAKs8G,UAAY/4G,EACjBvD,KAAK08G,2BAFP,CAOA,GAAI,IAAM18G,KAAKg8G,QAAQ5iH,OACrB,MAAM,IAAI8iH,YAAY,iCAAiC/iH,OAEzD,IAAK6G,KAAKi8G,uBACR,MAAM,IAAIC,YACR,yBAAyB34G,gBAAepK,mCAK5C,GAFA6G,KAAKi8G,0BAED,MAAQ14G,GAAK,MAAQA,EAQlB,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYoB,cAClCt2G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYsB,aAClCx2G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYY,QAClC91G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYqB,QAClCv2G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYE,SAClCp1G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYC,gBAClCn1G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYI,QAClCt1G,KAAK48G,mBAAqB,MAAQr5G,OAE7B,GAAI,MAAQA,GAAK,MAAQA,EAC9BvD,KAAKq8G,eAAiBnH,GAAYG,eAClCr1G,KAAK48G,mBAAqB,MAAQr5G,MAE7B,IAAI,MAAQA,GAAK,MAAQA,EAI9B,MAAM,IAAI24G,YAAY,yBAAyB34G,gBAAepK,OAH9D6G,KAAKq8G,eAAiBnH,GAAYwC,IAClC13G,KAAK48G,mBAAqB,MAAQr5G,OAzClCw4G,EAAS18G,KAAK,CACZqR,KAAMwkG,GAAYa,aAEpB/1G,KAAKi8G,0BACLj8G,KAAKq8G,iBAAkB,MA3BvBr8G,KAAKs8G,UAAY/4G,EACjBvD,KAAK08G,oBAAsB,MAAQn5G,OArHnCvD,KAAKs8G,WAAa/4G,EAClBvD,KAAK08G,4BANL18G,KAAKs8G,WAAa/4G,OATlBvD,KAAKs8G,WAAa/4G,EAClBvD,KAAKw8G,wBANLx8G,KAAKs8G,WAAa/4G,EAClBvD,KAAKy8G,sBAAwBz8G,KAAKw8G,gBA2MtC,OAAOT,GAKTD,sBAAA,SAAU7tG,GAoBR,OAnBe/U,OAAOkkB,OAAOpd,KAAM,CACjCrG,MAAO,CACLuB,MAAA,SAAM2hH,EAAed,sBAKnB,IAJA,IAAA5iH,EAAA,EAIgB2jH,EAJO5jH,OAAO6jH,eAAe/8G,MAAMrG,MAAMkN,KACvD7G,KACA68G,GAEc1sE,eAAgB,CAA3B,IAAM5sC,OACHy5G,EAAK/uG,EAAU1K,GACjB7E,MAAMuH,QAAQ+2G,GAChBjB,EAAS18G,WAAT08G,EAAiBiB,GAEjBjB,EAAS18G,KAAK29G,GAGlB,OAAOjB,SAlR2D,CAGrCrB,mBCJrC,SAAAvhH,EAAY8jH,GAAZ,IAAAxrF,EACEmqF,0BAEEC,EAAKE,SADH,iBAAoBkB,EACN/H,EAAYv7G,MAAMsjH,GAElBA,IA2DtB,OAlEiC/K,QAW/BgD,mBAAA,WACE,OAAOA,EAAYgI,OAAOl9G,KAAK+7G,WAGjC7G,sBAAA,WACE,IAAMiI,EAAkBvJ,GAAuBwJ,mBAG/C,OADAp9G,KAAKiO,UAAUkvG,GACRA,GAGTjI,sBAAA,SACEmI,GAIA,IAFA,IAAMC,EAAc,GAAA7rF,EAAA,EAEE4gF,EAAAryG,KAAK+7G,SAAL5rE,eAAe,CAAhC,IACGotE,EAAqBF,QAEvB3+G,MAAMuH,QAAQs3G,GAChBD,EAAYj+G,WAAZi+G,EAAoBC,GAEpBD,EAAYj+G,KAAKk+G,GAIrB,OADAv9G,KAAK+7G,SAAWuB,EACTt9G,MAGFk1G,SAAP,SAAc6G,GACZ,ONnB+E5J,SCnBrD4J,GAC5B,IAAI3J,EAAM,GAEL1zG,MAAMuH,QAAQ81G,KACjBA,EAAW,CAACA,IAEd,IAAK,IAAI5iH,EAAI,EAAGA,EAAI4iH,EAAS3iH,OAAQD,IAAK,CACxC,IAAMs7G,EAAUsH,EAAS5iH,GACzB,GAAIs7G,EAAQ/jG,OAASwkG,GAAYa,WAC/B3D,GAAO,SACF,GAAIqC,EAAQ/jG,OAASwkG,GAAYoB,cACtClE,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQl6G,OACL,GAAIk6G,EAAQ/jG,OAASwkG,GAAYsB,aACtCpE,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQj3G,OACL,GAAIi3G,EAAQ/jG,OAASwkG,GAAYY,QACtC1D,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQl6G,EApBJ,IAoBck6G,EAAQj3G,OACvB,GAAIi3G,EAAQ/jG,OAASwkG,GAAYqB,QACtCnE,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQl6G,EAvBJ,IAuBck6G,EAAQj3G,OACvB,GAAIi3G,EAAQ/jG,OAASwkG,GAAYE,SACtChD,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQruG,GA1BJ,IA0BequG,EAAQ5wE,GA1BvB,IA2BE4wE,EAAQ1wE,GA3BV,IA2BqB0wE,EAAQzwE,GA3B7B,IA4BEywE,EAAQl6G,EA5BV,IA4BoBk6G,EAAQj3G,OAC7B,GAAIi3G,EAAQ/jG,OAASwkG,GAAYC,gBACtC/C,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQ1wE,GA/BJ,IA+Be0wE,EAAQzwE,GA/BvB,IAgCEywE,EAAQl6G,EAhCV,IAgCoBk6G,EAAQj3G,OAC7B,GAAIi3G,EAAQ/jG,OAASwkG,GAAYI,QACtClD,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQruG,GAnCJ,IAmCequG,EAAQ5wE,GAnCvB,IAoCE4wE,EAAQl6G,EApCV,IAoCoBk6G,EAAQj3G,OAC7B,GAAIi3G,EAAQ/jG,OAASwkG,GAAYG,eACtCjD,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQl6G,EAvCJ,IAuCck6G,EAAQj3G,MACvB,IAAIi3G,EAAQ/jG,OAASwkG,GAAYwC,IAQtC,MAAM,IAAIn+G,MACR,4BAA8Bk7G,EAAgB/jG,mBAAkBvX,OARlEi5G,IAAQqC,EAAQG,SAAW,IAAM,KAC/BH,EAAQ7B,GA1CJ,IA0Ce6B,EAAQ5B,GA1CvB,IA2CE4B,EAAQ3B,KA3CV,MA4CI2B,EAAQ/B,SA5CZ,MA4CgC+B,EAAQ9B,UA5CxC,IA6CE8B,EAAQl6G,EA7CV,IA6CoBk6G,EAAQj3G,GAQtC,OAAO40G,EKbEoL,CAAczB,IAGhB7G,QAAP,SAAatmG,GACX,IAAM6uG,EAAS,IAAI3B,GACbC,EAAyB,GAG/B,OAFA0B,EAAO9jH,MAAMiV,EAAMmtG,GACnB0B,EAAOC,OAAO3B,GACPA,GAGO7G,aAAgB,EAChBA,UAAa,EACbA,gBAAmB,EACnBA,eAAkB,EAClBA,UAAc,GACdA,WAAe,GACfA,kBAAsB,GACtBA,UAAe,IACfA,iBAAsB,IACtBA,MAAW,IACXA,gBAAgBA,EAAYqB,QAAUrB,EAAYoB,cAAgBpB,EAAYsB,aAC9EtB,mBAAmBA,EAAYoB,cAAgBpB,EAAYsB,aAAetB,EAAYqB,QACtGrB,EAAYE,SAAWF,EAAYC,gBAAkBD,EAAYI,QACjEJ,EAAYG,eAAiBH,EAAYwC,MD3DJgD,CCNNA,IAoEpBiC,YACRzH,GAAYY,SAAU,EACvBzD,GAAC6C,GAAYqB,SAAU,EACvBlE,GAAC6C,GAAYoB,eAAgB,EAC7BjE,GAAC6C,GAAYsB,cAAe,EAC5BnE,GAAC6C,GAAYa,YAAa,EAC1B1D,GAAC6C,GAAYI,SAAU,EACvBjD,GAAC6C,GAAYG,gBAAiB,EAC9BhD,GAAC6C,GAAYE,UAAW,EACxB/C,GAAC6C,GAAYC,iBAAkB,EAC/B9C,GAAC6C,GAAYwC,KAAM,ENpEvB8C,IOhBA,SAASmD,GAAQC,GAaf,OATED,GADoB,mBAAXz6G,QAAoD,iBAApBA,OAAOC,SACtC,SAAUy6G,GAClB,cAAcA,CAChB,EAEU,SAAUA,GAClB,OAAOA,GAAyB,mBAAX16G,QAAyB06G,EAAI79G,cAAgBmD,QAAU06G,IAAQ16G,OAAOe,UAAY,gBAAkB25G,CAC3H,EAGKD,GAAQC,EACjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,IAAIC,GAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAClwCC,GAAW,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-7bfa6f22fb1a2866.js","node_modules/d3-array/src/ascending.js","node_modules/d3-array/src/descending.js","node_modules/d3-array/src/bisector.js","node_modules/d3-array/src/number.js","node_modules/d3-array/src/bisect.js","node_modules/d3-array/src/blur.js","node_modules/d3-array/src/count.js","node_modules/d3-array/src/cross.js","node_modules/d3-array/src/cumsum.js","node_modules/d3-array/src/variance.js","node_modules/d3-array/src/deviation.js","node_modules/d3-array/src/extent.js","node_modules/d3-array/src/fsum.js","node_modules/internmap/src/index.js","node_modules/d3-array/src/identity.js","node_modules/d3-array/src/group.js","node_modules/d3-array/src/permute.js","node_modules/d3-array/src/sort.js","node_modules/d3-array/src/groupSort.js","node_modules/d3-array/src/array.js","node_modules/d3-array/src/constant.js","node_modules/d3-array/src/ticks.js","node_modules/d3-array/src/nice.js","node_modules/d3-array/src/threshold/sturges.js","node_modules/d3-array/src/bin.js","node_modules/d3-array/src/max.js","node_modules/d3-array/src/maxIndex.js","node_modules/d3-array/src/min.js","node_modules/d3-array/src/minIndex.js","node_modules/d3-array/src/quickselect.js","node_modules/d3-array/src/greatest.js","node_modules/d3-array/src/quantile.js","node_modules/d3-array/src/threshold/freedmanDiaconis.js","node_modules/d3-array/src/threshold/scott.js","node_modules/d3-array/src/mean.js","node_modules/d3-array/src/median.js","node_modules/d3-array/src/merge.js","node_modules/d3-array/src/mode.js","node_modules/d3-array/src/pairs.js","node_modules/d3-array/src/range.js","node_modules/d3-array/src/rank.js","node_modules/d3-array/src/least.js","node_modules/d3-array/src/leastIndex.js","node_modules/d3-array/src/greatestIndex.js","node_modules/d3-array/src/scan.js","node_modules/d3-array/src/shuffle.js","node_modules/d3-array/src/sum.js","node_modules/d3-array/src/transpose.js","node_modules/d3-array/src/zip.js","node_modules/d3-array/src/every.js","node_modules/d3-array/src/some.js","node_modules/d3-array/src/filter.js","node_modules/d3-array/src/map.js","node_modules/d3-array/src/reduce.js","node_modules/d3-array/src/reverse.js","node_modules/d3-array/src/difference.js","node_modules/d3-array/src/disjoint.js","node_modules/d3-array/src/intersection.js","node_modules/d3-array/src/superset.js","node_modules/d3-array/src/subset.js","node_modules/d3-array/src/union.js","node_modules/d3-axis/src/identity.js","node_modules/d3-axis/src/axis.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/array.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/selection/selectChild.js","node_modules/d3-selection/src/selection/selectChildren.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/selection/iterator.js","node_modules/d3-selection/src/select.js","node_modules/d3-drag/src/noevent.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-color/src/define.js","node_modules/d3-color/src/color.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/basisClosed.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/numberArray.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-selection/src/pointer.js","node_modules/d3-timer/src/timer.js","node_modules/d3-timer/src/timeout.js","node_modules/d3-transition/src/transition/schedule.js","node_modules/d3-transition/src/interrupt.js","node_modules/d3-interpolate/src/transform/decompose.js","node_modules/d3-interpolate/src/transform/parse.js","node_modules/d3-interpolate/src/transform/index.js","node_modules/d3-transition/src/transition/tween.js","node_modules/d3-transition/src/transition/interpolate.js","node_modules/d3-transition/src/transition/attr.js","node_modules/d3-transition/src/transition/attrTween.js","node_modules/d3-transition/src/transition/delay.js","node_modules/d3-transition/src/transition/duration.js","node_modules/d3-transition/src/transition/selection.js","node_modules/d3-transition/src/transition/style.js","node_modules/d3-transition/src/transition/index.js","node_modules/d3-ease/src/cubic.js","node_modules/d3-transition/src/transition/select.js","node_modules/d3-transition/src/transition/selectAll.js","node_modules/d3-transition/src/transition/filter.js","node_modules/d3-transition/src/transition/merge.js","node_modules/d3-transition/src/transition/transition.js","node_modules/d3-transition/src/transition/on.js","node_modules/d3-transition/src/transition/styleTween.js","node_modules/d3-transition/src/transition/text.js","node_modules/d3-transition/src/transition/textTween.js","node_modules/d3-transition/src/transition/remove.js","node_modules/d3-transition/src/transition/ease.js","node_modules/d3-transition/src/transition/easeVarying.js","node_modules/d3-transition/src/transition/end.js","node_modules/d3-transition/src/selection/transition.js","node_modules/d3-transition/src/selection/index.js","node_modules/d3-transition/src/selection/interrupt.js","node_modules/d3-transition/src/active.js","node_modules/d3-brush/src/constant.js","node_modules/d3-brush/src/event.js","node_modules/d3-brush/src/noevent.js","node_modules/d3-brush/src/brush.js","node_modules/d3-chord/src/math.js","node_modules/d3-chord/src/chord.js","node_modules/d3-path/src/path.js","node_modules/d3-chord/src/array.js","node_modules/d3-chord/src/constant.js","node_modules/d3-chord/src/ribbon.js","node_modules/d3-color/src/math.js","node_modules/d3-color/src/lab.js","node_modules/d3-color/src/cubehelix.js","node_modules/d3-contour/src/array.js","node_modules/d3-contour/src/ascending.js","node_modules/d3-contour/src/area.js","node_modules/d3-contour/src/constant.js","node_modules/d3-contour/src/contains.js","node_modules/d3-contour/src/noop.js","node_modules/d3-contour/src/contours.js","node_modules/d3-contour/src/density.js","node_modules/robust-predicates/esm/util.js","node_modules/robust-predicates/esm/orient2d.js","node_modules/robust-predicates/esm/orient3d.js","node_modules/robust-predicates/esm/incircle.js","node_modules/robust-predicates/esm/insphere.js","node_modules/delaunator/index.js","node_modules/d3-delaunay/src/path.js","node_modules/d3-delaunay/src/polygon.js","node_modules/d3-delaunay/src/voronoi.js","node_modules/d3-delaunay/src/delaunay.js","node_modules/d3-drag/src/constant.js","node_modules/d3-drag/src/event.js","node_modules/d3-drag/src/drag.js","node_modules/d3-dsv/src/dsv.js","node_modules/d3-dsv/src/csv.js","node_modules/d3-dsv/src/tsv.js","node_modules/d3-dsv/src/autoType.js","node_modules/d3-ease/src/linear.js","node_modules/d3-ease/src/quad.js","node_modules/d3-ease/src/poly.js","node_modules/d3-ease/src/sin.js","node_modules/d3-ease/src/math.js","node_modules/d3-ease/src/exp.js","node_modules/d3-ease/src/circle.js","node_modules/d3-ease/src/bounce.js","node_modules/d3-ease/src/back.js","node_modules/d3-ease/src/elastic.js","node_modules/d3-fetch/src/blob.js","node_modules/d3-fetch/src/buffer.js","node_modules/d3-fetch/src/text.js","node_modules/d3-fetch/src/dsv.js","node_modules/d3-fetch/src/image.js","node_modules/d3-fetch/src/json.js","node_modules/d3-fetch/src/xml.js","node_modules/d3-force/src/center.js","node_modules/d3-quadtree/src/add.js","node_modules/d3-quadtree/src/quad.js","node_modules/d3-quadtree/src/x.js","node_modules/d3-quadtree/src/y.js","node_modules/d3-quadtree/src/quadtree.js","node_modules/d3-force/src/constant.js","node_modules/d3-force/src/jiggle.js","node_modules/d3-force/src/collide.js","node_modules/d3-force/src/link.js","node_modules/d3-quadtree/src/cover.js","node_modules/d3-quadtree/src/data.js","node_modules/d3-quadtree/src/extent.js","node_modules/d3-quadtree/src/find.js","node_modules/d3-quadtree/src/remove.js","node_modules/d3-quadtree/src/root.js","node_modules/d3-quadtree/src/size.js","node_modules/d3-quadtree/src/visit.js","node_modules/d3-quadtree/src/visitAfter.js","node_modules/d3-force/src/lcg.js","node_modules/d3-force/src/simulation.js","node_modules/d3-force/src/manyBody.js","node_modules/d3-force/src/radial.js","node_modules/d3-force/src/x.js","node_modules/d3-force/src/y.js","node_modules/d3-format/src/formatDecimal.js","node_modules/d3-format/src/exponent.js","node_modules/d3-format/src/formatNumerals.js","node_modules/d3-format/src/formatSpecifier.js","node_modules/d3-format/src/formatPrefixAuto.js","node_modules/d3-format/src/formatTrim.js","node_modules/d3-format/src/formatRounded.js","node_modules/d3-format/src/formatTypes.js","node_modules/d3-format/src/identity.js","node_modules/d3-format/src/locale.js","node_modules/d3-format/src/defaultLocale.js","node_modules/d3-format/src/formatGroup.js","node_modules/d3-format/src/precisionFixed.js","node_modules/d3-format/src/precisionPrefix.js","node_modules/d3-format/src/precisionRound.js","node_modules/d3-geo/src/math.js","node_modules/d3-geo/src/noop.js","node_modules/d3-geo/src/stream.js","node_modules/d3-geo/src/area.js","node_modules/d3-geo/src/bounds.js","node_modules/d3-geo/src/cartesian.js","node_modules/d3-geo/src/centroid.js","node_modules/d3-geo/src/constant.js","node_modules/d3-geo/src/compose.js","node_modules/d3-geo/src/rotation.js","node_modules/d3-geo/src/circle.js","node_modules/d3-geo/src/clip/buffer.js","node_modules/d3-geo/src/pointEqual.js","node_modules/d3-geo/src/clip/rejoin.js","node_modules/d3-geo/src/polygonContains.js","node_modules/d3-geo/src/clip/index.js","node_modules/d3-geo/src/clip/antimeridian.js","node_modules/d3-geo/src/clip/circle.js","node_modules/d3-geo/src/clip/line.js","node_modules/d3-geo/src/clip/rectangle.js","node_modules/d3-geo/src/length.js","node_modules/d3-geo/src/clip/extent.js","node_modules/d3-geo/src/distance.js","node_modules/d3-geo/src/contains.js","node_modules/d3-geo/src/graticule.js","node_modules/d3-geo/src/interpolate.js","node_modules/d3-geo/src/identity.js","node_modules/d3-geo/src/path/area.js","node_modules/d3-geo/src/path/bounds.js","node_modules/d3-geo/src/path/centroid.js","node_modules/d3-geo/src/path/context.js","node_modules/d3-geo/src/path/measure.js","node_modules/d3-geo/src/path/string.js","node_modules/d3-geo/src/path/index.js","node_modules/d3-geo/src/transform.js","node_modules/d3-geo/src/projection/fit.js","node_modules/d3-geo/src/projection/resample.js","node_modules/d3-geo/src/projection/index.js","node_modules/d3-geo/src/projection/conic.js","node_modules/d3-geo/src/projection/cylindricalEqualArea.js","node_modules/d3-geo/src/projection/conicEqualArea.js","node_modules/d3-geo/src/projection/albers.js","node_modules/d3-geo/src/projection/albersUsa.js","node_modules/d3-geo/src/projection/azimuthal.js","node_modules/d3-geo/src/projection/azimuthalEqualArea.js","node_modules/d3-geo/src/projection/azimuthalEquidistant.js","node_modules/d3-geo/src/projection/mercator.js","node_modules/d3-geo/src/projection/conicConformal.js","node_modules/d3-geo/src/projection/equirectangular.js","node_modules/d3-geo/src/projection/conicEquidistant.js","node_modules/d3-geo/src/projection/equalEarth.js","node_modules/d3-geo/src/projection/gnomonic.js","node_modules/d3-geo/src/projection/identity.js","node_modules/d3-geo/src/projection/naturalEarth1.js","node_modules/d3-geo/src/projection/orthographic.js","node_modules/d3-geo/src/projection/stereographic.js","node_modules/d3-geo/src/projection/transverseMercator.js","node_modules/d3-hierarchy/src/cluster.js","node_modules/d3-hierarchy/src/hierarchy/count.js","node_modules/d3-hierarchy/src/hierarchy/index.js","node_modules/d3-hierarchy/src/accessors.js","node_modules/d3-hierarchy/src/constant.js","node_modules/d3-hierarchy/src/hierarchy/each.js","node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","node_modules/d3-hierarchy/src/hierarchy/find.js","node_modules/d3-hierarchy/src/hierarchy/sum.js","node_modules/d3-hierarchy/src/hierarchy/sort.js","node_modules/d3-hierarchy/src/hierarchy/path.js","node_modules/d3-hierarchy/src/hierarchy/ancestors.js","node_modules/d3-hierarchy/src/hierarchy/descendants.js","node_modules/d3-hierarchy/src/hierarchy/leaves.js","node_modules/d3-hierarchy/src/hierarchy/links.js","node_modules/d3-hierarchy/src/hierarchy/iterator.js","node_modules/d3-hierarchy/src/lcg.js","node_modules/d3-hierarchy/src/array.js","node_modules/d3-hierarchy/src/pack/enclose.js","node_modules/d3-hierarchy/src/pack/siblings.js","node_modules/d3-hierarchy/src/pack/index.js","node_modules/d3-hierarchy/src/treemap/round.js","node_modules/d3-hierarchy/src/treemap/dice.js","node_modules/d3-hierarchy/src/partition.js","node_modules/d3-hierarchy/src/stratify.js","node_modules/d3-hierarchy/src/tree.js","node_modules/d3-hierarchy/src/treemap/slice.js","node_modules/d3-hierarchy/src/treemap/squarify.js","node_modules/d3-hierarchy/src/treemap/index.js","node_modules/d3-hierarchy/src/treemap/binary.js","node_modules/d3-hierarchy/src/treemap/sliceDice.js","node_modules/d3-hierarchy/src/treemap/resquarify.js","node_modules/d3-interpolate/src/discrete.js","node_modules/d3-interpolate/src/hue.js","node_modules/d3-interpolate/src/round.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-interpolate/src/hsl.js","node_modules/d3-interpolate/src/lab.js","node_modules/d3-interpolate/src/hcl.js","node_modules/d3-interpolate/src/cubehelix.js","node_modules/d3-interpolate/src/piecewise.js","node_modules/d3-interpolate/src/quantize.js","node_modules/d3-polygon/src/area.js","node_modules/d3-polygon/src/centroid.js","node_modules/d3-polygon/src/hull.js","node_modules/d3-polygon/src/cross.js","node_modules/d3-polygon/src/contains.js","node_modules/d3-polygon/src/length.js","node_modules/d3-random/src/defaultSource.js","node_modules/d3-random/src/uniform.js","node_modules/d3-random/src/int.js","node_modules/d3-random/src/normal.js","node_modules/d3-random/src/logNormal.js","node_modules/d3-random/src/irwinHall.js","node_modules/d3-random/src/bates.js","node_modules/d3-random/src/exponential.js","node_modules/d3-random/src/pareto.js","node_modules/d3-random/src/bernoulli.js","node_modules/d3-random/src/geometric.js","node_modules/d3-random/src/gamma.js","node_modules/d3-random/src/beta.js","node_modules/d3-random/src/binomial.js","node_modules/d3-random/src/weibull.js","node_modules/d3-random/src/cauchy.js","node_modules/d3-random/src/logistic.js","node_modules/d3-random/src/poisson.js","node_modules/d3-random/src/lcg.js","node_modules/d3-scale/src/init.js","node_modules/d3-scale/src/ordinal.js","node_modules/d3-scale/src/band.js","node_modules/d3-scale/src/number.js","node_modules/d3-scale/src/continuous.js","node_modules/d3-scale/src/constant.js","node_modules/d3-scale/src/tickFormat.js","node_modules/d3-scale/src/linear.js","node_modules/d3-scale/src/identity.js","node_modules/d3-scale/src/nice.js","node_modules/d3-scale/src/log.js","node_modules/d3-scale/src/symlog.js","node_modules/d3-scale/src/pow.js","node_modules/d3-scale/src/radial.js","node_modules/d3-scale/src/quantile.js","node_modules/d3-scale/src/quantize.js","node_modules/d3-scale/src/threshold.js","node_modules/d3-time/src/interval.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/hour.js","node_modules/d3-time/src/minute.js","node_modules/d3-time/src/month.js","node_modules/d3-time/src/second.js","node_modules/d3-time/src/millisecond.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/ticks.js","node_modules/d3-time-format/src/locale.js","node_modules/d3-time-format/src/defaultLocale.js","node_modules/d3-scale/src/time.js","node_modules/d3-scale/src/utcTime.js","node_modules/d3-scale/src/sequential.js","node_modules/d3-scale/src/sequentialQuantile.js","node_modules/d3-scale/src/diverging.js","node_modules/d3-scale-chromatic/src/colors.js","node_modules/d3-scale-chromatic/src/categorical/category10.js","node_modules/d3-scale-chromatic/src/categorical/Accent.js","node_modules/d3-scale-chromatic/src/categorical/Dark2.js","node_modules/d3-scale-chromatic/src/categorical/Paired.js","node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","node_modules/d3-scale-chromatic/src/categorical/Set1.js","node_modules/d3-scale-chromatic/src/categorical/Set2.js","node_modules/d3-scale-chromatic/src/categorical/Set3.js","node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","node_modules/d3-scale-chromatic/src/ramp.js","node_modules/d3-scale-chromatic/src/diverging/BrBG.js","node_modules/d3-scale-chromatic/src/diverging/PRGn.js","node_modules/d3-scale-chromatic/src/diverging/PiYG.js","node_modules/d3-scale-chromatic/src/diverging/PuOr.js","node_modules/d3-scale-chromatic/src/diverging/RdBu.js","node_modules/d3-scale-chromatic/src/diverging/RdGy.js","node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","node_modules/d3-scale-chromatic/src/diverging/Spectral.js","node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","node_modules/d3-selection/src/create.js","node_modules/d3-selection/src/local.js","node_modules/d3-selection/src/pointers.js","node_modules/d3-selection/src/selectAll.js","node_modules/d3-shape/src/constant.js","node_modules/d3-shape/src/math.js","node_modules/d3-shape/src/path.js","node_modules/d3-shape/src/arc.js","node_modules/d3-shape/src/array.js","node_modules/d3-shape/src/curve/linear.js","node_modules/d3-shape/src/point.js","node_modules/d3-shape/src/line.js","node_modules/d3-shape/src/area.js","node_modules/d3-shape/src/descending.js","node_modules/d3-shape/src/identity.js","node_modules/d3-shape/src/pie.js","node_modules/d3-shape/src/curve/radial.js","node_modules/d3-shape/src/lineRadial.js","node_modules/d3-shape/src/areaRadial.js","node_modules/d3-shape/src/pointRadial.js","node_modules/d3-shape/src/curve/bump.js","node_modules/d3-shape/src/link.js","node_modules/d3-shape/src/symbol/asterisk.js","node_modules/d3-shape/src/symbol/circle.js","node_modules/d3-shape/src/symbol/cross.js","node_modules/d3-shape/src/symbol/diamond.js","node_modules/d3-shape/src/symbol/diamond2.js","node_modules/d3-shape/src/symbol/plus.js","node_modules/d3-shape/src/symbol/square.js","node_modules/d3-shape/src/symbol/square2.js","node_modules/d3-shape/src/symbol/star.js","node_modules/d3-shape/src/symbol/triangle.js","node_modules/d3-shape/src/symbol/triangle2.js","node_modules/d3-shape/src/symbol/wye.js","node_modules/d3-shape/src/symbol/times.js","node_modules/d3-shape/src/symbol.js","node_modules/d3-shape/src/noop.js","node_modules/d3-shape/src/curve/basis.js","node_modules/d3-shape/src/curve/basisClosed.js","node_modules/d3-shape/src/curve/basisOpen.js","node_modules/d3-shape/src/curve/bundle.js","node_modules/d3-shape/src/curve/cardinal.js","node_modules/d3-shape/src/curve/cardinalClosed.js","node_modules/d3-shape/src/curve/cardinalOpen.js","node_modules/d3-shape/src/curve/catmullRom.js","node_modules/d3-shape/src/curve/catmullRomClosed.js","node_modules/d3-shape/src/curve/catmullRomOpen.js","node_modules/d3-shape/src/curve/linearClosed.js","node_modules/d3-shape/src/curve/monotone.js","node_modules/d3-shape/src/curve/natural.js","node_modules/d3-shape/src/curve/step.js","node_modules/d3-shape/src/offset/none.js","node_modules/d3-shape/src/order/none.js","node_modules/d3-shape/src/stack.js","node_modules/d3-shape/src/offset/expand.js","node_modules/d3-shape/src/offset/diverging.js","node_modules/d3-shape/src/offset/silhouette.js","node_modules/d3-shape/src/offset/wiggle.js","node_modules/d3-shape/src/order/appearance.js","node_modules/d3-shape/src/order/ascending.js","node_modules/d3-shape/src/order/descending.js","node_modules/d3-shape/src/order/insideOut.js","node_modules/d3-shape/src/order/reverse.js","node_modules/d3-time-format/src/isoFormat.js","node_modules/d3-time-format/src/isoParse.js","node_modules/d3-timer/src/interval.js","node_modules/d3-zoom/src/constant.js","node_modules/d3-zoom/src/event.js","node_modules/d3-zoom/src/transform.js","node_modules/d3-zoom/src/noevent.js","node_modules/d3-zoom/src/zoom.js","node_modules/process/browser.js","node_modules/performance-now/src/performance-now.coffee","node_modules/raf/index.js","node_modules/rgbcolor/index.js","node_modules/svg-pathdata/node_modules/tslib/tslib.es6.js","node_modules/svg-pathdata/src/SVGPathDataEncoder.ts","node_modules/svg-pathdata/src/mathUtils.ts","node_modules/svg-pathdata/src/SVGPathDataTransformer.ts","node_modules/svg-pathdata/src/TransformableSVG.ts","node_modules/svg-pathdata/src/SVGPathDataParser.ts","node_modules/svg-pathdata/src/SVGPathData.ts","node_modules/stackblur-canvas/dist/stackblur-es.js","node_modules/canvg/src/util/string.ts","node_modules/canvg/src/util/styles.ts","node_modules/canvg/src/util/math.ts","node_modules/canvg/src/Property.ts","node_modules/canvg/src/ViewPort.ts","node_modules/canvg/src/Point.ts","node_modules/canvg/src/Mouse.ts","node_modules/canvg/src/Screen.ts","node_modules/canvg/src/Parser.ts","node_modules/canvg/src/Transform/Matrix.ts","node_modules/canvg/src/Transform/Skew.ts","node_modules/canvg/src/Transform/Transform.ts","node_modules/canvg/src/Transform/Translate.ts","node_modules/canvg/src/Transform/Rotate.ts","node_modules/canvg/src/Transform/Scale.ts","node_modules/canvg/src/Transform/SkewX.ts","node_modules/canvg/src/Transform/SkewY.ts","node_modules/canvg/src/Document/Element.ts","node_modules/canvg/src/Document/UnknownElement.ts","node_modules/canvg/src/Font.ts","node_modules/canvg/src/BoundingBox.ts","node_modules/canvg/src/Document/RenderedElement.ts","node_modules/canvg/src/Document/TextElement.ts","node_modules/canvg/src/Document/TSpanElement.ts","node_modules/canvg/src/Document/TextNode.ts","node_modules/canvg/src/PathParser.ts","node_modules/canvg/src/Document/PathElement.ts","node_modules/canvg/src/Document/SVGElement.ts","node_modules/canvg/src/Document/RectElement.ts","node_modules/canvg/src/Document/PolylineElement.ts","node_modules/canvg/src/Document/GElement.ts","node_modules/canvg/src/Document/GradientElement.ts","node_modules/canvg/src/Document/AnimateElement.ts","node_modules/canvg/src/Document/FontFaceElement.ts","node_modules/canvg/src/Document/GlyphElement.ts","node_modules/canvg/src/Document/MissingGlyphElement.ts","node_modules/canvg/src/Document/ImageElement.ts","node_modules/canvg/src/SVGFontLoader.ts","node_modules/canvg/src/Document/StyleElement.ts","node_modules/canvg/src/Document/FeColorMatrixElement.ts","node_modules/canvg/src/Document/MaskElement.ts","node_modules/canvg/src/Document/ClipPathElement.ts","node_modules/canvg/src/Document/FilterElement.ts","node_modules/canvg/src/Document/elements.ts","node_modules/canvg/src/Document/CircleElement.ts","node_modules/canvg/src/Document/EllipseElement.ts","node_modules/canvg/src/Document/LineElement.ts","node_modules/canvg/src/Document/PolygonElement.ts","node_modules/canvg/src/Document/PatternElement.ts","node_modules/canvg/src/Document/MarkerElement.ts","node_modules/canvg/src/Document/DefsElement.ts","node_modules/canvg/src/Document/LinearGradientElement.ts","node_modules/canvg/src/Document/RadialGradientElement.ts","node_modules/canvg/src/Document/StopElement.ts","node_modules/canvg/src/Document/AnimateColorElement.ts","node_modules/canvg/src/Document/AnimateTransformElement.ts","node_modules/canvg/src/Document/FontElement.ts","node_modules/canvg/src/Document/TRefElement.ts","node_modules/canvg/src/Document/AElement.ts","node_modules/canvg/src/Document/TextPathElement.ts","node_modules/canvg/src/Document/SymbolElement.ts","node_modules/canvg/src/Document/UseElement.ts","node_modules/canvg/src/Document/FeDropShadowElement.ts","node_modules/canvg/src/Document/FeMorphologyElement.ts","node_modules/canvg/src/Document/FeCompositeElement.ts","node_modules/canvg/src/Document/FeGaussianBlurElement.ts","node_modules/canvg/src/Document/TitleElement.ts","node_modules/canvg/src/Document/DescElement.ts","node_modules/canvg/src/Document/Document.ts","node_modules/canvg/src/Canvg.ts","src/js/utils.js","node_modules/@parcel/runtime-js/lib/runtime-70dc4023cc7cd21b.js","src/assets/v1_5.json","src/js/app.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jAywl\\\":\\\"index.9a11273a.js\\\",\\\"bqd2F\\\":\\\"v1_5.098f7a17.png\\\",\\\"h70yT\\\":\\\"index.32f8921b.css\\\"}\"));","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], , S[i], , S[i + r]}, where r = radius, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - radius.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function identity(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function constant(x) {\n  return () => x;\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domains upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we dont\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return minIndex(values);\n  if (p >= 1) return maxIndex(values);\n  var n,\n      i = Math.floor((n - 1) * p),\n      order = (i, j) => ascendingDefined(values[i], values[j]),\n      index = quickselect(Uint32Array.from(values, (_, i) => i), i, 0, n - 1, order);\n  return greatest(index.subarray(0, i + 1), i => values[i]);\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  const c = count(values), d = quantile(values, 0.75) - quantile(values, 0.25);\n  return c && d ? Math.ceil((max - min) / (2 * d * Math.pow(c, -1 / 3))) : 1;\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  values = Uint32Array.from(V, (_, i) => i);\n  // Risky chaining due to Safari 14 https://github.com/d3/d3-array/issues/123\n  values.sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex));\n  values.forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import min from \"./min.js\";\n\nexport default function transpose(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import transpose from \"./transpose.js\";\n\nexport default function zip() {\n  return transpose(arguments);\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","import {InternSet} from \"internmap\";\n\nexport default function difference(values, ...others) {\n  values = new InternSet(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new InternSet();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function intersection(values, ...others) {\n  values = new InternSet(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n\nfunction set(values) {\n  return values instanceof InternSet ? values : new InternSet(values);\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    const io = intern(o);\n    if (set.has(io)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      const ivalue = intern(value);\n      set.add(ivalue);\n      if (Object.is(io, ivalue)) break;\n    }\n  }\n  return true;\n}\n\nfunction intern(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","import {InternSet} from \"internmap\";\n\nexport default function union(...others) {\n  const set = new InternSet();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n","import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","export default x => () => x;\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","export default function() {}\n","import {extent, nice, thresholdSturges, ticks} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      const e = extent(values, finite);\n      tz = ticks(...nice(e[0], e[1], tz), tz);\n      while (tz[tz.length - 1] >= e[1]) tz.pop();\n      while (tz[1] < e[0]) tz.shift();\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(value => contour(values, value));\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    const v = value == null ? NaN : +value;\n    if (isNaN(v)) throw new Error(`invalid value: ${value}`);\n\n    var polygons = [],\n        holes = [];\n\n    isorings(values, v, function(ring) {\n      smooth(ring, values, v);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = above(values[0], value);\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = above(values[x + 1], value);\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = above(values[y * dx + dx], value);\n      t2 = above(values[y * dx], value);\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = above(values[y * dx + dx + x + 1], value);\n        t3 = t2, t2 = above(values[y * dx + x + 1], value);\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = above(values[y * dx + x + 1], value);\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v1 = valid(values[yt * dx + xt]);\n      if (x > 0 && x < dx && xt === x) {\n        point[0] = smooth1(x, valid(values[yt * dx + xt - 1]), v1, value);\n      }\n      if (y > 0 && y < dy && yt === y) {\n        point[1] = smooth1(y, valid(values[(yt - 1) * dx + xt]), v1, value);\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n\n// When computing the extent, ignore infinite values (as well as invalid ones).\nfunction finite(x) {\n  return isFinite(x) ? x : NaN;\n}\n\n// Is the (possibly invalid) x greater than or equal to the (known valid) value?\n// Treat any invalid value as below negative infinity.\nfunction above(x, value) {\n  return x == null ? false : +x >= value;\n}\n\n// During smoothing, treat any invalid value as negative infinity.\nfunction valid(v) {\n  return v == null || isNaN(v = +v) ? -Infinity : v;\n}\n\nfunction smooth1(x, v0, v1, value) {\n  const a = value - v0;\n  const b = v1 - v0;\n  const d = isFinite(a) || isFinite(b) ? a / b : Math.sign(a) / Math.sign(b);\n  return isNaN(d) ? x : x + d - 0.5;\n}\n","import {blur2, max, ticks} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport Contours from \"./contours.js\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function grid(data) {\n    var values = new Float32Array(n * m),\n        pow2k = Math.pow(2, -k),\n        i = -1;\n\n    for (const d of data) {\n      var xi = (x(d, ++i, data) + o) * pow2k,\n          yi = (y(d, i, data) + o) * pow2k,\n          wi = +weight(d, i, data);\n      if (wi && xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        var x0 = Math.floor(xi),\n            y0 = Math.floor(yi),\n            xt = xi - x0 - 0.5,\n            yt = yi - y0 - 0.5;\n        values[x0 + y0 * n] += (1 - xt) * (1 - yt) * wi;\n        values[x0 + 1 + y0 * n] += xt * (1 - yt) * wi;\n        values[x0 + 1 + (y0 + 1) * n] += xt * yt * wi;\n        values[x0 + (y0 + 1) * n] += (1 - xt) * yt * wi;\n      }\n    }\n\n    blur2({data: values, width: n, height: m}, r * pow2k);\n    return values;\n  }\n\n  function density(data) {\n    var values = grid(data),\n        tz = threshold(values),\n        pow4k = Math.pow(2, 2 * k);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = ticks(Number.MIN_VALUE, max(values) / pow4k, tz);\n    }\n\n    return Contours()\n        .size([n, m])\n        .thresholds(tz.map(d => d * pow4k))\n      (values)\n        .map((c, i) => (c.value = +tz[i], transform(c)));\n  }\n\n  density.contours = function(data) {\n    var values = grid(data),\n        contours = Contours().size([n, m]),\n        pow4k = Math.pow(2, 2 * k),\n        contour = value => {\n          value = +value;\n          var c = transform(contours.contour(values, value * pow4k));\n          c.value = value; // preserve exact threshold value\n          return c;\n        };\n    Object.defineProperty(contour, \"max\", {get: () => max(values) / pow4k});\n    return contour;\n  };\n\n  function transform(geometry) {\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = (Math.sqrt(4 * _ * _ + 1) - 1) / 2, resize();\n  };\n\n  return density;\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    if (detleft === 0 || detright === 0 || (detleft > 0) !== (detright > 0)) return det;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\n\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst at_b = vec(4);\nconst at_c = vec(4);\nconst bt_c = vec(4);\nconst bt_a = vec(4);\nconst ct_a = vec(4);\nconst ct_b = vec(4);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abt = vec(8);\nconst u = vec(4);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _16 = vec(8);\nconst _12 = vec(12);\n\nlet fin = vec(192);\nlet fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n    finlen = sum(finlen, fin, alen, a, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n    if (xtail === 0) {\n        if (ytail === 0) {\n            a[0] = 0;\n            b[0] = 0;\n            return 1;\n        } else {\n            negate = -ytail;\n            s1 = negate * ax;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        }\n    } else {\n        if (ytail === 0) {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            negate = -xtail;\n            s1 = negate * by;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        } else {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = ytail * ax;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            a[3] = u3;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = xtail * by;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            b[3] = u3;\n            return 4;\n        }\n    }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n    s1 = a * b;\n    c = splitter * a;\n    ahi = c - (c - a);\n    alo = a - ahi;\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    c = splitter * k;\n    bhi = c - (c - k);\n    blo = k - bhi;\n    _i = s0 * k;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * k;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n    if (z !== 0) {\n        c = splitter * z;\n        bhi = c - (c - z);\n        blo = z - bhi;\n        _i = s0 * z;\n        c = splitter * s0;\n        ahi = c - (c - s0);\n        alo = s0 - ahi;\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n        _j = s1 * z;\n        c = splitter * s1;\n        ahi = c - (c - s1);\n        alo = s1 - ahi;\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n        _k = _i + _0;\n        bvirt = _k - _i;\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n        u3 = _j + _k;\n        u[2] = _k - (u3 - _j);\n        u[3] = u3;\n        finlen = finadd(finlen, 4, u);\n    }\n    return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail;\n    let adytail, bdytail, cdytail;\n    let adztail, bdztail, cdztail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            scale(4, bc, adz, _8), _8,\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\n        scale(4, ab, cdz, _8), _8, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = o3derrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    bvirt = az - adz;\n    adztail = az - (adz + bvirt) + (bvirt - dz);\n    bvirt = bz - bdz;\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n    bvirt = cz - cdz;\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\n        return det;\n    }\n\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n    det +=\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n    if (adztail !== 0) {\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n    }\n    if (bdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n    }\n    if (cdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n    }\n\n    if (adxtail !== 0) {\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n        }\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n        }\n    }\n    if (bdxtail !== 0) {\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n        }\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n        }\n    }\n    if (cdxtail !== 0) {\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n        }\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n\n    const det =\n        adz * (bdxcdy - cdxbdy) +\n        bdz * (cdxady - adxcdy) +\n        cdz * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n\n    const errbound = o3derrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\n\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    return adx * (bdy * cdz - bdz * cdy) +\n        bdx * (cdy * adz - cdz * ady) +\n        cdx * (ady * bdz - adz * bdy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\n\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst aa = vec(4);\nconst bb = vec(4);\nconst cc = vec(4);\nconst u = vec(4);\nconst v = vec(4);\nconst axtbc = vec(8);\nconst aytbc = vec(8);\nconst bxtca = vec(8);\nconst bytca = vec(8);\nconst cxtab = vec(8);\nconst cytab = vec(8);\nconst abt = vec(8);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abtt = vec(4);\nconst bctt = vec(4);\nconst catt = vec(4);\n\nconst _8 = vec(8);\nconst _16 = vec(16);\nconst _16b = vec(16);\nconst _16c = vec(16);\nconst _32 = vec(32);\nconst _32b = vec(32);\nconst _48 = vec(48);\nconst _64 = vec(64);\n\nlet fin = vec(1152);\nlet fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n    finlen = sum(finlen, fin, a, alen, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n    let abtlen, bctlen, catlen;\n    let abttlen, bcttlen, cattlen;\n    let n1, n0;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            sum(\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\n            sum(\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\n        sum(\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = iccerrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n        return det;\n    }\n\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n        s1 = adx * adx;\n        c = splitter * adx;\n        ahi = c - (c - adx);\n        alo = adx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = ady * ady;\n        c = splitter * ady;\n        ahi = c - (c - ady);\n        alo = ady - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        aa[3] = u3;\n    }\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n        s1 = bdx * bdx;\n        c = splitter * bdx;\n        ahi = c - (c - bdx);\n        alo = bdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = bdy * bdy;\n        c = splitter * bdy;\n        ahi = c - (c - bdy);\n        alo = bdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        bb[3] = u3;\n    }\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n        s1 = cdx * cdx;\n        c = splitter * cdx;\n        ahi = c - (c - cdx);\n        alo = cdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = cdy * cdy;\n        c = splitter * cdy;\n        ahi = c - (c - cdy);\n        alo = cdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        cc[3] = u3;\n    }\n\n    if (adxtail !== 0) {\n        axtbclen = scale(4, bc, adxtail, axtbc);\n        finlen = finadd(finlen, sum_three(\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n    }\n    if (adytail !== 0) {\n        aytbclen = scale(4, bc, adytail, aytbc);\n        finlen = finadd(finlen, sum_three(\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n    }\n    if (bdxtail !== 0) {\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\n        finlen = finadd(finlen, sum_three(\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n    }\n    if (bdytail !== 0) {\n        bytcalen = scale(4, ca, bdytail, bytca);\n        finlen = finadd(finlen, sum_three(\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n    }\n    if (cdxtail !== 0) {\n        cxtablen = scale(4, ab, cdxtail, cxtab);\n        finlen = finadd(finlen, sum_three(\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n    }\n    if (cdytail !== 0) {\n        cytablen = scale(4, ab, cdytail, cytab);\n        finlen = finadd(finlen, sum_three(\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n    }\n\n    if (adxtail !== 0 || adytail !== 0) {\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n            s1 = bdxtail * cdy;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdy;\n            bhi = c - (c - cdy);\n            blo = cdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * cdytail;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            s1 = cdxtail * -bdy;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * -bdy;\n            bhi = c - (c - -bdy);\n            blo = -bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * -bdytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * -bdytail;\n            bhi = c - (c - -bdytail);\n            blo = -bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            bctlen = sum(4, u, 4, v, bct);\n            s1 = bdxtail * cdytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdxtail * bdytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            bctt[3] = u3;\n            bcttlen = 4;\n        } else {\n            bct[0] = 0;\n            bctlen = 1;\n            bctt[0] = 0;\n            bcttlen = 1;\n        }\n        if (adxtail !== 0) {\n            const len = scale(bctlen, bct, adxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(axtbclen, axtbc, adxtail, _16), _16,\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * adx, _16), _16,\n                scale(len2, _8, adxtail, _16b), _16b,\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n            }\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n            }\n        }\n        if (adytail !== 0) {\n            const len = scale(bctlen, bct, adytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(aytbclen, aytbc, adytail, _16), _16,\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * ady, _16), _16,\n                scale(len2, _8, adytail, _16b), _16b,\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\n        }\n    }\n    if (bdxtail !== 0 || bdytail !== 0) {\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n            s1 = cdxtail * ady;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * ady;\n            bhi = c - (c - ady);\n            blo = ady - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * adytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -cdy;\n            n0 = -cdytail;\n            s1 = adxtail * n1;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * n0;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            catlen = sum(4, u, 4, v, cat);\n            s1 = cdxtail * adytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adxtail * cdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            catt[3] = u3;\n            cattlen = 4;\n        } else {\n            cat[0] = 0;\n            catlen = 1;\n            catt[0] = 0;\n            cattlen = 1;\n        }\n        if (bdxtail !== 0) {\n            const len = scale(catlen, cat, bdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdx, _16), _16,\n                scale(len2, _8, bdxtail, _16b), _16b,\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n            }\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n            }\n        }\n        if (bdytail !== 0) {\n            const len = scale(catlen, cat, bdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bytcalen, bytca, bdytail, _16), _16,\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdy, _16), _16,\n                scale(len2, _8, bdytail, _16b), _16b,\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\n        }\n    }\n    if (cdxtail !== 0 || cdytail !== 0) {\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n            s1 = adxtail * bdy;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdy;\n            bhi = c - (c - bdy);\n            blo = bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * bdytail;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -ady;\n            n0 = -adytail;\n            s1 = bdxtail * n1;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * n0;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            abtlen = sum(4, u, 4, v, abt);\n            s1 = adxtail * bdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdxtail * adytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            abtt[3] = u3;\n            abttlen = 4;\n        } else {\n            abt[0] = 0;\n            abtlen = 1;\n            abtt[0] = 0;\n            abttlen = 1;\n        }\n        if (cdxtail !== 0) {\n            const len = scale(abtlen, abt, cdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdx, _16), _16,\n                scale(len2, _8, cdxtail, _16b), _16b,\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n            }\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n            }\n        }\n        if (cdytail !== 0) {\n            const len = scale(abtlen, abt, cdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cytablen, cytab, cdytail, _16), _16,\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdy, _16), _16,\n                scale(len2, _8, cdytail, _16b), _16b,\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n    const alift = adx * adx + ady * ady;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n    const blift = bdx * bdx + bdy * bdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n    const clift = cdx * cdx + cdy * cdy;\n\n    const det =\n        alift * (bdxcdy - cdxbdy) +\n        blift * (cdxady - adxcdy) +\n        clift * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n\n    const errbound = iccerrboundA * permanent;\n\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\n\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const ady = ay - dy;\n    const bdx = bx - dx;\n    const bdy = by - dy;\n    const cdx = cx - dx;\n    const cdy = cy - dy;\n\n    const abdet = adx * bdy - bdx * ady;\n    const bcdet = bdx * cdy - cdx * bdy;\n    const cadet = cdx * ady - adx * cdy;\n    const alift = adx * adx + ady * ady;\n    const blift = bdx * bdx + bdy * bdy;\n    const clift = cdx * cdx + cdy * cdy;\n\n    return alift * bcdet + blift * cadet + clift * abdet;\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\n\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\n\nconst ab = vec(4);\nconst bc = vec(4);\nconst cd = vec(4);\nconst de = vec(4);\nconst ea = vec(4);\nconst ac = vec(4);\nconst bd = vec(4);\nconst ce = vec(4);\nconst da = vec(4);\nconst eb = vec(4);\n\nconst abc = vec(24);\nconst bcd = vec(24);\nconst cde = vec(24);\nconst dea = vec(24);\nconst eab = vec(24);\nconst abd = vec(24);\nconst bce = vec(24);\nconst cda = vec(24);\nconst deb = vec(24);\nconst eac = vec(24);\n\nconst adet = vec(1152);\nconst bdet = vec(1152);\nconst cdet = vec(1152);\nconst ddet = vec(1152);\nconst edet = vec(1152);\nconst abdet = vec(2304);\nconst cddet = vec(2304);\nconst cdedet = vec(3456);\nconst deter = vec(5760);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _8c = vec(8);\nconst _16 = vec(16);\nconst _24 = vec(24);\nconst _48 = vec(48);\nconst _48b = vec(48);\nconst _96 = vec(96);\nconst _192 = vec(192);\nconst _384x = vec(384);\nconst _384y = vec(384);\nconst _384z = vec(384);\nconst _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n    return sum_three(\n        scale(4, a, az, _8), _8,\n        scale(4, b, bz, _8b), _8b,\n        scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n    const len = sum(\n        sum(alen, a, blen, b, _48), _48,\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n\n    return sum_three(\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    s1 = ax * by;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ay;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n    s1 = bx * cy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * by;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cx * dy;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * cy;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cd[3] = u3;\n    s1 = dx * ey;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * dy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    de[3] = u3;\n    s1 = ex * ay;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * ey;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ea[3] = u3;\n    s1 = ax * cy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * ay;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ac[3] = u3;\n    s1 = bx * dy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * by;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bd[3] = u3;\n    s1 = cx * ey;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * cy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ce[3] = u3;\n    s1 = dx * ay;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * dy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    da[3] = u3;\n    s1 = ex * by;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ey;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    eb[3] = u3;\n\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n\n    const deterlen = sum_three(\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\n        sum_three(\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n\n    return deter[deterlen - 1];\n}\n\nconst xdet = vec(96);\nconst ydet = vec(96);\nconst zdet = vec(96);\nconst fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\n    return sum_three(\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n    let ab3, bc3, cd3, da3, ac3, bd3;\n\n    let aextail, bextail, cextail, dextail;\n    let aeytail, beytail, ceytail, deytail;\n    let aeztail, beztail, ceztail, deztail;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    s1 = aex * bey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bex * aey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ab3 = _j + _i;\n    bvirt = ab3 - _j;\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n    ab[3] = ab3;\n    s1 = bex * cey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * bey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bc3 = _j + _i;\n    bvirt = bc3 - _j;\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n    bc[3] = bc3;\n    s1 = cex * dey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * cey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    cd3 = _j + _i;\n    bvirt = cd3 - _j;\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n    cd[3] = cd3;\n    s1 = dex * aey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = aex * dey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    da3 = _j + _i;\n    bvirt = da3 - _j;\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n    da[3] = da3;\n    s1 = aex * cey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * aey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ac3 = _j + _i;\n    bvirt = ac3 - _j;\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n    ac[3] = ac3;\n    s1 = bex * dey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * bey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bd3 = _j + _i;\n    bvirt = bd3 - _j;\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n    bd[3] = bd3;\n\n    const finlen = sum(\n        sum(\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\n        sum(\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = isperrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - aex;\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\n    bvirt = ay - aey;\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\n    bvirt = az - aez;\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\n    bvirt = bx - bex;\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\n    bvirt = by - bey;\n    beytail = by - (bey + bvirt) + (bvirt - ey);\n    bvirt = bz - bez;\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\n    bvirt = cx - cex;\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\n    bvirt = cy - cey;\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\n    bvirt = cz - cez;\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\n    bvirt = dx - dex;\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\n    bvirt = dy - dey;\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\n    bvirt = dz - dez;\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\n        bextail === 0 && beytail === 0 && beztail === 0 &&\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\n        dextail === 0 && deytail === 0 && deztail === 0) {\n        return det;\n    }\n\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\n    det +=\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    const aexbey = aex * bey;\n    const bexaey = bex * aey;\n    const ab = aexbey - bexaey;\n    const bexcey = bex * cey;\n    const cexbey = cex * bey;\n    const bc = bexcey - cexbey;\n    const cexdey = cex * dey;\n    const dexcey = dex * cey;\n    const cd = cexdey - dexcey;\n    const dexaey = dex * aey;\n    const aexdey = aex * dey;\n    const da = dexaey - aexdey;\n    const aexcey = aex * cey;\n    const cexaey = cex * aey;\n    const ac = aexcey - cexaey;\n    const bexdey = bex * dey;\n    const dexbey = dex * bey;\n    const bd = bexdey - dexbey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    const det = (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n\n    const aezplus = Math.abs(aez);\n    const bezplus = Math.abs(bez);\n    const cezplus = Math.abs(cez);\n    const dezplus = Math.abs(dez);\n    const aexbeyplus = Math.abs(aexbey);\n    const bexaeyplus = Math.abs(bexaey);\n    const bexceyplus = Math.abs(bexcey);\n    const cexbeyplus = Math.abs(cexbey);\n    const cexdeyplus = Math.abs(cexdey);\n    const dexceyplus = Math.abs(dexcey);\n    const dexaeyplus = Math.abs(dexaey);\n    const aexdeyplus = Math.abs(aexdey);\n    const aexceyplus = Math.abs(aexcey);\n    const cexaeyplus = Math.abs(cexaey);\n    const bexdeyplus = Math.abs(bexdey);\n    const dexbeyplus = Math.abs(dexbey);\n    const permanent =\n        ((cexdeyplus + dexceyplus) * bezplus + (dexbeyplus + bexdeyplus) * cezplus + (bexceyplus + cexbeyplus) * dezplus) * alift +\n        ((dexaeyplus + aexdeyplus) * cezplus + (aexceyplus + cexaeyplus) * dezplus + (cexdeyplus + dexceyplus) * aezplus) * blift +\n        ((aexbeyplus + bexaeyplus) * dezplus + (bexdeyplus + dexbeyplus) * aezplus + (dexaeyplus + aexdeyplus) * bezplus) * clift +\n        ((bexceyplus + cexbeyplus) * aezplus + (cexaeyplus + aexceyplus) * bezplus + (aexbeyplus + bexaeyplus) * cezplus) * dlift;\n\n    const errbound = isperrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\n\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n    const aex = pax - pex;\n    const bex = pbx - pex;\n    const cex = pcx - pex;\n    const dex = pdx - pex;\n    const aey = pay - pey;\n    const bey = pby - pey;\n    const cey = pcy - pey;\n    const dey = pdy - pey;\n    const aez = paz - pez;\n    const bez = pbz - pez;\n    const cez = pcz - pez;\n    const dez = pdz - pez;\n\n    const ab = aex * bey - bex * aey;\n    const bc = bex * cey - cex * bey;\n    const cd = cex * dey - dex * cey;\n    const da = dex * aey - aex * dey;\n    const ac = aex * cey - cex * aey;\n    const bd = bex * dey - dex * bey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nimport {orient2d} from 'robust-predicates';\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n    let bx, by; // lazily computed barycenter of the hull\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (Math.abs(ab) < 1e-9) {\n        // For a degenerate triangle, the circumcenter is at the infinity, in a\n        // direction orthogonal to the halfedge and away from the center of\n        // the diagram <bx, by>, defined as the hulls barycenter.\n        if (bx === undefined) {\n          bx = by = 0;\n          for (const i of hull) bx += points[i * 2], by += points[i * 2 + 1];\n          bx /= hull.length, by /= hull.length;\n        }\n        const a = 1e9 * Math.sign((bx - x1) * ey - (by - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] === cj[aj]\n              && ci[ai + 1] === cj[aj + 1]\n              && ci[(ai + 2) % li] === cj[(aj + lj - 2) % lj]\n              && ci[(ai + 3) % li] === cj[(aj + lj - 1) % lj]) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return this._simplify(V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points));\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    // for more robustness, always consider the segment in the same order\n    const flip = c0 < c1;\n    if (flip) [x0, y0, x1, y1, c0, c1] = [x1, y1, x0, y0, c1, c0];\n    while (true) {\n      if (c0 === 0 && c1 === 0) return flip ? [x1, y1, x0, y0] : [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n  _simplify(P) {\n    if (P && P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) {\n          P.splice(j, 2), i -= 2;\n        }\n      }\n      if (!P.length) P = null;\n    }\n    return P;\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) {\n        inedges[hull[1]] = 0;\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n      }\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r) {\n    if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\n    r = r == undefined ? 2 : +r;\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default x => x;\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n","import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\"  \"/foo\", \"/foo\"  \"/\", \"/\"  \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([array(selector)], root);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, its probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null,\n      output = null,\n      path = withPath(link);\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n","import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n","import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n","import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if performance? and performance.now\n  module.exports = -> performance.now()\nelse if process? and process.hrtime\n  module.exports = -> (getNanoSeconds() - nodeLoadTime) / 1e6\n  hrtime = process.hrtime\n  getNanoSeconds = ->\n    hr = hrtime()\n    hr[0] * 1e9 + hr[1]\n  moduleLoadTime = getNanoSeconds()\n  upTime = process.uptime() * 1e9\n  nodeLoadTime = moduleLoadTime - upTime\nelse if Date.now\n  module.exports = -> Date.now() - loadTime\n  loadTime = Date.now()\nelse\n  module.exports = -> new Date().getTime() - loadTime\n  loadTime = new Date().getTime()\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","/*\n\tBased on rgbcolor.js by Stoyan Stefanov <sstoo@gmail.com>\n\thttp://www.phpied.com/rgb-color-parser-in-javascript/\n*/\n\nmodule.exports = function(color_string) {\n    this.ok = false;\n    this.alpha = 1.0;\n\n    // strip any leading #\n    if (color_string.charAt(0) == '#') { // remove # if any\n        color_string = color_string.substr(1,6);\n    }\n\n    color_string = color_string.replace(/ /g,'');\n    color_string = color_string.toLowerCase();\n\n    // before getting into regexps, try simple matches\n    // and overwrite the input\n    var simple_colors = {\n        aliceblue: 'f0f8ff',\n        antiquewhite: 'faebd7',\n        aqua: '00ffff',\n        aquamarine: '7fffd4',\n        azure: 'f0ffff',\n        beige: 'f5f5dc',\n        bisque: 'ffe4c4',\n        black: '000000',\n        blanchedalmond: 'ffebcd',\n        blue: '0000ff',\n        blueviolet: '8a2be2',\n        brown: 'a52a2a',\n        burlywood: 'deb887',\n        cadetblue: '5f9ea0',\n        chartreuse: '7fff00',\n        chocolate: 'd2691e',\n        coral: 'ff7f50',\n        cornflowerblue: '6495ed',\n        cornsilk: 'fff8dc',\n        crimson: 'dc143c',\n        cyan: '00ffff',\n        darkblue: '00008b',\n        darkcyan: '008b8b',\n        darkgoldenrod: 'b8860b',\n        darkgray: 'a9a9a9',\n        darkgreen: '006400',\n        darkkhaki: 'bdb76b',\n        darkmagenta: '8b008b',\n        darkolivegreen: '556b2f',\n        darkorange: 'ff8c00',\n        darkorchid: '9932cc',\n        darkred: '8b0000',\n        darksalmon: 'e9967a',\n        darkseagreen: '8fbc8f',\n        darkslateblue: '483d8b',\n        darkslategray: '2f4f4f',\n        darkturquoise: '00ced1',\n        darkviolet: '9400d3',\n        deeppink: 'ff1493',\n        deepskyblue: '00bfff',\n        dimgray: '696969',\n        dodgerblue: '1e90ff',\n        feldspar: 'd19275',\n        firebrick: 'b22222',\n        floralwhite: 'fffaf0',\n        forestgreen: '228b22',\n        fuchsia: 'ff00ff',\n        gainsboro: 'dcdcdc',\n        ghostwhite: 'f8f8ff',\n        gold: 'ffd700',\n        goldenrod: 'daa520',\n        gray: '808080',\n        green: '008000',\n        greenyellow: 'adff2f',\n        honeydew: 'f0fff0',\n        hotpink: 'ff69b4',\n        indianred : 'cd5c5c',\n        indigo : '4b0082',\n        ivory: 'fffff0',\n        khaki: 'f0e68c',\n        lavender: 'e6e6fa',\n        lavenderblush: 'fff0f5',\n        lawngreen: '7cfc00',\n        lemonchiffon: 'fffacd',\n        lightblue: 'add8e6',\n        lightcoral: 'f08080',\n        lightcyan: 'e0ffff',\n        lightgoldenrodyellow: 'fafad2',\n        lightgrey: 'd3d3d3',\n        lightgreen: '90ee90',\n        lightpink: 'ffb6c1',\n        lightsalmon: 'ffa07a',\n        lightseagreen: '20b2aa',\n        lightskyblue: '87cefa',\n        lightslateblue: '8470ff',\n        lightslategray: '778899',\n        lightsteelblue: 'b0c4de',\n        lightyellow: 'ffffe0',\n        lime: '00ff00',\n        limegreen: '32cd32',\n        linen: 'faf0e6',\n        magenta: 'ff00ff',\n        maroon: '800000',\n        mediumaquamarine: '66cdaa',\n        mediumblue: '0000cd',\n        mediumorchid: 'ba55d3',\n        mediumpurple: '9370d8',\n        mediumseagreen: '3cb371',\n        mediumslateblue: '7b68ee',\n        mediumspringgreen: '00fa9a',\n        mediumturquoise: '48d1cc',\n        mediumvioletred: 'c71585',\n        midnightblue: '191970',\n        mintcream: 'f5fffa',\n        mistyrose: 'ffe4e1',\n        moccasin: 'ffe4b5',\n        navajowhite: 'ffdead',\n        navy: '000080',\n        oldlace: 'fdf5e6',\n        olive: '808000',\n        olivedrab: '6b8e23',\n        orange: 'ffa500',\n        orangered: 'ff4500',\n        orchid: 'da70d6',\n        palegoldenrod: 'eee8aa',\n        palegreen: '98fb98',\n        paleturquoise: 'afeeee',\n        palevioletred: 'd87093',\n        papayawhip: 'ffefd5',\n        peachpuff: 'ffdab9',\n        peru: 'cd853f',\n        pink: 'ffc0cb',\n        plum: 'dda0dd',\n        powderblue: 'b0e0e6',\n        purple: '800080',\n        rebeccapurple: '663399',\n        red: 'ff0000',\n        rosybrown: 'bc8f8f',\n        royalblue: '4169e1',\n        saddlebrown: '8b4513',\n        salmon: 'fa8072',\n        sandybrown: 'f4a460',\n        seagreen: '2e8b57',\n        seashell: 'fff5ee',\n        sienna: 'a0522d',\n        silver: 'c0c0c0',\n        skyblue: '87ceeb',\n        slateblue: '6a5acd',\n        slategray: '708090',\n        snow: 'fffafa',\n        springgreen: '00ff7f',\n        steelblue: '4682b4',\n        tan: 'd2b48c',\n        teal: '008080',\n        thistle: 'd8bfd8',\n        tomato: 'ff6347',\n        turquoise: '40e0d0',\n        violet: 'ee82ee',\n        violetred: 'd02090',\n        wheat: 'f5deb3',\n        white: 'ffffff',\n        whitesmoke: 'f5f5f5',\n        yellow: 'ffff00',\n        yellowgreen: '9acd32'\n    };\n    color_string = simple_colors[color_string] || color_string;\n    // emd of simple type-in colors\n\n    // array of color definition objects\n    var color_defs = [\n        {\n            re: /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*((?:\\d?\\.)?\\d)\\)$/,\n            example: ['rgba(123, 234, 45, 0.8)', 'rgba(255,234,245,1.0)'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1]),\n                    parseInt(bits[2]),\n                    parseInt(bits[3]),\n                    parseFloat(bits[4])\n                ];\n            }\n        },\n        {\n            re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n            example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1]),\n                    parseInt(bits[2]),\n                    parseInt(bits[3])\n                ];\n            }\n        },\n        {\n            re: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n            example: ['#00ff00', '336699'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1], 16),\n                    parseInt(bits[2], 16),\n                    parseInt(bits[3], 16)\n                ];\n            }\n        },\n        {\n            re: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            example: ['#fb0', 'f0f'],\n            process: function (bits){\n                return [\n                    parseInt(bits[1] + bits[1], 16),\n                    parseInt(bits[2] + bits[2], 16),\n                    parseInt(bits[3] + bits[3], 16)\n                ];\n            }\n        }\n    ];\n\n    // search through the definitions to find a match\n    for (var i = 0; i < color_defs.length; i++) {\n        var re = color_defs[i].re;\n        var processor = color_defs[i].process;\n        var bits = re.exec(color_string);\n        if (bits) {\n            var channels = processor(bits);\n            this.r = channels[0];\n            this.g = channels[1];\n            this.b = channels[2];\n            if (channels.length > 3) {\n                this.alpha = channels[3];\n            }\n            this.ok = true;\n        }\n\n    }\n\n    // validate/cleanup values\n    this.r = (this.r < 0 || isNaN(this.r)) ? 0 : ((this.r > 255) ? 255 : this.r);\n    this.g = (this.g < 0 || isNaN(this.g)) ? 0 : ((this.g > 255) ? 255 : this.g);\n    this.b = (this.b < 0 || isNaN(this.b)) ? 0 : ((this.b > 255) ? 255 : this.b);\n    this.alpha = (this.alpha < 0) ? 0 : ((this.alpha > 1.0 || isNaN(this.alpha)) ? 1.0 : this.alpha);\n\n    // some getters\n    this.toRGB = function () {\n        return 'rgb(' + this.r + ', ' + this.g + ', ' + this.b + ')';\n    }\n    this.toRGBA = function () {\n        return 'rgba(' + this.r + ', ' + this.g + ', ' + this.b + ', ' + this.alpha + ')';\n    }\n    this.toHex = function () {\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n        if (r.length == 1) r = '0' + r;\n        if (g.length == 1) g = '0' + g;\n        if (b.length == 1) b = '0' + b;\n        return '#' + r + g + b;\n    }\n\n    // help\n    this.getHelpXML = function () {\n\n        var examples = new Array();\n        // add regexps\n        for (var i = 0; i < color_defs.length; i++) {\n            var example = color_defs[i].example;\n            for (var j = 0; j < example.length; j++) {\n                examples[examples.length] = example[j];\n            }\n        }\n        // add type-in colors\n        for (var sc in simple_colors) {\n            examples[examples.length] = sc;\n        }\n\n        var xml = document.createElement('ul');\n        xml.setAttribute('id', 'rgbcolor-examples');\n        for (var i = 0; i < examples.length; i++) {\n            try {\n                var list_item = document.createElement('li');\n                var list_color = new RGBColor(examples[i]);\n                var example_div = document.createElement('div');\n                example_div.style.cssText =\n                        'margin: 3px; '\n                        + 'border: 1px solid black; '\n                        + 'background:' + list_color.toHex() + '; '\n                        + 'color:' + list_color.toHex()\n                ;\n                example_div.appendChild(document.createTextNode('test'));\n                var list_item_value = document.createTextNode(\n                    ' ' + examples[i] + ' -> ' + list_color.toRGB() + ' -> ' + list_color.toHex()\n                );\n                list_item.appendChild(example_div);\n                list_item.appendChild(list_item_value);\n                xml.appendChild(list_item);\n\n            } catch(e){}\n        }\n        return xml;\n\n    }\n\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { SVGPathData } from \"./SVGPathData\";\nimport { SVGCommand } from \"./types\";\n\n// Encode SVG PathData\n// http://www.w3.org/TR/SVG/paths.html#PathDataBNF\n\n// Private consts : Char groups\nconst WSP = \" \";\n\nexport function encodeSVGPath(commands: SVGCommand | SVGCommand[]) {\n  let str = \"\";\n\n  if (!Array.isArray(commands)) {\n    commands = [commands];\n  }\n  for (let i = 0; i < commands.length; i++) {\n    const command = commands[i];\n    if (command.type === SVGPathData.CLOSE_PATH) {\n      str += \"z\";\n    } else if (command.type === SVGPathData.HORIZ_LINE_TO) {\n      str += (command.relative ? \"h\" : \"H\") +\n        command.x;\n    } else if (command.type === SVGPathData.VERT_LINE_TO) {\n      str += (command.relative ? \"v\" : \"V\") +\n        command.y;\n    } else if (command.type === SVGPathData.MOVE_TO) {\n      str += (command.relative ? \"m\" : \"M\") +\n        command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.LINE_TO) {\n      str += (command.relative ? \"l\" : \"L\") +\n        command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.CURVE_TO) {\n      str += (command.relative ? \"c\" : \"C\") +\n        command.x1 + WSP + command.y1 +\n        WSP + command.x2 + WSP + command.y2 +\n        WSP + command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.SMOOTH_CURVE_TO) {\n      str += (command.relative ? \"s\" : \"S\") +\n        command.x2 + WSP + command.y2 +\n        WSP + command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.QUAD_TO) {\n      str += (command.relative ? \"q\" : \"Q\") +\n        command.x1 + WSP + command.y1 +\n        WSP + command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.SMOOTH_QUAD_TO) {\n      str += (command.relative ? \"t\" : \"T\") +\n        command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.ARC) {\n      str += (command.relative ? \"a\" : \"A\") +\n        command.rX + WSP + command.rY +\n        WSP + command.xRot +\n        WSP + (+command.lArcFlag) + WSP + (+command.sweepFlag) +\n        WSP + command.x + WSP + command.y;\n    } else {\n      // Unknown command\n      throw new Error(\n        `Unexpected command type \"${ (command as any).type}\" at index ${i}.`);\n    }\n  }\n\n  return str;\n}\n","import { SVGPathData } from \"./SVGPathData\";\nimport { CommandA, CommandC } from \"./types\";\n\nexport function rotate([x, y]: [number, number], rad: number) {\n  return [\n    x * Math.cos(rad) - y * Math.sin(rad),\n    x * Math.sin(rad) + y * Math.cos(rad),\n  ];\n}\n\nconst DEBUG_CHECK_NUMBERS = true;\nexport function assertNumbers(...numbers: number[]) {\n  if (DEBUG_CHECK_NUMBERS) {\n    for (let i = 0; i < numbers.length; i++) {\n      if (\"number\" !== typeof numbers[i]) {\n        throw new Error(\n          `assertNumbers arguments[${i}] is not a number. ${typeof numbers[i]} == typeof ${numbers[i]}`);\n      }\n    }\n  }\n  return true;\n}\n\nconst PI = Math.PI;\n\n/**\n * https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n * Fixes rX and rY.\n * Ensures lArcFlag and sweepFlag are 0 or 1\n * Adds center coordinates: command.cX, command.cY (relative or absolute, depending on command.relative)\n * Adds start and end arc parameters (in degrees): command.phi1, command.phi2; phi1 < phi2 iff. c.sweepFlag == true\n */\nexport function annotateArcCommand(c: CommandA, x1: number, y1: number) {\n  c.lArcFlag = (0 === c.lArcFlag) ? 0 : 1;\n  c.sweepFlag = (0 === c.sweepFlag) ? 0 : 1;\n  // tslint:disable-next-line\n  let {rX, rY, x, y} = c;\n\n  rX = Math.abs(c.rX);\n  rY = Math.abs(c.rY);\n  const [x1_, y1_] = rotate([(x1 - x) / 2, (y1 - y) / 2], -c.xRot / 180 * PI);\n  const testValue = Math.pow(x1_, 2) / Math.pow(rX, 2) + Math.pow(y1_, 2) / Math.pow(rY, 2);\n\n  if (1 < testValue) {\n    rX *= Math.sqrt(testValue);\n    rY *= Math.sqrt(testValue);\n  }\n  c.rX = rX;\n  c.rY = rY;\n  const c_ScaleTemp = (Math.pow(rX, 2) * Math.pow(y1_, 2) + Math.pow(rY, 2) * Math.pow(x1_, 2));\n  const c_Scale = (c.lArcFlag !== c.sweepFlag ? 1 : -1) *\n    Math.sqrt(Math.max(0, (Math.pow(rX, 2) * Math.pow(rY, 2) - c_ScaleTemp) / c_ScaleTemp));\n  const cx_ = rX * y1_ / rY * c_Scale;\n  const cy_ = -rY * x1_ / rX * c_Scale;\n  const cRot = rotate([cx_, cy_], c.xRot / 180 * PI);\n\n  c.cX = cRot[0] + (x1 + x) / 2;\n  c.cY = cRot[1] + (y1 + y) / 2;\n  c.phi1 = Math.atan2((y1_ - cy_) / rY, (x1_ - cx_) / rX);\n  c.phi2 = Math.atan2((-y1_ - cy_) / rY, (-x1_ - cx_) / rX);\n  if (0 === c.sweepFlag && c.phi2 > c.phi1) {\n    c.phi2 -= 2 * PI;\n  }\n  if (1 === c.sweepFlag && c.phi2 < c.phi1) {\n    c.phi2 += 2 * PI;\n  }\n  c.phi1 *= 180 / PI;\n  c.phi2 *= 180 / PI;\n}\n\n/**\n * Solves a quadratic system of equations of the form\n *      a * x + b * y = c\n *      x + y = 1\n * This can be understood as the intersection of the unit circle with a line.\n *      => y = (c - a x) / b\n *      => x + (c - a x) / b = 1\n *      => x b + c - 2 c a x + a x = b\n *      => (a + b) x - 2 a c x + (c - b) = 0\n */\nexport function intersectionUnitCircleLine(a: number, b: number, c: number): [number, number][] {\n  assertNumbers(a, b, c);\n  // cf. pqFormula\n  const termSqr = a * a + b * b - c * c;\n\n  if (0 > termSqr) {\n    return [];\n  } else if (0 === termSqr) {\n    return [\n      [\n        (a * c) / (a * a + b * b),\n        (b * c) / (a * a + b * b)]];\n  }\n  const term = Math.sqrt(termSqr);\n\n  return [\n    [\n      (a * c + b * term) / (a * a + b * b),\n      (b * c - a * term) / (a * a + b * b)],\n    [\n      (a * c - b * term) / (a * a + b * b),\n      (b * c + a * term) / (a * a + b * b)]];\n\n}\n\nexport const DEG = Math.PI / 180;\n\nexport function lerp(a: number, b: number, t: number) {\n  return (1 - t) * a + t * b;\n}\n\nexport function arcAt(c: number, x1: number, x2: number, phiDeg: number) {\n  return c + Math.cos(phiDeg / 180 * PI) * x1 + Math.sin(phiDeg / 180 * PI) * x2;\n}\n\nexport function bezierRoot(x0: number, x1: number, x2: number, x3: number) {\n  const EPS = 1e-6;\n  const x01 = x1 - x0;\n  const x12 = x2 - x1;\n  const x23 = x3 - x2;\n  const a = 3 * x01 + 3 * x23 - 6 * x12;\n  const b = (x12 - x01) * 6;\n  const c = 3 * x01;\n  // solve a * t + b * t + c = 0\n\n  if (Math.abs(a) < EPS) {\n    // equivalent to b * t + c =>\n    return [-c / b];\n  }\n  return pqFormula(b / a, c / a, EPS);\n\n}\n\nexport function bezierAt(x0: number, x1: number, x2: number, x3: number, t: number) {\n  // console.log(x0, y0, x1, y1, x2, y2, x3, y3, t)\n  const s = 1 - t;\n  const c0 = s * s * s;\n  const c1 = 3 * s * s * t;\n  const c2 = 3 * s * t * t;\n  const c3 = t * t * t;\n\n  return x0 * c0 + x1 * c1 + x2 * c2 + x3 * c3;\n}\n\nfunction pqFormula(p: number, q: number, PRECISION = 1e-6) {\n  // 4 times the discriminant:in\n  const discriminantX4 = p * p / 4 - q;\n\n  if (discriminantX4 < -PRECISION) {\n    return [];\n  } else if (discriminantX4 <= PRECISION) {\n    return [-p / 2];\n  }\n  const root = Math.sqrt(discriminantX4);\n\n  return [-(p / 2) - root, -(p / 2) + root];\n\n}\n\nexport function a2c(arc: CommandA, x0: number, y0: number): CommandC[] {\n  if (!arc.cX) {\n    annotateArcCommand(arc, x0, y0);\n  }\n\n  const phiMin = Math.min(arc.phi1!, arc.phi2!), phiMax = Math.max(arc.phi1!, arc.phi2!), deltaPhi = phiMax - phiMin;\n  const partCount = Math.ceil(deltaPhi / 90 );\n\n  const result: CommandC[] = new Array(partCount);\n  let prevX = x0, prevY = y0;\n  for (let i = 0; i < partCount; i++) {\n    const phiStart = lerp(arc.phi1!, arc.phi2!, i / partCount);\n    const phiEnd = lerp(arc.phi1!, arc.phi2!, (i + 1) / partCount);\n    const deltaPhi = phiEnd - phiStart;\n    const f = 4 / 3 * Math.tan(deltaPhi * DEG / 4);\n    // x1/y1, x2/y2 and x/y coordinates on the unit circle for phiStart/phiEnd\n    const [x1, y1] = [\n      Math.cos(phiStart * DEG) - f * Math.sin(phiStart * DEG),\n      Math.sin(phiStart * DEG) + f * Math.cos(phiStart * DEG)];\n    const [x, y] = [Math.cos(phiEnd * DEG), Math.sin(phiEnd * DEG)];\n    const [x2, y2] = [x + f * Math.sin(phiEnd * DEG), y - f * Math.cos(phiEnd * DEG)];\n    result[i] = {relative: arc.relative, type: SVGPathData.CURVE_TO } as any;\n    const transform = (x: number, y: number) => {\n      const [xTemp, yTemp] = rotate([x * arc.rX, y * arc.rY], arc.xRot);\n      return [arc.cX! + xTemp, arc.cY! + yTemp];\n    };\n    [result[i].x1, result[i].y1] = transform(x1, y1);\n    [result[i].x2, result[i].y2] = transform(x2, y2);\n    [result[i].x, result[i].y] = transform(x, y);\n    if (arc.relative) {\n      result[i].x1 -= prevX;\n      result[i].y1 -= prevY;\n      result[i].x2 -= prevX;\n      result[i].y2 -= prevY;\n      result[i].x -= prevX;\n      result[i].y -= prevY;\n    }\n    [prevX, prevY] = [result[i].x, result[i].y];\n  }\n  return result;\n}\n","// Transform SVG PathData\n// http://www.w3.org/TR/SVG/paths.html#PathDataBNF\n\nimport { a2c, annotateArcCommand, arcAt, assertNumbers, bezierAt, bezierRoot,\n  intersectionUnitCircleLine } from \"./mathUtils\";\nimport { SVGPathData } from \"./SVGPathData\";\nimport { SVGCommand, TransformFunction } from \"./types\";\n\nexport namespace SVGPathDataTransformer {\n  // Predefined transforming functions\n  // Rounds commands values\n  export function ROUND(roundVal = 1e13) {\n    assertNumbers(roundVal);\n    function rf(val: number) { return Math.round(val * roundVal) / roundVal; }\n    return function round(command: any) {\n      if (\"undefined\" !== typeof command.x1) {\n        command.x1 = rf(command.x1);\n      }\n      if (\"undefined\" !== typeof command.y1) {\n        command.y1 = rf(command.y1);\n      }\n\n      if (\"undefined\" !== typeof command.x2) {\n        command.x2 = rf(command.x2);\n      }\n      if (\"undefined\" !== typeof command.y2) {\n        command.y2 = rf(command.y2);\n      }\n\n      if (\"undefined\" !== typeof command.x) {\n        command.x = rf(command.x);\n      }\n      if (\"undefined\" !== typeof command.y) {\n        command.y = rf(command.y);\n      }\n\n      if (\"undefined\" !== typeof command.rX) {\n        command.rX = rf(command.rX);\n      }\n      if (\"undefined\" !== typeof command.rY) {\n        command.rY = rf(command.rY);\n      }\n\n      return command;\n    };\n  }\n  // Relative to absolute commands\n  export function TO_ABS() {\n    return INFO((command, prevX, prevY) => {\n      if (command.relative) {\n        // x1/y1 values\n        if (\"undefined\" !== typeof command.x1) {\n          command.x1 += prevX;\n        }\n        if (\"undefined\" !== typeof command.y1) {\n          command.y1 += prevY;\n        }\n        // x2/y2 values\n        if (\"undefined\" !== typeof command.x2) {\n          command.x2 += prevX;\n        }\n        if (\"undefined\" !== typeof command.y2) {\n          command.y2 += prevY;\n        }\n        // Finally x/y values\n        if (\"undefined\" !== typeof command.x) {\n          command.x += prevX;\n        }\n        if (\"undefined\" !== typeof command.y) {\n          command.y += prevY;\n        }\n        command.relative = false;\n      }\n      return command;\n    });\n  }\n  // Absolute to relative commands\n  export function TO_REL() {\n    return INFO((command, prevX, prevY) => {\n      if (!command.relative) {\n        // x1/y1 values\n        if (\"undefined\" !== typeof command.x1) {\n          command.x1 -= prevX;\n        }\n        if (\"undefined\" !== typeof command.y1) {\n          command.y1 -= prevY;\n        }\n        // x2/y2 values\n        if (\"undefined\" !== typeof command.x2) {\n          command.x2 -= prevX;\n        }\n        if (\"undefined\" !== typeof command.y2) {\n          command.y2 -= prevY;\n        }\n        // Finally x/y values\n        if (\"undefined\" !== typeof command.x) {\n          command.x -= prevX;\n        }\n        if (\"undefined\" !== typeof command.y) {\n          command.y -= prevY;\n        }\n        command.relative = true;\n      }\n      return command;\n    });\n  }\n  // Convert H, V, Z and A with rX = 0 to L\n  export function NORMALIZE_HVZ(normalizeZ = true, normalizeH = true, normalizeV = true) {\n    return INFO((command, prevX, prevY, pathStartX, pathStartY) => {\n      if (isNaN(pathStartX) && !(command.type & SVGPathData.MOVE_TO)) {\n        throw new Error(\"path must start with moveto\");\n      }\n      if (normalizeH && command.type & SVGPathData.HORIZ_LINE_TO) {\n        command.type = SVGPathData.LINE_TO;\n        command.y = command.relative ? 0 : prevY;\n      }\n      if (normalizeV && command.type & SVGPathData.VERT_LINE_TO) {\n        command.type = SVGPathData.LINE_TO;\n        command.x = command.relative ? 0 : prevX;\n      }\n      if (normalizeZ && command.type & SVGPathData.CLOSE_PATH) {\n        command.type = SVGPathData.LINE_TO;\n        command.x = command.relative ? pathStartX - prevX : pathStartX;\n        command.y = command.relative ? pathStartY - prevY : pathStartY;\n      }\n      if (command.type & SVGPathData.ARC && (0 === command.rX || 0 === command.rY)) {\n        command.type = SVGPathData.LINE_TO;\n        delete command.rX;\n        delete command.rY;\n        delete command.xRot;\n        delete command.lArcFlag;\n        delete command.sweepFlag;\n      }\n      return command;\n    });\n  }\n  /*\n   * Transforms smooth curves and quads to normal curves and quads (SsTt to CcQq)\n   */\n  export function NORMALIZE_ST() {\n    let prevCurveC2X = NaN;\n    let prevCurveC2Y = NaN;\n    let prevQuadCX = NaN;\n    let prevQuadCY = NaN;\n\n    return INFO((command, prevX, prevY) => {\n      if (command.type & SVGPathData.SMOOTH_CURVE_TO) {\n        command.type = SVGPathData.CURVE_TO;\n        prevCurveC2X = isNaN(prevCurveC2X) ? prevX : prevCurveC2X;\n        prevCurveC2Y = isNaN(prevCurveC2Y) ? prevY : prevCurveC2Y;\n        command.x1 = command.relative ? prevX - prevCurveC2X : 2 * prevX - prevCurveC2X;\n        command.y1 = command.relative ? prevY - prevCurveC2Y : 2 * prevY - prevCurveC2Y;\n      }\n      if (command.type & SVGPathData.CURVE_TO) {\n        prevCurveC2X = command.relative ? prevX + command.x2 : command.x2;\n        prevCurveC2Y = command.relative ? prevY + command.y2 : command.y2;\n      } else {\n        prevCurveC2X = NaN;\n        prevCurveC2Y = NaN;\n      }\n      if (command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        command.type = SVGPathData.QUAD_TO;\n        prevQuadCX = isNaN(prevQuadCX) ? prevX : prevQuadCX;\n        prevQuadCY = isNaN(prevQuadCY) ? prevY : prevQuadCY;\n        command.x1 = command.relative ? prevX - prevQuadCX : 2 * prevX - prevQuadCX;\n        command.y1 = command.relative ? prevY - prevQuadCY : 2 * prevY - prevQuadCY;\n      }\n      if (command.type & SVGPathData.QUAD_TO) {\n        prevQuadCX = command.relative ? prevX + command.x1 : command.x1;\n        prevQuadCY = command.relative ? prevY + command.y1 : command.y1;\n      } else {\n        prevQuadCX = NaN;\n        prevQuadCY = NaN;\n      }\n\n      return command;\n    });\n  }\n  /*\n   * A quadratic bzier curve can be represented by a cubic bzier curve which has\n   * the same end points as the quadratic and both control points in place of the\n   * quadratic\"s one.\n   *\n   * This transformer replaces QqTt commands with Cc commands respectively.\n   * This is useful for reading path data into a system which only has a\n   * representation for cubic curves.\n   */\n  export function QT_TO_C() {\n    let prevQuadX1 = NaN;\n    let prevQuadY1 = NaN;\n\n    return INFO((command, prevX, prevY) => {\n      if (command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        command.type = SVGPathData.QUAD_TO;\n        prevQuadX1 = isNaN(prevQuadX1) ? prevX : prevQuadX1;\n        prevQuadY1 = isNaN(prevQuadY1) ? prevY : prevQuadY1;\n        command.x1 = command.relative ? prevX - prevQuadX1 : 2 * prevX - prevQuadX1;\n        command.y1 = command.relative ? prevY - prevQuadY1 : 2 * prevY - prevQuadY1;\n      }\n      if (command.type & SVGPathData.QUAD_TO) {\n        prevQuadX1 = command.relative ? prevX + command.x1 : command.x1;\n        prevQuadY1 = command.relative ? prevY + command.y1 : command.y1;\n        const x1 = command.x1;\n        const y1 = command.y1;\n\n        command.type = SVGPathData.CURVE_TO;\n        command.x1 = ((command.relative ? 0 : prevX) + x1 * 2) / 3;\n        command.y1 = ((command.relative ? 0 : prevY) + y1 * 2) / 3;\n        command.x2 = (command.x + x1 * 2) / 3;\n        command.y2 = (command.y + y1 * 2) / 3;\n      } else {\n        prevQuadX1 = NaN;\n        prevQuadY1 = NaN;\n      }\n\n      return command;\n    });\n  }\n  export function INFO(\n    f: (command: any, prevXAbs: number, prevYAbs: number,\n        pathStartXAbs: number, pathStartYAbs: number) => any | any[]) {\n    let prevXAbs = 0;\n    let prevYAbs = 0;\n    let pathStartXAbs = NaN;\n    let pathStartYAbs = NaN;\n\n    return function transform(command: any) {\n      if (isNaN(pathStartXAbs) && !(command.type & SVGPathData.MOVE_TO)) {\n        throw new Error(\"path must start with moveto\");\n      }\n\n      const result = f(command, prevXAbs, prevYAbs, pathStartXAbs, pathStartYAbs);\n\n      if (command.type & SVGPathData.CLOSE_PATH) {\n        prevXAbs = pathStartXAbs;\n        prevYAbs = pathStartYAbs;\n      }\n\n      if (\"undefined\" !== typeof command.x) {\n        prevXAbs = (command.relative ? prevXAbs + command.x : command.x);\n      }\n      if (\"undefined\" !== typeof command.y) {\n        prevYAbs = (command.relative ? prevYAbs + command.y : command.y);\n      }\n\n      if (command.type & SVGPathData.MOVE_TO) {\n        pathStartXAbs = prevXAbs;\n        pathStartYAbs = prevYAbs;\n      }\n\n      return result;\n    };\n  }\n  /*\n   * remove 0-length segments\n   */\n  export function SANITIZE(EPS = 0) {\n    assertNumbers(EPS);\n    let prevCurveC2X = NaN;\n    let prevCurveC2Y = NaN;\n    let prevQuadCX = NaN;\n    let prevQuadCY = NaN;\n\n    return INFO((command, prevX, prevY, pathStartX, pathStartY) => {\n      const abs = Math.abs;\n      let skip = false;\n      let x1Rel = 0;\n      let y1Rel = 0;\n\n      if (command.type & SVGPathData.SMOOTH_CURVE_TO) {\n        x1Rel = isNaN(prevCurveC2X) ? 0 : prevX - prevCurveC2X;\n        y1Rel = isNaN(prevCurveC2Y) ? 0 : prevY - prevCurveC2Y;\n      }\n      if (command.type & (SVGPathData.CURVE_TO | SVGPathData.SMOOTH_CURVE_TO)) {\n        prevCurveC2X = command.relative ? prevX + command.x2 : command.x2;\n        prevCurveC2Y = command.relative ? prevY + command.y2 : command.y2;\n      } else {\n        prevCurveC2X = NaN;\n        prevCurveC2Y = NaN;\n      }\n      if (command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        prevQuadCX = isNaN(prevQuadCX) ? prevX : 2 * prevX - prevQuadCX;\n        prevQuadCY = isNaN(prevQuadCY) ? prevY : 2 * prevY - prevQuadCY;\n      } else if (command.type & SVGPathData.QUAD_TO) {\n        prevQuadCX = command.relative ? prevX + command.x1 : command.x1;\n        prevQuadCY = command.relative ? prevY + command.y1 : command.y2;\n      } else {\n        prevQuadCX = NaN;\n        prevQuadCY = NaN;\n      }\n\n      if (command.type & SVGPathData.LINE_COMMANDS ||\n        command.type & SVGPathData.ARC && (0 === command.rX || 0 === command.rY || !command.lArcFlag) ||\n        command.type & SVGPathData.CURVE_TO || command.type & SVGPathData.SMOOTH_CURVE_TO ||\n        command.type & SVGPathData.QUAD_TO || command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        const xRel = \"undefined\" === typeof command.x ? 0 :\n          (command.relative ? command.x : command.x - prevX);\n        const yRel = \"undefined\" === typeof command.y ? 0 :\n          (command.relative ? command.y : command.y - prevY);\n\n        x1Rel = !isNaN(prevQuadCX) ? prevQuadCX - prevX :\n          \"undefined\" === typeof command.x1 ? x1Rel :\n            command.relative ? command.x :\n              command.x1 - prevX;\n        y1Rel = !isNaN(prevQuadCY) ? prevQuadCY - prevY :\n          \"undefined\" === typeof command.y1 ? y1Rel :\n            command.relative ? command.y :\n              command.y1 - prevY;\n\n        const x2Rel = \"undefined\" === typeof command.x2 ? 0 :\n          (command.relative ? command.x : command.x2 - prevX);\n        const y2Rel = \"undefined\" === typeof command.y2 ? 0 :\n          (command.relative ? command.y : command.y2 - prevY);\n\n        if (abs(xRel) <= EPS && abs(yRel) <= EPS &&\n          abs(x1Rel) <= EPS && abs(y1Rel) <= EPS &&\n          abs(x2Rel) <= EPS && abs(y2Rel) <= EPS) {\n          skip = true;\n        }\n      }\n\n      if (command.type & SVGPathData.CLOSE_PATH) {\n        if (abs(prevX - pathStartX) <= EPS && abs(prevY - pathStartY) <= EPS) {\n          skip = true;\n        }\n      }\n\n      return skip ? [] : command;\n    });\n  }\n  // SVG Transforms : http://www.w3.org/TR/SVGTiny12/coords.html#TransformList\n  // Matrix : http://apike.ca/prog_svg_transform.html\n  // a c e\n  // b d f\n  export function MATRIX(a: number, b: number, c: number, d: number, e: number, f: number) {\n    assertNumbers(a, b, c, d, e, f);\n\n    return INFO((command, prevX, prevY, pathStartX) => {\n      const origX1 = command.x1;\n      const origX2 = command.x2;\n      // if isNaN(pathStartX), then this is the first command, which is ALWAYS an\n      // absolute MOVE_TO, regardless what the relative flag says\n      const comRel = command.relative && !isNaN(pathStartX);\n      const x = \"undefined\" !== typeof command.x ? command.x : (comRel ? 0 : prevX);\n      const y = \"undefined\" !== typeof command.y ? command.y : (comRel ? 0 : prevY);\n\n      if (command.type & SVGPathData.HORIZ_LINE_TO && 0 !== b) {\n        command.type = SVGPathData.LINE_TO;\n        command.y = command.relative ? 0 : prevY;\n      }\n      if (command.type & SVGPathData.VERT_LINE_TO && 0 !== c) {\n        command.type = SVGPathData.LINE_TO;\n        command.x = command.relative ? 0 : prevX;\n      }\n\n      if (\"undefined\" !== typeof command.x) {\n        command.x = (command.x * a) + (y * c) + (comRel ? 0 : e);\n      }\n      if (\"undefined\" !== typeof command.y) {\n        command.y = (x * b) + command.y * d + (comRel ? 0 : f);\n      }\n      if (\"undefined\" !== typeof command.x1) {\n        command.x1 = command.x1 * a + command.y1 * c + (comRel ? 0 : e);\n      }\n      if (\"undefined\" !== typeof command.y1) {\n        command.y1 = origX1 * b + command.y1 * d + (comRel ? 0 : f);\n      }\n      if (\"undefined\" !== typeof command.x2) {\n        command.x2 = command.x2 * a + command.y2 * c + (comRel ? 0 : e);\n      }\n      if (\"undefined\" !== typeof command.y2) {\n        command.y2 = origX2 * b + command.y2 * d + (comRel ? 0 : f);\n      }\n      function sqr(x: number) { return x * x; }\n      const det = a * d - b * c;\n\n      if (\"undefined\" !== typeof command.xRot) {\n        // Skip if this is a pure translation\n        if (1 !== a || 0 !== b || 0 !== c || 1 !== d) {\n          // Special case for singular matrix\n          if (0 === det) {\n            // In the singular case, the arc is compressed to a line. The actual geometric image of the original\n            // curve under this transform possibly extends beyond the starting and/or ending points of the segment, but\n            // for simplicity we ignore this detail and just replace this command with a single line segment.\n            delete command.rX;\n            delete command.rY;\n            delete command.xRot;\n            delete command.lArcFlag;\n            delete command.sweepFlag;\n            command.type = SVGPathData.LINE_TO;\n          } else {\n            // Convert to radians\n            const xRot = command.xRot * Math.PI / 180;\n\n            // Convert rotated ellipse to general conic form\n            // x0^2/rX^2 + y0^2/rY^2 - 1 = 0\n            // x0 = x*cos(xRot) + y*sin(xRot)\n            // y0 = -x*sin(xRot) + y*cos(xRot)\n            // --> A*x^2 + B*x*y + C*y^2 - 1 = 0, where\n            const sinRot = Math.sin(xRot);\n            const cosRot = Math.cos(xRot);\n            const xCurve = 1 / sqr(command.rX);\n            const yCurve = 1 / sqr(command.rY);\n            const A = sqr(cosRot) * xCurve + sqr(sinRot) * yCurve;\n            const B = 2 * sinRot * cosRot * (xCurve - yCurve);\n            const C = sqr(sinRot) * xCurve + sqr(cosRot) * yCurve;\n\n            // Apply matrix to A*x^2 + B*x*y + C*y^2 - 1 = 0\n            // x1 = a*x + c*y\n            // y1 = b*x + d*y\n            //      (we can ignore e and f, since pure translations don\"t affect the shape of the ellipse)\n            // --> A1*x1^2 + B1*x1*y1 + C1*y1^2 - det^2 = 0, where\n            const A1 = A * d * d - B * b * d + C * b * b;\n            const B1 = B * (a * d + b * c) - 2 * (A * c * d + C * a * b);\n            const C1 = A * c * c - B * a * c + C * a * a;\n\n            // Unapply newXRot to get back to axis-aligned ellipse equation\n            // x1 = x2*cos(newXRot) - y2*sin(newXRot)\n            // y1 = x2*sin(newXRot) + y2*cos(newXRot)\n            // A1*x1^2 + B1*x1*y1 + C1*y1^2 - det^2 =\n            //   x2^2*(A1*cos(newXRot)^2 + B1*sin(newXRot)*cos(newXRot) + C1*sin(newXRot)^2)\n            //   + x2*y2*(2*(C1 - A1)*sin(newXRot)*cos(newXRot) + B1*(cos(newXRot)^2 - sin(newXRot)^2))\n            //   + y2^2*(A1*sin(newXRot)^2 - B1*sin(newXRot)*cos(newXRot) + C1*cos(newXRot)^2)\n            //   (which must have the same zeroes as)\n            // x2^2/newRX^2 + y2^2/newRY^2 - 1\n            //   (so we have)\n            // 2*(C1 - A1)*sin(newXRot)*cos(newXRot) + B1*(cos(newXRot)^2 - sin(newXRot)^2) = 0\n            // (A1 - C1)*sin(2*newXRot) = B1*cos(2*newXRot)\n            // 2*newXRot = atan2(B1, A1 - C1)\n            const newXRot = ((Math.atan2(B1, A1 - C1) + Math.PI) % Math.PI) / 2;\n            // For any integer n, (atan2(B1, A1 - C1) + n*pi)/2 is a solution to the above; incrementing n just swaps\n            // the x and y radii computed below (since that\"s what rotating an ellipse by pi/2 does).  Choosing the\n            // rotation between 0 and pi/2 eliminates the ambiguity and leads to more predictable output.\n\n            // Finally, we get newRX and newRY from the same-zeroes relationship that gave us newXRot\n            const newSinRot = Math.sin(newXRot);\n            const newCosRot = Math.cos(newXRot);\n\n            command.rX = Math.abs(det) /\n              Math.sqrt(A1 * sqr(newCosRot) + B1 * newSinRot * newCosRot + C1 * sqr(newSinRot));\n            command.rY = Math.abs(det) /\n              Math.sqrt(A1 * sqr(newSinRot) - B1 * newSinRot * newCosRot + C1 * sqr(newCosRot));\n            command.xRot = newXRot * 180 / Math.PI;\n          }\n        }\n      }\n      // sweepFlag needs to be inverted when mirroring shapes\n      // see http://www.itk.ilstu.edu/faculty/javila/SVG/SVG_drawing1/elliptical_curve.htm\n      // m 65,10 a 50,25 0 1 0 50,25\n      // M 65,60 A 50,25 0 1 1 115,35\n      if (\"undefined\" !== typeof command.sweepFlag && 0 > det) {\n        command.sweepFlag = +!command.sweepFlag;\n      }\n      return command;\n    });\n  }\n  export function ROTATE(a: number, x = 0, y = 0) {\n    assertNumbers(a, x, y);\n    const sin = Math.sin(a);\n    const cos = Math.cos(a);\n\n    return MATRIX(cos, sin, -sin, cos, x - x * cos + y * sin, y - x * sin - y * cos);\n  }\n  export function TRANSLATE(dX: number, dY = 0) {\n    assertNumbers(dX, dY);\n    return MATRIX(1, 0, 0, 1, dX, dY);\n  }\n  export function SCALE(dX: number, dY = dX) {\n    assertNumbers(dX, dY);\n    return MATRIX(dX, 0, 0, dY, 0, 0);\n  }\n  export function SKEW_X(a: number) {\n    assertNumbers(a);\n    return MATRIX(1, 0, Math.atan(a), 1, 0, 0);\n  }\n  export function SKEW_Y(a: number) {\n    assertNumbers(a);\n    return MATRIX(1, Math.atan(a), 0, 1, 0, 0);\n  }\n  export function X_AXIS_SYMMETRY(xOffset = 0) {\n    assertNumbers(xOffset);\n    return MATRIX(-1, 0, 0, 1, xOffset, 0);\n  }\n  export function Y_AXIS_SYMMETRY(yOffset = 0) {\n    assertNumbers(yOffset);\n    return MATRIX(1, 0, 0, -1, 0, yOffset);\n  }\n  // Convert arc commands to curve commands\n  export function A_TO_C() {\n    return INFO((command, prevX, prevY) => {\n      if (SVGPathData.ARC === command.type) {\n        return a2c(command, command.relative ? 0 : prevX, command.relative ? 0 : prevY);\n      }\n      return command;\n    });\n  }\n  // @see annotateArcCommand\n  export function ANNOTATE_ARCS() {\n    return INFO((c, x1, y1) => {\n      if (c.relative) {\n        x1 = 0;\n        y1 = 0;\n      }\n      if (SVGPathData.ARC === c.type) {\n        annotateArcCommand(c, x1, y1);\n      }\n      return c;\n    });\n  }\n  export function CLONE() {\n    return (c: SVGCommand) => {\n      const result = {} as SVGCommand;\n      // tslint:disable-next-line\n      for (const key in c) {\n        result[key as keyof SVGCommand] = c[key as keyof SVGCommand];\n      }\n      return result;\n    };\n  }\n  // @see annotateArcCommand\n  export function CALCULATE_BOUNDS() {\n    const clone = CLONE();\n    const toAbs = TO_ABS();\n    const qtToC = QT_TO_C();\n    const normST = NORMALIZE_ST();\n    const f: TransformFunction & {minX: number, maxX: number, minY: number, maxY: number} =\n        INFO((command, prevXAbs, prevYAbs) => {\n      const c = normST(qtToC(toAbs(clone(command))));\n      function fixX(absX: number) {\n        if (absX > f.maxX) { f.maxX = absX; }\n        if (absX < f.minX) { f.minX = absX; }\n      }\n      function fixY(absY: number) {\n        if (absY > f.maxY) { f.maxY = absY; }\n        if (absY < f.minY) { f.minY = absY; }\n      }\n      if (c.type & SVGPathData.DRAWING_COMMANDS) {\n        fixX(prevXAbs);\n        fixY(prevYAbs);\n      }\n      if (c.type & SVGPathData.HORIZ_LINE_TO) {\n        fixX(c.x);\n      }\n      if (c.type & SVGPathData.VERT_LINE_TO) {\n        fixY(c.y);\n      }\n      if (c.type & SVGPathData.LINE_TO) {\n        fixX(c.x);\n        fixY(c.y);\n      }\n      if (c.type & SVGPathData.CURVE_TO) {\n        // add start and end points\n        fixX(c.x);\n        fixY(c.y);\n        const xDerivRoots = bezierRoot(prevXAbs, c.x1, c.x2, c.x);\n\n        for (const derivRoot of xDerivRoots) {\n          if (0 < derivRoot && 1 > derivRoot) {\n            fixX(bezierAt(prevXAbs, c.x1, c.x2, c.x, derivRoot));\n          }\n        }\n        const yDerivRoots = bezierRoot(prevYAbs, c.y1, c.y2, c.y);\n\n        for (const derivRoot of yDerivRoots) {\n          if (0 < derivRoot && 1 > derivRoot) {\n            fixY(bezierAt(prevYAbs, c.y1, c.y2, c.y, derivRoot));\n          }\n        }\n      }\n      if (c.type & SVGPathData.ARC) {\n        // add start and end points\n        fixX(c.x);\n        fixY(c.y);\n        annotateArcCommand(c, prevXAbs, prevYAbs);\n        // p = cos(phi) * xv + sin(phi) * yv\n        // dp = -sin(phi) * xv + cos(phi) * yv = 0\n        const xRotRad = c.xRot / 180 * Math.PI;\n        // points on ellipse for phi = 0 and phi = 90\n        const x0 = Math.cos(xRotRad) * c.rX;\n        const y0 = Math.sin(xRotRad) * c.rX;\n        const x90 = -Math.sin(xRotRad) * c.rY;\n        const y90 = Math.cos(xRotRad) * c.rY;\n\n        // annotateArcCommand returns phi1 and phi2 such that -180 < phi1 < 180 and phi2 is smaller or greater\n        // depending on the sweep flag. Calculate phiMin, phiMax such that -180 < phiMin < 180 and phiMin < phiMax\n        const [phiMin, phiMax] = c.phi1 < c.phi2 ?\n          [c.phi1, c.phi2] :\n          (-180 > c.phi2 ? [c.phi2 + 360, c.phi1 + 360] : [c.phi2, c.phi1]);\n        const normalizeXiEta = ([xi, eta]: [number, number]) => {\n          const phiRad = Math.atan2(eta, xi);\n          const phi = phiRad * 180 / Math.PI;\n\n          return phi < phiMin ? phi + 360 : phi;\n        };\n        // xi = cos(phi), eta = sin(phi)\n\n        const xDerivRoots = intersectionUnitCircleLine(x90, -x0, 0).map(normalizeXiEta);\n        for (const derivRoot of xDerivRoots) {\n          if (derivRoot > phiMin && derivRoot < phiMax) {\n            fixX(arcAt(c.cX, x0, x90, derivRoot));\n          }\n        }\n\n        const yDerivRoots = intersectionUnitCircleLine(y90, -y0, 0).map(normalizeXiEta);\n        for (const derivRoot of yDerivRoots) {\n          if (derivRoot > phiMin && derivRoot < phiMax) {\n            fixY(arcAt(c.cY, y0, y90, derivRoot));\n          }\n        }\n      }\n      return command;\n    }) as any;\n\n    f.minX = Infinity;\n    f.maxX = -Infinity;\n    f.minY = Infinity;\n    f.maxY = -Infinity;\n    return f;\n  }\n}\n","import { SVGPathDataTransformer } from \"./SVGPathDataTransformer\";\nimport { TransformFunction } from \"./types\";\n\nexport abstract class TransformableSVG {\n  round(x?: number) {\n    return this.transform(SVGPathDataTransformer.ROUND(x));\n  }\n\n  toAbs() {\n    return this.transform(SVGPathDataTransformer.TO_ABS());\n  }\n\n  toRel() {\n    return this.transform(SVGPathDataTransformer.TO_REL());\n  }\n\n  normalizeHVZ(a?: boolean, b?: boolean, c?: boolean) {\n    return this.transform(SVGPathDataTransformer.NORMALIZE_HVZ(a, b, c));\n  }\n\n  normalizeST() {\n    return this.transform(SVGPathDataTransformer.NORMALIZE_ST());\n  }\n\n  qtToC() {\n    return this.transform(SVGPathDataTransformer.QT_TO_C());\n  }\n\n  aToC() {\n    return this.transform(SVGPathDataTransformer.A_TO_C());\n  }\n\n  sanitize(eps?: number) {\n    return this.transform(SVGPathDataTransformer.SANITIZE(eps));\n  }\n\n  translate(x: number, y?: number) {\n    return this.transform(SVGPathDataTransformer.TRANSLATE(x, y));\n  }\n\n  scale(x: number, y?: number) {\n    return this.transform(SVGPathDataTransformer.SCALE(x, y));\n  }\n\n  rotate(a: number, x?: number, y?: number) {\n    return this.transform(SVGPathDataTransformer.ROTATE(a, x, y));\n  }\n\n  matrix(a: number, b: number, c: number, d: number, e: number, f: number) {\n    return this.transform(SVGPathDataTransformer.MATRIX(a, b, c, d, e, f));\n  }\n\n  skewX(a: number) {\n    return this.transform(SVGPathDataTransformer.SKEW_X(a));\n  }\n\n  skewY(a: number) {\n    return this.transform(SVGPathDataTransformer.SKEW_Y(a));\n  }\n\n  xSymmetry(xOffset?: number) {\n    return this.transform(SVGPathDataTransformer.X_AXIS_SYMMETRY(xOffset));\n  }\n\n  ySymmetry(yOffset?: number) {\n    return this.transform(SVGPathDataTransformer.Y_AXIS_SYMMETRY(yOffset));\n  }\n\n  annotateArcs() {\n    return this.transform(SVGPathDataTransformer.ANNOTATE_ARCS());\n  }\n\n  abstract transform(transformFunction: TransformFunction): this;\n}\n","// Parse SVG PathData\n// http://www.w3.org/TR/SVG/paths.html#PathDataBNF\nimport { COMMAND_ARG_COUNTS, SVGPathData } from \"./SVGPathData\";\nimport { TransformableSVG } from \"./TransformableSVG\";\nimport { SVGCommand, TransformFunction } from \"./types\";\n// Private consts : Char groups\nconst isWhiteSpace = (c: string) =>\n  \" \" === c || \"\\t\" === c || \"\\r\" === c || \"\\n\" === c;\nconst isDigit = (c: string) =>\n  \"0\".charCodeAt(0) <= c.charCodeAt(0) && c.charCodeAt(0) <= \"9\".charCodeAt(0);\nconst COMMANDS = \"mMzZlLhHvVcCsSqQtTaA\";\n\nexport class SVGPathDataParser extends TransformableSVG {\n  private curNumber: string = \"\";\n  private curCommandType: SVGCommand[\"type\"] | -1 = -1;\n  private curCommandRelative = false;\n  private canParseCommandOrComma = true;\n  private curNumberHasExp = false;\n  private curNumberHasExpDigits = false;\n  private curNumberHasDecimal = false;\n  private curArgs: number[] = [];\n\n  constructor() {\n    super();\n  }\n\n  finish(commands: SVGCommand[] = []) {\n    this.parse(\" \", commands);\n    // Adding residual command\n    if (0 !== this.curArgs.length || !this.canParseCommandOrComma) {\n      throw new SyntaxError(\"Unterminated command at the path end.\");\n    }\n    return commands;\n  }\n\n  parse(str: string, commands: SVGCommand[] = []) {\n    const finishCommand = (command: SVGCommand) => {\n      commands.push(command);\n      this.curArgs.length = 0;\n      this.canParseCommandOrComma = true;\n    };\n\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      // White spaces parsing\n      const isAArcFlag = this.curCommandType === SVGPathData.ARC &&\n        (this.curArgs.length === 3 || this.curArgs.length === 4) &&\n        this.curNumber.length === 1 &&\n        (this.curNumber === \"0\" || this.curNumber === \"1\");\n      const isEndingDigit = isDigit(c) && (\n        (this.curNumber === \"0\" && c === \"0\") ||\n        isAArcFlag\n      );\n\n      if (\n        isDigit(c) &&\n        !isEndingDigit\n      ) {\n        this.curNumber += c;\n        this.curNumberHasExpDigits = this.curNumberHasExp;\n        continue;\n      }\n      if (\"e\" === c || \"E\" === c) {\n        this.curNumber += c;\n        this.curNumberHasExp = true;\n        continue;\n      }\n      if (\n        (\"-\" === c || \"+\" === c) &&\n        this.curNumberHasExp &&\n        !this.curNumberHasExpDigits\n      ) {\n        this.curNumber += c;\n        continue;\n      }\n      // if we already have a \".\", it means we are starting a new number\n      if (\".\" === c && !this.curNumberHasExp && !this.curNumberHasDecimal && !isAArcFlag) {\n        this.curNumber += c;\n        this.curNumberHasDecimal = true;\n        continue;\n      }\n\n      // New number\n      if (this.curNumber && -1 !== this.curCommandType) {\n        const val = Number(this.curNumber);\n        if (isNaN(val)) {\n          throw new SyntaxError(`Invalid number ending at ${i}`);\n        }\n        if (this.curCommandType === SVGPathData.ARC) {\n          if (0 === this.curArgs.length || 1 === this.curArgs.length) {\n            if (0 > val) {\n              throw new SyntaxError(\n                `Expected positive number, got \"${val}\" at index \"${i}\"`,\n              );\n            }\n          } else if (3 === this.curArgs.length || 4 === this.curArgs.length) {\n            if (\"0\" !== this.curNumber && \"1\" !== this.curNumber) {\n              throw new SyntaxError(\n                `Expected a flag, got \"${this.curNumber}\" at index \"${i}\"`,\n              );\n            }\n          }\n        }\n        this.curArgs.push(val);\n        if (this.curArgs.length === COMMAND_ARG_COUNTS[this.curCommandType]) {\n          if (SVGPathData.HORIZ_LINE_TO === this.curCommandType) {\n            finishCommand({\n              type: SVGPathData.HORIZ_LINE_TO,\n              relative: this.curCommandRelative,\n              x: val,\n            });\n          } else if (SVGPathData.VERT_LINE_TO === this.curCommandType) {\n            finishCommand({\n              type: SVGPathData.VERT_LINE_TO,\n              relative: this.curCommandRelative,\n              y: val,\n            });\n            // Move to / line to / smooth quadratic curve to commands (x, y)\n          } else if (\n            this.curCommandType === SVGPathData.MOVE_TO ||\n            this.curCommandType === SVGPathData.LINE_TO ||\n            this.curCommandType === SVGPathData.SMOOTH_QUAD_TO\n          ) {\n            finishCommand({\n              type: this.curCommandType,\n              relative: this.curCommandRelative,\n              x: this.curArgs[0],\n              y: this.curArgs[1],\n            } as SVGCommand);\n            // Switch to line to state\n            if (SVGPathData.MOVE_TO === this.curCommandType) {\n              this.curCommandType = SVGPathData.LINE_TO;\n            }\n          } else if (this.curCommandType === SVGPathData.CURVE_TO) {\n            finishCommand({\n              type: SVGPathData.CURVE_TO,\n              relative: this.curCommandRelative,\n              x1: this.curArgs[0],\n              y1: this.curArgs[1],\n              x2: this.curArgs[2],\n              y2: this.curArgs[3],\n              x: this.curArgs[4],\n              y: this.curArgs[5],\n            });\n          } else if (this.curCommandType === SVGPathData.SMOOTH_CURVE_TO) {\n            finishCommand({\n              type: SVGPathData.SMOOTH_CURVE_TO,\n              relative: this.curCommandRelative,\n              x2: this.curArgs[0],\n              y2: this.curArgs[1],\n              x: this.curArgs[2],\n              y: this.curArgs[3],\n            });\n          } else if (this.curCommandType === SVGPathData.QUAD_TO) {\n            finishCommand({\n              type: SVGPathData.QUAD_TO,\n              relative: this.curCommandRelative,\n              x1: this.curArgs[0],\n              y1: this.curArgs[1],\n              x: this.curArgs[2],\n              y: this.curArgs[3],\n            });\n          } else if (this.curCommandType === SVGPathData.ARC) {\n            finishCommand({\n              type: SVGPathData.ARC,\n              relative: this.curCommandRelative,\n              rX: this.curArgs[0],\n              rY: this.curArgs[1],\n              xRot: this.curArgs[2],\n              lArcFlag: this.curArgs[3] as 0 | 1,\n              sweepFlag: this.curArgs[4] as 0 | 1,\n              x: this.curArgs[5],\n              y: this.curArgs[6],\n            });\n          }\n        }\n        this.curNumber = \"\";\n        this.curNumberHasExpDigits = false;\n        this.curNumberHasExp = false;\n        this.curNumberHasDecimal = false;\n        this.canParseCommandOrComma = true;\n      }\n      // Continue if a white space or a comma was detected\n      if (isWhiteSpace(c)) {\n        continue;\n      }\n      if (\",\" === c && this.canParseCommandOrComma) {\n        // L 0,0, H is not valid:\n        this.canParseCommandOrComma = false;\n        continue;\n      }\n      // if a sign is detected, then parse the new number\n      if (\"+\" === c || \"-\" === c || \".\" === c) {\n        this.curNumber = c;\n        this.curNumberHasDecimal = \".\" === c;\n        continue;\n      }\n      // if a 0 is detected, then parse the new number\n      if (isEndingDigit) {\n        this.curNumber = c;\n        this.curNumberHasDecimal = false;\n        continue;\n      }\n\n      // Adding residual command\n      if (0 !== this.curArgs.length) {\n        throw new SyntaxError(`Unterminated command at index ${i}.`);\n      }\n      if (!this.canParseCommandOrComma) {\n        throw new SyntaxError(\n          `Unexpected character \"${c}\" at index ${i}. Command cannot follow comma`,\n        );\n      }\n      this.canParseCommandOrComma = false;\n      // Detecting the next command\n      if (\"z\" === c || \"Z\" === c) {\n        commands.push({\n          type: SVGPathData.CLOSE_PATH,\n        });\n        this.canParseCommandOrComma = true;\n        this.curCommandType = -1;\n        continue;\n        // Horizontal move to command\n      } else if (\"h\" === c || \"H\" === c) {\n        this.curCommandType = SVGPathData.HORIZ_LINE_TO;\n        this.curCommandRelative = \"h\" === c;\n        // Vertical move to command\n      } else if (\"v\" === c || \"V\" === c) {\n        this.curCommandType = SVGPathData.VERT_LINE_TO;\n        this.curCommandRelative = \"v\" === c;\n        // Move to command\n      } else if (\"m\" === c || \"M\" === c) {\n        this.curCommandType = SVGPathData.MOVE_TO;\n        this.curCommandRelative = \"m\" === c;\n        // Line to command\n      } else if (\"l\" === c || \"L\" === c) {\n        this.curCommandType = SVGPathData.LINE_TO;\n        this.curCommandRelative = \"l\" === c;\n        // Curve to command\n      } else if (\"c\" === c || \"C\" === c) {\n        this.curCommandType = SVGPathData.CURVE_TO;\n        this.curCommandRelative = \"c\" === c;\n        // Smooth curve to command\n      } else if (\"s\" === c || \"S\" === c) {\n        this.curCommandType = SVGPathData.SMOOTH_CURVE_TO;\n        this.curCommandRelative = \"s\" === c;\n        // Quadratic bezier curve to command\n      } else if (\"q\" === c || \"Q\" === c) {\n        this.curCommandType = SVGPathData.QUAD_TO;\n        this.curCommandRelative = \"q\" === c;\n        // Smooth quadratic bezier curve to command\n      } else if (\"t\" === c || \"T\" === c) {\n        this.curCommandType = SVGPathData.SMOOTH_QUAD_TO;\n        this.curCommandRelative = \"t\" === c;\n        // Elliptic arc command\n      } else if (\"a\" === c || \"A\" === c) {\n        this.curCommandType = SVGPathData.ARC;\n        this.curCommandRelative = \"a\" === c;\n      } else {\n        throw new SyntaxError(`Unexpected character \"${c}\" at index ${i}.`);\n      }\n    }\n    return commands;\n  }\n  /**\n   * Return a wrapper around this parser which applies the transformation on parsed commands.\n   */\n  transform(transform: TransformFunction) {\n    const result = Object.create(this, {\n      parse: {\n        value(chunk: string, commands: SVGCommand[] = []) {\n          const parsedCommands = Object.getPrototypeOf(this).parse.call(\n            this,\n            chunk,\n          );\n          for (const c of parsedCommands) {\n            const cT = transform(c);\n            if (Array.isArray(cT)) {\n              commands.push(...cT);\n            } else {\n              commands.push(cT);\n            }\n          }\n          return commands;\n        },\n      },\n    });\n    return result as this;\n  }\n}\n","import { encodeSVGPath } from \"./SVGPathDataEncoder\";\nimport { SVGPathDataParser } from \"./SVGPathDataParser\";\nimport { SVGPathDataTransformer } from \"./SVGPathDataTransformer\";\nimport { TransformableSVG } from \"./TransformableSVG\";\nimport { SVGCommand } from \"./types\";\n\nexport class SVGPathData extends TransformableSVG {\n  commands: SVGCommand[];\n  constructor(content: string | SVGCommand[]) {\n    super();\n    if (\"string\" === typeof content) {\n      this.commands = SVGPathData.parse(content);\n    } else {\n      this.commands = content;\n    }\n  }\n\n  encode() {\n    return SVGPathData.encode(this.commands);\n  }\n\n  getBounds() {\n    const boundsTransform = SVGPathDataTransformer.CALCULATE_BOUNDS();\n\n    this.transform(boundsTransform);\n    return boundsTransform;\n  }\n\n  transform(\n    transformFunction: (input: SVGCommand) => SVGCommand | SVGCommand[],\n  ) {\n    const newCommands = [];\n\n    for (const command of this.commands) {\n      const transformedCommand = transformFunction(command);\n\n      if (Array.isArray(transformedCommand)) {\n        newCommands.push(...transformedCommand);\n      } else {\n        newCommands.push(transformedCommand);\n      }\n    }\n    this.commands = newCommands;\n    return this;\n  }\n\n  static encode(commands: SVGCommand[]) {\n    return encodeSVGPath(commands);\n      }\n\n  static parse(path: string) {\n    const parser = new SVGPathDataParser();\n    const commands: SVGCommand[] = [];\n    parser.parse(path, commands);\n    parser.finish(commands);\n    return commands;\n  }\n\n  static readonly CLOSE_PATH: 1 = 1;\n  static readonly MOVE_TO: 2 = 2;\n  static readonly HORIZ_LINE_TO: 4 = 4;\n  static readonly VERT_LINE_TO: 8 = 8;\n  static readonly LINE_TO: 16 = 16;\n  static readonly CURVE_TO: 32 = 32;\n  static readonly SMOOTH_CURVE_TO: 64 = 64;\n  static readonly QUAD_TO: 128 = 128;\n  static readonly SMOOTH_QUAD_TO: 256 = 256;\n  static readonly ARC: 512 = 512;\n  static readonly LINE_COMMANDS = SVGPathData.LINE_TO | SVGPathData.HORIZ_LINE_TO | SVGPathData.VERT_LINE_TO;\n  static readonly DRAWING_COMMANDS = SVGPathData.HORIZ_LINE_TO | SVGPathData.VERT_LINE_TO | SVGPathData.LINE_TO |\n  SVGPathData.CURVE_TO | SVGPathData.SMOOTH_CURVE_TO | SVGPathData.QUAD_TO |\n  SVGPathData.SMOOTH_QUAD_TO | SVGPathData.ARC;\n}\n\nexport const COMMAND_ARG_COUNTS = {\n    [SVGPathData.MOVE_TO]: 2,\n    [SVGPathData.LINE_TO]: 2,\n    [SVGPathData.HORIZ_LINE_TO]: 1,\n    [SVGPathData.VERT_LINE_TO]: 1,\n    [SVGPathData.CLOSE_PATH]: 0,\n    [SVGPathData.QUAD_TO]: 4,\n    [SVGPathData.SMOOTH_QUAD_TO]: 2,\n    [SVGPathData.CURVE_TO]: 6,\n    [SVGPathData.SMOOTH_CURVE_TO]: 4,\n    [SVGPathData.ARC]: 7,\n};\n\nexport {encodeSVGPath} from \"./SVGPathDataEncoder\";\nexport {SVGPathDataParser} from \"./SVGPathDataParser\";\nexport {SVGPathDataTransformer} from \"./SVGPathDataTransformer\";\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/* eslint-disable no-bitwise -- used for calculations */\n\n/* eslint-disable unicorn/prefer-query-selector -- aiming at\n  backward-compatibility */\n\n/**\n* StackBlur - a fast almost Gaussian Blur For Canvas\n*\n* In case you find this class useful - especially in commercial projects -\n* I am not totally unhappy for a small donation to my PayPal account\n* mario@quasimondo.de\n*\n* Or support me on flattr:\n* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.\n*\n* @module StackBlur\n* @author Mario Klingemann\n* Contact: mario@quasimondo.com\n* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}\n* Twitter: @quasimondo\n*\n* @copyright (c) 2010 Mario Klingemann\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\nvar mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n/**\n * @param {string|HTMLImageElement} img\n * @param {string|HTMLCanvasElement} canvas\n * @param {Float} radius\n * @param {boolean} blurAlphaChannel\n * @param {boolean} useOffset\n * @param {boolean} skipStyles\n * @returns {undefined}\n */\n\nfunction processImage(img, canvas, radius, blurAlphaChannel, useOffset, skipStyles) {\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n\n  if (!img || !('naturalWidth' in img)) {\n    return;\n  }\n\n  var dimensionType = useOffset ? 'offset' : 'natural';\n  var w = img[dimensionType + 'Width'];\n  var h = img[dimensionType + 'Height'];\n\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || !('getContext' in canvas)) {\n    return;\n  }\n\n  if (!skipStyles) {\n    canvas.style.width = w + 'px';\n    canvas.style.height = h + 'px';\n  }\n\n  canvas.width = w;\n  canvas.height = h;\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, w, h);\n\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  if (blurAlphaChannel) {\n    processCanvasRGBA(canvas, 0, 0, w, h, radius);\n  } else {\n    processCanvasRGB(canvas, 0, 0, w, h, radius);\n  }\n}\n/**\n * @param {string|HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @throws {Error|TypeError}\n * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}\n */\n\n\nfunction getImageDataFromCanvas(canvas, topX, topY, width, height) {\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || _typeof(canvas) !== 'object' || !('getContext' in canvas)) {\n    throw new TypeError('Expecting canvas with `getContext` method ' + 'in processCanvasRGB(A) calls!');\n  }\n\n  var context = canvas.getContext('2d');\n\n  try {\n    return context.getImageData(topX, topY, width, height);\n  } catch (e) {\n    throw new Error('unable to access image data: ' + e);\n  }\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGBA(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGBA(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGBA(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null,\n      stackOut = null,\n      yw = 0,\n      yi = 0;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n\n  for (var y = 0; y < height; y++) {\n    stack = stackStart;\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        pa = pixels[yi + 3];\n\n    for (var _i = 0; _i < radiusPlus1; _i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0,\n        aInSum = 0,\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        aOutSum = radiusPlus1 * pa,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb,\n        aSum = sumFactor * pa;\n\n    for (var _i2 = 1; _i2 < radiusPlus1; _i2++) {\n      var p = yi + ((widthMinus1 < _i2 ? widthMinus1 : _i2) << 2);\n      var r = pixels[p],\n          g = pixels[p + 1],\n          b = pixels[p + 2],\n          a = pixels[p + 3];\n      var rbs = radiusPlus1 - _i2;\n      rSum += (stack.r = r) * rbs;\n      gSum += (stack.g = g) * rbs;\n      bSum += (stack.b = b) * rbs;\n      aSum += (stack.a = a) * rbs;\n      rInSum += r;\n      gInSum += g;\n      bInSum += b;\n      aInSum += a;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      var paInitial = aSum * mulSum >> shgSum;\n      pixels[yi + 3] = paInitial;\n\n      if (paInitial !== 0) {\n        var _a2 = 255 / paInitial;\n\n        pixels[yi] = (rSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 1] = (gSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 2] = (bSum * mulSum >> shgSum) * _a2;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      aSum -= aOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      aOutSum -= stackIn.a;\n\n      var _p = x + radius + 1;\n\n      _p = yw + (_p < widthMinus1 ? _p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[_p];\n      gInSum += stackIn.g = pixels[_p + 1];\n      bInSum += stackIn.b = pixels[_p + 2];\n      aInSum += stackIn.a = pixels[_p + 3];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      aSum += aInSum;\n      stackIn = stackIn.next;\n      var _stackOut = stackOut,\n          _r = _stackOut.r,\n          _g = _stackOut.g,\n          _b = _stackOut.b,\n          _a = _stackOut.a;\n      rOutSum += _r;\n      gOutSum += _g;\n      bOutSum += _b;\n      aOutSum += _a;\n      rInSum -= _r;\n      gInSum -= _g;\n      bInSum -= _b;\n      aInSum -= _a;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x = 0; _x < width; _x++) {\n    yi = _x << 2;\n\n    var _pr = pixels[yi],\n        _pg = pixels[yi + 1],\n        _pb = pixels[yi + 2],\n        _pa = pixels[yi + 3],\n        _rOutSum = radiusPlus1 * _pr,\n        _gOutSum = radiusPlus1 * _pg,\n        _bOutSum = radiusPlus1 * _pb,\n        _aOutSum = radiusPlus1 * _pa,\n        _rSum = sumFactor * _pr,\n        _gSum = sumFactor * _pg,\n        _bSum = sumFactor * _pb,\n        _aSum = sumFactor * _pa;\n\n    stack = stackStart;\n\n    for (var _i3 = 0; _i3 < radiusPlus1; _i3++) {\n      stack.r = _pr;\n      stack.g = _pg;\n      stack.b = _pb;\n      stack.a = _pa;\n      stack = stack.next;\n    }\n\n    var yp = width;\n    var _gInSum = 0,\n        _bInSum = 0,\n        _aInSum = 0,\n        _rInSum = 0;\n\n    for (var _i4 = 1; _i4 <= radius; _i4++) {\n      yi = yp + _x << 2;\n\n      var _rbs = radiusPlus1 - _i4;\n\n      _rSum += (stack.r = _pr = pixels[yi]) * _rbs;\n      _gSum += (stack.g = _pg = pixels[yi + 1]) * _rbs;\n      _bSum += (stack.b = _pb = pixels[yi + 2]) * _rbs;\n      _aSum += (stack.a = _pa = pixels[yi + 3]) * _rbs;\n      _rInSum += _pr;\n      _gInSum += _pg;\n      _bInSum += _pb;\n      _aInSum += _pa;\n      stack = stack.next;\n\n      if (_i4 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y = 0; _y < height; _y++) {\n      var _p2 = yi << 2;\n\n      pixels[_p2 + 3] = _pa = _aSum * mulSum >> shgSum;\n\n      if (_pa > 0) {\n        _pa = 255 / _pa;\n        pixels[_p2] = (_rSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 1] = (_gSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 2] = (_bSum * mulSum >> shgSum) * _pa;\n      } else {\n        pixels[_p2] = pixels[_p2 + 1] = pixels[_p2 + 2] = 0;\n      }\n\n      _rSum -= _rOutSum;\n      _gSum -= _gOutSum;\n      _bSum -= _bOutSum;\n      _aSum -= _aOutSum;\n      _rOutSum -= stackIn.r;\n      _gOutSum -= stackIn.g;\n      _bOutSum -= stackIn.b;\n      _aOutSum -= stackIn.a;\n      _p2 = _x + ((_p2 = _y + radiusPlus1) < heightMinus1 ? _p2 : heightMinus1) * width << 2;\n      _rSum += _rInSum += stackIn.r = pixels[_p2];\n      _gSum += _gInSum += stackIn.g = pixels[_p2 + 1];\n      _bSum += _bInSum += stackIn.b = pixels[_p2 + 2];\n      _aSum += _aInSum += stackIn.a = pixels[_p2 + 3];\n      stackIn = stackIn.next;\n      _rOutSum += _pr = stackOut.r;\n      _gOutSum += _pg = stackOut.g;\n      _bOutSum += _pb = stackOut.b;\n      _aOutSum += _pa = stackOut.a;\n      _rInSum -= _pr;\n      _gInSum -= _pg;\n      _bInSum -= _pb;\n      _aInSum -= _pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGB(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGB(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGB(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n  var p, rbs;\n  var yw = 0,\n      yi = 0;\n\n  for (var y = 0; y < height; y++) {\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb;\n    stack = stackStart;\n\n    for (var _i5 = 0; _i5 < radiusPlus1; _i5++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0;\n\n    for (var _i6 = 1; _i6 < radiusPlus1; _i6++) {\n      p = yi + ((widthMinus1 < _i6 ? widthMinus1 : _i6) << 2);\n      rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - _i6);\n      gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n      bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n      rInSum += pr;\n      gInSum += pg;\n      bInSum += pb;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      pixels[yi] = rSum * mulSum >> shgSum;\n      pixels[yi + 1] = gSum * mulSum >> shgSum;\n      pixels[yi + 2] = bSum * mulSum >> shgSum;\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[p];\n      gInSum += stackIn.g = pixels[p + 1];\n      bInSum += stackIn.b = pixels[p + 2];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      stackIn = stackIn.next;\n      rOutSum += pr = stackOut.r;\n      gOutSum += pg = stackOut.g;\n      bOutSum += pb = stackOut.b;\n      rInSum -= pr;\n      gInSum -= pg;\n      bInSum -= pb;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x2 = 0; _x2 < width; _x2++) {\n    yi = _x2 << 2;\n\n    var _pr2 = pixels[yi],\n        _pg2 = pixels[yi + 1],\n        _pb2 = pixels[yi + 2],\n        _rOutSum2 = radiusPlus1 * _pr2,\n        _gOutSum2 = radiusPlus1 * _pg2,\n        _bOutSum2 = radiusPlus1 * _pb2,\n        _rSum2 = sumFactor * _pr2,\n        _gSum2 = sumFactor * _pg2,\n        _bSum2 = sumFactor * _pb2;\n\n    stack = stackStart;\n\n    for (var _i7 = 0; _i7 < radiusPlus1; _i7++) {\n      stack.r = _pr2;\n      stack.g = _pg2;\n      stack.b = _pb2;\n      stack = stack.next;\n    }\n\n    var _rInSum2 = 0,\n        _gInSum2 = 0,\n        _bInSum2 = 0;\n\n    for (var _i8 = 1, yp = width; _i8 <= radius; _i8++) {\n      yi = yp + _x2 << 2;\n      _rSum2 += (stack.r = _pr2 = pixels[yi]) * (rbs = radiusPlus1 - _i8);\n      _gSum2 += (stack.g = _pg2 = pixels[yi + 1]) * rbs;\n      _bSum2 += (stack.b = _pb2 = pixels[yi + 2]) * rbs;\n      _rInSum2 += _pr2;\n      _gInSum2 += _pg2;\n      _bInSum2 += _pb2;\n      stack = stack.next;\n\n      if (_i8 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x2;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y2 = 0; _y2 < height; _y2++) {\n      p = yi << 2;\n      pixels[p] = _rSum2 * mulSum >> shgSum;\n      pixels[p + 1] = _gSum2 * mulSum >> shgSum;\n      pixels[p + 2] = _bSum2 * mulSum >> shgSum;\n      _rSum2 -= _rOutSum2;\n      _gSum2 -= _gOutSum2;\n      _bSum2 -= _bOutSum2;\n      _rOutSum2 -= stackIn.r;\n      _gOutSum2 -= stackIn.g;\n      _bOutSum2 -= stackIn.b;\n      p = _x2 + ((p = _y2 + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      _rSum2 += _rInSum2 += stackIn.r = pixels[p];\n      _gSum2 += _gInSum2 += stackIn.g = pixels[p + 1];\n      _bSum2 += _bInSum2 += stackIn.b = pixels[p + 2];\n      stackIn = stackIn.next;\n      _rOutSum2 += _pr2 = stackOut.r;\n      _gOutSum2 += _pg2 = stackOut.g;\n      _bOutSum2 += _pb2 = stackOut.b;\n      _rInSum2 -= _pr2;\n      _gInSum2 -= _pg2;\n      _bInSum2 -= _pb2;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n *\n */\n\n\nvar BlurStack =\n/**\n * Set properties.\n */\nfunction BlurStack() {\n  _classCallCheck(this, BlurStack);\n\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n};\n\nexport { BlurStack, processCanvasRGB as canvasRGB, processCanvasRGBA as canvasRGBA, processImage as image, processImageDataRGB as imageDataRGB, processImageDataRGBA as imageDataRGBA };\n","import { MatrixValue } from '../types'\n\n/**\n * HTML-safe compress white-spaces.\n * @param str - String to compress.\n * @returns String.\n */\nexport function compressSpaces(str: string) {\n  return str.replace(/(?!\\u3000)\\s+/gm, ' ')\n}\n\n/**\n * HTML-safe left trim.\n * @param str - String to trim.\n * @returns String.\n */\nexport function trimLeft(str: string) {\n  return str.replace(/^[\\n \\t]+/, '')\n}\n\n/**\n * HTML-safe right trim.\n * @param str - String to trim.\n * @returns String.\n */\nexport function trimRight(str: string) {\n  return str.replace(/[\\n \\t]+$/, '')\n}\n\n/**\n * String to numbers array.\n * @param str - Numbers string.\n * @returns Numbers array.\n */\nexport function toNumbers(str: string) {\n  const matches = str.match(/-?(\\d+(?:\\.\\d*(?:[eE][+-]?\\d+)?)?|\\.\\d+)(?=\\D|$)/gm)\n\n  return matches ? matches.map(parseFloat) : []\n}\n\n/**\n * String to matrix value.\n * @param str - Numbers string.\n * @returns Matrix value.\n */\nexport function toMatrixValue(str: string): MatrixValue {\n  const numbers = toNumbers(str)\n  const matrix = [\n    numbers[0] || 0,\n    numbers[1] || 0,\n    numbers[2] || 0,\n    numbers[3] || 0,\n    numbers[4] || 0,\n    numbers[5] || 0\n  ] as const\n\n  return matrix\n}\n\n// Microsoft Edge fix\nconst allUppercase = /^[A-Z-]+$/\n\n/**\n * Normalize attribute name.\n * @param name - Attribute name.\n * @returns Normalized attribute name.\n */\nexport function normalizeAttributeName(name: string) {\n  if (allUppercase.test(name)) {\n    return name.toLowerCase()\n  }\n\n  return name\n}\n\n/**\n * Parse external URL.\n * @param url - CSS url string.\n * @returns Parsed URL.\n */\nexport function parseExternalUrl(url: string): string {\n  //                      single quotes [2]\n  //                      v         double quotes [3]\n  //                      v         v         no quotes [4]\n  //                      v         v         v\n  const urlMatch = /url\\(('([^']+)'|\"([^\"]+)\"|([^'\")]+))\\)/.exec(url)\n\n  if (!urlMatch) {\n    return ''\n  }\n\n  return urlMatch[2] || urlMatch[3] || urlMatch[4] || ''\n}\n\n/**\n * Transform floats to integers in rgb colors.\n * @param color - Color to normalize.\n * @returns Normalized color.\n */\nexport function normalizeColor(color: string) {\n  if (!color.startsWith('rgb')) {\n    return color\n  }\n\n  let rgbParts = 3\n  const normalizedColor = color.replace(\n    /\\d+(\\.\\d+)?/g,\n    (num, isFloat) => (rgbParts-- && isFloat\n      ? String(Math.round(parseFloat(num)))\n      : num)\n  )\n\n  return normalizedColor\n}\n","\n// slightly modified version of https://github.com/keeganstreet/specificity/blob/master/specificity.js\nconst attributeRegex = /(\\[[^\\]]+\\])/g\nconst idRegex = /(#[^\\s+>~.[:]+)/g\nconst classRegex = /(\\.[^\\s+>~.[:]+)/g\nconst pseudoElementRegex = /(::[^\\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi\nconst pseudoClassWithBracketsRegex = /(:[\\w-]+\\([^)]*\\))/gi\nconst pseudoClassRegex = /(:[^\\s+>~.[:]+)/g\nconst elementRegex = /([^\\s+>~.[:]+)/g\n\nfunction findSelectorMatch(selector: string, regex: RegExp): [string, number] {\n  const matches = regex.exec(selector)\n\n  if (!matches) {\n    return [selector, 0]\n  }\n\n  return [selector.replace(regex, ' '), matches.length]\n}\n\n/**\n * Measure selector specificity.\n * @param selector - Selector to measure.\n * @returns Specificity.\n */\nexport function getSelectorSpecificity(selector: string) {\n  const specificity = [\n    0,\n    0,\n    0\n  ]\n  let currentSelector = selector\n    .replace(/:not\\(([^)]*)\\)/g, '     $1 ')\n    .replace(/{[\\s\\S]*/gm, ' ')\n  let delta = 0;\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, attributeRegex)\n  specificity[1] += delta;\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, idRegex)\n  specificity[0] += delta;\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, classRegex)\n  specificity[1] += delta;\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, pseudoElementRegex)\n  specificity[2] += delta;\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, pseudoClassWithBracketsRegex)\n  specificity[1] += delta;\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, pseudoClassRegex)\n  specificity[1] += delta\n\n  currentSelector = currentSelector\n    .replace(/[*\\s+>~]/g, ' ')\n    .replace(/[#.]/g, ' ');\n\n  [currentSelector, delta] = findSelectorMatch(currentSelector, elementRegex) // lgtm [js/useless-assignment-to-local]\n  specificity[2] += delta\n\n  return specificity.join('')\n}\n","import { VectorValue } from '../types'\n\nexport const PSEUDO_ZERO = .00000001\n\n/**\n * Vector magnitude.\n * @param v\n * @returns Number result.\n */\nexport function vectorMagnitude(v: VectorValue) {\n  return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2))\n}\n\n/**\n * Ratio between two vectors.\n * @param u\n * @param v\n * @returns Number result.\n */\nexport function vectorsRatio(u: VectorValue, v: VectorValue) {\n  return (u[0] * v[0] + u[1] * v[1]) / (vectorMagnitude(u) * vectorMagnitude(v))\n}\n\n/**\n * Angle between two vectors.\n * @param u\n * @param v\n * @returns Number result.\n */\nexport function vectorsAngle(u: VectorValue, v: VectorValue) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vectorsRatio(u, v))\n}\n\nexport function CB1(t: number) {\n  return t * t * t\n}\n\nexport function CB2(t: number) {\n  return 3 * t * t * (1 - t)\n}\n\nexport function CB3(t: number) {\n  return 3 * t * (1 - t) * (1 - t)\n}\n\nexport function CB4(t: number) {\n  return (1 - t) * (1 - t) * (1 - t)\n}\n\nexport function QB1(t: number) {\n  return t * t\n}\n\nexport function QB2(t: number) {\n  return 2 * t * (1 - t)\n}\n\nexport function QB3(t: number) {\n  return (1 - t) * (1 - t)\n}\n","import RGBColor from 'rgbcolor'\nimport {\n  compressSpaces,\n  normalizeColor\n} from './util'\nimport { Axis } from './ViewPort'\nimport {\n  Document,\n  Element,\n  PathElement,\n  PatternElement,\n  GradientElement\n} from './Document'\n\nexport class Property<T = unknown> {\n  static empty(document: Document) {\n    return new Property(document, 'EMPTY', '')\n  }\n\n  static readonly textBaselineMapping: Record<string, string> = {\n    'baseline': 'alphabetic',\n    'before-edge': 'top',\n    'text-before-edge': 'top',\n    'middle': 'middle',\n    'central': 'middle',\n    'after-edge': 'bottom',\n    'text-after-edge': 'bottom',\n    'ideographic': 'ideographic',\n    'alphabetic': 'alphabetic',\n    'hanging': 'hanging',\n    'mathematical': 'alphabetic'\n  }\n\n  private isNormalizedColor = false\n\n  constructor(\n    private readonly document: Document,\n    private readonly name: string,\n    private value: T\n  ) {}\n\n  split(separator = ' ') {\n    const {\n      document,\n      name\n    } = this\n\n    return compressSpaces(this.getString())\n      .trim()\n      .split(separator)\n      .map(value => new Property<string>(document, name, value))\n  }\n\n  hasValue(zeroIsValue?: boolean) {\n    const value = this.value as unknown\n\n    return value !== null\n      && value !== ''\n      && (zeroIsValue || value !== 0)\n      && typeof value !== 'undefined'\n  }\n\n  isString(regexp?: RegExp) {\n    const { value } = this\n    const result = typeof value === 'string'\n\n    if (!result || !regexp) {\n      return result\n    }\n\n    return regexp.test(value)\n  }\n\n  isUrlDefinition() {\n    return this.isString(/^url\\(/)\n  }\n\n  isPixels() {\n    if (!this.hasValue()) {\n      return false\n    }\n\n    const asString = this.getString()\n\n    switch (true) {\n      case asString.endsWith('px'):\n      case /^[0-9]+$/.test(asString):\n        return true\n\n      default:\n        return false\n    }\n  }\n\n  setValue(value: T) {\n    this.value = value\n    return this\n  }\n\n  getValue(def?: T) {\n    if (typeof def === 'undefined' || this.hasValue()) {\n      return this.value\n    }\n\n    return def\n  }\n\n  getNumber(def?: T) {\n    if (!this.hasValue()) {\n      if (typeof def === 'undefined') {\n        return 0\n      }\n\n      // @ts-expect-error Parse unknown value.\n      return parseFloat(def)\n    }\n\n    const { value } = this\n    // @ts-expect-error Parse unknown value.\n    let n = parseFloat(value)\n\n    if (this.isString(/%$/)) {\n      n /= 100.0\n    }\n\n    return n\n  }\n\n  getString(def?: T) {\n    if (typeof def === 'undefined' || this.hasValue()) {\n      return typeof this.value === 'undefined'\n        ? ''\n        : String(this.value)\n    }\n\n    return String(def)\n  }\n\n  getColor(def?: T) {\n    let color = this.getString(def)\n\n    if (this.isNormalizedColor) {\n      return color\n    }\n\n    this.isNormalizedColor = true\n    color = normalizeColor(color)\n    this.value = color as unknown as T\n\n    return color\n  }\n\n  getDpi() {\n    return 96.0 // TODO: compute?\n  }\n\n  getRem() {\n    return this.document.rootEmSize\n  }\n\n  getEm() {\n    return this.document.emSize\n  }\n\n  getUnits() {\n    return this.getString().replace(/[0-9.-]/g, '')\n  }\n\n  getPixels(axis?: Axis, processPercent?: boolean): number\n  getPixels(isFontSize?: boolean): number\n  getPixels(axisOrIsFontSize?: Axis | boolean, processPercent = false): number {\n    if (!this.hasValue()) {\n      return 0\n    }\n\n    const [axis, isFontSize] = typeof axisOrIsFontSize === 'boolean'\n      ? [undefined, axisOrIsFontSize]\n      : [axisOrIsFontSize]\n    const { viewPort } = this.document.screen\n\n    switch (true) {\n      case this.isString(/vmin$/):\n        return this.getNumber()\n          / 100.0\n          * Math.min(\n            viewPort.computeSize('x'),\n            viewPort.computeSize('y')\n          )\n\n      case this.isString(/vmax$/):\n        return this.getNumber()\n          / 100.0\n          * Math.max(\n            viewPort.computeSize('x'),\n            viewPort.computeSize('y')\n          )\n\n      case this.isString(/vw$/):\n        return this.getNumber()\n          / 100.0\n          * viewPort.computeSize('x')\n\n      case this.isString(/vh$/):\n        return this.getNumber()\n          / 100.0\n          * viewPort.computeSize('y')\n\n      case this.isString(/rem$/):\n        return this.getNumber() * this.getRem(/* viewPort */)\n\n      case this.isString(/em$/):\n        return this.getNumber() * this.getEm(/* viewPort */)\n\n      case this.isString(/ex$/):\n        return this.getNumber() * this.getEm(/* viewPort */) / 2.0\n\n      case this.isString(/px$/):\n        return this.getNumber()\n\n      case this.isString(/pt$/):\n        return this.getNumber() * this.getDpi(/* viewPort */) * (1.0 / 72.0)\n\n      case this.isString(/pc$/):\n        return this.getNumber() * 15\n\n      case this.isString(/cm$/):\n        return this.getNumber() * this.getDpi(/* viewPort */) / 2.54\n\n      case this.isString(/mm$/):\n        return this.getNumber() * this.getDpi(/* viewPort */) / 25.4\n\n      case this.isString(/in$/):\n        return this.getNumber() * this.getDpi(/* viewPort */)\n\n      case this.isString(/%$/) && isFontSize:\n        return this.getNumber() * this.getEm(/* viewPort */)\n\n      case this.isString(/%$/):\n        return this.getNumber() * viewPort.computeSize(axis)\n\n      default: {\n        const n = this.getNumber()\n\n        if (processPercent && n < 1.0) {\n          return n * viewPort.computeSize(axis)\n        }\n\n        return n\n      }\n    }\n  }\n\n  getMilliseconds() {\n    if (!this.hasValue()) {\n      return 0\n    }\n\n    if (this.isString(/ms$/)) {\n      return this.getNumber()\n    }\n\n    return this.getNumber() * 1000\n  }\n\n  getRadians() {\n    if (!this.hasValue()) {\n      return 0\n    }\n\n    switch (true) {\n      case this.isString(/deg$/):\n        return this.getNumber() * (Math.PI / 180.0)\n\n      case this.isString(/grad$/):\n        return this.getNumber() * (Math.PI / 200.0)\n\n      case this.isString(/rad$/):\n        return this.getNumber()\n\n      default:\n        return this.getNumber() * (Math.PI / 180.0)\n    }\n  }\n\n  getDefinition<T extends Element>() {\n    const asString = this.getString()\n    const match = /#([^)'\"]+)/.exec(asString)\n    const name = match?.[1] || asString\n\n    return this.document.definitions[name] as T | undefined\n  }\n\n  getFillStyleDefinition(element: Element | PathElement, opacity: Property) {\n    let def = this.getDefinition<PatternElement & GradientElement>()\n\n    if (!def) {\n      return null\n    }\n\n    // gradient\n    if (typeof def.createGradient === 'function' && 'getBoundingBox' in element) {\n      return def.createGradient(\n        this.document.ctx,\n        element,\n        opacity\n      )\n    }\n\n    // pattern\n    if (typeof def.createPattern === 'function') {\n      if (def.getHrefAttribute().hasValue()) {\n        const patternTransform = def.getAttribute('patternTransform')\n\n        def = def.getHrefAttribute().getDefinition()\n\n        if (def && patternTransform.hasValue()) {\n          def.getAttribute('patternTransform', true).setValue(patternTransform.value)\n        }\n      }\n\n      if (def) {\n        return def.createPattern(this.document.ctx, element, opacity)\n      }\n    }\n\n    return null\n  }\n\n  getTextBaseline() {\n    if (!this.hasValue()) {\n      return null\n    }\n\n    const key = this.getString()\n\n    return Property.textBaselineMapping[key] || null\n  }\n\n  addOpacity(opacity: Property) {\n    let value = this.getColor()\n    const len = value.length\n    let commas = 0\n\n    // Simulate old RGBColor version, which can't parse rgba.\n    for (let i = 0; i < len; i++) {\n      if (value[i] === ',') {\n        commas++\n      }\n\n      if (commas === 3) {\n        break\n      }\n    }\n\n    if (opacity.hasValue() && this.isString() && commas !== 3) {\n      const color = new RGBColor(value)\n\n      if (color.ok) {\n        color.alpha = opacity.getNumber()\n        value = color.toRGBA()\n      }\n    }\n\n    return new Property<string>(this.document, this.name, value)\n  }\n}\n","\nexport interface IViewPortSize {\n  width: number\n  height: number\n}\n\nexport type Axis = 'x' | 'y'\n\nexport class ViewPort {\n  static DEFAULT_VIEWPORT_WIDTH = 800\n  static DEFAULT_VIEWPORT_HEIGHT = 600\n\n  viewPorts: IViewPortSize[] = []\n\n  clear() {\n    this.viewPorts = []\n  }\n\n  setCurrent(width: number, height: number) {\n    this.viewPorts.push({\n      width,\n      height\n    })\n  }\n\n  removeCurrent() {\n    this.viewPorts.pop()\n  }\n\n  getRoot() {\n    const [root] = this.viewPorts\n\n    if (!root) {\n      return getDefault()\n    }\n\n    return root\n  }\n\n  getCurrent() {\n    const { viewPorts } = this\n    const current = viewPorts[viewPorts.length - 1]\n\n    if (!current) {\n      return getDefault()\n    }\n\n    return current\n  }\n\n  get width() {\n    return this.getCurrent().width\n  }\n\n  get height() {\n    return this.getCurrent().height\n  }\n\n  computeSize(d?: number|Axis) {\n    if (typeof d === 'number') {\n      return d\n    }\n\n    if (d === 'x') {\n      return this.width\n    }\n\n    if (d === 'y') {\n      return this.height\n    }\n\n    return Math.sqrt(\n      Math.pow(this.width, 2) + Math.pow(this.height, 2)\n    ) / Math.sqrt(2)\n  }\n}\n\nfunction getDefault() {\n  return {\n    width: ViewPort.DEFAULT_VIEWPORT_WIDTH,\n    height: ViewPort.DEFAULT_VIEWPORT_HEIGHT\n  }\n}\n","import { MatrixValue } from './types'\nimport { toNumbers } from './util'\n\nexport class Point {\n  static parse(point: string, defaultValue = 0) {\n    const [x = defaultValue, y = defaultValue] = toNumbers(point)\n\n    return new Point(x, y)\n  }\n\n  static parseScale(scale: string, defaultValue = 1) {\n    const [x = defaultValue, y = x] = toNumbers(scale)\n\n    return new Point(x, y)\n  }\n\n  static parsePath(path: string) {\n    const points = toNumbers(path)\n    const len = points.length\n    const pathPoints: Point[] = []\n\n    for (let i = 0; i < len; i += 2) {\n      pathPoints.push(new Point(points[i], points[i + 1]))\n    }\n\n    return pathPoints\n  }\n\n  constructor(\n    public x: number,\n    public y: number\n  ) {}\n\n  angleTo(point: Point) {\n    return Math.atan2(point.y - this.y, point.x - this.x)\n  }\n\n  applyTransform(transform: MatrixValue) {\n    const {\n      x,\n      y\n    } = this\n    const xp = x * transform[0] + y * transform[2] + transform[4]\n    const yp = x * transform[1] + y * transform[3] + transform[5]\n\n    this.x = xp\n    this.y = yp\n  }\n}\n","import { RenderingContext2D } from './types'\nimport { BoundingBox } from './BoundingBox'\nimport { Point } from './Point'\nimport { Screen } from './Screen'\nimport { Element } from './Document'\n\ninterface IEventTarget {\n  onClick?(): void\n  onMouseMove?(): void\n}\n\nexport interface IEvent {\n  type: string\n  x: number\n  y: number\n  run(eventTarget: IEventTarget): void\n}\n\nexport class Mouse {\n  private working = false\n  private events: IEvent[] = []\n  private eventElements: Element[] = []\n\n  constructor(\n    private readonly screen: Screen\n  ) {\n    this.onClick = this.onClick.bind(this)\n    this.onMouseMove = this.onMouseMove.bind(this)\n  }\n\n  isWorking() {\n    return this.working\n  }\n\n  start() {\n    if (this.working) {\n      return\n    }\n\n    const {\n      screen,\n      onClick,\n      onMouseMove\n    } = this\n    const canvas = screen.ctx.canvas as HTMLCanvasElement\n\n    canvas.onclick = onClick\n    canvas.onmousemove = onMouseMove\n    this.working = true\n  }\n\n  stop() {\n    if (!this.working) {\n      return\n    }\n\n    const canvas = this.screen.ctx.canvas as HTMLCanvasElement\n\n    this.working = false\n    canvas.onclick = null\n    canvas.onmousemove = null\n  }\n\n  hasEvents() {\n    return this.working && this.events.length > 0\n  }\n\n  runEvents() {\n    if (!this.working) {\n      return\n    }\n\n    const {\n      screen: document,\n      events,\n      eventElements\n    } = this\n    const { style } = document.ctx.canvas as HTMLCanvasElement\n    let element: Element | null | undefined\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (style) {\n      style.cursor = ''\n    }\n\n    events.forEach(({ run }, i) => {\n      element = eventElements[i]\n\n      while (element) {\n        run(element as IEventTarget)\n        element = element.parent\n      }\n    })\n\n    // done running, clear\n    this.events = []\n    this.eventElements = []\n  }\n\n  checkPath(element: Element, ctx: RenderingContext2D | null) {\n    if (!this.working || !ctx) {\n      return\n    }\n\n    const {\n      events,\n      eventElements\n    } = this\n\n    events.forEach(({ x, y }, i) => {\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!eventElements[i] && ctx.isPointInPath && ctx.isPointInPath(x, y)) {\n        eventElements[i] = element\n      }\n    })\n  }\n\n  checkBoundingBox(element: Element, boundingBox: BoundingBox | null) {\n    if (!this.working || !boundingBox) {\n      return\n    }\n\n    const {\n      events,\n      eventElements\n    } = this\n\n    events.forEach(({ x, y }, i) => {\n      if (!eventElements[i] && boundingBox.isPointInBox(x, y)) {\n        eventElements[i] = element\n      }\n    })\n  }\n\n  private mapXY(x: number, y: number) {\n    const {\n      window,\n      ctx\n    } = this.screen\n    const point = new Point(x, y)\n    let element = ctx.canvas as HTMLElement | null\n\n    while (element) {\n      point.x -= element.offsetLeft\n      point.y -= element.offsetTop\n      element = element.offsetParent as HTMLElement | null\n    }\n\n    if (window?.scrollX) {\n      point.x += window.scrollX\n    }\n\n    if (window?.scrollY) {\n      point.y += window.scrollY\n    }\n\n    return point\n  }\n\n  private onClick(event: MouseEvent) {\n    const {\n      x,\n      y\n    } = this.mapXY(\n      event.clientX,\n      event.clientY\n    )\n\n    this.events.push({\n      type: 'onclick',\n      x,\n      y,\n      run(eventTarget) {\n        if (eventTarget.onClick) {\n          eventTarget.onClick()\n        }\n      }\n    })\n  }\n\n  private onMouseMove(event: MouseEvent) {\n    const {\n      x,\n      y\n    } = this.mapXY(\n      event.clientX,\n      event.clientY\n    )\n\n    this.events.push({\n      type: 'onmousemove',\n      x,\n      y,\n      run(eventTarget) {\n        if (eventTarget.onMouseMove) {\n          eventTarget.onMouseMove()\n        }\n      }\n    })\n  }\n}\n","import requestAnimationFrame from 'raf'\nimport {\n  RenderingContext2D,\n  Fetch\n} from './types'\nimport {\n  compressSpaces,\n  toNumbers\n} from './util'\nimport { Property } from './Property'\nimport { ViewPort } from './ViewPort'\nimport { Mouse } from './Mouse'\nimport {\n  Document,\n  Element,\n  AnimateElement\n} from './Document'\n\nexport interface IScreenOptions {\n  /**\n   * Window object.\n   */\n  window?: Window | null\n  /**\n   * WHATWG-compatible `fetch` function.\n   */\n  fetch?: Fetch\n}\n\nexport interface IScreenStartOptions {\n  /**\n   * Whether enable the redraw.\n   */\n  enableRedraw?: boolean\n  /**\n   * Ignore mouse events.\n   */\n  ignoreMouse?: boolean\n  /**\n   * Ignore animations.\n   */\n  ignoreAnimation?: boolean\n  /**\n   * Does not try to resize canvas.\n   */\n  ignoreDimensions?: boolean\n  /**\n   * Does not clear canvas.\n   */\n  ignoreClear?: boolean\n  /**\n   * Scales horizontally to width.\n   */\n  scaleWidth?: number\n  /**\n   * Scales vertically to height.\n   */\n  scaleHeight?: number\n  /**\n   * Draws at a x offset.\n   */\n  offsetX?: number\n  /**\n   * Draws at a y offset.\n   */\n  offsetY?: number\n  /**\n   * Will call the function on every frame, if it returns true, will redraw.\n   */\n  forceRedraw?(): boolean\n}\n\nexport interface IScreenViewBoxConfig {\n  document: Document\n  ctx: RenderingContext2D\n  aspectRatio: string\n  width: number\n  desiredWidth: number\n  height: number\n  desiredHeight: number\n  minX?: number\n  minY?: number\n  refX?: number\n  refY?: number\n  clip?: boolean\n  clipX?: number\n  clipY?: number\n}\n\nconst defaultWindow = typeof window !== 'undefined'\n  ? window\n  : null\nconst defaultFetch = typeof fetch !== 'undefined'\n  ? fetch.bind(undefined) // `fetch` depends on context: `someObject.fetch(...)` will throw error.\n  : undefined\n\nexport class Screen {\n  static readonly defaultWindow = defaultWindow\n  static readonly defaultFetch = defaultFetch\n  static FRAMERATE = 30\n  static MAX_VIRTUAL_PIXELS = 30000\n\n  readonly window: Window | null\n  readonly fetch: Fetch\n  readonly viewPort = new ViewPort()\n  readonly mouse = new Mouse(this)\n  readonly animations: AnimateElement[] = []\n  private readyPromise: Promise<void> | undefined\n  private resolveReady: (() => void) | undefined\n  private waits: (() => boolean)[] = []\n  private frameDuration = 0\n  private isReadyLock = false\n  private isFirstRender = true\n  private intervalId: number | null = null\n\n  constructor(\n    readonly ctx: RenderingContext2D,\n    {\n      fetch = defaultFetch,\n      window = defaultWindow\n    }: IScreenOptions = {}\n  ) {\n    this.window = window\n\n    if (!fetch) {\n      throw new Error(`Can't find 'fetch' in 'globalThis', please provide it via options`)\n    }\n\n    this.fetch = fetch\n  }\n\n  wait(checker: () => boolean) {\n    this.waits.push(checker)\n  }\n\n  ready() {\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    if (!this.readyPromise) {\n      return Promise.resolve()\n    }\n\n    return this.readyPromise\n  }\n\n  isReady() {\n    if (this.isReadyLock) {\n      return true\n    }\n\n    const isReadyLock = this.waits.every(_ => _())\n\n    if (isReadyLock) {\n      this.waits = []\n\n      if (this.resolveReady) {\n        this.resolveReady()\n      }\n    }\n\n    this.isReadyLock = isReadyLock\n\n    return isReadyLock\n  }\n\n  setDefaults(ctx: RenderingContext2D) {\n    // initial values and defaults\n    ctx.strokeStyle = 'rgba(0,0,0,0)'\n    ctx.lineCap = 'butt'\n    ctx.lineJoin = 'miter'\n    ctx.miterLimit = 4\n  }\n\n  setViewBox({\n    document,\n    ctx,\n    aspectRatio,\n    width,\n    desiredWidth,\n    height,\n    desiredHeight,\n    minX = 0,\n    minY = 0,\n    refX,\n    refY,\n    clip = false,\n    clipX = 0,\n    clipY = 0\n  }: IScreenViewBoxConfig) {\n    // aspect ratio - http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute\n    const cleanAspectRatio = compressSpaces(aspectRatio).replace(/^defer\\s/, '') // ignore defer\n    const [aspectRatioAlign, aspectRatioMeetOrSlice] = cleanAspectRatio.split(' ')\n    const align = aspectRatioAlign || 'xMidYMid'\n    const meetOrSlice = aspectRatioMeetOrSlice || 'meet'\n    // calculate scale\n    const scaleX = width / desiredWidth\n    const scaleY = height / desiredHeight\n    const scaleMin = Math.min(scaleX, scaleY)\n    const scaleMax = Math.max(scaleX, scaleY)\n    let finalDesiredWidth = desiredWidth\n    let finalDesiredHeight = desiredHeight\n\n    if (meetOrSlice === 'meet') {\n      finalDesiredWidth *= scaleMin\n      finalDesiredHeight *= scaleMin\n    }\n\n    if (meetOrSlice === 'slice') {\n      finalDesiredWidth *= scaleMax\n      finalDesiredHeight *= scaleMax\n    }\n\n    const refXProp = new Property(document, 'refX', refX)\n    const refYProp = new Property(document, 'refY', refY)\n    const hasRefs = refXProp.hasValue() && refYProp.hasValue()\n\n    if (hasRefs) {\n      ctx.translate(\n        -scaleMin * refXProp.getPixels('x'),\n        -scaleMin * refYProp.getPixels('y')\n      )\n    }\n\n    if (clip) {\n      const scaledClipX = scaleMin * clipX\n      const scaledClipY = scaleMin * clipY\n\n      ctx.beginPath()\n      ctx.moveTo(scaledClipX, scaledClipY)\n      ctx.lineTo(width, scaledClipY)\n      ctx.lineTo(width, height)\n      ctx.lineTo(scaledClipX, height)\n      ctx.closePath()\n      ctx.clip()\n    }\n\n    if (!hasRefs) {\n      const isMeetMinY = meetOrSlice === 'meet' && scaleMin === scaleY\n      const isSliceMaxY = meetOrSlice === 'slice' && scaleMax === scaleY\n      const isMeetMinX = meetOrSlice === 'meet' && scaleMin === scaleX\n      const isSliceMaxX = meetOrSlice === 'slice' && scaleMax === scaleX\n\n      if (align.startsWith('xMid') && (\n        isMeetMinY || isSliceMaxY\n      )) {\n        ctx.translate(width / 2.0 - finalDesiredWidth / 2.0, 0)\n      }\n\n      if (align.endsWith('YMid') && (\n        isMeetMinX || isSliceMaxX\n      )) {\n        ctx.translate(0, height / 2.0 - finalDesiredHeight / 2.0)\n      }\n\n      if (align.startsWith('xMax') && (\n        isMeetMinY || isSliceMaxY\n      )) {\n        ctx.translate(width - finalDesiredWidth, 0)\n      }\n\n      if (align.endsWith('YMax') && (\n        isMeetMinX || isSliceMaxX\n      )) {\n        ctx.translate(0, height - finalDesiredHeight)\n      }\n    }\n\n    // scale\n    switch (true) {\n      case align === 'none':\n        ctx.scale(scaleX, scaleY)\n        break\n\n      case meetOrSlice === 'meet':\n        ctx.scale(scaleMin, scaleMin)\n        break\n\n      case meetOrSlice === 'slice':\n        ctx.scale(scaleMax, scaleMax)\n        break\n    }\n\n    // translate\n    ctx.translate(-minX, -minY)\n  }\n\n  start(\n    element: Element,\n    {\n      enableRedraw = false,\n      ignoreMouse = false,\n      ignoreAnimation = false,\n      ignoreDimensions = false,\n      ignoreClear = false,\n      forceRedraw,\n      scaleWidth,\n      scaleHeight,\n      offsetX,\n      offsetY\n    }: IScreenStartOptions = {}\n  ) {\n    const { mouse } = this\n    const frameDuration = 1000 / Screen.FRAMERATE\n\n    this.isReadyLock = false\n    this.frameDuration = frameDuration\n    this.readyPromise = new Promise((resolve) => {\n      this.resolveReady = resolve\n    })\n\n    if (this.isReady()) {\n      this.render(\n        element,\n        ignoreDimensions,\n        ignoreClear,\n        scaleWidth,\n        scaleHeight,\n        offsetX,\n        offsetY\n      )\n    }\n\n    if (!enableRedraw) {\n      return\n    }\n\n    let now = Date.now()\n    let then = now\n    let delta = 0\n    const tick = () => {\n      now = Date.now()\n      delta = now - then\n\n      if (delta >= frameDuration) {\n        then = now - (delta % frameDuration)\n\n        if (this.shouldUpdate(\n          ignoreAnimation,\n          forceRedraw\n        )) {\n          this.render(\n            element,\n            ignoreDimensions,\n            ignoreClear,\n            scaleWidth,\n            scaleHeight,\n            offsetX,\n            offsetY\n          )\n          mouse.runEvents()\n        }\n      }\n\n      this.intervalId = requestAnimationFrame(tick)\n    }\n\n    if (!ignoreMouse) {\n      mouse.start()\n    }\n\n    this.intervalId = requestAnimationFrame(tick)\n  }\n\n  stop() {\n    if (this.intervalId) {\n      requestAnimationFrame.cancel(this.intervalId)\n      this.intervalId = null\n    }\n\n    this.mouse.stop()\n  }\n\n  private shouldUpdate(\n    ignoreAnimation: boolean,\n    forceRedraw: (() => boolean) | undefined\n  ) {\n    // need update from animations?\n    if (!ignoreAnimation) {\n      const { frameDuration } = this\n      const shouldUpdate = this.animations.reduce(\n        (shouldUpdate, animation) => animation.update(frameDuration) || shouldUpdate,\n        false\n      )\n\n      if (shouldUpdate) {\n        return true\n      }\n    }\n\n    // need update from redraw?\n    if (typeof forceRedraw === 'function' && forceRedraw()) {\n      return true\n    }\n\n    if (!this.isReadyLock && this.isReady()) {\n      return true\n    }\n\n    // need update from mouse events?\n    if (this.mouse.hasEvents()) {\n      return true\n    }\n\n    return false\n  }\n\n  private render(\n    element: Element,\n    ignoreDimensions: boolean,\n    ignoreClear: boolean,\n    scaleWidth: number | undefined,\n    scaleHeight: number | undefined,\n    offsetX: number | undefined,\n    offsetY: number | undefined\n  ) {\n    const {\n      viewPort,\n      ctx,\n      isFirstRender\n    } = this\n    const canvas = ctx.canvas as HTMLCanvasElement\n\n    viewPort.clear()\n\n    if (canvas.width && canvas.height) {\n      viewPort.setCurrent(canvas.width, canvas.height)\n    }\n\n    const widthStyle = element.getStyle('width')\n    const heightStyle = element.getStyle('height')\n\n    if (!ignoreDimensions && (\n      isFirstRender\n      || typeof scaleWidth !== 'number' && typeof scaleHeight !== 'number'\n    )) {\n      // set canvas size\n      if (widthStyle.hasValue()) {\n        canvas.width = widthStyle.getPixels('x')\n\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        if (canvas.style) {\n          canvas.style.width = `${canvas.width}px`\n        }\n      }\n\n      if (heightStyle.hasValue()) {\n        canvas.height = heightStyle.getPixels('y')\n\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        if (canvas.style) {\n          canvas.style.height = `${canvas.height}px`\n        }\n      }\n    }\n\n    let cWidth = canvas.clientWidth || canvas.width\n    let cHeight = canvas.clientHeight || canvas.height\n\n    if (ignoreDimensions && widthStyle.hasValue() && heightStyle.hasValue()) {\n      cWidth = widthStyle.getPixels('x')\n      cHeight = heightStyle.getPixels('y')\n    }\n\n    viewPort.setCurrent(cWidth, cHeight)\n\n    if (typeof offsetX === 'number') {\n      element.getAttribute('x', true).setValue(offsetX)\n    }\n\n    if (typeof offsetY === 'number') {\n      element.getAttribute('y', true).setValue(offsetY)\n    }\n\n    if (typeof scaleWidth === 'number'\n      || typeof scaleHeight === 'number'\n    ) {\n      const viewBox = toNumbers(element.getAttribute('viewBox').getString())\n      let xRatio = 0\n      let yRatio = 0\n\n      if (typeof scaleWidth === 'number') {\n        const widthStyle = element.getStyle('width')\n\n        if (widthStyle.hasValue()) {\n          xRatio = widthStyle.getPixels('x') / scaleWidth\n        } else\n        if (viewBox[2] && !isNaN(viewBox[2])) {\n          xRatio = viewBox[2] / scaleWidth\n        }\n      }\n\n      if (typeof scaleHeight === 'number') {\n        const heightStyle = element.getStyle('height')\n\n        if (heightStyle.hasValue()) {\n          yRatio = heightStyle.getPixels('y') / scaleHeight\n        } else\n        if (viewBox[3] && !isNaN(viewBox[3])) {\n          yRatio = viewBox[3] / scaleHeight\n        }\n      }\n\n      if (!xRatio) {\n        xRatio = yRatio\n      }\n\n      if (!yRatio) {\n        yRatio = xRatio\n      }\n\n      element.getAttribute('width', true).setValue(scaleWidth)\n      element.getAttribute('height', true).setValue(scaleHeight)\n\n      const transformStyle = element.getStyle('transform', true, true)\n\n      transformStyle.setValue(`${transformStyle.getString()} scale(${1.0 / xRatio}, ${1.0 / yRatio})`)\n    }\n\n    // clear and render\n    if (!ignoreClear) {\n      ctx.clearRect(0, 0, cWidth, cHeight)\n    }\n\n    element.render(ctx)\n\n    if (isFirstRender) {\n      this.isFirstRender = false\n    }\n  }\n}\n","import { Fetch } from './types'\nimport { Screen } from './Screen'\n\ntype DOMParserConstructor = typeof DOMParser\n\nexport interface IParserOptions {\n  /**\n   * WHATWG-compatible `fetch` function.\n   */\n  fetch?: Fetch\n  /**\n   * XML/HTML parser from string into DOM Document.\n   */\n  DOMParser?: DOMParserConstructor\n}\n\nconst { defaultFetch } = Screen\nconst DefaultDOMParser = typeof DOMParser !== 'undefined'\n  ? DOMParser\n  : undefined\n\nexport class Parser {\n  private readonly fetch: Fetch\n  private readonly DOMParser: DOMParserConstructor\n\n  constructor({\n    fetch = defaultFetch,\n    DOMParser = DefaultDOMParser\n  }: IParserOptions = {}) {\n    if (!fetch) {\n      throw new Error(`Can't find 'fetch' in 'globalThis', please provide it via options`)\n    }\n\n    if (!DOMParser) {\n      throw new Error(`Can't find 'DOMParser' in 'globalThis', please provide it via options`)\n    }\n\n    this.fetch = fetch\n    this.DOMParser = DOMParser\n  }\n\n  async parse(resource: string) {\n    if (resource.startsWith('<')) {\n      return this.parseFromString(resource)\n    }\n\n    return this.load(resource)\n  }\n\n  parseFromString(xml: string) {\n    const parser = new this.DOMParser()\n\n    try {\n      return this.checkDocument(\n        parser.parseFromString(xml, 'image/svg+xml')\n      )\n    } catch (err) {\n      return this.checkDocument(\n        parser.parseFromString(xml, 'text/xml')\n      )\n    }\n  }\n\n  private checkDocument(document: Document) {\n    const parserError = document.getElementsByTagName('parsererror')[0]\n\n    if (parserError) {\n      throw new Error(parserError.textContent || 'Unknown parse error')\n    }\n\n    return document\n  }\n\n  async load(url: string) {\n    const response = await this.fetch(url)\n    const xml = await response.text()\n\n    return this.parseFromString(xml)\n  }\n}\n","import { MatrixValue, RenderingContext2D } from '../types'\nimport { toMatrixValue } from '../util'\nimport { Document } from '../Document'\nimport { Point } from '../Point'\nimport { Property } from '../Property'\nimport { ITransform } from './types'\n\nexport class Matrix implements ITransform {\n  type = 'matrix'\n  protected matrix: MatrixValue\n  private readonly originX: Property\n  private readonly originY: Property\n\n  constructor(\n    _: Document,\n    matrix: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    this.matrix = toMatrixValue(matrix)\n    this.originX = transformOrigin[0]\n    this.originY = transformOrigin[1]\n  }\n\n  apply(ctx: RenderingContext2D) {\n    const {\n      originX,\n      originY,\n      matrix\n    } = this\n    const tx = originX.getPixels('x')\n    const ty = originY.getPixels('y')\n\n    ctx.translate(tx, ty)\n    ctx.transform(\n      matrix[0],\n      matrix[1],\n      matrix[2],\n      matrix[3],\n      matrix[4],\n      matrix[5]\n    )\n    ctx.translate(-tx, -ty)\n  }\n\n  unapply(ctx: RenderingContext2D) {\n    const {\n      originX,\n      originY,\n      matrix\n    } = this\n    const a = matrix[0]\n    const b = matrix[2]\n    const c = matrix[4]\n    const d = matrix[1]\n    const e = matrix[3]\n    const f = matrix[5]\n    const g = 0.0\n    const h = 0.0\n    const i = 1.0\n    const det = 1 / (a * (e * i - f * h) - b * (d * i - f * g) + c * (d * h - e * g))\n    const tx = originX.getPixels('x')\n    const ty = originY.getPixels('y')\n\n    ctx.translate(tx, ty)\n    ctx.transform(\n      det * (e * i - f * h),\n      det * (f * g - d * i),\n      det * (c * h - b * i),\n      det * (a * i - c * g),\n      det * (b * f - c * e),\n      det * (c * d - a * f)\n    )\n    ctx.translate(-tx, -ty)\n  }\n\n  applyToPoint(point: Point) {\n    point.applyTransform(this.matrix)\n  }\n}\n","import { Document } from '../Document'\nimport { Property } from '../Property'\nimport { Matrix } from './Matrix'\n\nexport class Skew extends Matrix {\n  override type = 'skew'\n  protected readonly angle: Property\n\n  constructor(\n    document: Document,\n    skew: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    super(document, skew, transformOrigin)\n\n    this.angle = new Property(document, 'angle', skew)\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { compressSpaces } from '../util'\nimport { Property } from '../Property'\nimport { Point } from '../Point'\nimport { Document, Element } from '../Document'\nimport { ITransform } from './types'\nimport { Translate } from './Translate'\nimport { Rotate } from './Rotate'\nimport { Scale } from './Scale'\nimport { Matrix } from './Matrix'\nimport { SkewX } from './SkewX'\nimport { SkewY } from './SkewY'\n\nfunction parseTransforms(transform: string) {\n  return compressSpaces(transform)\n    .trim()\n    .replace(/\\)([a-zA-Z])/g, ') $1')\n    .replace(/\\)(\\s?,\\s?)/g, ') ')\n    .split(/\\s(?=[a-z])/)\n}\n\nfunction parseTransform(transform: string) {\n  const [type = '', value = ''] = transform.split('(')\n\n  return [type.trim(), value.trim().replace(')', '')] as const\n}\n\ninterface ITransformConstructor {\n  prototype: ITransform\n  new (\n    document: Document,\n    value: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ): ITransform\n}\n\nexport class Transform {\n  static fromElement(document: Document, element: Element) {\n    const transformStyle = element.getStyle('transform', false, true)\n\n    if (transformStyle.hasValue()) {\n      const [transformOriginXProperty, transformOriginYProperty = transformOriginXProperty] = element.getStyle('transform-origin', false, true).split()\n\n      if (transformOriginXProperty && transformOriginYProperty) {\n        const transformOrigin = [transformOriginXProperty, transformOriginYProperty] as const\n\n        return new Transform(\n          document,\n          transformStyle.getString(),\n          transformOrigin\n        )\n      }\n    }\n\n    return null\n  }\n\n  static transformTypes: Record<string, ITransformConstructor> = {\n    translate: Translate,\n    rotate: Rotate,\n    scale: Scale,\n    matrix: Matrix,\n    skewX: SkewX,\n    skewY: SkewY\n  }\n\n  private readonly transforms: ITransform[] = []\n\n  constructor(\n    private readonly document: Document,\n    transform: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    const data = parseTransforms(transform)\n\n    data.forEach((transform) => {\n      if (transform === 'none') {\n        return\n      }\n\n      const [type, value] = parseTransform(transform)\n      const TransformType = Transform.transformTypes[type]\n\n      if (TransformType) {\n        this.transforms.push(new TransformType(this.document, value, transformOrigin))\n      }\n    })\n  }\n\n  apply(ctx: RenderingContext2D) {\n    this.transforms.forEach(transform => transform.apply(ctx))\n  }\n\n  unapply(ctx: RenderingContext2D) {\n    this.transforms.forEach(transform => transform.unapply(ctx))\n  }\n\n  // TODO: applyToPoint unused ... remove?\n  applyToPoint(point: Point) {\n    this.transforms.forEach(transform => transform.applyToPoint(point))\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Document } from '../Document'\nimport { Point } from '../Point'\n\nexport class Translate {\n  type = 'translate'\n  private readonly point: Point\n\n  constructor(\n    _: Document,\n    point: string\n  ) {\n    this.point = Point.parse(point)\n  }\n\n  apply(ctx: RenderingContext2D) {\n    const {\n      x,\n      y\n    } = this.point\n\n    ctx.translate(\n      x || 0.0,\n      y || 0.0\n    )\n  }\n\n  unapply(ctx: RenderingContext2D) {\n    const {\n      x,\n      y\n    } = this.point\n\n    ctx.translate(\n      -1.0 * x || 0.0,\n      -1.0 * y || 0.0\n    )\n  }\n\n  applyToPoint(point: Point) {\n    const {\n      x,\n      y\n    } = this.point\n\n    point.applyTransform([\n      1,\n      0,\n      0,\n      1,\n      x || 0.0,\n      y || 0.0\n    ])\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { toNumbers } from '../util'\nimport { Document } from '../Document'\nimport { Property } from '../Property'\nimport { Point } from '../Point'\n\nexport class Rotate {\n  type = 'rotate'\n  private readonly angle: Property\n  private readonly originX: Property\n  private readonly originY: Property\n  private readonly cx: number\n  private readonly cy: number\n\n  constructor(\n    document: Document,\n    rotate: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    const numbers = toNumbers(rotate)\n\n    this.angle = new Property(document, 'angle', numbers[0])\n    this.originX = transformOrigin[0]\n    this.originY = transformOrigin[1]\n    this.cx = numbers[1] || 0\n    this.cy = numbers[2] || 0\n  }\n\n  apply(ctx: RenderingContext2D) {\n    const {\n      cx,\n      cy,\n      originX,\n      originY,\n      angle\n    } = this\n    const tx = cx + originX.getPixels('x')\n    const ty = cy + originY.getPixels('y')\n\n    ctx.translate(tx, ty)\n    ctx.rotate(angle.getRadians())\n    ctx.translate(-tx, -ty)\n  }\n\n  unapply(ctx: RenderingContext2D) {\n    const {\n      cx,\n      cy,\n      originX,\n      originY,\n      angle\n    } = this\n    const tx = cx + originX.getPixels('x')\n    const ty = cy + originY.getPixels('y')\n\n    ctx.translate(tx, ty)\n    ctx.rotate(-1.0 * angle.getRadians())\n    ctx.translate(-tx, -ty)\n  }\n\n  applyToPoint(point: Point) {\n    const {\n      cx,\n      cy,\n      angle\n    } = this\n    const rad = angle.getRadians()\n\n    point.applyTransform([\n      1,\n      0,\n      0,\n      1,\n      cx || 0.0, // this.p.x\n      cy || 0.0 // this.p.y\n    ])\n    point.applyTransform([\n      Math.cos(rad),\n      Math.sin(rad),\n      -Math.sin(rad),\n      Math.cos(rad),\n      0,\n      0\n    ])\n    point.applyTransform([\n      1,\n      0,\n      0,\n      1,\n      -cx || 0.0, // -this.p.x\n      -cy || 0.0 // -this.p.y\n    ])\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { PSEUDO_ZERO } from '../util'\nimport { Document } from '../Document'\nimport { Point } from '../Point'\nimport { Property } from '../Property'\n\nexport class Scale {\n  type = 'scale'\n  private readonly scale: Point\n  private readonly originX: Property\n  private readonly originY: Property\n\n  constructor(\n    _: Document,\n    scale: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    const scaleSize = Point.parseScale(scale)\n\n    // Workaround for node-canvas\n    if (scaleSize.x === 0\n      || scaleSize.y === 0\n    ) {\n      scaleSize.x = PSEUDO_ZERO\n      scaleSize.y = PSEUDO_ZERO\n    }\n\n    this.scale = scaleSize\n    this.originX = transformOrigin[0]\n    this.originY = transformOrigin[1]\n  }\n\n  apply(ctx: RenderingContext2D) {\n    const {\n      scale: {\n        x,\n        y\n      },\n      originX,\n      originY\n    } = this\n    const tx = originX.getPixels('x')\n    const ty = originY.getPixels('y')\n\n    ctx.translate(tx, ty)\n    ctx.scale(x, y || x)\n    ctx.translate(-tx, -ty)\n  }\n\n  unapply(ctx: RenderingContext2D) {\n    const {\n      scale: {\n        x,\n        y\n      },\n      originX,\n      originY\n    } = this\n    const tx = originX.getPixels('x')\n    const ty = originY.getPixels('y')\n\n    ctx.translate(tx, ty)\n    ctx.scale(1.0 / x, 1.0 / y || x)\n    ctx.translate(-tx, -ty)\n  }\n\n  applyToPoint(point: Point) {\n    const {\n      x,\n      y\n    } = this.scale\n\n    point.applyTransform([\n      x || 0.0,\n      0,\n      0,\n      y || 0.0,\n      0,\n      0\n    ])\n  }\n}\n","import { Document } from '../Document'\nimport { Property } from '../Property'\nimport { Skew } from './Skew'\n\nexport class SkewX extends Skew {\n  override type = 'skewX'\n\n  constructor(\n    document: Document,\n    skew: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    super(document, skew, transformOrigin)\n\n    this.matrix = [\n      1,\n      0,\n      Math.tan(this.angle.getRadians()),\n      1,\n      0,\n      0\n    ]\n  }\n}\n","import { Document } from '../Document'\nimport { Property } from '../Property'\nimport { Skew } from './Skew'\n\nexport class SkewY extends Skew {\n  override type = 'skewY'\n\n  constructor(\n    document: Document,\n    skew: string,\n    transformOrigin: readonly [Property<string>, Property<string>]\n  ) {\n    super(document, skew, transformOrigin)\n\n    this.matrix = [\n      1,\n      Math.tan(this.angle.getRadians()),\n      0,\n      1,\n      0,\n      0\n    ]\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { normalizeAttributeName } from '../util'\nimport { Property } from '../Property'\nimport { Transform } from '../Transform'\nimport { Document } from './Document'\nimport { ClipPathElement } from './ClipPathElement'\nimport { MaskElement } from './MaskElement'\nimport { FilterElement } from './FilterElement'\n\nexport abstract class Element {\n  static readonly ignoreChildTypes = ['title']\n\n  readonly type: string = ''\n  readonly attributes: Record<string, Property> = {}\n  readonly styles: Record<string, Property> = {}\n  readonly stylesSpecificity: Record<string, string> = {}\n  animationFrozen = false\n  animationFrozenValue = ''\n  parent: Element | null = null\n  children: Element[] = []\n\n  constructor(\n    protected readonly document: Document,\n    protected readonly node?: HTMLElement,\n    protected readonly captureTextNodes = false\n  ) {\n    if (!node || node.nodeType !== 1) { // ELEMENT_NODE\n      return\n    }\n\n    // add attributes\n    Array.from(node.attributes).forEach((attribute) => {\n      const nodeName = normalizeAttributeName(attribute.nodeName)\n\n      this.attributes[nodeName] = new Property(document, nodeName, attribute.value)\n    })\n\n    this.addStylesFromStyleDefinition()\n\n    // add inline styles\n    if (this.getAttribute('style').hasValue()) {\n      const styles = this.getAttribute('style')\n        .getString()\n        .split(';')\n        .map(_ => _.trim())\n\n      styles.forEach((style) => {\n        if (!style) {\n          return\n        }\n\n        const [name, value] = style.split(':').map(_ => _.trim())\n\n        if (name) {\n          this.styles[name] = new Property(document, name, value)\n        }\n      })\n    }\n\n    const { definitions } = document\n    const id = this.getAttribute('id')\n\n    // add id\n    if (id.hasValue()) {\n      if (!definitions[id.getString()]) {\n        definitions[id.getString()] = this\n      }\n    }\n\n    Array.from(node.childNodes).forEach((childNode: HTMLElement) => {\n      if (childNode.nodeType === 1) {\n        this.addChild(childNode) // ELEMENT_NODE\n      } else\n      if (captureTextNodes && (\n        childNode.nodeType === 3\n        || childNode.nodeType === 4\n      )) {\n        const textNode = document.createTextNode(childNode)\n\n        if (textNode.getText().length > 0) {\n          this.addChild(textNode) // TEXT_NODE\n        }\n      }\n    })\n  }\n\n  getAttribute(name: string, createIfNotExists = false): Property {\n    const attr = this.attributes[name]\n\n    if (!attr && createIfNotExists) {\n      const attr = new Property(this.document, name, '')\n\n      this.attributes[name] = attr\n\n      return attr\n    }\n\n    return attr || Property.empty(this.document)\n  }\n\n  getHrefAttribute(): Property {\n    let href: Property | undefined\n\n    for (const key in this.attributes) {\n      if (key === 'href' || key.endsWith(':href')) {\n        href = this.attributes[key]\n        break\n      }\n    }\n\n    return href || Property.empty(this.document)\n  }\n\n  getStyle(name: string, createIfNotExists = false, skipAncestors = false): Property {\n    const style = this.styles[name]\n\n    if (style) {\n      return style\n    }\n\n    const attr = this.getAttribute(name)\n\n    if (attr.hasValue()) {\n      this.styles[name] = attr // move up to me to cache\n      return attr\n    }\n\n    if (!skipAncestors) {\n      const { parent } = this\n\n      if (parent) {\n        const parentStyle = parent.getStyle(name)\n\n        if (parentStyle.hasValue()) {\n          return parentStyle\n        }\n      }\n    }\n\n    if (createIfNotExists) {\n      const style = new Property(this.document, name, '')\n\n      this.styles[name] = style\n\n      return style\n    }\n\n    return Property.empty(this.document)\n  }\n\n  render(ctx: RenderingContext2D) {\n    // don't render display=none\n    // don't render visibility=hidden\n    if (this.getStyle('display').getString() === 'none'\n      || this.getStyle('visibility').getString() === 'hidden'\n    ) {\n      return\n    }\n\n    ctx.save()\n\n    if (this.getStyle('mask').hasValue()) { // mask\n      const mask = this.getStyle('mask').getDefinition<MaskElement>()\n\n      if (mask) {\n        this.applyEffects(ctx)\n        mask.apply(ctx, this)\n      }\n    } else\n    if (this.getStyle('filter').getValue('none') !== 'none') { // filter\n      const filter = this.getStyle('filter').getDefinition<FilterElement>()\n\n      if (filter) {\n        this.applyEffects(ctx)\n        filter.apply(ctx, this)\n      }\n    } else {\n      this.setContext(ctx)\n      this.renderChildren(ctx)\n      this.clearContext(ctx)\n    }\n\n    ctx.restore()\n  }\n\n  setContext(_: RenderingContext2D) {\n    // NO RENDER\n  }\n\n  protected applyEffects(ctx: RenderingContext2D) {\n    // transform\n    const transform = Transform.fromElement(this.document, this)\n\n    if (transform) {\n      transform.apply(ctx)\n    }\n\n    // clip\n    const clipPathStyleProp = this.getStyle('clip-path', false, true)\n\n    if (clipPathStyleProp.hasValue()) {\n      const clip = clipPathStyleProp.getDefinition<ClipPathElement>()\n\n      if (clip) {\n        clip.apply(ctx)\n      }\n    }\n  }\n\n  clearContext(_: RenderingContext2D) {\n    // NO RENDER\n  }\n\n  renderChildren(ctx: RenderingContext2D) {\n    this.children.forEach((child) => {\n      child.render(ctx)\n    })\n  }\n\n  protected addChild(childNode: Element|HTMLElement) {\n    const child = childNode instanceof Element\n      ? childNode\n      : this.document.createElement(childNode)\n\n    child.parent = this\n\n    if (!Element.ignoreChildTypes.includes(child.type)) {\n      this.children.push(child)\n    }\n  }\n\n  protected matchesSelector(selector: string) {\n    const { node } = this\n\n    if (typeof node.matches === 'function') {\n      return node.matches(selector)\n    }\n\n    const styleClasses = node.getAttribute?.('class')\n\n    if (!styleClasses || styleClasses === '') {\n      return false\n    }\n\n    return styleClasses.split(' ').some(styleClass => `.${styleClass}` === selector)\n  }\n\n  addStylesFromStyleDefinition() {\n    const {\n      styles,\n      stylesSpecificity\n    } = this.document\n    let styleProp: Property | undefined\n\n    for (const selector in styles) {\n      if (!selector.startsWith('@') && this.matchesSelector(selector)) {\n        const style = styles[selector]\n        const specificity = stylesSpecificity[selector]\n\n        if (style) {\n          for (const name in style) {\n            let existingSpecificity = this.stylesSpecificity[name]\n\n            if (typeof existingSpecificity === 'undefined') {\n              existingSpecificity = '000'\n            }\n\n            if (specificity && specificity >= existingSpecificity) {\n              styleProp = style[name]\n\n              if (styleProp) {\n                this.styles[name] = styleProp\n              }\n\n              this.stylesSpecificity[name] = specificity\n            }\n          }\n        }\n      }\n    }\n  }\n\n  protected removeStyles(element: Element, ignoreStyles: string[]) {\n    const toRestore = ignoreStyles.reduce<[string, string][]>((toRestore, name) => {\n      const styleProp = element.getStyle(name)\n\n      if (!styleProp.hasValue()) {\n        return toRestore\n      }\n\n      const value = styleProp.getString()\n\n      styleProp.setValue('')\n\n      return [...toRestore, [name, value]]\n    }, [])\n\n    return toRestore\n  }\n\n  protected restoreStyles(element: Element, styles: [string, string][]) {\n    styles.forEach(([name, value]) => {\n      element.getStyle(name, true).setValue(value)\n    })\n  }\n\n  isFirstChild() {\n    return this.parent?.children.indexOf(this) === 0\n  }\n}\n","import { Document } from './Document'\nimport { Element } from './Element'\n\nexport class UnknownElement extends Element {\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn(`Element ${node.nodeName} not yet implemented.`)\n    }\n  }\n}\n","import { compressSpaces } from './util'\n\nfunction wrapFontFamily(fontFamily: string) {\n  const trimmed = fontFamily.trim()\n\n  return /^('|\")/.test(trimmed)\n    ? trimmed\n    : `\"${trimmed}\"`\n}\n\nfunction prepareFontFamily(fontFamily: string) {\n  return typeof process === 'undefined'\n    ? fontFamily\n    : fontFamily\n      .trim()\n      .split(',')\n      .map(wrapFontFamily)\n      .join(',')\n}\n\n/**\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-style\n * @param fontStyle\n * @returns CSS font style.\n */\nfunction prepareFontStyle(fontStyle: string) {\n  if (!fontStyle) {\n    return ''\n  }\n\n  const targetFontStyle = fontStyle.trim().toLowerCase()\n\n  switch (targetFontStyle) {\n    case 'normal':\n    case 'italic':\n    case 'oblique':\n    case 'inherit':\n    case 'initial':\n    case 'unset':\n      return targetFontStyle\n\n    default:\n\n      if (/^oblique\\s+(-|)\\d+deg$/.test(targetFontStyle)) {\n        return targetFontStyle\n      }\n\n      return ''\n  }\n}\n\n/**\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight\n * @param fontWeight\n * @returns CSS font weight.\n */\nfunction prepareFontWeight(fontWeight: string) {\n  if (!fontWeight) {\n    return ''\n  }\n\n  const targetFontWeight = fontWeight.trim().toLowerCase()\n\n  switch (targetFontWeight) {\n    case 'normal':\n    case 'bold':\n    case 'lighter':\n    case 'bolder':\n    case 'inherit':\n    case 'initial':\n    case 'unset':\n      return targetFontWeight\n\n    default:\n\n      if (/^[\\d.]+$/.test(targetFontWeight)) {\n        return targetFontWeight\n      }\n\n      return ''\n  }\n}\n\nexport class Font {\n  static parse(\n    font = '',\n    inherit?: string | Font\n  ) {\n    let fontStyle = ''\n    let fontVariant = ''\n    let fontWeight = ''\n    let fontSize = ''\n    let fontFamily = ''\n    const parts = compressSpaces(font).trim().split(' ')\n    const set = {\n      fontSize: false,\n      fontStyle: false,\n      fontWeight: false,\n      fontVariant: false\n    }\n\n    parts.forEach((part) => {\n      switch (true) {\n        case !set.fontStyle && Font.styles.includes(part):\n\n          if (part !== 'inherit') {\n            fontStyle = part\n          }\n\n          set.fontStyle = true\n          break\n\n        case !set.fontVariant && Font.variants.includes(part):\n\n          if (part !== 'inherit') {\n            fontVariant = part\n          }\n\n          set.fontStyle = true\n          set.fontVariant = true\n          break\n\n        case !set.fontWeight && Font.weights.includes(part):\n\n          if (part !== 'inherit') {\n            fontWeight = part\n          }\n\n          set.fontStyle = true\n          set.fontVariant = true\n          set.fontWeight = true\n          break\n\n        case !set.fontSize:\n\n          if (part !== 'inherit') {\n            fontSize = part.split('/')[0] || ''\n          }\n\n          set.fontStyle = true\n          set.fontVariant = true\n          set.fontWeight = true\n          set.fontSize = true\n          break\n\n        default:\n\n          if (part !== 'inherit') {\n            fontFamily += part\n          }\n      }\n    })\n\n    return new Font(\n      fontStyle,\n      fontVariant,\n      fontWeight,\n      fontSize,\n      fontFamily,\n      inherit\n    )\n  }\n\n  static readonly styles = 'normal|italic|oblique|inherit'\n  static readonly variants = 'normal|small-caps|inherit'\n  static readonly weights = 'normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit'\n\n  readonly fontFamily: string\n  readonly fontSize: string\n  readonly fontStyle: string\n  readonly fontWeight: string\n  readonly fontVariant: string\n\n  constructor(\n    fontStyle: string,\n    fontVariant: string,\n    fontWeight: string,\n    fontSize: string,\n    fontFamily: string,\n    inherit?: string | Font\n  ) {\n    const inheritFont = inherit\n      ? typeof inherit === 'string'\n        ? Font.parse(inherit)\n        : inherit\n      : {} as Font\n\n    this.fontFamily = fontFamily || inheritFont.fontFamily\n    this.fontSize = fontSize || inheritFont.fontSize\n    this.fontStyle = fontStyle || inheritFont.fontStyle\n    this.fontWeight = fontWeight || inheritFont.fontWeight\n    this.fontVariant = fontVariant || inheritFont.fontVariant\n  }\n\n  toString() {\n    return [\n      prepareFontStyle(this.fontStyle),\n      this.fontVariant,\n      prepareFontWeight(this.fontWeight),\n      this.fontSize,\n      // Wrap fontFamily only on nodejs and only for canvas.ctx\n      prepareFontFamily(this.fontFamily)\n    ].join(' ').trim()\n  }\n}\n","\nexport class BoundingBox {\n  constructor(\n    public x1 = Number.NaN,\n    public y1 = Number.NaN,\n    public x2 = Number.NaN,\n    public y2 = Number.NaN\n  ) {\n    this.addPoint(x1, y1)\n    this.addPoint(x2, y2)\n  }\n\n  get x() {\n    return this.x1\n  }\n\n  get y() {\n    return this.y1\n  }\n\n  get width() {\n    return this.x2 - this.x1\n  }\n\n  get height() {\n    return this.y2 - this.y1\n  }\n\n  addPoint(x: number | undefined, y: number | undefined) {\n    if (typeof x !== 'undefined') {\n      if (isNaN(this.x1) || isNaN(this.x2)) {\n        this.x1 = x\n        this.x2 = x\n      }\n\n      if (x < this.x1) {\n        this.x1 = x\n      }\n\n      if (x > this.x2) {\n        this.x2 = x\n      }\n    }\n\n    if (typeof y !== 'undefined') {\n      if (isNaN(this.y1) || isNaN(this.y2)) {\n        this.y1 = y\n        this.y2 = y\n      }\n\n      if (y < this.y1) {\n        this.y1 = y\n      }\n\n      if (y > this.y2) {\n        this.y2 = y\n      }\n    }\n  }\n\n  addX(x: number) {\n    this.addPoint(x, 0)\n  }\n\n  addY(y: number) {\n    this.addPoint(0, y)\n  }\n\n  addBoundingBox(boundingBox: BoundingBox | null) {\n    if (!boundingBox) {\n      return\n    }\n\n    const {\n      x1,\n      y1,\n      x2,\n      y2\n    } = boundingBox\n\n    this.addPoint(x1, y1)\n    this.addPoint(x2, y2)\n  }\n\n  private sumCubic(\n    t: number,\n    p0: number,\n    p1: number,\n    p2: number,\n    p3: number\n  ) {\n    return (\n      Math.pow(1 - t, 3) * p0\n      + 3 * Math.pow(1 - t, 2) * t * p1\n      + 3 * (1 - t) * Math.pow(t, 2) * p2\n      + Math.pow(t, 3) * p3\n    )\n  }\n\n  private bezierCurveAdd(\n    forX: boolean,\n    p0: number,\n    p1: number,\n    p2: number,\n    p3: number\n  ) {\n    const b = 6 * p0 - 12 * p1 + 6 * p2\n    const a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3\n    const c = 3 * p1 - 3 * p0\n\n    if (a === 0) {\n      if (b === 0) {\n        return\n      }\n\n      const t = -c / b\n\n      if (0 < t && t < 1) {\n        if (forX) {\n          this.addX(this.sumCubic(t, p0, p1, p2, p3))\n        } else {\n          this.addY(this.sumCubic(t, p0, p1, p2, p3))\n        }\n      }\n\n      return\n    }\n\n    const b2ac = Math.pow(b, 2) - 4 * c * a\n\n    if (b2ac < 0) {\n      return\n    }\n\n    const t1 = (-b + Math.sqrt(b2ac)) / (2 * a)\n\n    if (0 < t1 && t1 < 1) {\n      if (forX) {\n        this.addX(\n          this.sumCubic(t1, p0, p1, p2, p3)\n        )\n      } else {\n        this.addY(\n          this.sumCubic(t1, p0, p1, p2, p3)\n        )\n      }\n    }\n\n    const t2 = (-b - Math.sqrt(b2ac)) / (2 * a)\n\n    if (0 < t2 && t2 < 1) {\n      if (forX) {\n        this.addX(this.sumCubic(t2, p0, p1, p2, p3))\n      } else {\n        this.addY(this.sumCubic(t2, p0, p1, p2, p3))\n      }\n    }\n  }\n\n  // from http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n  addBezierCurve(\n    p0x: number,\n    p0y: number,\n    p1x: number,\n    p1y: number,\n    p2x: number,\n    p2y: number,\n    p3x: number,\n    p3y: number\n  ) {\n    this.addPoint(p0x, p0y)\n    this.addPoint(p3x, p3y)\n    this.bezierCurveAdd(true, p0x, p1x, p2x, p3x)\n    this.bezierCurveAdd(false, p0y, p1y, p2y, p3y)\n  }\n\n  addQuadraticCurve(\n    p0x: number,\n    p0y: number,\n    p1x: number,\n    p1y: number,\n    p2x: number,\n    p2y: number\n  ) {\n    const cp1x = p0x + 2 / 3 * (p1x - p0x) // CP1 = QP0 + 2/3 *(QP1-QP0)\n    const cp1y = p0y + 2 / 3 * (p1y - p0y) // CP1 = QP0 + 2/3 *(QP1-QP0)\n    const cp2x = cp1x + 1 / 3 * (p2x - p0x) // CP2 = CP1 + 1/3 *(QP2-QP0)\n    const cp2y = cp1y + 1 / 3 * (p2y - p0y) // CP2 = CP1 + 1/3 *(QP2-QP0)\n\n    this.addBezierCurve(p0x, p0y, cp1x, cp2x, cp1y, cp2y, p2x, p2y)\n  }\n\n  isPointInBox(\n    x: number,\n    y: number\n  ) {\n    const {\n      x1,\n      y1,\n      x2,\n      y2\n    } = this\n\n    return (\n      x1 <= x\n      && x <= x2\n      && y1 <= y\n      && y <= y2\n    )\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport {\n  PSEUDO_ZERO,\n  toNumbers\n} from '../util'\nimport { Font } from '../Font'\nimport { Property } from '../Property'\nimport { Element } from './Element'\n\nexport abstract class RenderedElement extends Element {\n  private modifiedEmSizeStack = false\n\n  protected calculateOpacity() {\n    let opacity = 1.0\n    // eslint-disable-next-line @typescript-eslint/no-this-alias, consistent-this\n    let element: Element | null = this\n\n    while (element) {\n      const opacityStyle = element.getStyle('opacity', false, true) // no ancestors on style call\n\n      if (opacityStyle.hasValue(true)) {\n        opacity *= opacityStyle.getNumber()\n      }\n\n      element = element.parent\n    }\n\n    return opacity\n  }\n\n  override setContext(ctx: RenderingContext2D, fromMeasure = false) {\n    if (!fromMeasure) { // causes stack overflow when measuring text with gradients\n      // fill\n      const fillStyleProp = this.getStyle('fill')\n      const fillOpacityStyleProp = this.getStyle('fill-opacity')\n      const strokeStyleProp = this.getStyle('stroke')\n      const strokeOpacityProp = this.getStyle('stroke-opacity')\n\n      if (fillStyleProp.isUrlDefinition()) {\n        const fillStyle = fillStyleProp.getFillStyleDefinition(this, fillOpacityStyleProp)\n\n        if (fillStyle) {\n          ctx.fillStyle = fillStyle\n        }\n      } else\n      if (fillStyleProp.hasValue()) {\n        if (fillStyleProp.getString() === 'currentColor') {\n          fillStyleProp.setValue(this.getStyle('color').getColor())\n        }\n\n        const fillStyle = fillStyleProp.getColor()\n\n        if (fillStyle !== 'inherit') {\n          ctx.fillStyle = fillStyle === 'none'\n            ? 'rgba(0,0,0,0)'\n            : fillStyle\n        }\n      }\n\n      if (fillOpacityStyleProp.hasValue()) {\n        const fillStyle = new Property(this.document, 'fill', ctx.fillStyle)\n          .addOpacity(fillOpacityStyleProp)\n          .getColor()\n\n        ctx.fillStyle = fillStyle\n      }\n\n      // stroke\n      if (strokeStyleProp.isUrlDefinition()) {\n        const strokeStyle = strokeStyleProp.getFillStyleDefinition(this, strokeOpacityProp)\n\n        if (strokeStyle) {\n          ctx.strokeStyle = strokeStyle\n        }\n      } else\n      if (strokeStyleProp.hasValue()) {\n        if (strokeStyleProp.getString() === 'currentColor') {\n          strokeStyleProp.setValue(this.getStyle('color').getColor())\n        }\n\n        const strokeStyle = strokeStyleProp.getString()\n\n        if (strokeStyle !== 'inherit') {\n          ctx.strokeStyle = strokeStyle === 'none'\n            ? 'rgba(0,0,0,0)'\n            : strokeStyle\n        }\n      }\n\n      if (strokeOpacityProp.hasValue()) {\n        const strokeStyle = new Property(this.document, 'stroke', ctx.strokeStyle)\n          .addOpacity(strokeOpacityProp)\n          .getString()\n\n        ctx.strokeStyle = strokeStyle\n      }\n\n      const strokeWidthStyleProp = this.getStyle('stroke-width')\n\n      if (strokeWidthStyleProp.hasValue()) {\n        const newLineWidth = strokeWidthStyleProp.getPixels()\n\n        ctx.lineWidth = !newLineWidth\n          ? PSEUDO_ZERO // browsers don't respect 0 (or node-canvas? :-)\n          : newLineWidth\n      }\n\n      const strokeLinecapStyleProp = this.getStyle('stroke-linecap')\n      const strokeLinejoinStyleProp = this.getStyle('stroke-linejoin')\n      const strokeMiterlimitProp = this.getStyle('stroke-miterlimit')\n      // NEED TEST\n      // const pointOrderStyleProp = this.getStyle('paint-order');\n      const strokeDasharrayStyleProp = this.getStyle('stroke-dasharray')\n      const strokeDashoffsetProp = this.getStyle('stroke-dashoffset')\n\n      if (strokeLinecapStyleProp.hasValue()) {\n        ctx.lineCap = strokeLinecapStyleProp.getString() as CanvasLineCap\n      }\n\n      if (strokeLinejoinStyleProp.hasValue()) {\n        ctx.lineJoin = strokeLinejoinStyleProp.getString() as CanvasLineJoin\n      }\n\n      if (strokeMiterlimitProp.hasValue()) {\n        ctx.miterLimit = strokeMiterlimitProp.getNumber()\n      }\n\n      // NEED TEST\n      // if (pointOrderStyleProp.hasValue()) {\n      //   // ?\n      //   ctx.paintOrder = pointOrderStyleProp.getValue();\n      // }\n\n      if (strokeDasharrayStyleProp.hasValue() && strokeDasharrayStyleProp.getString() !== 'none') {\n        const gaps = toNumbers(strokeDasharrayStyleProp.getString())\n\n        if (typeof ctx.setLineDash !== 'undefined') {\n          ctx.setLineDash(gaps)\n        } else\n        // @ts-expect-error Handle browser prefix.\n        if (typeof ctx.webkitLineDash !== 'undefined') {\n          // @ts-expect-error Handle browser prefix.\n          ctx.webkitLineDash = gaps\n        } else\n        // @ts-expect-error Handle browser prefix.\n        if (typeof ctx.mozDash !== 'undefined' && !(gaps.length === 1 && gaps[0] === 0)) {\n          // @ts-expect-error Handle browser prefix.\n          ctx.mozDash = gaps\n        }\n\n        const offset = strokeDashoffsetProp.getPixels()\n\n        if (typeof ctx.lineDashOffset !== 'undefined') {\n          ctx.lineDashOffset = offset\n        } else\n        // @ts-expect-error Handle browser prefix.\n        if (typeof ctx.webkitLineDashOffset !== 'undefined') {\n          // @ts-expect-error Handle browser prefix.\n          ctx.webkitLineDashOffset = offset\n        } else\n        // @ts-expect-error Handle browser prefix.\n        if (typeof ctx.mozDashOffset !== 'undefined') {\n          // @ts-expect-error Handle browser prefix.\n          ctx.mozDashOffset = offset\n        }\n      }\n    }\n\n    // font\n    this.modifiedEmSizeStack = false\n\n    if (typeof ctx.font !== 'undefined') {\n      const fontStyleProp = this.getStyle('font')\n      const fontStyleStyleProp = this.getStyle('font-style')\n      const fontVariantStyleProp = this.getStyle('font-variant')\n      const fontWeightStyleProp = this.getStyle('font-weight')\n      const fontSizeStyleProp = this.getStyle('font-size')\n      const fontFamilyStyleProp = this.getStyle('font-family')\n      const font = new Font(\n        fontStyleStyleProp.getString(),\n        fontVariantStyleProp.getString(),\n        fontWeightStyleProp.getString(),\n        fontSizeStyleProp.hasValue()\n          ? `${fontSizeStyleProp.getPixels(true)}px`\n          : '',\n        fontFamilyStyleProp.getString(),\n        Font.parse(\n          fontStyleProp.getString(),\n          ctx.font\n        )\n      )\n\n      fontStyleStyleProp.setValue(font.fontStyle)\n      fontVariantStyleProp.setValue(font.fontVariant)\n      fontWeightStyleProp.setValue(font.fontWeight)\n      fontSizeStyleProp.setValue(font.fontSize)\n      fontFamilyStyleProp.setValue(font.fontFamily)\n\n      ctx.font = font.toString()\n\n      if (fontSizeStyleProp.isPixels()) {\n        this.document.emSize = fontSizeStyleProp.getPixels()\n        this.modifiedEmSizeStack = true\n      }\n    }\n\n    if (!fromMeasure) {\n      // effects\n      this.applyEffects(ctx)\n      // opacity\n      ctx.globalAlpha = this.calculateOpacity()\n    }\n  }\n\n  override clearContext(ctx: RenderingContext2D) {\n    super.clearContext(ctx)\n\n    if (this.modifiedEmSizeStack) {\n      this.document.popEmSize()\n    }\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport {\n  toNumbers,\n  compressSpaces,\n  trimLeft,\n  trimRight\n} from '../util'\nimport { Font } from '../Font'\nimport { BoundingBox } from '../BoundingBox'\nimport { Document } from './Document'\nimport { Element } from './Element'\nimport { FontElement } from './FontElement'\nimport { ArabicForm, GlyphElement } from './GlyphElement'\nimport { RenderedElement } from './RenderedElement'\n\nexport class TextElement extends RenderedElement {\n  override type = 'text'\n  protected x = 0\n  protected y = 0\n  private leafTexts: TextElement[] = []\n  private textChunkStart = 0\n  private minX = Number.POSITIVE_INFINITY\n  private maxX = Number.NEGATIVE_INFINITY\n  private measureCache = -1\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(\n      document,\n      node,\n      new.target === TextElement\n        ? true\n        : captureTextNodes\n    )\n  }\n\n  override setContext(ctx: RenderingContext2D, fromMeasure = false) {\n    super.setContext(ctx, fromMeasure)\n\n    const textBaseline = this.getStyle('dominant-baseline').getTextBaseline()\n      || this.getStyle('alignment-baseline').getTextBaseline()\n\n    if (textBaseline) {\n      ctx.textBaseline = textBaseline as CanvasTextBaseline\n    }\n  }\n\n  protected initializeCoordinates() {\n    this.x = 0\n    this.y = 0\n    this.leafTexts = []\n    this.textChunkStart = 0\n    this.minX = Number.POSITIVE_INFINITY\n    this.maxX = Number.NEGATIVE_INFINITY\n  }\n\n  getBoundingBox(ctx: RenderingContext2D) {\n    if (this.type !== 'text') {\n      return this.getTElementBoundingBox(ctx)\n    }\n\n    // first, calculate child positions\n    this.initializeCoordinates()\n    this.adjustChildCoordinatesRecursive(ctx)\n\n    let boundingBox: BoundingBox | null = null\n\n    // then calculate bounding box\n    this.children.forEach((_, i) => {\n      const childBoundingBox = this.getChildBoundingBox(ctx, this, this, i)\n\n      if (!boundingBox) {\n        boundingBox = childBoundingBox\n      } else {\n        boundingBox.addBoundingBox(childBoundingBox)\n      }\n    })\n\n    return boundingBox\n  }\n\n  protected getFontSize() {\n    const {\n      document,\n      parent\n    } = this\n    const inheritFontSize = Font.parse(document.ctx.font).fontSize\n    const fontSize = parent.getStyle('font-size').getNumber(inheritFontSize)\n\n    return fontSize\n  }\n\n  protected getTElementBoundingBox(ctx: RenderingContext2D) {\n    const fontSize = this.getFontSize()\n\n    return new BoundingBox(\n      this.x,\n      this.y - fontSize,\n      this.x + this.measureText(ctx),\n      this.y\n    )\n  }\n\n  getGlyph(\n    font: FontElement,\n    text: string,\n    i: number\n  ) {\n    const char = text[i]\n    let glyph: GlyphElement | undefined\n\n    if (font.isArabic) {\n      const len = text.length\n      const prevChar = text[i - 1]\n      const nextChar = text[i + 1]\n      let arabicForm: ArabicForm = 'isolated'\n\n      if ((i === 0 || prevChar === ' ') && i < len - 1 && nextChar !== ' ') {\n        arabicForm = 'terminal'\n      }\n\n      if (i > 0 && prevChar !== ' ' && i < len - 1 && nextChar !== ' ') {\n        arabicForm = 'medial'\n      }\n\n      if (i > 0 && prevChar !== ' ' && (i === len - 1 || nextChar === ' ')) {\n        arabicForm = 'initial'\n      }\n\n      glyph = font.arabicGlyphs[char]?.[arabicForm] || font.glyphs[char]\n    } else {\n      glyph = font.glyphs[char]\n    }\n\n    if (!glyph) {\n      glyph = font.missingGlyph\n    }\n\n    return glyph\n  }\n\n  getText() {\n    return ''\n  }\n\n  protected getTextFromNode(node?: ChildNode) {\n    const textNode = node || this.node\n    const childNodes = Array.from(textNode.parentNode.childNodes)\n    const index = childNodes.indexOf(textNode)\n    const lastIndex = childNodes.length - 1\n    let text = compressSpaces(\n      // textNode.value\n      // || textNode.text\n      textNode.textContent\n      || ''\n    )\n\n    if (index === 0) {\n      text = trimLeft(text)\n    }\n\n    if (index === lastIndex) {\n      text = trimRight(text)\n    }\n\n    return text\n  }\n\n  override renderChildren(ctx: RenderingContext2D) {\n    if (this.type !== 'text') {\n      this.renderTElementChildren(ctx)\n      return\n    }\n\n    // first, calculate child positions\n    this.initializeCoordinates()\n    this.adjustChildCoordinatesRecursive(ctx)\n\n    // then render\n    this.children.forEach((_, i) => {\n      this.renderChild(ctx, this, this, i)\n    })\n\n    const { mouse } = this.document.screen\n\n    // Do not calc bounding box if mouse is not working.\n    if (mouse.isWorking()) {\n      mouse.checkBoundingBox(\n        this,\n        this.getBoundingBox(ctx)\n      )\n    }\n  }\n\n  protected renderTElementChildren(ctx: RenderingContext2D) {\n    const {\n      document,\n      parent\n    } = this\n    const renderText = this.getText()\n    const customFont = parent.getStyle('font-family').getDefinition<FontElement>()\n\n    if (customFont) {\n      const { unitsPerEm } = customFont.fontFace\n      const ctxFont = Font.parse(document.ctx.font)\n      const fontSize = parent.getStyle('font-size').getNumber(ctxFont.fontSize)\n      const fontStyle = parent.getStyle('font-style').getString(ctxFont.fontStyle)\n      const scale = fontSize / unitsPerEm\n      const text = customFont.isRTL\n        ? renderText.split('').reverse().join('')\n        : renderText\n      const dx = toNumbers(parent.getAttribute('dx').getString())\n      const len = text.length\n\n      for (let i = 0; i < len; i++) {\n        const glyph = this.getGlyph(customFont, text, i)\n\n        ctx.translate(this.x, this.y)\n        ctx.scale(scale, -scale)\n\n        const lw = ctx.lineWidth\n\n        ctx.lineWidth = ctx.lineWidth * unitsPerEm / fontSize\n\n        if (fontStyle === 'italic') {\n          ctx.transform(1, 0, .4, 1, 0, 0)\n        }\n\n        glyph.render(ctx)\n\n        if (fontStyle === 'italic') {\n          ctx.transform(1, 0, -.4, 1, 0, 0)\n        }\n\n        ctx.lineWidth = lw\n        ctx.scale(1 / scale, -1 / scale)\n        ctx.translate(-this.x, -this.y)\n\n        this.x += fontSize * (glyph.horizAdvX || customFont.horizAdvX) / unitsPerEm\n\n        if (typeof dx[i] !== 'undefined' && !isNaN(dx[i])) {\n          this.x += dx[i]\n        }\n      }\n\n      return\n    }\n\n    const {\n      x,\n      y\n    } = this\n\n    // NEED TEST\n    // if (ctx.paintOrder === 'stroke') {\n    //   if (ctx.strokeStyle) {\n    //     ctx.strokeText(renderText, x, y);\n    //   }\n\n    //   if (ctx.fillStyle) {\n    //     ctx.fillText(renderText, x, y);\n    //   }\n    // } else {\n    if (ctx.fillStyle) {\n      ctx.fillText(renderText, x, y)\n    }\n\n    if (ctx.strokeStyle) {\n      ctx.strokeText(renderText, x, y)\n    }\n    // }\n  }\n\n  protected applyAnchoring() {\n    if (this.textChunkStart >= this.leafTexts.length) {\n      return\n    }\n\n    // This is basically the \"Apply anchoring\" part of https://www.w3.org/TR/SVG2/text.html#TextLayoutAlgorithm.\n    // The difference is that we apply the anchoring as soon as a chunk is finished. This saves some extra looping.\n    // Vertical text is not supported.\n\n    const firstElement = this.leafTexts[this.textChunkStart]\n    const textAnchor = firstElement.getStyle('text-anchor').getString('start')\n    const isRTL = false // we treat RTL like LTR\n    let shift = 0\n\n    if (textAnchor === 'start' && !isRTL || textAnchor === 'end' && isRTL) {\n      shift = firstElement.x - this.minX\n    } else if (textAnchor === 'end' && !isRTL || textAnchor === 'start' && isRTL) {\n      shift = firstElement.x - this.maxX\n    } else {\n      shift = firstElement.x - (this.minX + this.maxX) / 2\n    }\n\n    for (let i = this.textChunkStart; i < this.leafTexts.length; i++) {\n      this.leafTexts[i].x += shift\n    }\n\n    // start new chunk\n    this.minX = Number.POSITIVE_INFINITY\n    this.maxX = Number.NEGATIVE_INFINITY\n    this.textChunkStart = this.leafTexts.length\n  }\n\n  protected adjustChildCoordinatesRecursive(ctx: RenderingContext2D) {\n    this.children.forEach((_, i) => {\n      this.adjustChildCoordinatesRecursiveCore(ctx, this, this, i)\n    })\n    this.applyAnchoring()\n  }\n\n  protected adjustChildCoordinatesRecursiveCore(\n    ctx: RenderingContext2D,\n    textParent: TextElement,\n    parent: Element,\n    i: number\n  ): void {\n    const child = parent.children[i] as TextElement\n\n    if (child.children.length > 0) {\n      child.children.forEach((_, i) => {\n        textParent.adjustChildCoordinatesRecursiveCore(ctx, textParent, child, i)\n      })\n    } else {\n      // only leafs are relevant\n      this.adjustChildCoordinates(ctx, textParent, parent, i)\n    }\n  }\n\n  protected adjustChildCoordinates(\n    ctx: RenderingContext2D,\n    textParent: TextElement,\n    parent: Element,\n    i: number\n  ) {\n    const child = parent.children[i] as TextElement\n\n    if (typeof child.measureText !== 'function') {\n      return child\n    }\n\n    ctx.save()\n    child.setContext(ctx, true)\n\n    const xAttr = child.getAttribute('x')\n    const yAttr = child.getAttribute('y')\n    const dxAttr = child.getAttribute('dx')\n    const dyAttr = child.getAttribute('dy')\n    const customFont = child.getStyle('font-family').getDefinition<FontElement>()\n    const isRTL = Boolean(customFont?.isRTL)\n\n    if (i === 0) {\n      // First children inherit attributes from parent(s). Positional attributes\n      // are only inherited from a parent to it's first child.\n      if (!xAttr.hasValue()) {\n        xAttr.setValue(child.getInheritedAttribute('x'))\n      }\n\n      if (!yAttr.hasValue()) {\n        yAttr.setValue(child.getInheritedAttribute('y'))\n      }\n\n      if (!dxAttr.hasValue()) {\n        dxAttr.setValue(child.getInheritedAttribute('dx'))\n      }\n\n      if (!dyAttr.hasValue()) {\n        dyAttr.setValue(child.getInheritedAttribute('dy'))\n      }\n    }\n\n    const width = child.measureText(ctx)\n\n    if (isRTL) {\n      textParent.x -= width\n    }\n\n    if (xAttr.hasValue()) {\n      // an \"x\" attribute marks the start of a new chunk\n      textParent.applyAnchoring()\n\n      child.x = xAttr.getPixels('x')\n\n      if (dxAttr.hasValue()) {\n        child.x += dxAttr.getPixels('x')\n      }\n    } else {\n      if (dxAttr.hasValue()) {\n        textParent.x += dxAttr.getPixels('x')\n      }\n\n      child.x = textParent.x\n    }\n\n    textParent.x = child.x\n\n    if (!isRTL) {\n      textParent.x += width\n    }\n\n    if (yAttr.hasValue()) {\n      child.y = yAttr.getPixels('y')\n\n      if (dyAttr.hasValue()) {\n        child.y += dyAttr.getPixels('y')\n      }\n    } else {\n      if (dyAttr.hasValue()) {\n        textParent.y += dyAttr.getPixels('y')\n      }\n\n      child.y = textParent.y\n    }\n\n    textParent.y = child.y\n\n    // update the current chunk and it's bounds\n    textParent.leafTexts.push(child)\n    textParent.minX = Math.min(textParent.minX, child.x, child.x + width)\n    textParent.maxX = Math.max(textParent.maxX, child.x, child.x + width)\n\n    child.clearContext(ctx)\n    ctx.restore()\n\n    return child\n  }\n\n  protected getChildBoundingBox(\n    ctx: RenderingContext2D,\n    textParent: TextElement,\n    parent: Element,\n    i: number\n  ) {\n    const child = parent.children[i] as TextElement\n\n    // not a text node?\n    if (typeof child.getBoundingBox !== 'function') {\n      return null\n    }\n\n    const boundingBox = child.getBoundingBox(ctx)\n\n    if (boundingBox) {\n      child.children.forEach((_, i) => {\n        const childBoundingBox = textParent.getChildBoundingBox(ctx, textParent, child, i)\n\n        boundingBox.addBoundingBox(childBoundingBox)\n      })\n    }\n\n    return boundingBox\n  }\n\n  protected renderChild(\n    ctx: RenderingContext2D,\n    textParent: TextElement,\n    parent: Element,\n    i: number\n  ) {\n    const child = parent.children[i] as TextElement\n\n    child.render(ctx)\n    child.children.forEach((_, i) => {\n      textParent.renderChild(ctx, textParent, child, i)\n    })\n  }\n\n  protected measureText(ctx: RenderingContext2D) {\n    const { measureCache } = this\n\n    if (~measureCache) {\n      return measureCache\n    }\n\n    const renderText = this.getText()\n    const measure = this.measureTargetText(ctx, renderText)\n\n    this.measureCache = measure\n\n    return measure\n  }\n\n  protected measureTargetText(\n    ctx: RenderingContext2D,\n    targetText: string\n  ) {\n    if (!targetText.length) {\n      return 0\n    }\n\n    const { parent } = this\n    const customFont = parent.getStyle('font-family').getDefinition<FontElement>()\n\n    if (customFont) {\n      const fontSize = this.getFontSize()\n      const text = customFont.isRTL\n        ? targetText.split('').reverse().join('')\n        : targetText\n      const dx = toNumbers(parent.getAttribute('dx').getString())\n      const len = text.length\n      let measure = 0\n\n      for (let i = 0; i < len; i++) {\n        const glyph = this.getGlyph(customFont, text, i)\n\n        measure += (glyph.horizAdvX || customFont.horizAdvX)\n          * fontSize\n          / customFont.fontFace.unitsPerEm\n\n        if (typeof dx[i] !== 'undefined' && !isNaN(dx[i])) {\n          measure += dx[i]\n        }\n      }\n\n      return measure\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!ctx.measureText) {\n      return targetText.length * 10\n    }\n\n    ctx.save()\n    this.setContext(ctx, true)\n\n    const { width: measure } = ctx.measureText(targetText)\n\n    this.clearContext(ctx)\n    ctx.restore()\n\n    return measure\n  }\n\n  /**\n   * Inherits positional attributes from {@link TextElement} parent(s). Attributes\n   * are only inherited from a parent to its first child.\n   * @param name - The attribute name.\n   * @returns The attribute value or null.\n   */\n  protected getInheritedAttribute(name: string): string | null {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias,consistent-this\n    let current: Element | null = this\n\n    while (current instanceof TextElement && current.isFirstChild() && current.parent) {\n      const parentAttr = current.parent.getAttribute(name)\n\n      if (parentAttr.hasValue(true)) {\n        return parentAttr.getString('0')\n      }\n\n      current = current.parent\n    }\n\n    return null\n  }\n}\n","import { Document } from './Document'\nimport { TextElement } from './TextElement'\n\nexport class TSpanElement extends TextElement {\n  override type = 'tspan'\n  protected readonly text: string\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(\n      document,\n      node,\n      new.target === TSpanElement\n        ? true\n        : captureTextNodes\n    )\n\n    // if this node has children, then they own the text\n    this.text = this.children.length > 0\n      ? ''\n      : this.getTextFromNode()\n  }\n\n  override getText() {\n    return this.text\n  }\n}\n","import { TSpanElement } from './TSpanElement'\n\nexport class TextNode extends TSpanElement {\n  override type = 'textNode'\n}\n","import {\n  SVGCommand,\n  CommandM,\n  CommandL,\n  CommandH,\n  CommandV,\n  CommandZ,\n  CommandQ,\n  CommandT,\n  CommandC,\n  CommandS,\n  CommandA\n} from 'svg-pathdata/lib/types'\nimport { SVGPathData } from 'svg-pathdata'\nimport { Point } from './Point'\n\nexport type CommandType = SVGCommand['type']\nexport type Command = { type: CommandType }\n  & Omit<CommandM, 'type'>\n  & Omit<CommandL, 'type'>\n  & Omit<CommandH, 'type'>\n  & Omit<CommandV, 'type'>\n  & Omit<CommandZ, 'type'>\n  & Omit<CommandQ, 'type'>\n  & Omit<CommandT, 'type'>\n  & Omit<CommandC, 'type'>\n  & Omit<CommandS, 'type'>\n  & Omit<CommandA, 'type'>\n\nexport class PathParser extends SVGPathData {\n  control: Point = new Point(0, 0)\n  start: Point = new Point(0, 0)\n  current: Point = new Point(0, 0)\n  command: Command | null = null\n  override readonly commands: Command[] /* Babel fix: */ = this.commands\n  private i = -1\n  private previousCommand: Command | null = null\n  private points: Point[] = []\n  private angles: (number | null)[] = []\n\n  constructor(path: string) {\n    super(\n      path\n        // Fix spaces after signs.\n        .replace(/([+\\-.])\\s+/gm, '$1')\n        // Remove invalid part.\n        .replace(/[^MmZzLlHhVvCcSsQqTtAae\\d\\s.,+-].*/g, '')\n    )\n  }\n\n  reset() {\n    this.i = -1\n    this.command = null\n    this.previousCommand = null\n    this.start = new Point(0, 0)\n    this.control = new Point(0, 0)\n    this.current = new Point(0, 0)\n    this.points = []\n    this.angles = []\n  }\n\n  isEnd() {\n    const {\n      i,\n      commands\n    } = this\n\n    return i >= commands.length - 1\n  }\n\n  next() {\n    const command = this.commands[++this.i]\n\n    this.previousCommand = this.command\n    this.command = command\n\n    return command\n  }\n\n  getPoint(xProp = 'x', yProp = 'y') {\n    const point = new Point(\n      this.command[xProp] as number,\n      this.command[yProp] as number\n    )\n\n    return this.makeAbsolute(point)\n  }\n\n  getAsControlPoint(xProp?: string, yProp?: string) {\n    const point = this.getPoint(xProp, yProp)\n\n    this.control = point\n\n    return point\n  }\n\n  getAsCurrentPoint(xProp?: string, yProp?: string) {\n    const point = this.getPoint(xProp, yProp)\n\n    this.current = point\n\n    return point\n  }\n\n  getReflectedControlPoint() {\n    const previousCommand = this.previousCommand.type\n\n    if (previousCommand !== SVGPathData.CURVE_TO\n      && previousCommand !== SVGPathData.SMOOTH_CURVE_TO\n      && previousCommand !== SVGPathData.QUAD_TO\n      && previousCommand !== SVGPathData.SMOOTH_QUAD_TO\n    ) {\n      return this.current\n    }\n\n    // reflect point\n    const {\n      current: {\n        x: cx,\n        y: cy\n      },\n      control: {\n        x: ox,\n        y: oy\n      }\n    } = this\n    const point = new Point(2 * cx - ox, 2 * cy - oy)\n\n    return point\n  }\n\n  makeAbsolute(point: Point) {\n    if (this.command.relative) {\n      const {\n        x,\n        y\n      } = this.current\n\n      point.x += x\n      point.y += y\n    }\n\n    return point\n  }\n\n  addMarker(point: Point, from?: Point, priorTo?: Point) {\n    const {\n      points,\n      angles\n    } = this\n\n    // if the last angle isn't filled in because we didn't have this point yet ...\n    if (priorTo && angles.length > 0 && !angles[angles.length - 1]) {\n      angles[angles.length - 1] = points[points.length - 1].angleTo(priorTo)\n    }\n\n    this.addMarkerAngle(point, from ? from.angleTo(point) : null)\n  }\n\n  addMarkerAngle(point: Point, angle: number) {\n    this.points.push(point)\n    this.angles.push(angle)\n  }\n\n  getMarkerPoints() {\n    return this.points\n  }\n\n  getMarkerAngles() {\n    const { angles } = this\n    const len = angles.length\n\n    for (let i = 0; i < len; i++) {\n      if (!angles[i]) {\n        for (let j = i + 1; j < len; j++) {\n          if (angles[j]) {\n            angles[i] = angles[j]\n            break\n          }\n        }\n      }\n    }\n\n    return angles\n  }\n}\n","/* eslint-disable @typescript-eslint/member-ordering */\nimport { RenderingContext2D } from '../types'\nimport {\n  vectorsRatio,\n  vectorsAngle\n} from '../util'\nimport { Point } from '../Point'\nimport { BoundingBox } from '../BoundingBox'\nimport { PathParser } from '../PathParser'\nimport { Document } from './Document'\nimport { RenderedElement } from './RenderedElement'\nimport { MarkerElement } from './MarkerElement'\n\nexport type Marker = [Point, number]\n\nexport class PathElement extends RenderedElement {\n  override type = 'path'\n  readonly pathParser: PathParser\n\n  constructor(\n    document: Document,\n    node?: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.pathParser = new PathParser(this.getAttribute('d').getString())\n  }\n\n  path(ctx?: RenderingContext2D) {\n    const { pathParser } = this\n    const boundingBox = new BoundingBox()\n\n    pathParser.reset()\n\n    if (ctx) {\n      ctx.beginPath()\n    }\n\n    while (!pathParser.isEnd()) {\n      switch (pathParser.next().type) {\n        case PathParser.MOVE_TO:\n          this.pathM(ctx, boundingBox)\n          break\n\n        case PathParser.LINE_TO:\n          this.pathL(ctx, boundingBox)\n          break\n\n        case PathParser.HORIZ_LINE_TO:\n          this.pathH(ctx, boundingBox)\n          break\n\n        case PathParser.VERT_LINE_TO:\n          this.pathV(ctx, boundingBox)\n          break\n\n        case PathParser.CURVE_TO:\n          this.pathC(ctx, boundingBox)\n          break\n\n        case PathParser.SMOOTH_CURVE_TO:\n          this.pathS(ctx, boundingBox)\n          break\n\n        case PathParser.QUAD_TO:\n          this.pathQ(ctx, boundingBox)\n          break\n\n        case PathParser.SMOOTH_QUAD_TO:\n          this.pathT(ctx, boundingBox)\n          break\n\n        case PathParser.ARC:\n          this.pathA(ctx, boundingBox)\n          break\n\n        case PathParser.CLOSE_PATH:\n          this.pathZ(ctx, boundingBox)\n          break\n\n        default:\n      }\n    }\n\n    return boundingBox\n  }\n\n  getBoundingBox(_ctx: RenderingContext2D) {\n    return this.path()\n  }\n\n  getMarkers(): Marker[] {\n    const { pathParser } = this\n    const points = pathParser.getMarkerPoints()\n    const angles = pathParser.getMarkerAngles()\n    const markers = points.map((point, i): Marker => [point, angles[i]])\n\n    return markers\n  }\n\n  override renderChildren(ctx: RenderingContext2D) {\n    this.path(ctx)\n    this.document.screen.mouse.checkPath(this, ctx)\n\n    const fillRuleStyleProp = this.getStyle('fill-rule')\n\n    if (ctx.fillStyle !== '') {\n      if (fillRuleStyleProp.getString('inherit') !== 'inherit') {\n        ctx.fill(fillRuleStyleProp.getString() as CanvasFillRule)\n      } else {\n        ctx.fill()\n      }\n    }\n\n    if (ctx.strokeStyle !== '') {\n      if (this.getAttribute('vector-effect').getString() === 'non-scaling-stroke') {\n        ctx.save()\n        ctx.setTransform(1, 0, 0, 1, 0, 0)\n        ctx.stroke()\n        ctx.restore()\n      } else {\n        ctx.stroke()\n      }\n    }\n\n    const markers = this.getMarkers()\n\n    if (markers) {\n      const markersLastIndex = markers.length - 1\n      const markerStartStyleProp = this.getStyle('marker-start')\n      const markerMidStyleProp = this.getStyle('marker-mid')\n      const markerEndStyleProp = this.getStyle('marker-end')\n\n      if (markerStartStyleProp.isUrlDefinition()) {\n        const marker = markerStartStyleProp.getDefinition<MarkerElement>()\n        const [point, angle] = markers[0]\n\n        marker.render(ctx, point, angle)\n      }\n\n      if (markerMidStyleProp.isUrlDefinition()) {\n        const marker = markerMidStyleProp.getDefinition<MarkerElement>()\n\n        for (let i = 1; i < markersLastIndex; i++) {\n          const [point, angle] = markers[i]\n\n          marker.render(ctx, point, angle)\n        }\n      }\n\n      if (markerEndStyleProp.isUrlDefinition()) {\n        const marker = markerEndStyleProp.getDefinition<MarkerElement>()\n        const [point, angle] = markers[markersLastIndex]\n\n        marker.render(ctx, point, angle)\n      }\n    }\n  }\n\n  static pathM(pathParser: PathParser) {\n    const point = pathParser.getAsCurrentPoint()\n\n    pathParser.start = pathParser.current\n\n    return {\n      point\n    }\n  }\n\n  protected pathM(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const { point } = PathElement.pathM(pathParser)\n    const {\n      x,\n      y\n    } = point\n\n    pathParser.addMarker(point)\n    boundingBox.addPoint(x, y)\n\n    if (ctx) {\n      ctx.moveTo(x, y)\n    }\n  }\n\n  static pathL(pathParser: PathParser) {\n    const { current } = pathParser\n    const point = pathParser.getAsCurrentPoint()\n\n    return {\n      current,\n      point\n    }\n  }\n\n  protected pathL(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      point\n    } = PathElement.pathL(pathParser)\n    const {\n      x,\n      y\n    } = point\n\n    pathParser.addMarker(point, current)\n    boundingBox.addPoint(x, y)\n\n    if (ctx) {\n      ctx.lineTo(x, y)\n    }\n  }\n\n  static pathH(pathParser: PathParser) {\n    const {\n      current,\n      command\n    } = pathParser\n    const point = new Point(\n      (command.relative ? current.x : 0) + command.x,\n      current.y\n    )\n\n    pathParser.current = point\n\n    return {\n      current,\n      point\n    }\n  }\n\n  protected pathH(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      point\n    } = PathElement.pathH(pathParser)\n    const {\n      x,\n      y\n    } = point\n\n    pathParser.addMarker(point, current)\n    boundingBox.addPoint(x, y)\n\n    if (ctx) {\n      ctx.lineTo(x, y)\n    }\n  }\n\n  static pathV(pathParser: PathParser) {\n    const {\n      current,\n      command\n    } = pathParser\n    const point = new Point(\n      current.x,\n      (command.relative ? current.y : 0) + command.y\n    )\n\n    pathParser.current = point\n\n    return {\n      current,\n      point\n    }\n  }\n\n  protected pathV(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      point\n    } = PathElement.pathV(pathParser)\n    const {\n      x,\n      y\n    } = point\n\n    pathParser.addMarker(point, current)\n    boundingBox.addPoint(x, y)\n\n    if (ctx) {\n      ctx.lineTo(x, y)\n    }\n  }\n\n  static pathC(pathParser: PathParser) {\n    const { current } = pathParser\n    const point = pathParser.getPoint('x1', 'y1')\n    const controlPoint = pathParser.getAsControlPoint('x2', 'y2')\n    const currentPoint = pathParser.getAsCurrentPoint()\n\n    return {\n      current,\n      point,\n      controlPoint,\n      currentPoint\n    }\n  }\n\n  protected pathC(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      point,\n      controlPoint,\n      currentPoint\n    } = PathElement.pathC(pathParser)\n\n    pathParser.addMarker(currentPoint, controlPoint, point)\n    boundingBox.addBezierCurve(\n      current.x,\n      current.y,\n      point.x,\n      point.y,\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n\n    if (ctx) {\n      ctx.bezierCurveTo(\n        point.x,\n        point.y,\n        controlPoint.x,\n        controlPoint.y,\n        currentPoint.x,\n        currentPoint.y\n      )\n    }\n  }\n\n  static pathS(pathParser: PathParser) {\n    const { current } = pathParser\n    const point = pathParser.getReflectedControlPoint()\n    const controlPoint = pathParser.getAsControlPoint('x2', 'y2')\n    const currentPoint = pathParser.getAsCurrentPoint()\n\n    return {\n      current,\n      point,\n      controlPoint,\n      currentPoint\n    }\n  }\n\n  protected pathS(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      point,\n      controlPoint,\n      currentPoint\n    } = PathElement.pathS(pathParser)\n\n    pathParser.addMarker(currentPoint, controlPoint, point)\n    boundingBox.addBezierCurve(\n      current.x,\n      current.y,\n      point.x,\n      point.y,\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n\n    if (ctx) {\n      ctx.bezierCurveTo(\n        point.x,\n        point.y,\n        controlPoint.x,\n        controlPoint.y,\n        currentPoint.x,\n        currentPoint.y\n      )\n    }\n  }\n\n  static pathQ(pathParser: PathParser) {\n    const { current } = pathParser\n    const controlPoint = pathParser.getAsControlPoint('x1', 'y1')\n    const currentPoint = pathParser.getAsCurrentPoint()\n\n    return {\n      current,\n      controlPoint,\n      currentPoint\n    }\n  }\n\n  protected pathQ(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      controlPoint,\n      currentPoint\n    } = PathElement.pathQ(pathParser)\n\n    pathParser.addMarker(currentPoint, controlPoint, controlPoint)\n    boundingBox.addQuadraticCurve(\n      current.x,\n      current.y,\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n\n    if (ctx) {\n      ctx.quadraticCurveTo(\n        controlPoint.x,\n        controlPoint.y,\n        currentPoint.x,\n        currentPoint.y\n      )\n    }\n  }\n\n  static pathT(pathParser: PathParser) {\n    const { current } = pathParser\n    const controlPoint = pathParser.getReflectedControlPoint()\n\n    pathParser.control = controlPoint\n\n    const currentPoint = pathParser.getAsCurrentPoint()\n\n    return {\n      current,\n      controlPoint,\n      currentPoint\n    }\n  }\n\n  protected pathT(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      current,\n      controlPoint,\n      currentPoint\n    } = PathElement.pathT(pathParser)\n\n    pathParser.addMarker(currentPoint, controlPoint, controlPoint)\n    boundingBox.addQuadraticCurve(\n      current.x,\n      current.y,\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n\n    if (ctx) {\n      ctx.quadraticCurveTo(\n        controlPoint.x,\n        controlPoint.y,\n        currentPoint.x,\n        currentPoint.y\n      )\n    }\n  }\n\n  static pathA(pathParser: PathParser) {\n    const {\n      current,\n      command\n    } = pathParser\n    let {\n      rX,\n      rY,\n      xRot,\n      lArcFlag,\n      sweepFlag\n    } = command\n    const xAxisRotation = xRot * (Math.PI / 180.0)\n    const currentPoint = pathParser.getAsCurrentPoint()\n    // Conversion from endpoint to center parameterization\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    // x1', y1'\n    const currp = new Point(\n      Math.cos(xAxisRotation) * (current.x - currentPoint.x) / 2.0\n      + Math.sin(xAxisRotation) * (current.y - currentPoint.y) / 2.0,\n      -Math.sin(xAxisRotation) * (current.x - currentPoint.x) / 2.0\n      + Math.cos(xAxisRotation) * (current.y - currentPoint.y) / 2.0\n    )\n    // adjust radii\n    const l =\n      Math.pow(currp.x, 2) / Math.pow(rX, 2)\n      + Math.pow(currp.y, 2) / Math.pow(rY, 2)\n\n    if (l > 1) {\n      rX *= Math.sqrt(l)\n      rY *= Math.sqrt(l)\n    }\n\n    // cx', cy'\n    let s = (lArcFlag === sweepFlag ? -1 : 1) * Math.sqrt(\n      (\n        (Math.pow(rX, 2) * Math.pow(rY, 2))\n        - (Math.pow(rX, 2) * Math.pow(currp.y, 2))\n        - (Math.pow(rY, 2) * Math.pow(currp.x, 2))\n      ) / (\n        Math.pow(rX, 2) * Math.pow(currp.y, 2)\n        + Math.pow(rY, 2) * Math.pow(currp.x, 2)\n      )\n    )\n\n    if (isNaN(s)) {\n      s = 0\n    }\n\n    const cpp = new Point(\n      s * rX * currp.y / rY,\n      s * -rY * currp.x / rX\n    )\n    // cx, cy\n    const centp = new Point(\n      (current.x + currentPoint.x) / 2.0\n      + Math.cos(xAxisRotation) * cpp.x\n      - Math.sin(xAxisRotation) * cpp.y,\n      (current.y + currentPoint.y) / 2.0\n      + Math.sin(xAxisRotation) * cpp.x\n      + Math.cos(xAxisRotation) * cpp.y\n    )\n    // initial angle\n    const a1 = vectorsAngle([1, 0], [(currp.x - cpp.x) / rX, (currp.y - cpp.y) / rY]) // 1\n    // angle delta\n    const u = [(currp.x - cpp.x) / rX, (currp.y - cpp.y) / rY] as const\n    const v = [(-currp.x - cpp.x) / rX, (-currp.y - cpp.y) / rY] as const\n    let ad = vectorsAngle(u, v) // \n\n    if (vectorsRatio(u, v) <= -1) {\n      ad = Math.PI\n    }\n\n    if (vectorsRatio(u, v) >= 1) {\n      ad = 0\n    }\n\n    return {\n      currentPoint,\n      rX,\n      rY,\n      sweepFlag,\n      xAxisRotation,\n      centp,\n      a1,\n      ad\n    }\n  }\n\n  protected pathA(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    const { pathParser } = this\n    const {\n      currentPoint,\n      rX,\n      rY,\n      sweepFlag,\n      xAxisRotation,\n      centp,\n      a1,\n      ad\n    } = PathElement.pathA(pathParser)\n    // for markers\n    const dir = 1 - sweepFlag ? 1.0 : -1.0\n    const ah = a1 + dir * (ad / 2.0)\n    const halfWay = new Point(\n      centp.x + rX * Math.cos(ah),\n      centp.y + rY * Math.sin(ah)\n    )\n\n    pathParser.addMarkerAngle(halfWay, ah - dir * Math.PI / 2)\n    pathParser.addMarkerAngle(currentPoint, ah - dir * Math.PI)\n    boundingBox.addPoint(currentPoint.x, currentPoint.y) // TODO: this is too naive, make it better\n\n    if (ctx && !isNaN(a1) && !isNaN(ad)) {\n      const r = rX > rY ? rX : rY\n      const sx = rX > rY ? 1 : rX / rY\n      const sy = rX > rY ? rY / rX : 1\n\n      ctx.translate(centp.x, centp.y)\n      ctx.rotate(xAxisRotation)\n      ctx.scale(sx, sy)\n      ctx.arc(0, 0, r, a1, a1 + ad, Boolean(1 - sweepFlag))\n      ctx.scale(1 / sx, 1 / sy)\n      ctx.rotate(-xAxisRotation)\n      ctx.translate(-centp.x, -centp.y)\n    }\n  }\n\n  static pathZ(pathParser: PathParser) {\n    pathParser.current = pathParser.start\n  }\n\n  protected pathZ(\n    ctx: RenderingContext2D | undefined,\n    boundingBox: BoundingBox\n  ) {\n    PathElement.pathZ(this.pathParser)\n\n    if (ctx) {\n      // only close path if it is not a straight line\n      if (boundingBox.x1 !== boundingBox.x2\n        && boundingBox.y1 !== boundingBox.y2\n      ) {\n        ctx.closePath()\n      }\n    }\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { toNumbers } from '../util'\nimport { Property } from '../Property'\nimport { Font } from '../Font'\nimport { RenderedElement } from './RenderedElement'\n\nexport class SVGElement extends RenderedElement {\n  override type = 'svg'\n  root = false\n\n  override setContext(ctx: RenderingContext2D) {\n    const { document } = this\n    const {\n      screen,\n      window\n    } = document\n    const canvas = ctx.canvas\n\n    screen.setDefaults(ctx)\n\n    if ('style' in canvas\n      && typeof ctx.font !== 'undefined'\n      && window\n      && typeof window.getComputedStyle !== 'undefined'\n    ) {\n      ctx.font = window.getComputedStyle(canvas).getPropertyValue('font')\n\n      const fontSizeProp = new Property(\n        document,\n        'fontSize',\n        Font.parse(ctx.font).fontSize\n      )\n\n      if (fontSizeProp.hasValue()) {\n        document.rootEmSize = fontSizeProp.getPixels('y')\n        document.emSize = document.rootEmSize\n      }\n    }\n\n    // create new view port\n    if (!this.getAttribute('x').hasValue()) {\n      this.getAttribute('x', true).setValue(0)\n    }\n\n    if (!this.getAttribute('y').hasValue()) {\n      this.getAttribute('y', true).setValue(0)\n    }\n\n    let {\n      width,\n      height\n    } = screen.viewPort\n\n    if (!this.getStyle('width').hasValue()) {\n      this.getStyle('width', true).setValue('100%')\n    }\n\n    if (!this.getStyle('height').hasValue()) {\n      this.getStyle('height', true).setValue('100%')\n    }\n\n    if (!this.getStyle('color').hasValue()) {\n      this.getStyle('color', true).setValue('black')\n    }\n\n    const refXAttr = this.getAttribute('refX')\n    const refYAttr = this.getAttribute('refY')\n    const viewBoxAttr = this.getAttribute('viewBox')\n    const viewBox = viewBoxAttr.hasValue()\n      ? toNumbers(viewBoxAttr.getString())\n      : null\n    const clip = !this.root\n      && this.getStyle('overflow').getValue('hidden') !== 'visible'\n    let minX = 0\n    let minY = 0\n    let clipX = 0\n    let clipY = 0\n\n    if (viewBox) {\n      minX = viewBox[0]\n      minY = viewBox[1]\n    }\n\n    if (!this.root) {\n      width = this.getStyle('width').getPixels('x')\n      height = this.getStyle('height').getPixels('y')\n\n      if (this.type === 'marker') {\n        clipX = minX\n        clipY = minY\n        minX = 0\n        minY = 0\n      }\n    }\n\n    screen.viewPort.setCurrent(width, height)\n\n    // Default value of transform-origin is center only for root SVG elements\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform-origin\n    if (this.node // is not temporary SVGElement\n      && (!this.parent || this.node.parentNode?.nodeName === 'foreignObject')\n      && this.getStyle('transform', false, true).hasValue()\n      && !this.getStyle('transform-origin', false, true).hasValue()\n    ) {\n      this.getStyle('transform-origin', true, true).setValue('50% 50%')\n    }\n\n    super.setContext(ctx)\n\n    ctx.translate(\n      this.getAttribute('x').getPixels('x'),\n      this.getAttribute('y').getPixels('y')\n    )\n\n    if (viewBox) {\n      width = viewBox[2]\n      height = viewBox[3]\n    }\n\n    document.setViewBox({\n      ctx,\n      aspectRatio: this.getAttribute('preserveAspectRatio').getString(),\n      width: screen.viewPort.width,\n      desiredWidth: width,\n      height: screen.viewPort.height,\n      desiredHeight: height,\n      minX,\n      minY,\n      refX: refXAttr.getValue() as number,\n      refY: refYAttr.getValue() as number,\n      clip,\n      clipX,\n      clipY\n    })\n\n    if (viewBox) {\n      screen.viewPort.removeCurrent()\n      screen.viewPort.setCurrent(width, height)\n    }\n  }\n\n  override clearContext(ctx: RenderingContext2D) {\n    super.clearContext(ctx)\n\n    this.document.screen.viewPort.removeCurrent()\n  }\n\n  /**\n   * Resize SVG to fit in given size.\n   * @param width\n   * @param height\n   * @param preserveAspectRatio\n   */\n  resize(\n    width: number,\n    height = width,\n    preserveAspectRatio: boolean | string = false\n  ) {\n    const widthAttr = this.getAttribute('width', true)\n    const heightAttr = this.getAttribute('height', true)\n    const viewBoxAttr = this.getAttribute('viewBox')\n    const styleAttr = this.getAttribute('style')\n    const originWidth = widthAttr.getNumber(0)\n    const originHeight = heightAttr.getNumber(0)\n\n    if (preserveAspectRatio) {\n      if (typeof preserveAspectRatio === 'string') {\n        this.getAttribute('preserveAspectRatio', true).setValue(preserveAspectRatio)\n      } else {\n        const preserveAspectRatioAttr = this.getAttribute('preserveAspectRatio')\n\n        if (preserveAspectRatioAttr.hasValue()) {\n          preserveAspectRatioAttr.setValue(preserveAspectRatioAttr.getString().replace(/^\\s*(\\S.*\\S)\\s*$/, '$1'))\n        }\n      }\n    }\n\n    widthAttr.setValue(width)\n    heightAttr.setValue(height)\n\n    if (!viewBoxAttr.hasValue()) {\n      viewBoxAttr.setValue(`0 0 ${originWidth || width} ${originHeight || height}`)\n    }\n\n    if (styleAttr.hasValue()) {\n      const widthStyle = this.getStyle('width')\n      const heightStyle = this.getStyle('height')\n\n      if (widthStyle.hasValue()) {\n        widthStyle.setValue(`${width}px`)\n      }\n\n      if (heightStyle.hasValue()) {\n        heightStyle.setValue(`${height}px`)\n      }\n    }\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { BoundingBox } from '../BoundingBox'\nimport { PathElement } from './PathElement'\n\nexport class RectElement extends PathElement {\n  override type = 'rect'\n\n  override path(ctx: RenderingContext2D) {\n    const x = this.getAttribute('x').getPixels('x')\n    const y = this.getAttribute('y').getPixels('y')\n    const width = this.getStyle('width', false, true).getPixels('x')\n    const height = this.getStyle('height', false, true).getPixels('y')\n    const rxAttr = this.getAttribute('rx')\n    const ryAttr = this.getAttribute('ry')\n    let rx = rxAttr.getPixels('x')\n    let ry = ryAttr.getPixels('y')\n\n    if (rxAttr.hasValue() && !ryAttr.hasValue()) {\n      ry = rx\n    }\n\n    if (ryAttr.hasValue() && !rxAttr.hasValue()) {\n      rx = ry\n    }\n\n    rx = Math.min(rx, width / 2.0)\n    ry = Math.min(ry, height / 2.0)\n\n    if (ctx) {\n      const KAPPA = 4 * ((Math.sqrt(2) - 1) / 3)\n\n      ctx.beginPath() // always start the path so we don't fill prior paths\n\n      if (height > 0 && width > 0) {\n        ctx.moveTo(x + rx, y)\n        ctx.lineTo(x + width - rx, y)\n        ctx.bezierCurveTo(x + width - rx + (KAPPA * rx), y, x + width, y + ry - (KAPPA * ry), x + width, y + ry)\n        ctx.lineTo(x + width, y + height - ry)\n        ctx.bezierCurveTo(\n          x + width,\n          y + height - ry + (KAPPA * ry),\n          x + width - rx + (KAPPA * rx),\n          y + height,\n          x + width - rx,\n          y + height\n        )\n        ctx.lineTo(x + rx, y + height)\n        ctx.bezierCurveTo(x + rx - (KAPPA * rx), y + height, x, y + height - ry + (KAPPA * ry), x, y + height - ry)\n        ctx.lineTo(x, y + ry)\n        ctx.bezierCurveTo(x, y + ry - (KAPPA * ry), x + rx - (KAPPA * rx), y, x + rx, y)\n        ctx.closePath()\n      }\n    }\n\n    return new BoundingBox(x, y, x + width, y + height)\n  }\n\n  override getMarkers() {\n    return null\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Point } from '../Point'\nimport { BoundingBox } from '../BoundingBox'\nimport { Document } from './Document'\nimport { PathElement, Marker } from './PathElement'\n\nexport class PolylineElement extends PathElement {\n  override type = 'polyline'\n  protected readonly points: Point[] = []\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.points = Point.parsePath(\n      this.getAttribute('points').getString()\n    )\n  }\n\n  override path(ctx: RenderingContext2D) {\n    const { points } = this\n    const [\n      {\n        x: x0,\n        y: y0\n      }\n    ] = points\n    const boundingBox = new BoundingBox(x0, y0)\n\n    if (ctx) {\n      ctx.beginPath()\n      ctx.moveTo(x0, y0)\n    }\n\n    points.forEach(({\n      x,\n      y\n    }) => {\n      boundingBox.addPoint(x, y)\n\n      if (ctx) {\n        ctx.lineTo(x, y)\n      }\n    })\n\n    return boundingBox\n  }\n\n  override getMarkers() {\n    const { points } = this\n    const lastIndex = points.length - 1\n    const markers: Marker[] = []\n\n    points.forEach((point, i) => {\n      if (i === lastIndex) {\n        return\n      }\n\n      markers.push([point, point.angleTo(points[i + 1])])\n    })\n\n    if (markers.length > 0) {\n      markers.push([points[points.length - 1], markers[markers.length - 1][1]])\n    }\n\n    return markers\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { BoundingBox } from '../BoundingBox'\nimport { PathElement } from './PathElement'\nimport { RenderedElement } from './RenderedElement'\n\nexport class GElement extends RenderedElement {\n  override type = 'g'\n\n  getBoundingBox(ctx: RenderingContext2D) {\n    const boundingBox = new BoundingBox()\n\n    this.children.forEach((child: PathElement) => {\n      boundingBox.addBoundingBox(child.getBoundingBox(ctx))\n    })\n\n    return boundingBox\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Screen } from '../Screen'\nimport { Property } from '../Property'\nimport { Document } from './Document'\nimport { Element } from './Element'\nimport { PathElement } from './PathElement'\nimport { SVGElement } from './SVGElement'\nimport { RectElement } from './RectElement'\nimport { StopElement } from './StopElement'\nimport { GElement } from './GElement'\n\nexport abstract class GradientElement extends Element {\n  readonly attributesToInherit = ['gradientUnits']\n\n  protected readonly stops: StopElement[] = []\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    const {\n      stops,\n      children\n    } = this\n\n    children.forEach((child) => {\n      if (child.type === 'stop') {\n        stops.push(child as StopElement)\n      }\n    })\n  }\n\n  abstract getGradient(ctx: RenderingContext2D, element: PathElement): CanvasGradient | null\n\n  getGradientUnits() {\n    return this.getAttribute('gradientUnits').getString('objectBoundingBox')\n  }\n\n  createGradient(\n    ctx: RenderingContext2D,\n    element: PathElement,\n    parentOpacityProp: Property\n  ) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias, consistent-this\n    let stopsContainer = this\n\n    if (this.getHrefAttribute().hasValue()) {\n      stopsContainer = this.getHrefAttribute().getDefinition()\n      this.inheritStopContainer(stopsContainer)\n    }\n\n    const { stops } = stopsContainer\n    const gradient = this.getGradient(ctx, element)\n\n    if (!gradient) {\n      return this.addParentOpacity(\n        parentOpacityProp,\n        stops[stops.length - 1].color\n      )\n    }\n\n    stops.forEach((stop: StopElement) => {\n      gradient.addColorStop(\n        stop.offset,\n        this.addParentOpacity(\n          parentOpacityProp,\n          stop.color\n        )\n      )\n    })\n\n    if (this.getAttribute('gradientTransform').hasValue()) {\n      // render as transformed pattern on temporary canvas\n      const { document } = this\n      const { MAX_VIRTUAL_PIXELS } = Screen\n      const { viewPort } = document.screen\n      const rootView = viewPort.getRoot()\n      const rect = new RectElement(document)\n\n      rect.attributes.x = new Property(\n        document,\n        'x',\n        -MAX_VIRTUAL_PIXELS / 3.0\n      )\n      rect.attributes.y = new Property(\n        document,\n        'y',\n        -MAX_VIRTUAL_PIXELS / 3.0\n      )\n      rect.attributes.width = new Property(\n        document,\n        'width',\n        MAX_VIRTUAL_PIXELS\n      )\n      rect.attributes.height = new Property(\n        document,\n        'height',\n        MAX_VIRTUAL_PIXELS\n      )\n\n      const group = new GElement(document)\n\n      group.attributes.transform = new Property(\n        document,\n        'transform',\n        this.getAttribute('gradientTransform').getValue()\n      )\n      group.children = [rect]\n\n      const patternSvg = new SVGElement(document)\n\n      patternSvg.attributes.x = new Property(\n        document,\n        'x',\n        0\n      )\n      patternSvg.attributes.y = new Property(\n        document,\n        'y',\n        0\n      )\n      patternSvg.attributes.width = new Property(\n        document,\n        'width',\n        rootView.width\n      )\n      patternSvg.attributes.height = new Property(\n        document,\n        'height',\n        rootView.height\n      )\n      patternSvg.children = [group]\n\n      const patternCanvas = document.createCanvas(rootView.width, rootView.height)\n      const patternCtx = patternCanvas.getContext('2d')\n\n      patternCtx.fillStyle = gradient\n      patternSvg.render(patternCtx)\n\n      return patternCtx.createPattern(patternCanvas as CanvasImageSource, 'no-repeat')\n    }\n\n    return gradient\n  }\n\n  protected inheritStopContainer(stopsContainer: Element) {\n    this.attributesToInherit.forEach((attributeToInherit) => {\n      if (!this.getAttribute(attributeToInherit).hasValue()\n        && stopsContainer.getAttribute(attributeToInherit).hasValue()\n      ) {\n        this.getAttribute(attributeToInherit, true)\n          .setValue(stopsContainer.getAttribute(attributeToInherit).getValue())\n      }\n    })\n  }\n\n  protected addParentOpacity(parentOpacityProp: Property, color: string) {\n    if (parentOpacityProp.hasValue()) {\n      const colorProp = new Property(\n        this.document,\n        'color',\n        color\n      )\n\n      return colorProp.addOpacity(parentOpacityProp).getColor()\n    }\n\n    return color\n  }\n}\n","import { Property } from '../Property'\nimport { Document } from './Document'\nimport { Element } from './Element'\n\nexport interface IProgress {\n  from: Property\n  to: Property\n  progress: number\n}\n\nexport class AnimateElement extends Element {\n  override type = 'animate'\n  protected readonly begin: number\n  protected readonly maxDuration: number\n  protected readonly from: Property\n  protected readonly to: Property\n  protected readonly values: Property<string[]>\n  protected duration = 0\n  protected initialValue: string | undefined\n  protected initialUnits = ''\n  protected removed = false\n  protected frozen = false\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    document.screen.animations.push(this)\n\n    this.begin = this.getAttribute('begin').getMilliseconds()\n    this.maxDuration = this.begin + this.getAttribute('dur').getMilliseconds()\n    this.from = this.getAttribute('from')\n    this.to = this.getAttribute('to')\n    this.values = new Property<string[] | null>(document, 'values', null)\n\n    const valuesAttr = this.getAttribute('values')\n\n    if (valuesAttr.hasValue()) {\n      this.values.setValue(valuesAttr.getString().split(';'))\n    }\n  }\n\n  protected getProperty() {\n    const attributeType = this.getAttribute('attributeType').getString()\n    const attributeName = this.getAttribute('attributeName').getString()\n\n    if (attributeType === 'CSS') {\n      return this.parent.getStyle(attributeName, true)\n    }\n\n    return this.parent.getAttribute(attributeName, true)\n  }\n\n  calcValue() {\n    const { initialUnits } = this\n    const {\n      progress,\n      from,\n      to\n    } = this.getProgress()\n    // tween value linearly\n    let newValue = from.getNumber() + (to.getNumber() - from.getNumber()) * progress\n\n    if (initialUnits === '%') {\n      newValue *= 100.0 // numValue() returns 0-1 whereas properties are 0-100\n    }\n\n    return `${newValue}${initialUnits}`\n  }\n\n  update(delta: number) {\n    const { parent } = this\n    const prop = this.getProperty()\n\n    // set initial value\n    if (!this.initialValue) {\n      this.initialValue = prop.getString()\n      this.initialUnits = prop.getUnits()\n    }\n\n    // if we're past the end time\n    if (this.duration > this.maxDuration) {\n      const fill = this.getAttribute('fill').getString('remove')\n\n      // loop for indefinitely repeating animations\n      if (this.getAttribute('repeatCount').getString() === 'indefinite'\n        || this.getAttribute('repeatDur').getString() === 'indefinite'\n      ) {\n        this.duration = 0\n      } else\n      if (fill === 'freeze' && !this.frozen) {\n        this.frozen = true\n\n        if (parent && prop) {\n          parent.animationFrozen = true\n          parent.animationFrozenValue = prop.getString()\n        }\n      } else\n      if (fill === 'remove' && !this.removed) {\n        this.removed = true\n\n        if (parent && prop) {\n          prop.setValue(\n            parent.animationFrozen\n              ? parent.animationFrozenValue\n              : this.initialValue\n          )\n        }\n\n        return true\n      }\n\n      return false\n    }\n\n    this.duration += delta\n\n    // if we're past the begin time\n    let updated = false\n\n    if (this.begin < this.duration) {\n      let newValue = this.calcValue() // tween\n      const typeAttr = this.getAttribute('type')\n\n      if (typeAttr.hasValue()) {\n        // for transform, etc.\n        const type = typeAttr.getString()\n\n        newValue = `${type}(${newValue})`\n      }\n\n      prop.setValue(newValue)\n      updated = true\n    }\n\n    return updated\n  }\n\n  getProgress(): IProgress {\n    const {\n      document,\n      values\n    } = this\n    let progress = (this.duration - this.begin) / (this.maxDuration - this.begin)\n    let from: Property\n    let to: Property\n\n    if (values.hasValue()) {\n      const p = progress * (values.getValue().length - 1)\n      const lb = Math.floor(p)\n      const ub = Math.ceil(p)\n      let value: string | undefined\n\n      value = values.getValue()[lb]\n      from = new Property(\n        document,\n        'from',\n        value ? parseFloat(value) : 0\n      )\n\n      value = values.getValue()[ub]\n      to = new Property(\n        document,\n        'to',\n        value ? parseFloat(value) : 0\n      )\n\n      progress = (p - lb) / (ub - lb)\n    } else {\n      from = this.from\n      to = this.to\n    }\n\n    return {\n      progress,\n      from,\n      to\n    }\n  }\n}\n","import { Document } from './Document'\nimport { Element } from './Element'\n\nexport class FontFaceElement extends Element {\n  override type = 'font-face'\n  readonly ascent: number\n  readonly descent: number\n  readonly unitsPerEm: number\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.ascent = this.getAttribute('ascent').getNumber()\n    this.descent = this.getAttribute('descent').getNumber()\n    this.unitsPerEm = this.getAttribute('units-per-em').getNumber()\n  }\n}\n","import { Document } from './Document'\nimport { PathElement } from './PathElement'\n\nexport type ArabicForm = 'isolated' | 'terminal' | 'medial' | 'initial'\n\nexport class GlyphElement extends PathElement {\n  override type = 'glyph'\n  readonly horizAdvX: number\n  readonly unicode: string\n  readonly arabicForm: ArabicForm | undefined\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.horizAdvX = this.getAttribute('horiz-adv-x').getNumber()\n    this.unicode = this.getAttribute('unicode').getString()\n    this.arabicForm = this.getAttribute('arabic-form').getString() as ArabicForm\n  }\n}\n","import { GlyphElement } from './GlyphElement'\n\nexport class MissingGlyphElement extends GlyphElement {\n  override type = 'missing-glyph'\n  override readonly horizAdvX = 0\n}\n","import { RenderingContext2D } from '../types'\nimport { BoundingBox } from '../BoundingBox'\nimport { Document } from './Document'\nimport { RenderedElement } from './RenderedElement'\n\n// groups: 1: mime-type (+ charset), 2: mime-type (w/o charset), 3: charset, 4: base64?, 5: body\nconst dataUriRegex = /^\\s*data:(([^/,;]+\\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i\n\nexport class ImageElement extends RenderedElement {\n  override type = 'image'\n  loaded = false\n  protected image: CanvasImageSource | string | undefined\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    const href = this.getHrefAttribute().getString()\n\n    if (!href) {\n      return\n    }\n\n    const isSvg = href.endsWith('.svg') || /^\\s*data:image\\/svg\\+xml/i.test(href)\n\n    document.images.push(this)\n\n    if (!isSvg) {\n      void this.loadImage(href)\n    } else {\n      void this.loadSvg(href)\n    }\n  }\n\n  protected async loadImage(href: string) {\n    try {\n      const image = await this.document.createImage(href)\n\n      this.image = image\n    } catch (err) {\n      console.error(`Error while loading image \"${href}\":`, err)\n    }\n\n    this.loaded = true\n  }\n\n  protected async loadSvg(href: string) {\n    const match = dataUriRegex.exec(href)\n\n    if (match) {\n      const data = match[5]\n\n      if (data) {\n        if (match[4] === 'base64') {\n          this.image = atob(data)\n        } else {\n          this.image = decodeURIComponent(data)\n        }\n      }\n    } else {\n      try {\n        const response = await this.document.fetch(href)\n        const svg = await response.text()\n\n        this.image = svg\n      } catch (err) {\n        console.error(`Error while loading image \"${href}\":`, err)\n      }\n    }\n\n    this.loaded = true\n  }\n\n  override renderChildren(ctx: RenderingContext2D) {\n    const {\n      document,\n      image,\n      loaded\n    } = this\n    const x = this.getAttribute('x').getPixels('x')\n    const y = this.getAttribute('y').getPixels('y')\n    const width = this.getStyle('width').getPixels('x')\n    const height = this.getStyle('height').getPixels('y')\n\n    if (!loaded || !image\n      || !width || !height\n    ) {\n      return\n    }\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    if (typeof image === 'string') {\n      const subDocument = document.canvg.forkString(\n        ctx,\n        image,\n        {\n          ignoreMouse: true,\n          ignoreAnimation: true,\n          ignoreDimensions: true,\n          ignoreClear: true,\n          offsetX: 0,\n          offsetY: 0,\n          scaleWidth: width,\n          scaleHeight: height\n        }\n      )\n      const { documentElement } = subDocument.document\n\n      if (documentElement) {\n        documentElement.parent = this\n      }\n\n      void subDocument.render()\n    } else {\n      document.setViewBox({\n        ctx,\n        aspectRatio: this.getAttribute('preserveAspectRatio').getString(),\n        width,\n        desiredWidth: image.width as number,\n        height,\n        desiredHeight: image.height as number\n      })\n\n      if (this.loaded) {\n        if (!('complete' in image) || image.complete) {\n          ctx.drawImage(image, 0, 0)\n        }\n      }\n    }\n\n    ctx.restore()\n  }\n\n  getBoundingBox() {\n    const x = this.getAttribute('x').getPixels('x')\n    const y = this.getAttribute('y').getPixels('y')\n    const width = this.getStyle('width').getPixels('x')\n    const height = this.getStyle('height').getPixels('y')\n\n    return new BoundingBox(x, y, x + width, y + height)\n  }\n}\n","import { Document } from './Document'\n\nexport class SVGFontLoader {\n  loaded = false\n\n  constructor(\n    private readonly document: Document\n  ) {\n    document.fonts.push(this)\n  }\n\n  async load(fontFamily: string, url: string) {\n    try {\n      const { document } = this\n      const svgDocument = await document.canvg.parser.load(url)\n      const fonts = svgDocument.getElementsByTagName('font')\n\n      Array.from(fonts).forEach((fontNode) => {\n        const font = document.createElement(fontNode)\n\n        document.definitions[fontFamily] = font\n      })\n    } catch (err) {\n      console.error(`Error while loading font \"${url}\":`, err)\n    }\n\n    this.loaded = true\n  }\n}\n","import {\n  compressSpaces,\n  getSelectorSpecificity,\n  parseExternalUrl\n} from '../util'\nimport { Property } from '../Property'\nimport { SVGFontLoader } from '../SVGFontLoader'\nimport { Document } from './Document'\nimport { Element } from './Element'\n\nexport class StyleElement extends Element {\n  static readonly parseExternalUrl = parseExternalUrl\n\n  override type = 'style'\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    const css = compressSpaces(\n      Array.from(node.childNodes)\n      // NEED TEST\n        .map(_ => _.textContent)\n        .join('')\n        .replace(/(\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+\\/)|(^[\\s]*\\/\\/.*)/gm, '') // remove comments\n        .replace(/@import.*;/g, '') // remove imports\n    )\n    const cssDefs = css.split('}')\n\n    cssDefs.forEach((_) => {\n      const def = _.trim()\n\n      if (!def) {\n        return\n      }\n\n      const cssParts = def.split('{')\n      const cssClasses = cssParts[0].split(',')\n      const cssProps = cssParts[1].split(';')\n\n      cssClasses.forEach((_) => {\n        const cssClass = _.trim()\n\n        if (!cssClass) {\n          return\n        }\n\n        const props = document.styles[cssClass] || {}\n\n        cssProps.forEach((cssProp) => {\n          const prop = cssProp.indexOf(':')\n          const name = cssProp.substr(0, prop).trim()\n          const value = cssProp.substr(prop + 1, cssProp.length - prop).trim()\n\n          if (name && value) {\n            props[name] = new Property(document, name, value)\n          }\n        })\n\n        document.styles[cssClass] = props\n        document.stylesSpecificity[cssClass] = getSelectorSpecificity(cssClass)\n\n        if (cssClass === '@font-face') { //  && !nodeEnv\n          const fontFamily = props['font-family'].getString().replace(/\"|'/g, '')\n          const srcs = props.src.getString().split(',')\n\n          srcs.forEach((src) => {\n            if (src.indexOf('format(\"svg\")') > 0) {\n              const url = parseExternalUrl(src)\n\n              if (url) {\n                void new SVGFontLoader(document).load(fontFamily, url)\n              }\n            }\n          })\n        }\n      })\n    })\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { toNumbers } from '../util'\nimport { Document } from './Document'\nimport { Element } from './Element'\n\nfunction imGet(\n  img: Uint8ClampedArray,\n  x: number,\n  y: number,\n  width: number,\n  _height: number,\n  rgba: number\n) {\n  return img[y * width * 4 + x * 4 + rgba]\n}\n\nfunction imSet(\n  img: Uint8ClampedArray,\n  x: number,\n  y: number,\n  width: number,\n  _height: number,\n  rgba: number,\n  val: number\n) {\n  img[y * width * 4 + x * 4 + rgba] = val\n}\n\nfunction m(\n  matrix: number[],\n  i: number,\n  v: number\n) {\n  const mi = matrix[i]\n\n  return mi * v\n}\n\nfunction c(\n  a: number,\n  m1: number,\n  m2: number,\n  m3: number\n) {\n  return m1 + Math.cos(a) * m2 + Math.sin(a) * m3\n}\n\nexport class FeColorMatrixElement extends Element {\n  override type = 'feColorMatrix'\n  protected readonly matrix: number[]\n  protected readonly includeOpacity: boolean\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    let matrix = toNumbers(this.getAttribute('values').getString())\n\n    switch (this.getAttribute('type').getString('matrix')) { // http://www.w3.org/TR/SVG/filters.html#feColorMatrixElement\n      case 'saturate': {\n        const s = matrix[0]\n\n        /* eslint-disable array-element-newline */\n        matrix = [\n          0.213 + 0.787 * s, 0.715 - 0.715 * s, 0.072 - 0.072 * s, 0, 0,\n          0.213 - 0.213 * s, 0.715 + 0.285 * s, 0.072 - 0.072 * s, 0, 0,\n          0.213 - 0.213 * s, 0.715 - 0.715 * s, 0.072 + 0.928 * s, 0, 0,\n          0, 0, 0, 1, 0,\n          0, 0, 0, 0, 1\n        ]\n        /* eslint-enable array-element-newline */\n        break\n      }\n\n      case 'hueRotate': {\n        const a = matrix[0] * Math.PI / 180.0\n\n        /* eslint-disable array-element-newline */\n        matrix = [\n          c(a, 0.213, 0.787, -0.213), c(a, 0.715, -0.715, -0.715), c(a, 0.072, -0.072, 0.928), 0, 0,\n          c(a, 0.213, -0.213, 0.143), c(a, 0.715, 0.285, 0.140), c(a, 0.072, -0.072, -0.283), 0, 0,\n          c(a, 0.213, -0.213, -0.787), c(a, 0.715, -0.715, 0.715), c(a, 0.072, 0.928, 0.072), 0, 0,\n          0, 0, 0, 1, 0,\n          0, 0, 0, 0, 1\n        ]\n        /* eslint-enable array-element-newline */\n        break\n      }\n\n      case 'luminanceToAlpha':\n        /* eslint-disable array-element-newline */\n        matrix = [\n          0, 0, 0, 0, 0,\n          0, 0, 0, 0, 0,\n          0, 0, 0, 0, 0,\n          0.2125, 0.7154, 0.0721, 0, 0,\n          0, 0, 0, 0, 1\n        ]\n        /* eslint-enable array-element-newline */\n        break\n\n      default:\n    }\n\n    this.matrix = matrix\n    this.includeOpacity = this.getAttribute('includeOpacity').hasValue()\n  }\n\n  apply(\n    ctx: RenderingContext2D,\n    _x: number,\n    _y: number,\n    width: number,\n    height: number\n  ) {\n    // assuming x==0 && y==0 for now\n    const {\n      includeOpacity,\n      matrix\n    } = this\n    const srcData = ctx.getImageData(0, 0, width, height)\n\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const r = imGet(srcData.data, x, y, width, height, 0)\n        const g = imGet(srcData.data, x, y, width, height, 1)\n        const b = imGet(srcData.data, x, y, width, height, 2)\n        const a = imGet(srcData.data, x, y, width, height, 3)\n        let nr = m(matrix, 0, r) + m(matrix, 1, g) + m(matrix, 2, b) + m(matrix, 3, a) + m(matrix, 4, 1)\n        let ng = m(matrix, 5, r) + m(matrix, 6, g) + m(matrix, 7, b) + m(matrix, 8, a) + m(matrix, 9, 1)\n        let nb = m(matrix, 10, r) + m(matrix, 11, g) + m(matrix, 12, b) + m(matrix, 13, a) + m(matrix, 14, 1)\n        let na = m(matrix, 15, r) + m(matrix, 16, g) + m(matrix, 17, b) + m(matrix, 18, a) + m(matrix, 19, 1)\n\n        if (includeOpacity) {\n          nr = 0\n          ng = 0\n          nb = 0\n          na *= a / 255\n        }\n\n        imSet(srcData.data, x, y, width, height, 0, nr)\n        imSet(srcData.data, x, y, width, height, 1, ng)\n        imSet(srcData.data, x, y, width, height, 2, nb)\n        imSet(srcData.data, x, y, width, height, 3, na)\n      }\n    }\n\n    ctx.clearRect(0, 0, width, height)\n    ctx.putImageData(srcData, 0, 0)\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { BoundingBox } from '../BoundingBox'\nimport { Element } from './Element'\nimport { PathElement } from './PathElement'\nimport { FeColorMatrixElement } from './FeColorMatrixElement'\n\nexport class MaskElement extends Element {\n  static ignoreStyles = [\n    'mask',\n    'transform',\n    'clip-path'\n  ]\n\n  override type = 'mask'\n\n  apply(ctx: RenderingContext2D, element: Element) {\n    const { document } = this\n    // render as temp svg\n    let x = this.getAttribute('x').getPixels('x')\n    let y = this.getAttribute('y').getPixels('y')\n    let width = this.getStyle('width').getPixels('x')\n    let height = this.getStyle('height').getPixels('y')\n\n    if (!width && !height) {\n      const boundingBox = new BoundingBox()\n\n      this.children.forEach((child: PathElement) => {\n        boundingBox.addBoundingBox(child.getBoundingBox(ctx))\n      })\n\n      x = Math.floor(boundingBox.x1)\n      y = Math.floor(boundingBox.y1)\n      width = Math.floor(boundingBox.width)\n      height = Math.floor(boundingBox.height)\n    }\n\n    const ignoredStyles = this.removeStyles(element, MaskElement.ignoreStyles)\n    const maskCanvas = document.createCanvas(x + width, y + height)\n    const maskCtx = maskCanvas.getContext('2d')\n\n    document.screen.setDefaults(maskCtx)\n    this.renderChildren(maskCtx)\n\n    // convert mask to alpha with a fake node\n    // TODO: refactor out apply from feColorMatrix\n    new FeColorMatrixElement(\n      document,\n      ({\n        nodeType: 1,\n        childNodes: [],\n        attributes: [\n          {\n            nodeName: 'type',\n            value: 'luminanceToAlpha'\n          },\n          {\n            nodeName: 'includeOpacity',\n            value: 'true'\n          }\n        ]\n      }) as unknown as HTMLElement\n    ).apply(maskCtx, 0, 0, x + width, y + height)\n\n    const tmpCanvas = document.createCanvas(x + width, y + height)\n    const tmpCtx = tmpCanvas.getContext('2d')\n\n    document.screen.setDefaults(tmpCtx)\n    element.render(tmpCtx)\n\n    tmpCtx.globalCompositeOperation = 'destination-in'\n    tmpCtx.fillStyle = maskCtx.createPattern(maskCanvas as CanvasImageSource, 'no-repeat')\n    tmpCtx.fillRect(0, 0, x + width, y + height)\n\n    ctx.fillStyle = tmpCtx.createPattern(tmpCanvas as CanvasImageSource, 'no-repeat')\n    ctx.fillRect(0, 0, x + width, y + height)\n\n    // reassign mask\n    this.restoreStyles(element, ignoredStyles)\n  }\n\n  override render(_: RenderingContext2D) {\n    // NO RENDER\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Transform } from '../Transform'\nimport { Element } from './Element'\nimport { UseElement } from './UseElement'\n\nconst noop = () => {\n  // NOOP\n}\n\nexport class ClipPathElement extends Element {\n  override type = 'clipPath'\n\n  apply(ctx: RenderingContext2D) {\n    const { document } = this\n    const contextProto = Reflect.getPrototypeOf(ctx) as RenderingContext2D | null\n    const {\n      beginPath,\n      closePath\n    } = ctx\n\n    if (contextProto) {\n      contextProto.beginPath = noop\n      contextProto.closePath = noop\n    }\n\n    Reflect.apply(beginPath, ctx, [])\n\n    this.children.forEach((child: Element | UseElement) => {\n      if (!('path' in child)) {\n        return\n      }\n\n      let transform = 'elementTransform' in child\n        ? child.elementTransform()\n        : null // handle <use />\n\n      if (!transform) {\n        transform = Transform.fromElement(document, child)\n      }\n\n      if (transform) {\n        transform.apply(ctx)\n      }\n\n      child.path(ctx)\n\n      if (contextProto) {\n        contextProto.closePath = closePath\n      }\n\n      if (transform) {\n        transform.unapply(ctx)\n      }\n    })\n\n    Reflect.apply(closePath, ctx, [])\n    ctx.clip()\n\n    if (contextProto) {\n      contextProto.beginPath = beginPath\n      contextProto.closePath = closePath\n    }\n  }\n\n  override render(_: RenderingContext2D) {\n    // NO RENDER\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Element } from './Element'\nimport { PathElement } from './PathElement'\nimport { FeGaussianBlurElement } from './FeGaussianBlurElement'\n\nexport class FilterElement extends Element {\n  static ignoreStyles = [\n    'filter',\n    'transform',\n    'clip-path'\n  ]\n\n  override type = 'filter'\n\n  apply(ctx: RenderingContext2D, element: Element | PathElement) {\n    // render as temp svg\n    const {\n      document,\n      children\n    } = this\n    const boundingBox = 'getBoundingBox' in element\n      ? element.getBoundingBox(ctx)\n      : null\n\n    if (!boundingBox) {\n      return\n    }\n\n    let px = 0\n    let py = 0\n\n    children.forEach((child: FeGaussianBlurElement) => {\n      const efd = child.extraFilterDistance || 0\n\n      px = Math.max(px, efd)\n      py = Math.max(py, efd)\n    })\n\n    const width = Math.floor(boundingBox.width)\n    const height = Math.floor(boundingBox.height)\n    const tmpCanvasWidth = width + 2 * px\n    const tmpCanvasHeight = height + 2 * py\n\n    if (tmpCanvasWidth < 1 || tmpCanvasHeight < 1) {\n      return\n    }\n\n    const x = Math.floor(boundingBox.x)\n    const y = Math.floor(boundingBox.y)\n    const ignoredStyles = this.removeStyles(element, FilterElement.ignoreStyles)\n    const tmpCanvas = document.createCanvas(tmpCanvasWidth, tmpCanvasHeight)\n    const tmpCtx = tmpCanvas.getContext('2d')\n\n    document.screen.setDefaults(tmpCtx)\n    tmpCtx.translate(-x + px, -y + py)\n    element.render(tmpCtx)\n\n    // apply filters\n    children.forEach((child: FeGaussianBlurElement) => {\n      if (typeof child.apply === 'function') {\n        child.apply(\n          tmpCtx,\n          0,\n          0,\n          tmpCanvasWidth,\n          tmpCanvasHeight\n        )\n      }\n    })\n\n    // render on me\n    ctx.drawImage(\n      tmpCanvas,\n      0,\n      0,\n      tmpCanvasWidth,\n      tmpCanvasHeight,\n      x - px,\n      y - py,\n      tmpCanvasWidth,\n      tmpCanvasHeight\n    )\n\n    this.restoreStyles(element, ignoredStyles)\n  }\n\n  override render(_: RenderingContext2D) {\n    // NO RENDER\n  }\n}\n","import { Element } from './Element'\nimport { UnknownElement } from './UnknownElement'\nimport { RenderedElement } from './RenderedElement'\nimport { PathElement } from './PathElement'\nimport { SVGElement } from './SVGElement'\nimport { RectElement } from './RectElement'\nimport { CircleElement } from './CircleElement'\nimport { EllipseElement } from './EllipseElement'\nimport { LineElement } from './LineElement'\nimport { PolylineElement } from './PolylineElement'\nimport { PolygonElement } from './PolygonElement'\nimport { PatternElement } from './PatternElement'\nimport { MarkerElement } from './MarkerElement'\nimport { DefsElement } from './DefsElement'\nimport { GradientElement } from './GradientElement'\nimport { LinearGradientElement } from './LinearGradientElement'\nimport { RadialGradientElement } from './RadialGradientElement'\nimport { StopElement } from './StopElement'\nimport { AnimateElement } from './AnimateElement'\nimport { AnimateColorElement } from './AnimateColorElement'\nimport { AnimateTransformElement } from './AnimateTransformElement'\nimport { FontElement } from './FontElement'\nimport { FontFaceElement } from './FontFaceElement'\nimport { MissingGlyphElement } from './MissingGlyphElement'\nimport { GlyphElement } from './GlyphElement'\nimport { TextElement } from './TextElement'\nimport { TSpanElement } from './TSpanElement'\nimport { TRefElement } from './TRefElement'\nimport { AElement } from './AElement'\nimport { TextPathElement } from './TextPathElement'\nimport { ImageElement } from './ImageElement'\nimport { GElement } from './GElement'\nimport { SymbolElement } from './SymbolElement'\nimport { StyleElement } from './StyleElement'\nimport { UseElement } from './UseElement'\nimport { MaskElement } from './MaskElement'\nimport { ClipPathElement } from './ClipPathElement'\nimport { FilterElement } from './FilterElement'\nimport { FeDropShadowElement } from './FeDropShadowElement'\nimport { FeMorphologyElement } from './FeMorphologyElement'\nimport { FeCompositeElement } from './FeCompositeElement'\nimport { FeColorMatrixElement } from './FeColorMatrixElement'\nimport { FeGaussianBlurElement } from './FeGaussianBlurElement'\nimport { TitleElement } from './TitleElement'\nimport { DescElement } from './DescElement'\n\nexport const elements = {\n  'svg': SVGElement,\n  'rect': RectElement,\n  'circle': CircleElement,\n  'ellipse': EllipseElement,\n  'line': LineElement,\n  'polyline': PolylineElement,\n  'polygon': PolygonElement,\n  'path': PathElement,\n  'pattern': PatternElement,\n  'marker': MarkerElement,\n  'defs': DefsElement,\n  'linearGradient': LinearGradientElement,\n  'radialGradient': RadialGradientElement,\n  'stop': StopElement,\n  'animate': AnimateElement,\n  'animateColor': AnimateColorElement,\n  'animateTransform': AnimateTransformElement,\n  'font': FontElement,\n  'font-face': FontFaceElement,\n  'missing-glyph': MissingGlyphElement,\n  'glyph': GlyphElement,\n  'text': TextElement,\n  'tspan': TSpanElement,\n  'tref': TRefElement,\n  'a': AElement,\n  'textPath': TextPathElement,\n  'image': ImageElement,\n  'g': GElement,\n  'symbol': SymbolElement,\n  'style': StyleElement,\n  'use': UseElement,\n  'mask': MaskElement,\n  'clipPath': ClipPathElement,\n  'filter': FilterElement,\n  'feDropShadow': FeDropShadowElement,\n  'feMorphology': FeMorphologyElement,\n  'feComposite': FeCompositeElement,\n  'feColorMatrix': FeColorMatrixElement,\n  'feGaussianBlur': FeGaussianBlurElement,\n  'title': TitleElement,\n  'desc': DescElement\n}\n\ntype Elements = typeof elements\n\nexport type AnyElement = Elements[keyof Elements]\n\nexport {\n  Element,\n  UnknownElement,\n  RenderedElement,\n  PathElement,\n  SVGElement,\n  RectElement,\n  CircleElement,\n  EllipseElement,\n  LineElement,\n  PolylineElement,\n  PolygonElement,\n  PatternElement,\n  MarkerElement,\n  DefsElement,\n  GradientElement,\n  LinearGradientElement,\n  RadialGradientElement,\n  StopElement,\n  AnimateElement,\n  AnimateColorElement,\n  AnimateTransformElement,\n  FontElement,\n  FontFaceElement,\n  MissingGlyphElement,\n  GlyphElement,\n  TextElement,\n  TSpanElement,\n  TRefElement,\n  AElement,\n  TextPathElement,\n  ImageElement,\n  GElement,\n  SymbolElement,\n  StyleElement,\n  UseElement,\n  MaskElement,\n  ClipPathElement,\n  FilterElement,\n  FeDropShadowElement,\n  FeMorphologyElement,\n  FeCompositeElement,\n  FeColorMatrixElement,\n  FeGaussianBlurElement,\n  TitleElement,\n  DescElement\n}\n","import { RenderingContext2D } from '../types'\nimport { BoundingBox } from '../BoundingBox'\nimport { PathElement } from './PathElement'\n\nexport class CircleElement extends PathElement {\n  override type = 'circle'\n\n  override path(ctx: RenderingContext2D) {\n    const cx = this.getAttribute('cx').getPixels('x')\n    const cy = this.getAttribute('cy').getPixels('y')\n    const r = this.getAttribute('r').getPixels()\n\n    if (ctx && r > 0) {\n      ctx.beginPath()\n      ctx.arc(cx, cy, r, 0, Math.PI * 2, false)\n      ctx.closePath()\n    }\n\n    return new BoundingBox(\n      cx - r,\n      cy - r,\n      cx + r,\n      cy + r\n    )\n  }\n\n  override getMarkers() {\n    return null\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { BoundingBox } from '../BoundingBox'\nimport { PathElement } from './PathElement'\n\nexport class EllipseElement extends PathElement {\n  override type = 'ellipse'\n\n  override path(ctx: RenderingContext2D) {\n    const KAPPA = 4 * ((Math.sqrt(2) - 1) / 3)\n    const rx = this.getAttribute('rx').getPixels('x')\n    const ry = this.getAttribute('ry').getPixels('y')\n    const cx = this.getAttribute('cx').getPixels('x')\n    const cy = this.getAttribute('cy').getPixels('y')\n\n    if (ctx && rx > 0 && ry > 0) {\n      ctx.beginPath()\n      ctx.moveTo(cx + rx, cy)\n      ctx.bezierCurveTo(\n        cx + rx,\n        cy + (KAPPA * ry),\n        cx + (KAPPA * rx),\n        cy + ry,\n        cx,\n        cy + ry\n      )\n      ctx.bezierCurveTo(\n        cx - (KAPPA * rx),\n        cy + ry,\n        cx - rx,\n        cy + (KAPPA * ry),\n        cx - rx,\n        cy\n      )\n      ctx.bezierCurveTo(\n        cx - rx,\n        cy - (KAPPA * ry),\n        cx - (KAPPA * rx),\n        cy - ry,\n        cx,\n        cy - ry\n      )\n      ctx.bezierCurveTo(\n        cx + (KAPPA * rx),\n        cy - ry,\n        cx + rx,\n        cy - (KAPPA * ry),\n        cx + rx,\n        cy\n      )\n      ctx.closePath()\n    }\n\n    return new BoundingBox(\n      cx - rx,\n      cy - ry,\n      cx + rx,\n      cy + ry\n    )\n  }\n\n  override getMarkers() {\n    return null\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Point } from '../Point'\nimport { BoundingBox } from '../BoundingBox'\nimport { PathElement, Marker } from './PathElement'\n\nexport class LineElement extends PathElement {\n  override type = 'line'\n\n  getPoints() {\n    return [\n      new Point(\n        this.getAttribute('x1').getPixels('x'),\n        this.getAttribute('y1').getPixels('y')\n      ),\n      new Point(\n        this.getAttribute('x2').getPixels('x'),\n        this.getAttribute('y2').getPixels('y')\n      )\n    ]\n  }\n\n  override path(ctx: RenderingContext2D) {\n    const [\n      {\n        x: x0,\n        y: y0\n      },\n      {\n        x: x1,\n        y: y1\n      }\n    ] = this.getPoints()\n\n    if (ctx) {\n      ctx.beginPath()\n      ctx.moveTo(x0, y0)\n      ctx.lineTo(x1, y1)\n    }\n\n    return new BoundingBox(\n      x0,\n      y0,\n      x1,\n      y1\n    )\n  }\n\n  override getMarkers(): Marker[] {\n    const [p0, p1] = this.getPoints()\n    const a = p0.angleTo(p1)\n\n    return [[p0, a], [p1, a]]\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { PolylineElement } from './PolylineElement'\n\nexport class PolygonElement extends PolylineElement {\n  override type = 'polygon'\n\n  override path(ctx: RenderingContext2D) {\n    const boundingBox = super.path(ctx)\n    const [\n      {\n        x,\n        y\n      }\n    ] = this.points\n\n    if (ctx) {\n      ctx.lineTo(x, y)\n      ctx.closePath()\n    }\n\n    return boundingBox\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Property } from '../Property'\nimport { Element } from './Element'\nimport { SVGElement } from './SVGElement'\n\nexport class PatternElement extends Element {\n  override type = 'pattern'\n\n  createPattern(\n    ctx: RenderingContext2D,\n    _: Element,\n    parentOpacityProp: Property\n  ) {\n    const width = this.getStyle('width').getPixels('x', true)\n    const height = this.getStyle('height').getPixels('y', true)\n    // render me using a temporary svg element\n    const patternSvg = new SVGElement(\n      this.document,\n      null\n    )\n\n    patternSvg.attributes.viewBox = new Property(\n      this.document,\n      'viewBox',\n      this.getAttribute('viewBox').getValue()\n    )\n    patternSvg.attributes.width = new Property(\n      this.document,\n      'width',\n      `${width}px`\n    )\n    patternSvg.attributes.height = new Property(\n      this.document,\n      'height',\n      `${height}px`\n    )\n    patternSvg.attributes.transform = new Property(\n      this.document,\n      'transform',\n      this.getAttribute('patternTransform').getValue()\n    )\n    patternSvg.children = this.children\n\n    const patternCanvas = this.document.createCanvas(width, height)\n    const patternCtx = patternCanvas.getContext('2d')\n    const xAttr = this.getAttribute('x')\n    const yAttr = this.getAttribute('y')\n\n    if (xAttr.hasValue() && yAttr.hasValue()) {\n      patternCtx.translate(\n        xAttr.getPixels('x', true),\n        yAttr.getPixels('y', true)\n      )\n    }\n\n    if (parentOpacityProp.hasValue()) {\n      this.styles['fill-opacity'] = parentOpacityProp\n    } else {\n      Reflect.deleteProperty(this.styles, 'fill-opacity')\n    }\n\n    // render 3x3 grid so when we transform there's no white space on edges\n    for (let x = -1; x <= 1; x++) {\n      for (let y = -1; y <= 1; y++) {\n        patternCtx.save()\n        patternSvg.attributes.x = new Property(\n          this.document,\n          'x',\n          x * patternCanvas.width\n        )\n        patternSvg.attributes.y = new Property(\n          this.document,\n          'y',\n          y * patternCanvas.height\n        )\n        patternSvg.render(patternCtx)\n        patternCtx.restore()\n      }\n    }\n\n    const pattern = ctx.createPattern(patternCanvas as CanvasImageSource, 'repeat')\n\n    return pattern\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Point } from '../Point'\nimport { Property } from '../Property'\nimport { Element } from './Element'\nimport { SVGElement } from './SVGElement'\n\nexport class MarkerElement extends Element {\n  override type = 'marker'\n\n  override render(ctx: RenderingContext2D, point?: Point, angle?: number) {\n    if (!point) {\n      return\n    }\n\n    const {\n      x,\n      y\n    } = point\n    const orient = this.getAttribute('orient').getString('auto')\n    const markerUnits = this.getAttribute('markerUnits').getString('strokeWidth')\n\n    ctx.translate(x, y)\n\n    if (orient === 'auto') {\n      ctx.rotate(angle)\n    }\n\n    if (markerUnits === 'strokeWidth') {\n      ctx.scale(ctx.lineWidth, ctx.lineWidth)\n    }\n\n    ctx.save()\n\n    // render me using a temporary svg element\n    const markerSvg = new SVGElement(this.document)\n\n    markerSvg.type = this.type\n    markerSvg.attributes.viewBox = new Property(\n      this.document,\n      'viewBox',\n      this.getAttribute('viewBox').getValue()\n    )\n    markerSvg.attributes.refX = new Property(\n      this.document,\n      'refX',\n      this.getAttribute('refX').getValue()\n    )\n    markerSvg.attributes.refY = new Property(\n      this.document,\n      'refY',\n      this.getAttribute('refY').getValue()\n    )\n    markerSvg.attributes.width = new Property(\n      this.document,\n      'width',\n      this.getAttribute('markerWidth').getValue()\n    )\n    markerSvg.attributes.height = new Property(\n      this.document,\n      'height',\n      this.getAttribute('markerHeight').getValue()\n    )\n    markerSvg.attributes.overflow = new Property(\n      this.document,\n      'overflow',\n      this.getAttribute('overflow').getValue()\n    )\n    markerSvg.attributes.fill = new Property(\n      this.document,\n      'fill',\n      this.getAttribute('fill').getColor('black')\n    )\n    markerSvg.attributes.stroke = new Property(\n      this.document,\n      'stroke',\n      this.getAttribute('stroke').getValue('none')\n    )\n    markerSvg.children = this.children\n\n    markerSvg.render(ctx)\n\n    ctx.restore()\n\n    if (markerUnits === 'strokeWidth') {\n      ctx.scale(1 / ctx.lineWidth, 1 / ctx.lineWidth)\n    }\n\n    if (orient === 'auto') {\n      ctx.rotate(-angle)\n    }\n\n    ctx.translate(-x, -y)\n  }\n}\n","import { Element } from './Element'\n\nexport class DefsElement extends Element {\n  override type = 'defs'\n\n  override render() {\n    // NOOP\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Document } from './Document'\nimport { PathElement } from './PathElement'\nimport { GradientElement } from './GradientElement'\n\nexport class LinearGradientElement extends GradientElement {\n  override type = 'linearGradient'\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.attributesToInherit.push(\n      'x1',\n      'y1',\n      'x2',\n      'y2'\n    )\n  }\n\n  getGradient(ctx: RenderingContext2D, element: PathElement) {\n    const isBoundingBoxUnits = this.getGradientUnits() === 'objectBoundingBox'\n    const boundingBox = isBoundingBoxUnits\n      ? element.getBoundingBox(ctx)\n      : null\n\n    if (isBoundingBoxUnits && !boundingBox) {\n      return null\n    }\n\n    if (!this.getAttribute('x1').hasValue()\n      && !this.getAttribute('y1').hasValue()\n      && !this.getAttribute('x2').hasValue()\n      && !this.getAttribute('y2').hasValue()\n    ) {\n      this.getAttribute('x1', true).setValue(0)\n      this.getAttribute('y1', true).setValue(0)\n      this.getAttribute('x2', true).setValue(1)\n      this.getAttribute('y2', true).setValue(0)\n    }\n\n    const x1 = isBoundingBoxUnits\n      ? boundingBox.x + boundingBox.width * this.getAttribute('x1').getNumber()\n      : this.getAttribute('x1').getPixels('x')\n    const y1 = isBoundingBoxUnits\n      ? boundingBox.y + boundingBox.height * this.getAttribute('y1').getNumber()\n      : this.getAttribute('y1').getPixels('y')\n    const x2 = isBoundingBoxUnits\n      ? boundingBox.x + boundingBox.width * this.getAttribute('x2').getNumber()\n      : this.getAttribute('x2').getPixels('x')\n    const y2 = isBoundingBoxUnits\n      ? boundingBox.y + boundingBox.height * this.getAttribute('y2').getNumber()\n      : this.getAttribute('y2').getPixels('y')\n\n    if (x1 === x2 && y1 === y2) {\n      return null\n    }\n\n    return ctx.createLinearGradient(x1, y1, x2, y2)\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Document } from './Document'\nimport { PathElement } from './PathElement'\nimport { GradientElement } from './GradientElement'\n\nexport class RadialGradientElement extends GradientElement {\n  override type = 'radialGradient'\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.attributesToInherit.push(\n      'cx',\n      'cy',\n      'r',\n      'fx',\n      'fy',\n      'fr'\n    )\n  }\n\n  getGradient(ctx: RenderingContext2D, element: PathElement) {\n    const isBoundingBoxUnits = this.getGradientUnits() === 'objectBoundingBox'\n    const boundingBox = element.getBoundingBox(ctx)\n\n    if (isBoundingBoxUnits && !boundingBox) {\n      return null\n    }\n\n    if (!this.getAttribute('cx').hasValue()) {\n      this.getAttribute('cx', true).setValue('50%')\n    }\n\n    if (!this.getAttribute('cy').hasValue()) {\n      this.getAttribute('cy', true).setValue('50%')\n    }\n\n    if (!this.getAttribute('r').hasValue()) {\n      this.getAttribute('r', true).setValue('50%')\n    }\n\n    const cx = isBoundingBoxUnits\n      ? boundingBox.x + boundingBox.width * this.getAttribute('cx').getNumber()\n      : this.getAttribute('cx').getPixels('x')\n    const cy = isBoundingBoxUnits\n      ? boundingBox.y + boundingBox.height * this.getAttribute('cy').getNumber()\n      : this.getAttribute('cy').getPixels('y')\n    let fx = cx\n    let fy = cy\n\n    if (this.getAttribute('fx').hasValue()) {\n      fx = isBoundingBoxUnits\n        ? boundingBox.x + boundingBox.width * this.getAttribute('fx').getNumber()\n        : this.getAttribute('fx').getPixels('x')\n    }\n\n    if (this.getAttribute('fy').hasValue()) {\n      fy = isBoundingBoxUnits\n        ? boundingBox.y + boundingBox.height * this.getAttribute('fy').getNumber()\n        : this.getAttribute('fy').getPixels('y')\n    }\n\n    const r = isBoundingBoxUnits\n      ? (boundingBox.width + boundingBox.height) / 2.0 * this.getAttribute('r').getNumber()\n      : this.getAttribute('r').getPixels()\n    const fr = this.getAttribute('fr').getPixels()\n\n    return ctx.createRadialGradient(fx, fy, fr, cx, cy, r)\n  }\n}\n","import { Document } from './Document'\nimport { Element } from './Element'\n\nexport class StopElement extends Element {\n  override type = 'stop'\n  readonly offset: number\n  readonly color: string\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    const offset = Math.max(0, Math.min(1, this.getAttribute('offset').getNumber()))\n    const stopOpacity = this.getStyle('stop-opacity')\n    let stopColor = this.getStyle('stop-color', true)\n\n    if (stopColor.getString() === '') {\n      stopColor.setValue('#000')\n    }\n\n    if (stopOpacity.hasValue()) {\n      stopColor = stopColor.addOpacity(stopOpacity)\n    }\n\n    this.offset = offset\n    this.color = stopColor.getColor()\n  }\n}\n","import RGBColor from 'rgbcolor'\nimport { AnimateElement } from './AnimateElement'\n\nexport class AnimateColorElement extends AnimateElement {\n  override type = 'animateColor'\n\n  override calcValue() {\n    const {\n      progress,\n      from,\n      to\n    } = this.getProgress()\n    const colorFrom = new RGBColor(from.getColor())\n    const colorTo = new RGBColor(to.getColor())\n\n    if (colorFrom.ok && colorTo.ok) {\n      // tween color linearly\n      const r = colorFrom.r + (colorTo.r - colorFrom.r) * progress\n      const g = colorFrom.g + (colorTo.g - colorFrom.g) * progress\n      const b = colorFrom.b + (colorTo.b - colorFrom.b) * progress\n\n      // ? alpha\n      return `rgb(${\n        Math.floor(r)\n      }, ${\n        Math.floor(g)\n      }, ${\n        Math.floor(b)\n      })`\n    }\n\n    return this.getAttribute('from').getColor()\n  }\n}\n","import { toNumbers } from '../util'\nimport { AnimateElement } from './AnimateElement'\n\nexport class AnimateTransformElement extends AnimateElement {\n  override type = 'animateTransform'\n\n  override calcValue() {\n    const {\n      progress,\n      from,\n      to\n    } = this.getProgress()\n    // tween value linearly\n    const transformFrom = toNumbers(from.getString())\n    const transformTo = toNumbers(to.getString())\n    const newValue = transformFrom.map((from, i) => {\n      const to = transformTo[i]\n\n      return from + (to - from) * progress\n    }).join(' ')\n\n    return newValue\n  }\n}\n","import { Document } from './Document'\nimport { Element } from './Element'\nimport { FontFaceElement } from './FontFaceElement'\nimport { MissingGlyphElement } from './MissingGlyphElement'\nimport { ArabicForm, GlyphElement } from './GlyphElement'\n\nexport class FontElement extends Element {\n  override type = 'font'\n  readonly isArabic: boolean = false\n  readonly missingGlyph: MissingGlyphElement | undefined\n  readonly glyphs: Record<string, GlyphElement> = {}\n  readonly arabicGlyphs: Record<string, Partial<Record<ArabicForm, GlyphElement>>> = {}\n  readonly horizAdvX: number\n  readonly isRTL: boolean = false\n  readonly fontFace: FontFaceElement | undefined\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.horizAdvX = this.getAttribute('horiz-adv-x').getNumber()\n\n    const { definitions } = document\n    const { children } = this\n\n    for (const child of children) {\n      if (child instanceof FontFaceElement) {\n        this.fontFace = child\n\n        const fontFamilyStyle = child.getStyle('font-family')\n\n        if (fontFamilyStyle.hasValue()) {\n          definitions[fontFamilyStyle.getString()] = this\n        }\n      } else\n      if (child instanceof MissingGlyphElement) {\n        this.missingGlyph = child\n      } else\n      if (child instanceof GlyphElement) {\n        if (child.arabicForm) {\n          this.isRTL = true\n          this.isArabic = true\n\n          const arabicGlyph = this.arabicGlyphs[child.unicode]\n\n          if (typeof arabicGlyph === 'undefined') {\n            this.arabicGlyphs[child.unicode] = {\n              [child.arabicForm]: child\n            }\n          } else {\n            arabicGlyph[child.arabicForm] = child\n          }\n        } else {\n          this.glyphs[child.unicode] = child\n        }\n      }\n    }\n  }\n\n  override render() {\n    // NO RENDER\n  }\n}\n","import { TextElement } from './TextElement'\n\nexport class TRefElement extends TextElement {\n  override type = 'tref'\n\n  override getText() {\n    const element = this.getHrefAttribute().getDefinition()\n\n    if (element) {\n      const firstChild = element.children[0] as TextElement\n\n      if (firstChild) {\n        return firstChild.getText()\n      }\n    }\n\n    return ''\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Property } from '../Property'\nimport { Font } from '../Font'\nimport { BoundingBox } from '../BoundingBox'\nimport { Document } from './Document'\nimport { TextElement } from './TextElement'\nimport { GElement } from './GElement'\n\nexport class AElement extends TextElement {\n  override type = 'a'\n  protected readonly hasText: boolean\n  protected readonly text: string\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    const { childNodes } = node\n    const firstChild = childNodes[0]\n    const hasText = childNodes.length > 0\n      && Array.from(childNodes).every(node => node.nodeType === 3)\n\n    this.hasText = hasText\n    this.text = hasText\n      ? this.getTextFromNode(firstChild)\n      : ''\n  }\n\n  override getText() {\n    return this.text\n  }\n\n  override renderChildren(ctx: RenderingContext2D) {\n    if (this.hasText) {\n      // render as text element\n      super.renderChildren(ctx)\n\n      const {\n        document,\n        x,\n        y\n      } = this\n      const { mouse } = document.screen\n      const fontSize = new Property(\n        document,\n        'fontSize',\n        Font.parse(document.ctx.font).fontSize\n      )\n\n      // Do not calc bounding box if mouse is not working.\n      if (mouse.isWorking()) {\n        mouse.checkBoundingBox(\n          this,\n          new BoundingBox(\n            x,\n            y - fontSize.getPixels('y'),\n            x + this.measureText(ctx),\n            y\n          )\n        )\n      }\n    } else\n    if (this.children.length > 0) {\n      // render as temporary group\n      const g = new GElement(this.document)\n\n      g.children = this.children\n      g.parent = this\n      g.render(ctx)\n    }\n  }\n\n  onClick() {\n    const { window } = this.document\n\n    if (window) {\n      window.open(this.getHrefAttribute().getString())\n    }\n  }\n\n  onMouseMove() {\n    const ctx = this.document.ctx as CanvasRenderingContext2D\n\n    ctx.canvas.style.cursor = 'pointer'\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport {\n  PSEUDO_ZERO,\n  CB1,\n  CB2,\n  CB3,\n  CB4,\n  QB1,\n  QB2,\n  QB3\n} from '../util'\nimport { PathParser, CommandType } from '../PathParser'\nimport { Document } from './Document'\nimport { TextElement } from './TextElement'\nimport { PathElement } from './PathElement'\n\nexport interface IPoint {\n  x: number\n  y: number\n}\n\nexport interface IPathCommand {\n  type: CommandType\n  points: number[]\n  start?: IPoint\n  pathLength: number\n}\n\ninterface ICachedPoint extends IPoint {\n  distance: number\n}\n\ninterface IEquidistantCache {\n  step: number\n  precision: number\n  points: ICachedPoint[]\n}\n\ninterface IGlyphInfo {\n  // transposeX: number;\n  // transposeY: number;\n  text: string\n  rotation: number\n  p0: ICachedPoint\n  p1: ICachedPoint\n}\n\nexport class TextPathElement extends TextElement {\n  override type = 'textPath'\n  protected textWidth = 0\n  protected textHeight = 0\n  protected pathLength = -1\n  protected glyphInfo: IGlyphInfo[] = null\n  protected readonly text: string\n  protected readonly dataArray: IPathCommand[]\n  private letterSpacingCache: number[] = []\n  private equidistantCache: IEquidistantCache\n  private readonly measuresCache = new Map<string, number>([['', 0]])\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    const pathElement = this.getHrefAttribute().getDefinition<PathElement>()\n\n    this.text = this.getTextFromNode()\n    this.dataArray = this.parsePathData(pathElement)\n  }\n\n  override getText() {\n    return this.text\n  }\n\n  path(ctx: RenderingContext2D) {\n    const { dataArray } = this\n\n    if (ctx) {\n      ctx.beginPath()\n    }\n\n    dataArray.forEach(({\n      type,\n      points\n    }) => {\n      switch (type) {\n        case PathParser.LINE_TO:\n\n          if (ctx) {\n            ctx.lineTo(points[0], points[1])\n          }\n\n          break\n\n        case PathParser.MOVE_TO:\n\n          if (ctx) {\n            ctx.moveTo(points[0], points[1])\n          }\n\n          break\n\n        case PathParser.CURVE_TO:\n\n          if (ctx) {\n            ctx.bezierCurveTo(\n              points[0],\n              points[1],\n              points[2],\n              points[3],\n              points[4],\n              points[5]\n            )\n          }\n\n          break\n\n        case PathParser.QUAD_TO:\n\n          if (ctx) {\n            ctx.quadraticCurveTo(\n              points[0],\n              points[1],\n              points[2],\n              points[3]\n            )\n          }\n\n          break\n\n        case PathParser.ARC: {\n          const [\n            cx,\n            cy,\n            rx,\n            ry,\n            theta,\n            dTheta,\n            psi,\n            fs\n          ] = points\n          const r = rx > ry ? rx : ry\n          const scaleX = rx > ry ? 1 : rx / ry\n          const scaleY = rx > ry ? ry / rx : 1\n\n          if (ctx) {\n            ctx.translate(cx, cy)\n            ctx.rotate(psi)\n            ctx.scale(scaleX, scaleY)\n            ctx.arc(0, 0, r, theta, theta + dTheta, Boolean(1 - fs))\n            ctx.scale(1 / scaleX, 1 / scaleY)\n            ctx.rotate(-psi)\n            ctx.translate(-cx, -cy)\n          }\n\n          break\n        }\n\n        case PathParser.CLOSE_PATH:\n\n          if (ctx) {\n            ctx.closePath()\n          }\n\n          break\n\n        default:\n      }\n    })\n  }\n\n  override renderChildren(ctx: RenderingContext2D) {\n    this.setTextData(ctx)\n    ctx.save()\n\n    const textDecoration = this.parent.getStyle('text-decoration').getString()\n    const fontSize = this.getFontSize()\n    const { glyphInfo } = this\n    const fill = ctx.fillStyle\n\n    if (textDecoration === 'underline') {\n      ctx.beginPath()\n    }\n\n    glyphInfo.forEach((glyph, i) => {\n      const {\n        p0,\n        p1,\n        rotation,\n        text: partialText\n      } = glyph\n\n      ctx.save()\n      ctx.translate(p0.x, p0.y)\n      ctx.rotate(rotation)\n\n      if (ctx.fillStyle) {\n        ctx.fillText(partialText, 0, 0)\n      }\n\n      if (ctx.strokeStyle) {\n        ctx.strokeText(partialText, 0, 0)\n      }\n\n      ctx.restore()\n\n      if (textDecoration === 'underline') {\n        if (i === 0) {\n          ctx.moveTo(p0.x, p0.y + fontSize / 8)\n        }\n\n        ctx.lineTo(p1.x, p1.y + fontSize / 5)\n      }\n\n      // // To assist with debugging visually, uncomment following\n      //\n      // ctx.beginPath();\n      // if (i % 2)\n      //   ctx.strokeStyle = 'red';\n      // else\n      //   ctx.strokeStyle = 'green';\n      // ctx.moveTo(p0.x, p0.y);\n      // ctx.lineTo(p1.x, p1.y);\n      // ctx.stroke();\n      // ctx.closePath();\n    })\n\n    if (textDecoration === 'underline') {\n      ctx.lineWidth = fontSize / 20\n      ctx.strokeStyle = fill\n      ctx.stroke()\n      ctx.closePath()\n    }\n\n    ctx.restore()\n  }\n\n  protected getLetterSpacingAt(idx = 0) {\n    return this.letterSpacingCache[idx] || 0\n  }\n\n  protected findSegmentToFitChar(\n    ctx: RenderingContext2D,\n    anchor: string,\n    textFullWidth: number,\n    fullPathWidth: number,\n    spacesNumber: number,\n    inputOffset: number,\n    dy: number,\n    c: string,\n    charI: number\n  ) {\n    let offset = inputOffset\n    let glyphWidth = this.measureText(ctx, c)\n\n    if (c === ' '\n      && anchor === 'justify'\n      && textFullWidth < fullPathWidth\n    ) {\n      glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber\n    }\n\n    if (charI > -1) {\n      offset += this.getLetterSpacingAt(charI)\n    }\n\n    const splineStep = this.textHeight / 20\n    const p0 = this.getEquidistantPointOnPath(offset, splineStep, 0)\n    const p1 = this.getEquidistantPointOnPath(offset + glyphWidth, splineStep, 0)\n    const segment = {\n      p0,\n      p1\n    }\n    const rotation = p0 && p1\n      ? Math.atan2(\n        p1.y - p0.y,\n        p1.x - p0.x\n      )\n      : 0\n\n    if (dy) {\n      const dyX = Math.cos(Math.PI / 2 + rotation) * dy\n      const dyY = Math.cos(-rotation) * dy\n\n      segment.p0 = {\n        ...p0,\n        x: p0.x + dyX,\n        y: p0.y + dyY\n      }\n      segment.p1 = {\n        ...p1,\n        x: p1.x + dyX,\n        y: p1.y + dyY\n      }\n    }\n\n    offset += glyphWidth\n\n    return {\n      offset,\n      segment,\n      rotation\n    }\n  }\n\n  protected override measureText(\n    ctx: RenderingContext2D,\n    text?: string\n  ) {\n    const { measuresCache } = this\n    const targetText = text || this.getText()\n\n    if (measuresCache.has(targetText)) {\n      return measuresCache.get(targetText)\n    }\n\n    const measure = this.measureTargetText(ctx, targetText)\n\n    measuresCache.set(targetText, measure)\n\n    return measure\n  }\n\n  // This method supposes what all custom fonts already loaded.\n  // If some font will be loaded after this method call, <textPath> will not be rendered correctly.\n  // You need to call this method manually to update glyphs cache.\n  protected setTextData(ctx: RenderingContext2D) {\n    if (this.glyphInfo) {\n      return\n    }\n\n    const renderText = this.getText()\n    const chars = renderText.split('')\n    const spacesNumber = renderText.split(' ').length - 1\n    const dx = this.parent.getAttribute('dx').split().map(_ => _.getPixels('x'))\n    const dy = this.parent.getAttribute('dy').getPixels('y')\n    const anchor = this.parent.getStyle('text-anchor').getString('start')\n    const thisSpacing = this.getStyle('letter-spacing')\n    const parentSpacing = this.parent.getStyle('letter-spacing')\n    let letterSpacing = 0\n\n    if (!thisSpacing.hasValue()\n      || thisSpacing.getValue() === 'inherit'\n    ) {\n      letterSpacing = parentSpacing.getPixels()\n    } else\n    if (thisSpacing.hasValue()) {\n      if (thisSpacing.getValue() !== 'initial'\n        && thisSpacing.getValue() !== 'unset'\n      ) {\n        letterSpacing = thisSpacing.getPixels()\n      }\n    }\n\n    // fill letter-spacing cache\n    const letterSpacingCache: number[] = []\n    const textLen = renderText.length\n\n    this.letterSpacingCache = letterSpacingCache\n\n    for (let i = 0; i < textLen; i++) {\n      letterSpacingCache.push(\n        typeof dx[i] !== 'undefined'\n          ? dx[i]\n          : letterSpacing\n      )\n    }\n\n    const dxSum = letterSpacingCache.reduce(\n      (acc, cur, i) => (\n        i === 0\n          ? 0\n          : acc + cur || 0\n      ),\n      0\n    )\n    const textWidth = this.measureText(ctx)\n    const textFullWidth = Math.max(textWidth + dxSum, 0)\n\n    this.textWidth = textWidth\n    this.textHeight = this.getFontSize()\n    this.glyphInfo = []\n\n    const fullPathWidth = this.getPathLength()\n    const startOffset = this.getStyle('startOffset').getNumber(0) * fullPathWidth\n    let offset = 0\n\n    if (anchor === 'middle'\n      || anchor === 'center'\n    ) {\n      offset = -textFullWidth / 2\n    }\n\n    if (anchor === 'end'\n      || anchor === 'right'\n    ) {\n      offset = -textFullWidth\n    }\n\n    offset += startOffset\n\n    chars.forEach((char, i) => {\n      // Find such segment what distance between p0 and p1 is approx. width of glyph\n      const {\n        offset: nextOffset,\n        segment,\n        rotation\n      } = this.findSegmentToFitChar(\n        ctx,\n        anchor,\n        textFullWidth,\n        fullPathWidth,\n        spacesNumber,\n        offset,\n        dy,\n        char,\n        i\n      )\n\n      offset = nextOffset\n\n      if (!segment.p0 || !segment.p1) {\n        return\n      }\n\n      // const width = this.getLineLength(\n      //   segment.p0.x,\n      //   segment.p0.y,\n      //   segment.p1.x,\n      //   segment.p1.y\n      // );\n      // Note: Since glyphs are rendered one at a time, any kerning pair data built into the font will not be used.\n      // Can foresee having a rough pair table built in that the developer can override as needed.\n      // Or use \"dx\" attribute of the <text> node as a naive replacement\n      // const kern = 0;\n      // placeholder for future implementation\n      // const midpoint = this.getPointOnLine(\n      //   kern + width / 2.0,\n      //   segment.p0.x, segment.p0.y, segment.p1.x, segment.p1.y\n      // );\n\n      this.glyphInfo.push({\n        // transposeX: midpoint.x,\n        // transposeY: midpoint.y,\n        text: chars[i],\n        p0: segment.p0,\n        p1: segment.p1,\n        rotation\n      })\n    })\n  }\n\n  protected parsePathData(path: PathElement) {\n    this.pathLength = -1 // reset path length\n\n    if (!path) {\n      return []\n    }\n\n    const pathCommands: IPathCommand[] = []\n    const { pathParser } = path\n\n    pathParser.reset()\n\n    // convert l, H, h, V, and v to L\n    while (!pathParser.isEnd()) {\n      const { current } = pathParser\n      const startX = current ? current.x : 0\n      const startY = current ? current.y : 0\n      const command = pathParser.next()\n      let nextCommandType: CommandType = command.type\n      let points: number[] = []\n\n      switch (command.type) {\n        case PathParser.MOVE_TO:\n          this.pathM(pathParser, points)\n          break\n\n        case PathParser.LINE_TO:\n          nextCommandType = this.pathL(pathParser, points)\n          break\n\n        case PathParser.HORIZ_LINE_TO:\n          nextCommandType = this.pathH(pathParser, points)\n          break\n\n        case PathParser.VERT_LINE_TO:\n          nextCommandType = this.pathV(pathParser, points)\n          break\n\n        case PathParser.CURVE_TO:\n          this.pathC(pathParser, points)\n          break\n\n        case PathParser.SMOOTH_CURVE_TO:\n          nextCommandType = this.pathS(pathParser, points)\n          break\n\n        case PathParser.QUAD_TO:\n          this.pathQ(pathParser, points)\n          break\n\n        case PathParser.SMOOTH_QUAD_TO:\n          nextCommandType = this.pathT(pathParser, points)\n          break\n\n        case PathParser.ARC:\n          points = this.pathA(pathParser)\n          break\n\n        case PathParser.CLOSE_PATH:\n          PathElement.pathZ(pathParser)\n          break\n\n        default:\n      }\n\n      if (command.type !== PathParser.CLOSE_PATH) {\n        pathCommands.push({\n          type: nextCommandType,\n          points,\n          start: {\n            x: startX,\n            y: startY\n          },\n          pathLength: this.calcLength(startX, startY, nextCommandType, points)\n        })\n      } else {\n        pathCommands.push({\n          type: PathParser.CLOSE_PATH,\n          points: [],\n          pathLength: 0\n        })\n      }\n    }\n\n    return pathCommands\n  }\n\n  protected pathM(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      x,\n      y\n    } = PathElement.pathM(pathParser).point\n\n    points.push(x, y)\n  }\n\n  protected pathL(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      x,\n      y\n    } = PathElement.pathL(pathParser).point\n\n    points.push(x, y)\n\n    return PathParser.LINE_TO\n  }\n\n  protected pathH(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      x,\n      y\n    } = PathElement.pathH(pathParser).point\n\n    points.push(x, y)\n\n    return PathParser.LINE_TO\n  }\n\n  protected pathV(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      x,\n      y\n    } = PathElement.pathV(pathParser).point\n\n    points.push(x, y)\n\n    return PathParser.LINE_TO\n  }\n\n  protected pathC(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      point,\n      controlPoint,\n      currentPoint\n    } = PathElement.pathC(pathParser)\n\n    points.push(\n      point.x,\n      point.y,\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n  }\n\n  protected pathS(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      point,\n      controlPoint,\n      currentPoint\n    } = PathElement.pathS(pathParser)\n\n    points.push(\n      point.x,\n      point.y,\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n\n    return PathParser.CURVE_TO\n  }\n\n  protected pathQ(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      controlPoint,\n      currentPoint\n    } = PathElement.pathQ(pathParser)\n\n    points.push(\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n  }\n\n  protected pathT(\n    pathParser: PathParser,\n    points: number[]\n  ) {\n    const {\n      controlPoint,\n      currentPoint\n    } = PathElement.pathT(pathParser)\n\n    points.push(\n      controlPoint.x,\n      controlPoint.y,\n      currentPoint.x,\n      currentPoint.y\n    )\n\n    return PathParser.QUAD_TO\n  }\n\n  protected pathA(\n    pathParser: PathParser\n  ) {\n    let {\n      rX,\n      rY,\n      sweepFlag,\n      xAxisRotation,\n      centp,\n      a1,\n      ad\n    } = PathElement.pathA(pathParser)\n\n    if (sweepFlag === 0 && ad > 0) {\n      ad -= 2 * Math.PI\n    }\n\n    if (sweepFlag === 1 && ad < 0) {\n      ad += 2 * Math.PI\n    }\n\n    return [\n      centp.x,\n      centp.y,\n      rX,\n      rY,\n      a1,\n      ad,\n      xAxisRotation,\n      sweepFlag\n    ]\n  }\n\n  protected calcLength(\n    x: number,\n    y: number,\n    commandType: CommandType,\n    points: number[]\n  ) {\n    let len = 0\n    let p1: IPoint = null\n    let p2: IPoint = null\n    let t = 0\n\n    switch (commandType) {\n      case PathParser.LINE_TO:\n        return this.getLineLength(x, y, points[0], points[1])\n\n      case PathParser.CURVE_TO:\n        // Approximates by breaking curve into 100 line segments\n        len = 0.0\n        p1 = this.getPointOnCubicBezier(\n          0,\n          x,\n          y,\n          points[0],\n          points[1],\n          points[2],\n          points[3],\n          points[4],\n          points[5]\n        )\n\n        for (t = 0.01; t <= 1; t += 0.01) {\n          p2 = this.getPointOnCubicBezier(\n            t,\n            x,\n            y,\n            points[0],\n            points[1],\n            points[2],\n            points[3],\n            points[4],\n            points[5]\n          )\n          len += this.getLineLength(p1.x, p1.y, p2.x, p2.y)\n          p1 = p2\n        }\n\n        return len\n\n      case PathParser.QUAD_TO:\n        // Approximates by breaking curve into 100 line segments\n        len = 0.0\n        p1 = this.getPointOnQuadraticBezier(\n          0,\n          x,\n          y,\n          points[0],\n          points[1],\n          points[2],\n          points[3]\n        )\n\n        for (t = 0.01; t <= 1; t += 0.01) {\n          p2 = this.getPointOnQuadraticBezier(\n            t,\n            x,\n            y,\n            points[0],\n            points[1],\n            points[2],\n            points[3]\n          )\n          len += this.getLineLength(\n            p1.x,\n            p1.y,\n            p2.x,\n            p2.y\n          )\n          p1 = p2\n        }\n\n        return len\n\n      case PathParser.ARC: {\n        // Approximates by breaking curve into line segments\n        len = 0.0\n\n        const start = points[4]\n        // 4 = theta\n        const dTheta = points[5]\n        // 5 = dTheta\n        const end = points[4] + dTheta\n        let inc = Math.PI / 180.0\n\n        // 1 degree resolution\n        if (Math.abs(start - end) < inc) {\n          inc = Math.abs(start - end)\n        }\n\n        // Note: for purpose of calculating arc length, not going to worry about rotating X-axis by angle psi\n        p1 = this.getPointOnEllipticalArc(\n          points[0],\n          points[1],\n          points[2],\n          points[3],\n          start,\n          0\n        )\n\n        if (dTheta < 0) { // clockwise\n          for (t = start - inc; t > end; t -= inc) {\n            p2 = this.getPointOnEllipticalArc(\n              points[0],\n              points[1],\n              points[2],\n              points[3],\n              t,\n              0\n            )\n            len += this.getLineLength(p1.x, p1.y, p2.x, p2.y)\n            p1 = p2\n          }\n        } else { // counter-clockwise\n          for (t = start + inc; t < end; t += inc) {\n            p2 = this.getPointOnEllipticalArc(\n              points[0],\n              points[1],\n              points[2],\n              points[3],\n              t,\n              0\n            )\n            len += this.getLineLength(p1.x, p1.y, p2.x, p2.y)\n            p1 = p2\n          }\n        }\n\n        p2 = this.getPointOnEllipticalArc(\n          points[0],\n          points[1],\n          points[2],\n          points[3],\n          end,\n          0\n        )\n        len += this.getLineLength(p1.x, p1.y, p2.x, p2.y)\n\n        return len\n      }\n\n      default:\n    }\n\n    return 0\n  }\n\n  protected getPointOnLine(\n    dist: number,\n    p1x: number,\n    p1y: number,\n    p2x: number,\n    p2y: number,\n    fromX = p1x,\n    fromY = p1y\n  ) {\n    const m = (p2y - p1y) / ((p2x - p1x) + PSEUDO_ZERO)\n    let run = Math.sqrt(dist * dist / (1 + m * m))\n\n    if (p2x < p1x) {\n      run *= -1\n    }\n\n    let rise = m * run\n    let pt: IPoint = null\n\n    if (p2x === p1x) { // vertical line\n      pt = {\n        x: fromX,\n        y: fromY + rise\n      }\n    } else\n    if ((fromY - p1y) / ((fromX - p1x) + PSEUDO_ZERO) === m) {\n      pt = {\n        x: fromX + run,\n        y: fromY + rise\n      }\n    } else {\n      let ix = 0\n      let iy = 0\n      const len = this.getLineLength(p1x, p1y, p2x, p2y)\n\n      if (len < PSEUDO_ZERO) {\n        return null\n      }\n\n      let u =\n        ((fromX - p1x) * (p2x - p1x))\n        + ((fromY - p1y) * (p2y - p1y))\n\n      u /= len * len\n      ix = p1x + u * (p2x - p1x)\n      iy = p1y + u * (p2y - p1y)\n\n      const pRise = this.getLineLength(fromX, fromY, ix, iy)\n      const pRun = Math.sqrt(dist * dist - pRise * pRise)\n\n      run = Math.sqrt(pRun * pRun / (1 + m * m))\n\n      if (p2x < p1x) {\n        run *= -1\n      }\n\n      rise = m * run\n      pt = {\n        x: ix + run,\n        y: iy + rise\n      }\n    }\n\n    return pt\n  }\n\n  protected getPointOnPath(distance: number) {\n    const fullLen = this.getPathLength()\n    let cumulativePathLength = 0\n    let p: IPoint = null\n\n    if (distance < -0.00005\n      || distance - 0.00005 > fullLen\n    ) {\n      return null\n    }\n\n    const { dataArray } = this\n\n    for (const command of dataArray) {\n      if (command\n        && (\n          command.pathLength < 0.00005\n          || cumulativePathLength + command.pathLength + 0.00005 < distance\n        )\n      ) {\n        cumulativePathLength += command.pathLength\n        continue\n      }\n\n      const delta = distance - cumulativePathLength\n      let currentT = 0\n\n      switch (command.type) {\n        case PathParser.LINE_TO:\n          p = this.getPointOnLine(\n            delta,\n            command.start.x,\n            command.start.y,\n            command.points[0],\n            command.points[1],\n            command.start.x,\n            command.start.y\n          )\n          break\n\n        case PathParser.ARC: {\n          const start = command.points[4]\n          // 4 = theta\n          const dTheta = command.points[5]\n          // 5 = dTheta\n          const end = command.points[4] + dTheta\n\n          currentT = start + delta / command.pathLength * dTheta\n\n          if (dTheta < 0 && currentT < end\n            || dTheta >= 0 && currentT > end\n          ) {\n            break\n          }\n\n          p = this.getPointOnEllipticalArc(\n            command.points[0],\n            command.points[1],\n            command.points[2],\n            command.points[3],\n            currentT,\n            command.points[6]\n          )\n          break\n        }\n\n        case PathParser.CURVE_TO:\n\n          currentT = delta / command.pathLength\n\n          if (currentT > 1) {\n            currentT = 1\n          }\n\n          p = this.getPointOnCubicBezier(\n            currentT,\n            command.start.x,\n            command.start.y,\n            command.points[0],\n            command.points[1],\n            command.points[2],\n            command.points[3],\n            command.points[4],\n            command.points[5]\n          )\n          break\n\n        case PathParser.QUAD_TO:\n\n          currentT = delta / command.pathLength\n\n          if (currentT > 1) {\n            currentT = 1\n          }\n\n          p = this.getPointOnQuadraticBezier(\n            currentT,\n            command.start.x,\n            command.start.y,\n            command.points[0],\n            command.points[1],\n            command.points[2],\n            command.points[3]\n          )\n          break\n\n        default:\n      }\n\n      if (p) {\n        return p\n      }\n\n      break\n    }\n\n    return null\n  }\n\n  protected getLineLength(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number\n  ) {\n    return Math.sqrt(\n      (x2 - x1) * (x2 - x1)\n      + (y2 - y1) * (y2 - y1)\n    )\n  }\n\n  protected getPathLength() {\n    if (this.pathLength === -1) {\n      this.pathLength = this.dataArray.reduce<number>(\n        (length, command: IPathCommand) => (\n          command.pathLength > 0\n            ? length + command.pathLength\n            : length\n        ),\n        0\n      )\n    }\n\n    return this.pathLength\n  }\n\n  protected getPointOnCubicBezier(\n    pct: number,\n    p1x: number,\n    p1y: number,\n    p2x: number,\n    p2y: number,\n    p3x: number,\n    p3y: number,\n    p4x: number,\n    p4y: number\n  ): IPoint {\n    const x = p4x * CB1(pct) + p3x * CB2(pct) + p2x * CB3(pct) + p1x * CB4(pct)\n    const y = p4y * CB1(pct) + p3y * CB2(pct) + p2y * CB3(pct) + p1y * CB4(pct)\n\n    return {\n      x,\n      y\n    }\n  }\n\n  protected getPointOnQuadraticBezier(\n    pct: number,\n    p1x: number,\n    p1y: number,\n    p2x: number,\n    p2y: number,\n    p3x: number,\n    p3y: number\n  ): IPoint {\n    const x = p3x * QB1(pct) + p2x * QB2(pct) + p1x * QB3(pct)\n    const y = p3y * QB1(pct) + p2y * QB2(pct) + p1y * QB3(pct)\n\n    return {\n      x,\n      y\n    }\n  }\n\n  protected getPointOnEllipticalArc(\n    cx: number,\n    cy: number,\n    rx: number,\n    ry: number,\n    theta: number,\n    psi: number\n  ): IPoint {\n    const cosPsi = Math.cos(psi)\n    const sinPsi = Math.sin(psi)\n    const pt = {\n      x: rx * Math.cos(theta),\n      y: ry * Math.sin(theta)\n    }\n\n    return {\n      x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n      y: cy + (pt.x * sinPsi + pt.y * cosPsi)\n    }\n  }\n\n  // TODO need some optimisations. possibly build cache only for curved segments?\n  protected buildEquidistantCache(\n    inputStep: number,\n    inputPrecision: number\n  ) {\n    const fullLen = this.getPathLength()\n    const precision = inputPrecision || 0.25 // accuracy vs performance\n    const step = inputStep || fullLen / 100\n\n    if (!this.equidistantCache\n      || this.equidistantCache.step !== step\n      || this.equidistantCache.precision !== precision\n    ) {\n      // Prepare cache\n      this.equidistantCache = {\n        step,\n        precision,\n        points: []\n      }\n\n      // Calculate points\n      let s = 0\n\n      for (let l = 0; l <= fullLen; l += precision) {\n        const p0 = this.getPointOnPath(l)\n        const p1 = this.getPointOnPath(l + precision)\n\n        if (!p0 || !p1) {\n          continue\n        }\n\n        s += this.getLineLength(p0.x, p0.y, p1.x, p1.y)\n\n        if (s >= step) {\n          this.equidistantCache.points.push({\n            x: p0.x,\n            y: p0.y,\n            distance: l\n          })\n          s -= step\n        }\n      }\n    }\n  }\n\n  protected getEquidistantPointOnPath(\n    targetDistance: number,\n    step?: number,\n    precision?: number\n  ) {\n    this.buildEquidistantCache(step, precision)\n\n    if (targetDistance < 0\n      || targetDistance - this.getPathLength() > 0.00005\n    ) {\n      return null\n    }\n\n    const idx = Math.round(\n      targetDistance\n      / this.getPathLength()\n      * (this.equidistantCache.points.length - 1)\n    )\n\n    return this.equidistantCache.points[idx] || null\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { RenderedElement } from './RenderedElement'\n\nexport class SymbolElement extends RenderedElement {\n  override type = 'symbol'\n\n  override render(_: RenderingContext2D) {\n    // NO RENDER\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Property } from '../Property'\nimport { Transform } from '../Transform'\nimport { RenderedElement } from './RenderedElement'\nimport { PathElement } from './PathElement'\nimport { SVGElement } from './SVGElement'\n\nexport class UseElement extends RenderedElement {\n  override type = 'use'\n  private cachedElement: PathElement | undefined\n\n  override setContext(ctx: RenderingContext2D) {\n    super.setContext(ctx)\n\n    const xAttr = this.getAttribute('x')\n    const yAttr = this.getAttribute('y')\n\n    if (xAttr.hasValue()) {\n      ctx.translate(xAttr.getPixels('x'), 0)\n    }\n\n    if (yAttr.hasValue()) {\n      ctx.translate(0, yAttr.getPixels('y'))\n    }\n  }\n\n  path(ctx: RenderingContext2D) {\n    const { element } = this\n\n    if (element) {\n      element.path(ctx)\n    }\n  }\n\n  override renderChildren(ctx: RenderingContext2D) {\n    const {\n      document,\n      element\n    } = this\n\n    if (element) {\n      let tempSvg: RenderedElement = element\n\n      if (element.type === 'symbol') {\n        // render me using a temporary svg element in symbol cases (http://www.w3.org/TR/SVG/struct.html#UseElement)\n        tempSvg = new SVGElement(document)\n        tempSvg.attributes.viewBox = new Property(\n          document,\n          'viewBox',\n          element.getAttribute('viewBox').getString()\n        )\n        tempSvg.attributes.preserveAspectRatio = new Property(\n          document,\n          'preserveAspectRatio',\n          element.getAttribute('preserveAspectRatio').getString()\n        )\n        tempSvg.attributes.overflow = new Property(\n          document,\n          'overflow',\n          element.getAttribute('overflow').getString()\n        )\n        tempSvg.children = element.children\n\n        // element is still the parent of the children\n        element.styles.opacity = new Property(\n          document,\n          'opacity',\n          this.calculateOpacity()\n        )\n      }\n\n      if (tempSvg.type === 'svg') {\n        const widthStyle = this.getStyle('width', false, true)\n        const heightStyle = this.getStyle('height', false, true)\n\n        // if symbol or svg, inherit width/height from me\n        if (widthStyle.hasValue()) {\n          tempSvg.attributes.width = new Property(\n            document,\n            'width',\n            widthStyle.getString()\n          )\n        }\n\n        if (heightStyle.hasValue()) {\n          tempSvg.attributes.height = new Property(\n            document,\n            'height',\n            heightStyle.getString()\n          )\n        }\n      }\n\n      const oldParent = tempSvg.parent\n\n      tempSvg.parent = this\n      tempSvg.render(ctx)\n      tempSvg.parent = oldParent\n    }\n  }\n\n  getBoundingBox(ctx: CanvasRenderingContext2D) {\n    const { element } = this\n\n    if (element) {\n      return element.getBoundingBox(ctx)\n    }\n\n    return null\n  }\n\n  elementTransform() {\n    const {\n      document,\n      element\n    } = this\n\n    if (!element) {\n      return null\n    }\n\n    return Transform.fromElement(document, element)\n  }\n\n  protected get element() {\n    if (!this.cachedElement) {\n      this.cachedElement = this.getHrefAttribute().getDefinition()\n    }\n\n    return this.cachedElement\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Document } from './Document'\nimport { Element } from './Element'\n\nexport class FeDropShadowElement extends Element {\n  override type = 'feDropShadow'\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.addStylesFromStyleDefinition()\n  }\n\n  apply(\n    _: RenderingContext2D,\n    _x: number,\n    _y: number,\n    _width: number,\n    _height: number\n  ) {\n    // TODO: implement\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Element } from './Element'\n\nexport class FeMorphologyElement extends Element {\n  override type = 'feMorphology'\n\n  apply(\n    _: RenderingContext2D,\n    _x: number,\n    _y: number,\n    _width: number,\n    _height: number\n  ) {\n    // TODO: implement\n  }\n}\n","import { RenderingContext2D } from '../types'\nimport { Element } from './Element'\n\nexport class FeCompositeElement extends Element {\n  override type = 'feComposite'\n\n  apply(\n    _: RenderingContext2D,\n    _x: number,\n    _y: number,\n    _width: number,\n    _height: number\n  ) {\n    // TODO: implement\n  }\n}\n","import { canvasRGBA } from 'stackblur-canvas'\nimport { RenderingContext2D } from '../types'\nimport { Document } from './Document'\nimport { Element } from './Element'\n\nexport class FeGaussianBlurElement extends Element {\n  override type = 'feGaussianBlur'\n  readonly extraFilterDistance: number\n  protected readonly blurRadius: number\n\n  constructor(\n    document: Document,\n    node: HTMLElement,\n    captureTextNodes?: boolean\n  ) {\n    super(document, node, captureTextNodes)\n\n    this.blurRadius = Math.floor(this.getAttribute('stdDeviation').getNumber())\n    this.extraFilterDistance = this.blurRadius\n  }\n\n  apply(\n    ctx: RenderingContext2D,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  ) {\n    const {\n      document,\n      blurRadius\n    } = this\n    const body = document.window\n      ? document.window.document.body\n      : null\n    const canvas = ctx.canvas as HTMLCanvasElement\n\n    // StackBlur requires canvas be on document\n    canvas.id = document.getUniqueId()\n\n    if (body) {\n      canvas.style.display = 'none'\n      body.appendChild(canvas)\n    }\n\n    canvasRGBA(canvas, x, y, width, height, blurRadius)\n\n    if (body) {\n      body.removeChild(canvas)\n    }\n  }\n}\n","import { Element } from './Element'\n\nexport class TitleElement extends Element {\n  override type = 'title'\n}\n","import { Element } from './Element'\n\nexport class DescElement extends Element {\n  override type = 'desc'\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { Canvg } from '../Canvg'\nimport { IScreenViewBoxConfig, Screen } from '../Screen'\nimport { Property } from '../Property'\nimport { SVGFontLoader } from '../SVGFontLoader'\nimport { Element } from './Element'\nimport { UnknownElement } from './UnknownElement'\nimport { TextNode } from './TextNode'\nimport { ImageElement } from './ImageElement'\nimport { SVGElement } from './SVGElement'\nimport {\n  AnyElement,\n  elements as elementTypes\n} from './elements'\n\n/**\n * Function to create new canvas.\n */\nexport type CreateCanvas = (width: number, height: number) => HTMLCanvasElement | OffscreenCanvas\n\n/**\n * Function to create new image.\n */\nexport type CreateImage = (src: string, anonymousCrossOrigin?: boolean) => Promise<CanvasImageSource>\n\nexport interface IDocumentOptions {\n  /**\n   * Default `rem` size.\n   */\n  rootEmSize?: number\n  /**\n   * Default `em` size.\n   */\n  emSize?: number\n  /**\n   * Function to create new canvas.\n   */\n  createCanvas?: CreateCanvas\n  /**\n   * Function to create new image.\n   */\n  createImage?: CreateImage\n  /**\n   * Load images anonymously.\n   */\n  anonymousCrossOrigin?: boolean\n}\n\nexport type IViewBoxConfig = Omit<IScreenViewBoxConfig, 'document'>\n\ntype DOMDocument = typeof window.document\n\nfunction createCanvas(width: number, height: number) {\n  const canvas = document.createElement('canvas')\n\n  canvas.width = width\n  canvas.height = height\n\n  return canvas\n}\n\nasync function createImage(src: string, anonymousCrossOrigin = false) {\n  const image = document.createElement('img')\n\n  if (anonymousCrossOrigin) {\n    image.crossOrigin = 'Anonymous'\n  }\n\n  return new Promise<HTMLImageElement>((resolve, reject) => {\n    image.onload = () => {\n      resolve(image)\n    }\n\n    image.onerror = (_event, _source, _lineno, _colno, error) => {\n      reject(error)\n    }\n\n    image.src = src\n  })\n}\n\nconst DEFAULT_EM_SIZE = 12\n\nexport class Document {\n  static readonly createCanvas = createCanvas\n  static readonly createImage = createImage\n  static readonly elementTypes: Record<string, AnyElement> = elementTypes\n\n  rootEmSize: number\n  documentElement?: SVGElement\n  readonly screen: Screen\n  readonly createCanvas: CreateCanvas\n  readonly createImage: CreateImage\n  readonly definitions: Record<string, Element> = {}\n  readonly styles: Record<string, Record<string, Property>> = {}\n  readonly stylesSpecificity: Record<string, string> = {}\n  readonly images: ImageElement[] = []\n  readonly fonts: SVGFontLoader[] = []\n  private readonly emSizeStack: number[] = []\n  private uniqueId = 0\n\n  constructor(\n    readonly canvg: Canvg,\n    {\n      rootEmSize = DEFAULT_EM_SIZE,\n      emSize = DEFAULT_EM_SIZE,\n      createCanvas = Document.createCanvas,\n      createImage = Document.createImage,\n      anonymousCrossOrigin\n    }: IDocumentOptions = {}\n  ) {\n    this.screen = canvg.screen\n    this.rootEmSize = rootEmSize\n    this.emSize = emSize\n    this.createCanvas = createCanvas\n    this.createImage = this.bindCreateImage(createImage, anonymousCrossOrigin)\n\n    this.screen.wait(() => this.isImagesLoaded())\n    this.screen.wait(() => this.isFontsLoaded())\n  }\n\n  private bindCreateImage(createImage: CreateImage, anonymousCrossOrigin?: boolean) {\n    if (typeof anonymousCrossOrigin === 'boolean') {\n      return (source: string, forceAnonymousCrossOrigin?: boolean) => createImage(\n        source,\n        typeof forceAnonymousCrossOrigin === 'boolean'\n          ? forceAnonymousCrossOrigin\n          : anonymousCrossOrigin\n      )\n    }\n\n    return createImage\n  }\n\n  get window() {\n    return this.screen.window\n  }\n\n  get fetch() {\n    return this.screen.fetch\n  }\n\n  get ctx() {\n    return this.screen.ctx\n  }\n\n  get emSize() {\n    const { emSizeStack } = this\n\n    return emSizeStack[emSizeStack.length - 1] || DEFAULT_EM_SIZE\n  }\n\n  set emSize(value: number) {\n    const { emSizeStack } = this\n\n    emSizeStack.push(value)\n  }\n\n  popEmSize() {\n    const { emSizeStack } = this\n\n    emSizeStack.pop()\n  }\n\n  getUniqueId() {\n    return `canvg${++this.uniqueId}`\n  }\n\n  isImagesLoaded() {\n    return this.images.every(_ => _.loaded)\n  }\n\n  isFontsLoaded() {\n    return this.fonts.every(_ => _.loaded)\n  }\n\n  createDocumentElement(document: DOMDocument) {\n    const documentElement = this.createElement<SVGElement>(document.documentElement)\n\n    documentElement.root = true\n    documentElement.addStylesFromStyleDefinition()\n\n    this.documentElement = documentElement\n\n    return documentElement\n  }\n\n  createElement<T extends Element>(node: HTMLElement) {\n    const elementType = node.nodeName.replace(/^[^:]+:/, '')\n    const ElementType = Document.elementTypes[elementType]\n\n    if (ElementType) {\n      return new ElementType(this, node) as T\n    }\n\n    return new UnknownElement(this, node) as T\n  }\n\n  createTextNode(node: HTMLElement) {\n    return new TextNode(this, node)\n  }\n\n  setViewBox(config: IViewBoxConfig) {\n    this.screen.setViewBox({\n      document: this,\n      ...config\n    })\n  }\n}\n","import { RenderingContext2D } from './types'\nimport { IParserOptions, Parser } from './Parser'\nimport {\n  IScreenOptions,\n  IScreenStartOptions,\n  Screen\n} from './Screen'\nimport {\n  IDocumentOptions,\n  Document,\n  SVGElement\n} from './Document'\n\ntype DOMDocument = typeof window.document\n\nexport interface IOptions extends IParserOptions,\n  IScreenOptions,\n  IScreenStartOptions,\n  IDocumentOptions {}\n\n/**\n * SVG renderer on canvas.\n */\nexport class Canvg {\n  /**\n   * Create Canvg instance from SVG source string or URL.\n   * @param ctx - Rendering context.\n   * @param svg - SVG source string or URL.\n   * @param options - Rendering options.\n   * @returns Canvg instance.\n   */\n  static async from(\n    ctx: RenderingContext2D,\n    svg: string,\n    options: IOptions = {}\n  ) {\n    const parser = new Parser(options)\n    const svgDocument = await parser.parse(svg)\n\n    return new Canvg(ctx, svgDocument, options)\n  }\n\n  /**\n   * Create Canvg instance from SVG source string.\n   * @param ctx - Rendering context.\n   * @param svg - SVG source string.\n   * @param options - Rendering options.\n   * @returns Canvg instance.\n   */\n  static fromString(\n    ctx: RenderingContext2D,\n    svg: string,\n    options: IOptions = {}\n  ) {\n    const parser = new Parser(options)\n    const svgDocument = parser.parseFromString(svg)\n\n    return new Canvg(ctx, svgDocument, options)\n  }\n\n  /**\n   * XML/HTML parser instance.\n   */\n  readonly parser: Parser\n  /**\n   * Screen instance.\n   */\n  readonly screen: Screen\n  /**\n   * Canvg Document.\n   */\n  readonly document: Document\n  private readonly documentElement: SVGElement\n  private readonly options: IOptions\n\n  /**\n   * Main constructor.\n   * @param ctx - Rendering context.\n   * @param svg - SVG Document.\n   * @param options - Rendering options.\n   */\n  constructor(\n    ctx: RenderingContext2D,\n    svg: DOMDocument,\n    options: IOptions = {}\n  ) {\n    this.parser = new Parser(options)\n    this.screen = new Screen(ctx, options)\n    this.options = options\n\n    const document = new Document(this, options)\n    const documentElement = document.createDocumentElement(svg)\n\n    this.document = document\n    this.documentElement = documentElement\n  }\n\n  /**\n   * Create new Canvg instance with inherited options.\n   * @param ctx - Rendering context.\n   * @param svg - SVG source string or URL.\n   * @param options - Rendering options.\n   * @returns Canvg instance.\n   */\n  fork(\n    ctx: RenderingContext2D,\n    svg: string,\n    options: IOptions = {}\n  ) {\n    return Canvg.from(ctx, svg, {\n      ...this.options,\n      ...options\n    })\n  }\n\n  /**\n   * Create new Canvg instance with inherited options.\n   * @param ctx - Rendering context.\n   * @param svg - SVG source string.\n   * @param options - Rendering options.\n   * @returns Canvg instance.\n   */\n  forkString(\n    ctx: RenderingContext2D,\n    svg: string,\n    options: IOptions = {}\n  ) {\n    return Canvg.fromString(ctx, svg, {\n      ...this.options,\n      ...options\n    })\n  }\n\n  /**\n   * Document is ready promise.\n   * @returns Ready promise.\n   */\n  ready() {\n    return this.screen.ready()\n  }\n\n  /**\n   * Document is ready value.\n   * @returns Is ready or not.\n   */\n  isReady() {\n    return this.screen.isReady()\n  }\n\n  /**\n   * Render only first frame, ignoring animations and mouse.\n   * @param options - Rendering options.\n   */\n  async render(options: IScreenStartOptions = {}) {\n    this.start({\n      enableRedraw: true,\n      ignoreAnimation: true,\n      ignoreMouse: true,\n      ...options\n    })\n\n    await this.ready()\n\n    this.stop()\n  }\n\n  /**\n   * Start rendering.\n   * @param options - Render options.\n   */\n  start(options: IScreenStartOptions = {}) {\n    const {\n      documentElement,\n      screen,\n      options: baseOptions\n    } = this\n\n    screen.start(documentElement, {\n      enableRedraw: true,\n      ...baseOptions,\n      ...options\n    })\n  }\n\n  /**\n   * Stop rendering.\n   */\n  stop() {\n    this.screen.stop()\n  }\n\n  /**\n   * Resize SVG to fit in given size.\n   * @param width\n   * @param height\n   * @param preserveAspectRatio\n   */\n  resize(\n    width: number,\n    height = width,\n    preserveAspectRatio: boolean | string = false\n  ) {\n    this.documentElement.resize(width, height, preserveAspectRatio)\n  }\n}\n","import { Canvg } from \"canvg\";\n\nexport const decodeUserData = (encoded) => {\n  if (typeof encoded !== \"string\") {\n    return [];\n  }\n  return JSON.parse(atob(encoded));\n};\n\nconst toUserData = (originalData, userData) => ({\n  ...originalData,\n  data: userData.filter((d) => d.selected).map((d) => ({ key: d.key })),\n});\n\nexport const encodeUserData = (originalData, userData) => {\n  return btoa(JSON.stringify(toUserData(originalData, userData)));\n};\n\nexport const copyPermaLink = (originalData, data) => {\n  const url = new URL(document.location);\n  url.searchParams.set(\"data\", encodeUserData(originalData, data));\n  navigator.clipboard.writeText(url.toString());\n};\n\nexport const exportData = (originalData, userData) => {\n  const userDataForDownload = JSON.stringify(\n    toUserData(originalData, userData)\n  );\n  const url = window.URL.createObjectURL(new Blob([userDataForDownload]));\n  downloadFile({\n    file: url,\n    name: \"gyhbr\",\n    format: \"json\",\n  });\n};\n\nexport const exportImage = async (chartWidth, chartHeight, svg) => {\n  const svgData = new XMLSerializer().serializeToString(svg);\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  canvas.width = chartWidth;\n  canvas.height = chartHeight;\n\n  const v = Canvg.fromString(ctx, svgData);\n\n  await v.render();\n  const dataUrl = canvas.toDataURL(`image/png`);\n  downloadFile({\n    file: dataUrl,\n    name: \"gyhbr\",\n    format: \"png\",\n  });\n};\n\nconst downloadFile = ({ file, name, format }) => {\n  let a = document.createElement(\"a\");\n  a.download = `${name}.${format}`;\n  a.href = file;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bqd2F\")).toString();","{\n  \"version\": \"1.5\",\n  \"data\": [\n    { \"key\": \"0-0\" },\n    { \"key\": \"0-1\" },\n    { \"key\": \"0-2\" },\n    { \"key\": \"0-3\" },\n    { \"key\": \"0-4\" },\n    { \"key\": \"0-5\" },\n    { \"key\": \"1-0\" },\n    { \"key\": \"1-1\" },\n    { \"key\": \"1-2\" },\n    { \"key\": \"1-3\" },\n    { \"key\": \"1-4\" },\n    { \"key\": \"1-5\" },\n    { \"key\": \"2-0\" },\n    { \"key\": \"2-1\" },\n    { \"key\": \"2-2\" },\n    { \"key\": \"2-3\" },\n    { \"key\": \"2-4\" },\n    { \"key\": \"2-5\" },\n    { \"key\": \"3-0\" },\n    { \"key\": \"3-1\" },\n    { \"key\": \"3-2\" },\n    { \"key\": \"3-3\" },\n    { \"key\": \"3-4\" },\n    { \"key\": \"3-5\" },\n    { \"key\": \"4-0\" },\n    { \"key\": \"4-1\" },\n    { \"key\": \"4-2\" },\n    { \"key\": \"4-3\" },\n    { \"key\": \"4-4\" },\n    { \"key\": \"4-5\" },\n    { \"key\": \"5-0\" },\n    { \"key\": \"5-1\" },\n    { \"key\": \"5-2\" },\n    { \"key\": \"5-3\" },\n    { \"key\": \"5-4\" },\n    { \"key\": \"5-5\" },\n    { \"key\": \"6-0\" },\n    { \"key\": \"6-1\" },\n    { \"key\": \"6-2\" },\n    { \"key\": \"6-3\" },\n    { \"key\": \"6-4\" },\n    { \"key\": \"6-5\" },\n    { \"key\": \"7-0\" },\n    { \"key\": \"7-1\" },\n    { \"key\": \"7-2\" },\n    { \"key\": \"7-3\" },\n    { \"key\": \"7-4\" },\n    { \"key\": \"7-5\" },\n    { \"key\": \"8-0\" },\n    { \"key\": \"8-1\" },\n    { \"key\": \"8-2\" },\n    { \"key\": \"8-3\" },\n    { \"key\": \"8-4\" },\n    { \"key\": \"8-5\" },\n    { \"key\": \"9-0\" },\n    { \"key\": \"9-1\" },\n    { \"key\": \"9-2\" },\n    { \"key\": \"9-3\" },\n    { \"key\": \"9-4\" },\n    { \"key\": \"9-5\" },\n    { \"key\": \"10-0\" },\n    { \"key\": \"10-1\" },\n    { \"key\": \"10-2\" },\n    { \"key\": \"10-3\" },\n    { \"key\": \"10-4\" },\n    { \"key\": \"10-5\" },\n    { \"key\": \"11-0\" },\n    { \"key\": \"11-1\" },\n    { \"key\": \"11-2\" },\n    { \"key\": \"11-3\" },\n    { \"key\": \"11-4\" },\n    { \"key\": \"11-5\" },\n    { \"key\": \"12-0\" },\n    { \"key\": \"12-1\" },\n    { \"key\": \"12-2\" },\n    { \"key\": \"12-3\" },\n    { \"key\": \"12-4\" },\n    { \"key\": \"12-5\" },\n    { \"key\": \"13-0\" },\n    { \"key\": \"13-1\" },\n    { \"key\": \"13-2\" },\n    { \"key\": \"13-3\" },\n    { \"key\": \"13-4\" },\n    { \"key\": \"13-5\" },\n    { \"key\": \"14-0\" },\n    { \"key\": \"14-1\" },\n    { \"key\": \"14-2\" },\n    { \"key\": \"14-3\" },\n    { \"key\": \"14-4\" },\n    { \"key\": \"14-5\" },\n    { \"key\": \"15-0\" },\n    { \"key\": \"15-1\" },\n    { \"key\": \"15-2\" },\n    { \"key\": \"15-3\" },\n    { \"key\": \"15-4\" },\n    { \"key\": \"15-5\" },\n    { \"key\": \"16-0\" },\n    { \"key\": \"16-1\" },\n    { \"key\": \"16-2\" },\n    { \"key\": \"16-3\" },\n    { \"key\": \"16-4\" },\n    { \"key\": \"16-5\" },\n    { \"key\": \"17-0\" },\n    { \"key\": \"17-1\" },\n    { \"key\": \"17-2\" },\n    { \"key\": \"17-3\" },\n    { \"key\": \"17-4\" },\n    { \"key\": \"17-5\" },\n    { \"key\": \"18-0\" },\n    { \"key\": \"18-1\" },\n    { \"key\": \"18-2\" },\n    { \"key\": \"18-3\" },\n    { \"key\": \"18-4\" },\n    { \"key\": \"18-5\" },\n    { \"key\": \"19-0\" },\n    { \"key\": \"19-1\" },\n    { \"key\": \"19-2\" },\n    { \"key\": \"19-3\" },\n    { \"key\": \"19-4\" },\n    { \"key\": \"19-5\" },\n    { \"key\": \"20-0\" },\n    { \"key\": \"20-1\" },\n    { \"key\": \"20-2\" },\n    { \"key\": \"20-3\" },\n    { \"key\": \"20-4\" },\n    { \"key\": \"20-5\" },\n    { \"key\": \"21-0\" },\n    { \"key\": \"21-1\" },\n    { \"key\": \"21-2\" },\n    { \"key\": \"21-3\" },\n    { \"key\": \"21-4\" },\n    { \"key\": \"21-5\" },\n    { \"key\": \"22-0\" },\n    { \"key\": \"22-1\" },\n    { \"key\": \"22-2\" },\n    { \"key\": \"22-3\" },\n    { \"key\": \"22-4\" },\n    { \"key\": \"22-5\" },\n    { \"key\": \"23-0\" },\n    { \"key\": \"23-1\" },\n    { \"key\": \"23-2\" },\n    { \"key\": \"23-3\" },\n    { \"key\": \"23-4\" },\n    { \"key\": \"23-5\" }\n  ]\n}\n","import * as d3 from \"d3\";\nimport * as utils from \"./utils\";\nimport v1_5Img from \"../assets/v1_5.png\";\nimport v1_5 from \"../assets/v1_5.json\";\nimport * as styles from \"../css/app.module.css\";\n\n// https://github.com/parcel-bundler/parcel/issues/8792\nconsole.log(d3) \n\nfunction renderChart() {\n  const params = new URL(document.location).searchParams;\n  const userData = utils.decodeUserData(params.get(\"data\"));\n\n  const data = v1_5.data;\n\n  data.forEach((datum) => {\n    datum.selected =\n      userData && userData.data\n        ? userData.data.find((d) => d.key === datum.key)\n        : false;\n  });\n\n  const getKeyElement = (p) => (d) => d.key.split(\"-\")[p];\n  const getKeyCol = getKeyElement(0);\n  const getKeyRow = getKeyElement(1);\n\n  const chartWidth = 4296;\n  const chartHeight = 2271;\n  const selectionMargin = { left: 115, top: 325 };\n  const selectionWidth = 173;\n  const selectionHeight = 320;\n  const selectionInnerMargin = 4;\n  const selectionInnerWidth = selectionWidth - (selectionInnerMargin*2);\n  const selectionInnerHeight = selectionHeight - (selectionInnerMargin*2);\n\n  const element = document.getElementById(\"hbr-chart-container\");\n  const svg = d3\n    .select(element)\n    .append(\"svg\")\n    .attr(\"viewBox\", `0 0 ${chartWidth} ${chartHeight}`);\n\n  svg\n    .append(\"image\")\n    .attr(\"href\", v1_5Img)\n    .attr(\"width\", chartWidth)\n    .attr(\"height\", chartHeight);\n\n  const selectionGroup = svg\n    .append(\"g\")\n    .attr(\n      \"transform\",\n      `translate(${selectionMargin.left}, ${selectionMargin.top})`\n    );\n\n  const renderSelection = () => {\n    const updateSelection = (e, d) => {\n      data.forEach((datum) => {\n        if (datum.key === d.key) {\n          datum.selected = !datum.selected;\n        }\n      });\n\n      renderSelection();\n    };\n\n    selectionGroup\n      .selectAll(\"rect\")\n      .data(data)\n      .join(\"rect\")\n      .attr(\"x\", (d) => getKeyCol(d) * selectionWidth + selectionInnerMargin)\n      .attr(\"y\", (d) => getKeyRow(d) * selectionHeight + selectionInnerMargin)\n      .attr(\"width\", selectionInnerWidth)\n      .attr(\"height\", selectionInnerHeight)\n      .attr(\"rx\", 8)\n      .attr(\"ry\", 8)\n      .attr(\"fill-opacity\", 0)\n      .attr(\"stroke\", (d) => (d.selected ? \"red\" : null))\n      .attr(\"stroke-width\", 12)\n      .on(\"click\", updateSelection);\n  };\n\n  const onCopyLink = () => {\n    utils.copyPermaLink(v1_5, data);\n    alert(\"\");\n  };\n\n  const onExportData = () => {\n    utils.exportData(v1_5, data);\n  };\n\n  const onExportImage = () => {\n    utils.exportImage(chartWidth, chartHeight, svg.node());\n  };\n\n  document.getElementById(\"button-copy-link\").onclick = onCopyLink;\n  document.getElementById(\"button-export-data\").onclick = onExportData;\n  document.getElementById(\"button-export-image\").onclick = onExportImage;\n\n  renderSelection();\n}\n\nfunction main() {\n  renderChart();\n}\n\nmain();\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$63cbeabc75241824$export$2e2bcd8739ae039","a","b","NaN","$3acd474ceacf8a38$export$2e2bcd8739ae039","$0ae9019609d046a1$export$2e2bcd8739ae039","f","compare1","compare2","delta","left","x","lo","hi","mid","d","$0ae9019609d046a1$var$zero","$591ad978f2ce6133$export$2e2bcd8739ae039","$591ad978f2ce6133$export$1f6c9cc012ebacae","values","valueof","undefined","value","index","$a6e17c0ec55d7735$var$ascendingBisect","$a6e17c0ec55d7735$export$4d945ad3ad5751b0","right","$a6e17c0ec55d7735$export$df7d25c84ebd12a5","$a6e17c0ec55d7735$export$c1cb828b1117c77b","center","$a6e17c0ec55d7735$export$2e2bcd8739ae039","$959c5fb23fe069ae$export$2cc7ff91bcacba5e","r","RangeError","Math","floor","blur","$959c5fb23fe069ae$var$blurf","temp","slice","$959c5fb23fe069ae$export$7671911241d9460b","$959c5fb23fe069ae$var$Blur2","$959c5fb23fe069ae$export$44bf2d4c3a4dda00","radius","T","S","start","stop","step","data","rx","ry","width","height","blurx","blury","$959c5fb23fe069ae$var$blurh","$959c5fb23fe069ae$var$blurv","w","h","y","n","radius0","sum","s","j","min","max","$959c5fb23fe069ae$var$bluri","t","s0","s1","$5c80433537c7ad93$export$2e2bcd8739ae039","count","$674b813fb857ae76$var$length","array","$674b813fb857ae76$var$empty","$674b813fb857ae76$var$arrayify","Array","from","$674b813fb857ae76$export$2e2bcd8739ae039","reduce","$674b813fb857ae76$var$reducer","pop","lengths","map","fill","product","some","push","$439e396521e041a4$export$2e2bcd8739ae039","Float64Array","v","$4eefdd235be3059b$export$2e2bcd8739ae039","mean","$317408b795339b26$export$2e2bcd8739ae039","sqrt","$24461355656d8852$export$2e2bcd8739ae039","$44a48d1cb1f34224$export$bda7ba77fb86c375","constructor","this","_partials","_n","add","p","abs","valueOf","$44a48d1cb1f34224$export$61cb83f1a93e9fae","adder","$44a48d1cb1f34224$export$5a6391da70c130da","$3160658555deb5c9$export$dcc6fb7d82b5bc7b","Map","entries","key","$3160658555deb5c9$var$keyof","super","defineProperties","_intern","_key","set","get","$3160658555deb5c9$var$intern_get","has","$3160658555deb5c9$var$intern_set","delete","$3160658555deb5c9$var$intern_delete","$3160658555deb5c9$export$55278c3294239828","Set","$d9caf9fd1659d791$export$2e2bcd8739ae039","$6f0c14a1378d16c1$export$2e2bcd8739ae039","$6f0c14a1378d16c1$var$nest","$6f0c14a1378d16c1$export$d4abd167df80d226","$6f0c14a1378d16c1$var$flatten","groups","flatMap","g","$6f0c14a1378d16c1$export$4ed6fc79ae2c51b5","$6f0c14a1378d16c1$export$788c7294dbcd8e36","$6f0c14a1378d16c1$export$24814875ed03194b","$6f0c14a1378d16c1$export$97e11c0b0230f130","$6f0c14a1378d16c1$export$b610b8812bbcded9","$6f0c14a1378d16c1$var$unique","$6f0c14a1378d16c1$export$8b04ba635e5803cd","regroup","keyof","group","$752ccd95a674b233$export$2e2bcd8739ae039","source","$3dc3306e587e145d$export$2e2bcd8739ae039","F","Symbol","iterator","TypeError","Uint32Array","sort","c","$3dc3306e587e145d$export$686e14b8469efec4","$3dc3306e587e145d$export$5708b2c031939e56","compare","$5d73447cdfa9c155$export$2e2bcd8739ae039","ak","av","bk","bv","$38806e4e35e056bb$var$array","prototype","$38806e4e35e056bb$export$58adb3bec8346d0f","$a193f63211edda81$export$2e2bcd8739ae039","$7c028b8201e48c5a$var$e10","$7c028b8201e48c5a$var$e5","$7c028b8201e48c5a$var$e2","$7c028b8201e48c5a$var$tickSpec","power","log10","error","pow","factor","i1","i2","inc","round","$7c028b8201e48c5a$export$2e2bcd8739ae039","reverse","ticks","$7c028b8201e48c5a$export$bc64d00cc98e7e95","$7c028b8201e48c5a$export$81087d9b915d4ede","$4bf21a6c2cd653e6$export$2e2bcd8739ae039","prestep","isFinite","ceil","$6d386446084ca1a9$export$2e2bcd8739ae039","log","LN2","$83488795b448c080$export$2e2bcd8739ae039","domain","threshold","histogram","isArray","xz","x0","x1","tz","tn","m","bin","bins","_","arguments","thresholds","call","$5a964dca3df4eea7$export$2e2bcd8739ae039","$3ce2d353ce06f740$export$2e2bcd8739ae039","maxIndex","$02ed355deaa9e190$export$2e2bcd8739ae039","$70ebee7adc32f27f$export$2e2bcd8739ae039","minIndex","$6637506e64922c38$export$2e2bcd8739ae039","k","Infinity","z","exp","sd","$6637506e64922c38$var$swap","$f89111cbb3c9d70b$export$2e2bcd8739ae039","defined","maxValue","element","$231c9024a6754413$export$2e2bcd8739ae039","isNaN","i0","value0","subarray","$231c9024a6754413$export$f924a6cad778dddb","$231c9024a6754413$export$f1fcc854ecc6ce55","$1ae435d6739098c4$export$2e2bcd8739ae039","$e5c6de1a6d3b2294$export$2e2bcd8739ae039","cbrt","$be26fde1f1f97ef0$export$2e2bcd8739ae039","$5713cbb46e42efc2$export$2e2bcd8739ae039","$5713cbb46e42efc2$export$57546ab4fd3c7a5e","$54ced0ad7294c1a8$export$2e2bcd8739ae039","arrays","$54ced0ad7294c1a8$var$flatten","$50f73767cb5db446$export$2e2bcd8739ae039","counts","modeValue","modeCount","$a9640ed34ca3d852$export$2e2bcd8739ae039","pairof","$a9640ed34ca3d852$export$a04cb3fe8b81dd","previous","first","$61d27a61db04c1a6$export$2e2bcd8739ae039","range","$0554e12b5fe33289$export$2e2bcd8739ae039","V","R","compareIndex","forEach","$3bd3713abbf324da$export$2e2bcd8739ae039","minValue","$a30f57acbe236c75$export$2e2bcd8739ae039","$17d3a79dc1681cbc$export$2e2bcd8739ae039","$69f952dec6daacf1$export$2e2bcd8739ae039","$0a6b5bfe2fca1ade$export$2e2bcd8739ae039","$0a6b5bfe2fca1ade$export$a430ea578c95d356","random","$daf42a1f07322cf6$export$2e2bcd8739ae039","$e58cab29de1f7712$export$2e2bcd8739ae039","matrix","$e58cab29de1f7712$var$length","transpose","row","$7d941308464d4714$export$2e2bcd8739ae039","$c88765d66e97cb9d$export$2e2bcd8739ae039","test","$7ec830459bc1d587$export$2e2bcd8739ae039","$c2cd44209c86b471$export$2e2bcd8739ae039","$81758ba8ba9ddd3a$export$2e2bcd8739ae039","mapper","$5f9d0bf97cbd4c21$export$2e2bcd8739ae039","reducer","done","next","$0b47a96a2caef260$export$2e2bcd8739ae039","$1bbff5b2b5c7d28d$export$2e2bcd8739ae039","others","other","$280a3f874265aff4$export$2e2bcd8739ae039","is","$e7fd243b0459dad3$export$2e2bcd8739ae039","$e7fd243b0459dad3$var$set","out","$cd440485491a144b$export$2e2bcd8739ae039","o","io","$cd440485491a144b$var$intern","ivalue","$85602eed14b56bd2$export$2e2bcd8739ae039","$46cf405d3a14ae8d$export$2e2bcd8739ae039","$575c8f74500ed33b$export$2e2bcd8739ae039","$834b38f205523964$var$top","$834b38f205523964$var$right","$834b38f205523964$var$bottom","$834b38f205523964$var$left","$834b38f205523964$var$epsilon","$834b38f205523964$var$translateX","$834b38f205523964$var$translateY","$834b38f205523964$var$number","scale","$834b38f205523964$var$center","offset","bandwidth","$834b38f205523964$var$entering","__axis","$834b38f205523964$var$axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","window","devicePixelRatio","transform","axis","context","apply","format","spacing","range0","range1","position","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","getAttribute","parentNode","remove","filter","each","tickSize","$834b38f205523964$export$59b8cfab074bdeb1","$834b38f205523964$export$b0d2e24dc4f898f0","$834b38f205523964$export$e5cb22533a15e72e","$834b38f205523964$export$2749afb169a520d2","$7c4cf709d1826294$var$noop","$7c4cf709d1826294$var$dispatch","$7c4cf709d1826294$var$Dispatch","$7c4cf709d1826294$var$get","type","name","$7c4cf709d1826294$var$set","callback","concat","on","typename","types","trim","split","indexOf","hasOwnProperty","that","args","$7c4cf709d1826294$export$2e2bcd8739ae039","$6e0da2549057218e$var$none","$6e0da2549057218e$export$2e2bcd8739ae039","selector","querySelector","$cade2308c136039a$export$2e2bcd8739ae039","$7d92e4f75dbef49d$var$empty","$7d92e4f75dbef49d$export$2e2bcd8739ae039","querySelectorAll","$5fb24786d2a5f87a$export$2e2bcd8739ae039","matches","$5fb24786d2a5f87a$export$90c2759c036528","node","$31ffd623f27a3a65$var$find","find","$31ffd623f27a3a65$var$childFirst","firstElementChild","$956143cec557381d$var$filter","$956143cec557381d$var$children","children","$e7fb628d3a97a780$export$2e2bcd8739ae039","update","$3e99928b06782938$export$67b01759a14cf6a4","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","$cf943aeeeea8dffb$var$bindIndex","groupLength","dataLength","$cf943aeeeea8dffb$var$bindKey","keyValue","nodeByKeyValue","keyValues","$cf943aeeeea8dffb$var$datum","$cf943aeeeea8dffb$var$arraylike","$faed8eab1469f61d$var$ascending","appendChild","child","insertBefore","$53f2bc3e7847f93d$export$201a3f7520ccc326","$53f2bc3e7847f93d$export$2e2bcd8739ae039","svg","xhtml","xlink","xml","xmlns","$b659c67af9335162$export$2e2bcd8739ae039","prefix","space","local","$8ba31651ad7591ba$var$attrRemove","removeAttribute","$8ba31651ad7591ba$var$attrRemoveNS","fullname","removeAttributeNS","$8ba31651ad7591ba$var$attrConstant","setAttribute","$8ba31651ad7591ba$var$attrConstantNS","setAttributeNS","$8ba31651ad7591ba$var$attrFunction","$8ba31651ad7591ba$var$attrFunctionNS","$89f2562a5a0d5a13$export$2e2bcd8739ae039","defaultView","document","$6abb942964e997ae$var$styleRemove","style","removeProperty","$6abb942964e997ae$var$styleConstant","priority","setProperty","$6abb942964e997ae$var$styleFunction","$6abb942964e997ae$export$5e3cec964f0b5efd","getPropertyValue","getComputedStyle","$2b37810bbc11c28b$var$propertyRemove","$2b37810bbc11c28b$var$propertyConstant","$2b37810bbc11c28b$var$propertyFunction","$6515c3ccac9efd7a$var$classArray","string","$6515c3ccac9efd7a$var$classList","classList","$6515c3ccac9efd7a$var$ClassList","_node","_names","$6515c3ccac9efd7a$var$classedAdd","names","list","$6515c3ccac9efd7a$var$classedRemove","$6515c3ccac9efd7a$var$classedTrue","$6515c3ccac9efd7a$var$classedFalse","$6515c3ccac9efd7a$var$classedFunction","$23bcbc7d81179ba9$var$textRemove","textContent","$23bcbc7d81179ba9$var$textConstant","$23bcbc7d81179ba9$var$textFunction","$d5514f1406649954$var$htmlRemove","innerHTML","$d5514f1406649954$var$htmlConstant","$d5514f1406649954$var$htmlFunction","$c6aae8ef09c3d03d$var$raise","nextSibling","$4669a19c71181bd1$var$lower","previousSibling","firstChild","$8408c2f95f59818f$var$creatorInherit","uri","documentElement","createElement","createElementNS","$8408c2f95f59818f$var$creatorFixed","$8408c2f95f59818f$export$2e2bcd8739ae039","$45485f4f27d149f8$var$constantNull","$d587d6535138580c$var$remove","removeChild","$3323c835dc2d74de$var$selection_cloneShallow","clone","cloneNode","$3323c835dc2d74de$var$selection_cloneDeep","$dd1fb49221ad966f$var$onRemove","__on","removeEventListener","listener","options","$dd1fb49221ad966f$var$onAdd","event","$dd1fb49221ad966f$var$contextListener","addEventListener","$27c639e461d8a390$var$dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchEvent","$27c639e461d8a390$var$dispatchConstant","$27c639e461d8a390$var$dispatchFunction","join","splice","contains","$28a9f77d63e1ff25$export$e8e78c978b129247","$28a9f77d63e1ff25$export$52baac22726c72bf","parents","_groups","_parents","$28a9f77d63e1ff25$var$selection","subgroups","subnode","subgroup","$a3d7edd03ec30cc1$var$arrayAll","selectChild","match","$31ffd623f27a3a65$var$childFind","selectChildren","$956143cec557381d$var$childrenFilter","bind","enterGroup","updateGroup","_enter","_exit","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","nodes","size","empty","getAttributeNS","property","classed","html","raise","lower","create","before","deep","typenames","$dd1fb49221ad966f$var$parseTypenames","dispatch","$28a9f77d63e1ff25$export$2e2bcd8739ae039","$cf81072cf307ee25$export$2e2bcd8739ae039","$914edae09cbfb4c0$export$524615cd03e458cc","passive","$914edae09cbfb4c0$export$35431a0e47022de1","capture","$914edae09cbfb4c0$export$2e2561858db9bf47","stopImmediatePropagation","$914edae09cbfb4c0$export$2e2bcd8739ae039","preventDefault","$905558291b0c219c$export$2e2bcd8739ae039","view","root","__noselect","MozUserSelect","$905558291b0c219c$export$833237748009e1e1","noclick","setTimeout","$831e9a7deaab9d1d$export$2e2bcd8739ae039","factory","$831e9a7deaab9d1d$export$8b58be045bf06082","definition","$8b7826cd7970b69e$export$892596cec99bc70e","$8b7826cd7970b69e$export$4adafc6ed0600c10","$8b7826cd7970b69e$export$9eace2cc0d12c98d","$8b7826cd7970b69e$var$reI","$8b7826cd7970b69e$var$reN","$8b7826cd7970b69e$var$reP","$8b7826cd7970b69e$var$reHex","$8b7826cd7970b69e$var$reRgbInteger","RegExp","$8b7826cd7970b69e$var$reRgbPercent","$8b7826cd7970b69e$var$reRgbaInteger","$8b7826cd7970b69e$var$reRgbaPercent","$8b7826cd7970b69e$var$reHslPercent","$8b7826cd7970b69e$var$reHslaPercent","$8b7826cd7970b69e$var$named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$8b7826cd7970b69e$var$color_formatHex","rgb","formatHex","$8b7826cd7970b69e$var$color_formatRgb","formatRgb","$8b7826cd7970b69e$export$2e2bcd8739ae039","l","toLowerCase","exec","parseInt","$8b7826cd7970b69e$var$rgbn","$8b7826cd7970b69e$export$5e05a94393ac29e3","$8b7826cd7970b69e$var$rgba","$8b7826cd7970b69e$var$hsla","$8b7826cd7970b69e$export$42da0a331c2802f5","opacity","$8b7826cd7970b69e$export$8972dc0e6ad9238f","$8b7826cd7970b69e$var$rgb_formatHex","$8b7826cd7970b69e$var$hex","$8b7826cd7970b69e$var$rgb_formatRgb","$8b7826cd7970b69e$var$clampa","$8b7826cd7970b69e$var$clampi","toString","$8b7826cd7970b69e$var$Hsl","$8b7826cd7970b69e$export$8133dc3fa904d6d1","$8b7826cd7970b69e$export$8f4a7c0bb78e6ea8","$8b7826cd7970b69e$var$clamph","$8b7826cd7970b69e$var$clampt","$8b7826cd7970b69e$var$hsl2rgb","m2","$dd5733431a2d0880$export$4e41033bfeec1a4c","t1","v0","v1","v2","v3","t2","t3","$dd5733431a2d0880$export$2e2bcd8739ae039","$68731c1c421d9916$export$2e2bcd8739ae039","channels","assign","displayable","hex","formatHex8","formatHsl","brighter","darker","clamp","$78a660cd70c52f6f$export$2e2bcd8739ae039","$529dc8928f6a4077$var$linear","$529dc8928f6a4077$export$97d7b0c7ddb78dcf","$529dc8928f6a4077$export$a7ebe8cc6aaf8d37","$529dc8928f6a4077$export$2e2bcd8739ae039","$529dc8928f6a4077$var$exponential","$e7e88f7f6ed95eef$export$2e2bcd8739ae039","rgbGamma","color","end","gamma","$e7e88f7f6ed95eef$var$rgbSpline","spline","colors","$e7e88f7f6ed95eef$export$2c0e28f2e2852d3f","$e7e88f7f6ed95eef$export$53d5214f625ccd4c","$7bfe9c15ff8ebf5c$export$2e2bcd8739ae039","$7bfe9c15ff8ebf5c$export$5cd576d1827d40c8","ArrayBuffer","isView","DataView","$23bbf03008765dcc$export$2e2bcd8739ae039","$23bbf03008765dcc$export$15d09067c6a5ee49","nb","na","$8385105b4986daed$export$2e2bcd8739ae039","$063cbb46f86ba478$export$2e2bcd8739ae039","Date","setTime","$bebed377ddb9d3af$export$2e2bcd8739ae039","$cf536f4647e343d9$export$2e2bcd8739ae039","$020916edd93bff72$var$reA","$020916edd93bff72$var$reB","$020916edd93bff72$export$2e2bcd8739ae039","am","bm","bs","bi","lastIndex","q","$020916edd93bff72$var$one","$020916edd93bff72$var$zero","$c447ae86a8320d39$export$2e2bcd8739ae039","sourceEvent","$1be794af963d8372$export$2e2bcd8739ae039","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","$e782289d8bd71451$var$taskHead","$e782289d8bd71451$var$taskTail","$e782289d8bd71451$var$frame","$e782289d8bd71451$var$timeout","$e782289d8bd71451$var$interval","$e782289d8bd71451$var$pokeDelay","$e782289d8bd71451$var$clockLast","$e782289d8bd71451$var$clockNow","$e782289d8bd71451$var$clockSkew","$e782289d8bd71451$var$clock","performance","now","$e782289d8bd71451$var$setFrame","requestAnimationFrame","$e782289d8bd71451$export$461939dd4422153","$e782289d8bd71451$var$clearNow","$e782289d8bd71451$export$c57e9b2d8b9e4de","_call","_time","$e782289d8bd71451$export$9dc4ecf953986f04","delay","time","restart","$e782289d8bd71451$export$d60154c1d7f3990e","e","$e782289d8bd71451$var$wake","t0","$e782289d8bd71451$var$sleep","$e782289d8bd71451$var$nap","$e782289d8bd71451$var$poke","clearTimeout","clearInterval","setInterval","$d15c972f8843a0f2$export$2e2bcd8739ae039","elapsed","$150ba4634a330696$var$emptyOn","$150ba4634a330696$var$emptyTween","$150ba4634a330696$export$ff39ebd4bb12b718","$150ba4634a330696$export$584530fe98d14a84","$150ba4634a330696$export$a5d151aee16efd42","$150ba4634a330696$export$fb935ab5849a0db9","$150ba4634a330696$export$1573e22b087389af","$150ba4634a330696$export$a2e792214ded83b2","$150ba4634a330696$export$9d38167254403955","$150ba4634a330696$export$2e2bcd8739ae039","timing","schedules","__transition","self","tween","schedule","state","timer","duration","ease","$150ba4634a330696$var$create","$150ba4634a330696$export$2cd8252107eb640b","$150ba4634a330696$export$3988ae62b71be9a3","$150ba4634a330696$export$adaa4cf7ef1b65be","$b05ce272ee11a654$export$2e2bcd8739ae039","active","$4a001faa54972590$var$svgNode","$2938f7d64470581a$var$degrees","PI","$2938f7d64470581a$export$f0954fd7d5368655","translateX","translateY","rotate","skewX","scaleX","scaleY","$2938f7d64470581a$export$2e2bcd8739ae039","atan2","atan","$e4d1a233c7242264$var$interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","translate","$e4d1a233c7242264$export$56bec7123bb3589a","DOMMatrix","WebKitCSSMatrix","isIdentity","$e4d1a233c7242264$export$da8cba906d64c082","baseVal","consolidate","$922feb1dfe9c8dcf$var$tweenRemove","tween0","tween1","$922feb1dfe9c8dcf$var$tweenFunction","$922feb1dfe9c8dcf$export$f78ce6ab10405d82","_id","$8a713565676b726d$export$2e2bcd8739ae039","$2a651cfc4e49b53d$var$attrRemove","$2a651cfc4e49b53d$var$attrRemoveNS","$2a651cfc4e49b53d$var$attrConstant","interpolate","value1","string00","interpolate0","string1","string0","$2a651cfc4e49b53d$var$attrConstantNS","$2a651cfc4e49b53d$var$attrFunction","string10","$2a651cfc4e49b53d$var$attrFunctionNS","$cad13035adb29669$var$attrTweenNS","$cad13035adb29669$var$attrInterpolateNS","_value","$cad13035adb29669$var$attrTween","$cad13035adb29669$var$attrInterpolate","$09cd57996bd81614$var$delayFunction","$09cd57996bd81614$var$delayConstant","$9c9f124117d5bf14$var$durationFunction","$9c9f124117d5bf14$var$durationConstant","$13be595fcf5febb7$var$Selection","$d0bf366fdef4c332$var$styleRemove","$a4d5b9ef4f9cfabb$var$id","$a4d5b9ef4f9cfabb$export$be58926105124dd4","_name","$a4d5b9ef4f9cfabb$export$2e2bcd8739ae039","$a4d5b9ef4f9cfabb$export$9ffd10a3fbdc175b","$a4d5b9ef4f9cfabb$var$selection_prototype","$5b131c7b61a09e82$export$b1a09cb1b71f86aa","$5b131c7b61a09e82$export$68d528839c701b6","$5b131c7b61a09e82$export$89238d3bc79d3ada","inherit","id0","id1","on0","on1","sit","every","$fd664209e896113c$var$start","$fd664209e896113c$var$onFunction","attrTween","styleTween","$d0bf366fdef4c332$var$styleNull","$d0bf366fdef4c332$var$styleFunction","listener0","$d0bf366fdef4c332$var$styleMaybeRemove","$d0bf366fdef4c332$var$styleConstant","$83672080502c9717$var$styleInterpolate","$83672080502c9717$var$styleTween","$e62b6dd5e7df40e7$var$textFunction","$e62b6dd5e7df40e7$var$textConstant","textTween","$64d823b28aa7019a$var$textInterpolate","$64d823b28aa7019a$var$textTween","$8ea7852b6976e6d1$var$easeConstant","easeVarying","$9d186bb80d60f6c9$var$easeVarying","Promise","resolve","reject","cancel","interrupt","$b5b43281074f9351$var$defaultTiming","$b5b43281074f9351$var$inherit","$a3ea65c9b2342fdf$var$root","$a3ea65c9b2342fdf$export$2e2bcd8739ae039","$4fc3d848825eb4c8$export$2e2bcd8739ae039","$de0b5bec424cf247$export$2e2bcd8739ae039","target","mode","enumerable","configurable","$48e2d3ac3b9a75ee$export$2e2561858db9bf47","$48e2d3ac3b9a75ee$export$2e2bcd8739ae039","$5c8970f4694d4107$var$MODE_DRAG","$5c8970f4694d4107$var$MODE_SPACE","$5c8970f4694d4107$var$MODE_HANDLE","$5c8970f4694d4107$var$MODE_CENTER","$5c8970f4694d4107$var$abs","$5c8970f4694d4107$var$max","$5c8970f4694d4107$var$min","$5c8970f4694d4107$var$number1","$5c8970f4694d4107$var$number2","$5c8970f4694d4107$var$X","handles","$5c8970f4694d4107$var$type","input","output","xy","$5c8970f4694d4107$var$Y","$5c8970f4694d4107$var$XY","$5c8970f4694d4107$var$cursors","overlay","nw","ne","se","sw","$5c8970f4694d4107$var$flipX","$5c8970f4694d4107$var$flipY","$5c8970f4694d4107$var$signsX","$5c8970f4694d4107$var$signsY","$5c8970f4694d4107$var$defaultFilter","ctrlKey","button","$5c8970f4694d4107$var$defaultExtent","hasAttribute","viewBox","$5c8970f4694d4107$var$defaultTouchable","navigator","maxTouchPoints","$5c8970f4694d4107$var$local","__brush","$5c8970f4694d4107$export$69760394fc76f689","dim","$5c8970f4694d4107$export$979ace6c88860aa8","$5c8970f4694d4107$var$brush","$5c8970f4694d4107$export$468748b530991c54","$5c8970f4694d4107$export$2e2bcd8739ae039","touchending","extent","touchable","listeners","handleSize","brush","initialize","handle","redraw","started","touchmoved","touchended","emitter","clean","emit","Emitter","touches","w0","w1","n0","n1","e0","e1","moving","lockX","lockY","metaKey","altKey","signX","signY","W","N","E","dx","dy","shifting","shiftKey","points","identifier","point0","beforestart","pts","move","moved","ended","keyCode","changedTouches","cur","$5c8970f4694d4107$var$empty","selection0","selection1","clear","starting","keyModifiers","$e4f9e8af03305b19$export$2335f513bbd82c6d","$e4f9e8af03305b19$export$50d414a77b60d802","cos","$e4f9e8af03305b19$export$5de3937cb4b592ed","sin","$e4f9e8af03305b19$export$18c7bea995a110f","$e4f9e8af03305b19$export$e51408a300e8929a","$e4f9e8af03305b19$export$a4b4b4d4d776fe92","$e4f9e8af03305b19$export$8960430cfd85939f","$e4f9e8af03305b19$export$6c421550c66a327d","$47b4debc53fe20f4$var$range","$47b4debc53fe20f4$export$2e2bcd8739ae039","$47b4debc53fe20f4$var$chord","$47b4debc53fe20f4$export$ccf0fb804feeadb0","$47b4debc53fe20f4$export$66e653ba9a7a4d8c","directed","padAngle","sortGroups","sortSubgroups","sortChords","chord","groupSums","groupIndex","chords","subgroupIndex","startAngle","endAngle","$c9f66a4d1c06b373$var$pi","$c9f66a4d1c06b373$var$tau","$c9f66a4d1c06b373$var$epsilon","$c9f66a4d1c06b373$var$tauEpsilon","$c9f66a4d1c06b373$var$append","strings","$c9f66a4d1c06b373$export$4b2950bdac9b6ee9","digits","_x0","_y0","_x1","_y1","_append","$c9f66a4d1c06b373$var$appendRound","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","x2","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","$c9f66a4d1c06b373$export$bb654e07daaf8c3a","$c9f66a4d1c06b373$export$e181c6ece8d9cc5f","$2ce5bb679b5f7ae5$export$58adb3bec8346d0f","$f3e37bc5e2106614$export$2e2bcd8739ae039","$c94985b24ca476f5$var$defaultSource","$c94985b24ca476f5$var$defaultTarget","$c94985b24ca476f5$var$defaultRadius","$c94985b24ca476f5$var$defaultStartAngle","$c94985b24ca476f5$var$defaultEndAngle","$c94985b24ca476f5$var$defaultPadAngle","$c94985b24ca476f5$var$defaultArrowheadRadius","$c94985b24ca476f5$var$ribbon","headRadius","sourceRadius","targetRadius","ribbon","buffer","ap","argv","sr","sa0","sa1","tr","ta0","ta1","tr2","ta2","$c94985b24ca476f5$export$2e2bcd8739ae039","$c94985b24ca476f5$export$63f6c8bb9e816a34","$70576c5c5ae147f6$export$8449e153fbd325fc","$70576c5c5ae147f6$export$41fc368e1a942b97","$80e69e9a1ed94a67$var$Xn","$80e69e9a1ed94a67$var$Yn","$80e69e9a1ed94a67$var$Zn","$80e69e9a1ed94a67$var$t0","$80e69e9a1ed94a67$var$t1","$80e69e9a1ed94a67$var$t2","$80e69e9a1ed94a67$var$t3","$80e69e9a1ed94a67$var$labConvert","$80e69e9a1ed94a67$export$f2722c70a60257f7","$80e69e9a1ed94a67$export$d9397e094a5fbb9a","$80e69e9a1ed94a67$var$hcl2lab","$80e69e9a1ed94a67$var$rgb2lrgb","$80e69e9a1ed94a67$var$xyz2lab","$80e69e9a1ed94a67$export$3e2c219d3ab79d01","$80e69e9a1ed94a67$export$2e2bcd8739ae039","$80e69e9a1ed94a67$var$lab2xyz","$80e69e9a1ed94a67$var$lrgb2rgb","$80e69e9a1ed94a67$var$hclConvert","$80e69e9a1ed94a67$export$5a21418738164530","$80e69e9a1ed94a67$export$d0e870ba50062ff1","$046e8f1d7426ff04$var$A","$046e8f1d7426ff04$var$B","$046e8f1d7426ff04$var$C","$046e8f1d7426ff04$var$D","$046e8f1d7426ff04$var$E","$046e8f1d7426ff04$var$ED","$046e8f1d7426ff04$var$EB","$046e8f1d7426ff04$var$BC_DA","$046e8f1d7426ff04$export$2e2bcd8739ae039","$046e8f1d7426ff04$export$57ed4bde61a1e2f2","bl","$046e8f1d7426ff04$var$cubehelixConvert","cosh","sinh","$6e529a4d7c5318cb$export$58adb3bec8346d0f","$8cf317e8294c08d4$export$2e2bcd8739ae039","$3e63541b38411916$export$2e2bcd8739ae039","ring","area","$2c54087e0cd22b13$export$2e2bcd8739ae039","$dab7974168a117cc$export$2e2bcd8739ae039","hole","$dab7974168a117cc$var$ringContains","pi","xi","yi","pj","xj","yj","$dab7974168a117cc$var$segmentContains","$dab7974168a117cc$var$collinear","$a2ef71a294399755$export$2e2bcd8739ae039","$bedfe0973872bedd$var$cases","$bedfe0973872bedd$export$2e2bcd8739ae039","smooth","smoothLinear","contours","$bedfe0973872bedd$var$finite","shift","contour","polygons","holes","fragmentByStart","fragmentByEnd","$bedfe0973872bedd$var$above","stitch","startIndex","endIndex","unshift","isorings","polygon","coordinates","xt","yt","$bedfe0973872bedd$var$valid","$bedfe0973872bedd$var$smooth1","_0","_1","sign","$ad0d499b029c9e60$var$defaultX","$ad0d499b029c9e60$var$defaultY","$ad0d499b029c9e60$var$defaultWeight","$ad0d499b029c9e60$export$2e2bcd8739ae039","weight","grid","Float32Array","pow2k","wi","density","pow4k","Number","MIN_VALUE","geometry","transformPolygon","transformRing","transformPoint","resize","defineProperty","cellSize","$a13f3b841662c3aa$export$8cfde575cbd41e40","$a13f3b841662c3aa$export$a4103c3ab16b06d7","$a13f3b841662c3aa$export$8a63f25cc62965f1","elen","flen","Q","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","$a13f3b841662c3aa$export$9f3a0795ca2cc944","$a13f3b841662c3aa$export$202e0172ed3c7be0","$cb91d66db176b6ab$var$ccwerrboundB","$cb91d66db176b6ab$var$ccwerrboundC","$cb91d66db176b6ab$var$B","$cb91d66db176b6ab$var$C1","$cb91d66db176b6ab$var$C2","$cb91d66db176b6ab$var$D","$cb91d66db176b6ab$var$u","$cb91d66db176b6ab$export$bbb923599a46a7d8","ax","ay","bx","by","cx","cy","detleft","detright","det","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_i","_j","u3","acx","bcx","acy","bcy","errbound","C1len","C2len","Dlen","$cb91d66db176b6ab$var$orient2dadapt","$70edea87a85254c2$var$EPSILON","$70edea87a85254c2$var$EDGE_STACK","$70edea87a85254c2$export$2e2bcd8739ae039","static","getX","$70edea87a85254c2$var$defaultGetX","getY","$70edea87a85254c2$var$defaultGetY","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","minDist","$70edea87a85254c2$var$dist","i0x","i0y","i1x","i1y","minRadius","$70edea87a85254c2$var$circumradius","i2x","i2y","$70edea87a85254c2$var$quicksort","hull","d0","triangles","halfedges","ex","ey","cl","$70edea87a85254c2$var$circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","$70edea87a85254c2$var$pseudoAngle","ar","b0","al","p0","pr","pl","p1","$70edea87a85254c2$var$inCircle","hbl","_link","br","px","py","fx","fy","bp","cp","ids","dists","tempDist","$70edea87a85254c2$var$swap","arr","tmp","$2aef1c41b22bee3b$var$epsilon","$2aef1c41b22bee3b$export$2e2bcd8739ae039","$40cb11f76cb02c56$export$2e2bcd8739ae039","$7255a684e7c13e05$export$2e2bcd8739ae039","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","x3","y3","ab","render","inedges","ti","tj","_renderSegment","h0","h1","_project","renderBounds","renderCell","_clip","cellPolygons","cell","cellPolygon","c0","_regioncode","c1","_clipSegment","_step","neighbors","ci","cj","loop","ai","li","aj","lj","_cell","_simplify","_clipInfinite","_clipFinite","P","sx0","sy0","sx1","sy1","_edgecode","_edge","flip","vx0","vy0","vxn","vyn","vx","vy","$ccf8c12920069fbd$var$tau","$ccf8c12920069fbd$var$pow","$ccf8c12920069fbd$var$pointX","$ccf8c12920069fbd$var$pointY","$ccf8c12920069fbd$var$jitter","$ccf8c12920069fbd$export$2e2bcd8739ae039","$ccf8c12920069fbd$var$flatArray","$ccf8c12920069fbd$var$flatIterable","_delaunator","_hullIndex","$ccf8c12920069fbd$var$collinear","collinear","bounds","hypot","hullIndex","voronoi","dc","dt","renderHull","renderPoints","hullPolygon","renderTriangle","trianglePolygons","trianglePolygon","$620ab3a49fccb4fc$export$2e2bcd8739ae039","$45813ed5c6fd1799$export$2e2bcd8739ae039","subject","$0b4a1789c016a21b$var$defaultFilter","$0b4a1789c016a21b$var$defaultContainer","$0b4a1789c016a21b$var$defaultSubject","$0b4a1789c016a21b$var$defaultTouchable","$0b4a1789c016a21b$export$2e2bcd8739ae039","mousedownx","mousedowny","mousemoving","container","gestures","clickDistance2","drag","mousedowned","touchstarted","gesture","mousemoved","mouseupped","mouse","touch","clickDistance","$da9f1d0b98e1d19a$var$EOL","$da9f1d0b98e1d19a$var$EOF","$da9f1d0b98e1d19a$var$QUOTE","$da9f1d0b98e1d19a$var$NEWLINE","$da9f1d0b98e1d19a$var$RETURN","$da9f1d0b98e1d19a$var$objectConverter","columns","Function","stringify","$da9f1d0b98e1d19a$var$inferColumns","rows","columnSet","column","$da9f1d0b98e1d19a$var$pad","$da9f1d0b98e1d19a$var$formatDate","date","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","$da9f1d0b98e1d19a$export$2e2bcd8739ae039","delimiter","reFormat","DELIMITER","charCodeAt","parseRows","I","eof","eol","token","replace","preformatBody","formatValue","formatRow","convert","object","$da9f1d0b98e1d19a$var$customConverter","formatBody","formatRows","$e989978fabb69dc0$var$csv","$e989978fabb69dc0$export$289d25497b0f4c16","$e989978fabb69dc0$export$c82550ca942d869","$e989978fabb69dc0$export$afe767551074aa08","$e989978fabb69dc0$export$b46fa59a5e3bc8a2","$e989978fabb69dc0$export$3f42a65843fbd1d9","$e989978fabb69dc0$export$c30212b87b2d080f","$e989978fabb69dc0$export$2771de09a60fc648","$eb4983181a99ad22$var$tsv","$eb4983181a99ad22$export$f913251db2f734ee","$eb4983181a99ad22$export$8de3b5abc40a067f","$eb4983181a99ad22$export$77e754c4f8504293","$eb4983181a99ad22$export$9d44987d460c9cb3","$eb4983181a99ad22$export$ae461973f6adc981","$eb4983181a99ad22$export$5d61cf35a4a738d2","$eb4983181a99ad22$export$4280e6a416cd92a3","$0b55a96f8e46a2ae$export$2e2bcd8739ae039","number","$0b55a96f8e46a2ae$var$fixtz","getHours","$37db570cec68f9fe$export$45db2fc2f15997e7","$f649c99b97df4dce$export$5118fc7a1e64441b","$f649c99b97df4dce$export$5be5f5e804d0b60c","$f649c99b97df4dce$export$d6ded66933892ed3","$e3f4fd1b826fe896$export$aa0b5c3ce2df9d7d","custom","polyIn","exponent","$e3f4fd1b826fe896$export$e3d987a417dc6640","polyOut","$e3f4fd1b826fe896$export$ae94c6a40058b429","polyInOut","$be9767de548efcdf$var$pi","$be9767de548efcdf$var$halfPi","$be9767de548efcdf$export$a83a280f8d31ba8d","$be9767de548efcdf$export$62ec6410ca53f2a7","$be9767de548efcdf$export$ff58b604d3ba15ba","$5da950e9c8199481$export$be3f0f7224794b88","$7630653bcd5363c7$export$fc3e95f15e1ef38e","$7630653bcd5363c7$export$f3c9b2f85fbcf0ab","$7630653bcd5363c7$export$ae4d4e77fab188ff","$893afee85b619bbe$export$9f82a71b0377c018","$893afee85b619bbe$export$27989e665abef2c8","$893afee85b619bbe$export$2d757ff9ad09038f","$87b1ec4351e96388$var$b1","$87b1ec4351e96388$var$b2","$87b1ec4351e96388$var$b3","$87b1ec4351e96388$var$b4","$87b1ec4351e96388$var$b5","$87b1ec4351e96388$var$b6","$87b1ec4351e96388$var$b7","$87b1ec4351e96388$var$b8","$87b1ec4351e96388$var$b9","$87b1ec4351e96388$var$b0","$87b1ec4351e96388$export$fccebd7948554554","$87b1ec4351e96388$export$cccc9e04465dce11","$87b1ec4351e96388$export$41ad9e9849a703ce","$88aafd51566551a1$var$overshoot","$88aafd51566551a1$export$b01116c84cdfe1a2","backIn","overshoot","$88aafd51566551a1$export$77edfce482316a60","backOut","$88aafd51566551a1$export$ddc5fd596f6c71b2","backInOut","$94735d3a98b9ae57$var$tau","$94735d3a98b9ae57$export$41f42134872a5fa0","asin","elasticIn","amplitude","period","$94735d3a98b9ae57$export$ed1782b99e69bbc8","elasticOut","$94735d3a98b9ae57$export$309de4f35f218bfd","elasticInOut","$4e3d46555264b645$var$responseBlob","response","ok","status","statusText","blob","$4e3d46555264b645$export$2e2bcd8739ae039","init","fetch","then","$b6490c40b83516fa$var$responseArrayBuffer","arrayBuffer","$b6490c40b83516fa$export$2e2bcd8739ae039","$da5fa16673f32559$var$responseText","$da5fa16673f32559$export$2e2bcd8739ae039","$3cf83c8bf9fa611f$var$dsvParse","$3cf83c8bf9fa611f$export$2e2bcd8739ae039","$3cf83c8bf9fa611f$export$901ba78aa04f49da","$3cf83c8bf9fa611f$export$580b2de76423ff18","$cb37cbcf951e868e$export$2e2bcd8739ae039","image","Image","onerror","onload","src","$2e3d422b625f0291$var$responseJson","json","$2e3d422b625f0291$export$2e2bcd8739ae039","$fb66c851eb4dc391$var$parser","DOMParser","parseFromString","$fb66c851eb4dc391$export$2e2bcd8739ae039","$fb66c851eb4dc391$export$c0bb0b647f701bb5","$fb66c851eb4dc391$export$7ed1367e7fa1ad68","$32b22de0132cc595$export$2e2bcd8739ae039","strength","force","sx","sy","$be1b12895c7da8cf$var$add","tree","xm","ym","bottom","_root","leaf","_x","_y","$75f49fd5af8d23e7$export$2e2bcd8739ae039","$e002de94352e4f40$export$e6fafc98131d2a44","$6a00482922687876$export$6f0a21aeb844a64c","$977cc0295d3f184c$export$2e2bcd8739ae039","$977cc0295d3f184c$var$Quadtree","addAll","$977cc0295d3f184c$var$leaf_copy","$977cc0295d3f184c$var$treeProto","$b10509a5c523ef79$export$2e2bcd8739ae039","$2dea4bbaea189065$export$2e2bcd8739ae039","$bdd28c4fe1fd882d$var$x","$bdd28c4fe1fd882d$var$y","$bdd28c4fe1fd882d$export$2e2bcd8739ae039","radii","iterations","ri","ri2","visitAfter","prepare","visit","quad","rj","_nodes","_random","$4275f440a0eccb35$var$index","$4275f440a0eccb35$var$find","nodeById","nodeId","$4275f440a0eccb35$export$2e2bcd8739ae039","links","strengths","distances","bias","link","distance","alpha","initializeStrength","initializeDistance","cover","yz","quads","d2","retainer","removeAll","$2a41329dd990bdd6$var$a","$2a41329dd990bdd6$var$c","$2a41329dd990bdd6$var$m","$2a41329dd990bdd6$export$2e2bcd8739ae039","$f7ecda670cf68ae1$export$d141bba7fdc215a3","$f7ecda670cf68ae1$export$4a5767248b18ef41","$f7ecda670cf68ae1$var$initialRadius","$f7ecda670cf68ae1$var$initialAngle","$f7ecda670cf68ae1$export$2e2bcd8739ae039","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","initializeNodes","angle","initializeForce","randomSource","closest","$6b6e9bc7f2e1a0ee$export$2e2bcd8739ae039","distanceMin2","distanceMax2","theta2","accumulate","distanceMin","distanceMax","theta","$6f671e8f12d94cfe$export$2e2bcd8739ae039","radiuses","$0269baf63e02b6fc$export$2e2bcd8739ae039","$a8abf7da4ed52888$export$2e2bcd8739ae039","$0e9bdd5fefd6a5f6$export$8f8e23dd27dc19f5","toExponential","coefficient","$1589426e0436f502$export$2e2bcd8739ae039","$95e9c493347f9308$export$2e2bcd8739ae039","numerals","$fe491ef31c379765$export$6863724d9a42263","$d5828d241e6c1f75$var$re","$d5828d241e6c1f75$export$2e2bcd8739ae039","specifier","$d5828d241e6c1f75$export$963aac351db36ed4","align","symbol","zero","comma","precision","$dd689cef4c920567$export$2e2bcd8739ae039","$458fe095863893c0$export$2e2bcd8739ae039","$03e2e7837f70dba5$export$2e2bcd8739ae039","toFixed","toLocaleString","toPrecision","X","toUpperCase","$1bc532601db445af$export$2e2bcd8739ae039","$54a757fa53542946$var$locale","$54a757fa53542946$export$d9468344d3651243","$54a757fa53542946$export$8d85692a469dde6f","$e8b109bb95cf9845$var$map","$e8b109bb95cf9845$var$prefixes","$e8b109bb95cf9845$export$2e2bcd8739ae039","locale","grouping","thousands","substring","currencyPrefix","currency","currencySuffix","decimal","String","percent","minus","nan","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","formatPrefix","$54a757fa53542946$export$2e2bcd8739ae039","$f4e256a3cb9c44da$export$2e2bcd8739ae039","$162912dc121d0934$export$2e2bcd8739ae039","$d27f2d3c2137f747$export$2e2bcd8739ae039","$670604c4306869d0$export$6c421550c66a327d","$670604c4306869d0$export$92c06fba281fe81b","$670604c4306869d0$export$18c7bea995a110f","$670604c4306869d0$export$e51408a300e8929a","$670604c4306869d0$export$c39a5cba78ea0fc2","$670604c4306869d0$export$a4b4b4d4d776fe92","$670604c4306869d0$export$41fc368e1a942b97","$670604c4306869d0$export$8449e153fbd325fc","$670604c4306869d0$export$2335f513bbd82c6d","$670604c4306869d0$export$628dc4eed22b0fbd","$670604c4306869d0$export$b8b770ee6a0d9760","$670604c4306869d0$export$50d414a77b60d802","$670604c4306869d0$export$803ce6b71a0a94b2","$670604c4306869d0$export$b310ec824aaee37f","$670604c4306869d0$export$f95c7888b62f8e9a","$670604c4306869d0$export$bef1f36f5486a6a3","$670604c4306869d0$export$9c297f60e22e3389","$670604c4306869d0$export$5de3937cb4b592ed","$670604c4306869d0$export$c5552dfdbc7cec71","$670604c4306869d0$export$eba8049fb5020b81","$670604c4306869d0$export$fcdd3b0b3246a325","$670604c4306869d0$export$fd6306be3fde5b04","$670604c4306869d0$export$41726bdb1fc63f","$670604c4306869d0$export$e808712c2966e662","$f233d25ba5a1175b$export$2e2bcd8739ae039","$f64eb890237a613b$var$streamGeometry","stream","$f64eb890237a613b$var$streamGeometryType","$f64eb890237a613b$var$streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","$f64eb890237a613b$var$streamLine","MultiLineString","Polygon","$f64eb890237a613b$var$streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","$f64eb890237a613b$export$2e2bcd8739ae039","$6aa5b11c7f6dd542$var$lambda00","$6aa5b11c7f6dd542$var$phi00","$6aa5b11c7f6dd542$var$lambda0","$6aa5b11c7f6dd542$var$cosPhi0","$6aa5b11c7f6dd542$var$sinPhi0","$483b84b7680c23fd$var$lambda0","$483b84b7680c23fd$var$phi0","$483b84b7680c23fd$var$lambda1","$483b84b7680c23fd$var$phi1","$483b84b7680c23fd$var$lambda2","$483b84b7680c23fd$var$lambda00","$483b84b7680c23fd$var$phi00","$483b84b7680c23fd$var$p0","$483b84b7680c23fd$var$deltaSum","$483b84b7680c23fd$var$ranges","$483b84b7680c23fd$var$range","$6aa5b11c7f6dd542$export$bf8f994332070c7f","$6aa5b11c7f6dd542$var$areaSum","$6aa5b11c7f6dd542$export$cb67cfa750ae69dc","$6aa5b11c7f6dd542$var$areaRingStart","$6aa5b11c7f6dd542$var$areaRingEnd","areaRing","$6aa5b11c7f6dd542$var$areaPointFirst","$6aa5b11c7f6dd542$var$areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","$6aa5b11c7f6dd542$export$2e2bcd8739ae039","$36ccb64133f7e1ee$export$12f9ad44fe773943","cartesian","$36ccb64133f7e1ee$export$6e6697ef026a96","spherical","$36ccb64133f7e1ee$export$2ef80f51436a9de9","$36ccb64133f7e1ee$export$4763f5351b14293f","$36ccb64133f7e1ee$export$e62eba72fc898eae","$36ccb64133f7e1ee$export$52d0ee3fc868d452","vector","$36ccb64133f7e1ee$export$6789498aec2cb34b","$ebe8e4fbe3a74a06$var$W0","$ebe8e4fbe3a74a06$var$W1","$ebe8e4fbe3a74a06$var$X0","$ebe8e4fbe3a74a06$var$Y0","$ebe8e4fbe3a74a06$var$Z0","$ebe8e4fbe3a74a06$var$X1","$ebe8e4fbe3a74a06$var$Y1","$ebe8e4fbe3a74a06$var$Z1","$ebe8e4fbe3a74a06$var$X2","$ebe8e4fbe3a74a06$var$Y2","$ebe8e4fbe3a74a06$var$Z2","$ebe8e4fbe3a74a06$var$lambda00","$ebe8e4fbe3a74a06$var$phi00","$ebe8e4fbe3a74a06$var$x0","$ebe8e4fbe3a74a06$var$y0","$ebe8e4fbe3a74a06$var$z0","$483b84b7680c23fd$var$boundsStream","$483b84b7680c23fd$var$boundsPoint","$483b84b7680c23fd$var$boundsLineStart","$483b84b7680c23fd$var$boundsLineEnd","$483b84b7680c23fd$var$boundsRingPoint","$483b84b7680c23fd$var$boundsRingStart","$483b84b7680c23fd$var$boundsRingEnd","$483b84b7680c23fd$var$linePoint","normal","inflection","phii","lambdai","antimeridian","$483b84b7680c23fd$var$angle","lambda0","lambda1","$483b84b7680c23fd$var$rangeCompare","$483b84b7680c23fd$var$rangeContains","$483b84b7680c23fd$export$2e2bcd8739ae039","feature","merged","deltaMax","$ebe8e4fbe3a74a06$var$centroidStream","$ebe8e4fbe3a74a06$var$centroidPoint","$ebe8e4fbe3a74a06$var$centroidLineStart","$ebe8e4fbe3a74a06$var$centroidLineEnd","$ebe8e4fbe3a74a06$var$centroidRingStart","$ebe8e4fbe3a74a06$var$centroidRingEnd","$ebe8e4fbe3a74a06$var$centroidPointCartesian","$ebe8e4fbe3a74a06$var$centroidLinePointFirst","$ebe8e4fbe3a74a06$var$centroidLinePoint","$ebe8e4fbe3a74a06$var$centroidRingPointFirst","$ebe8e4fbe3a74a06$var$centroidRingPoint","cz","$ebe8e4fbe3a74a06$export$2e2bcd8739ae039","$b8847947ca497f4e$export$2e2bcd8739ae039","$2f457a25c4f4f64a$export$2e2bcd8739ae039","compose","invert","$f7d73791d6cf97d0$var$rotationIdentity","$f7d73791d6cf97d0$export$a2ba89726971a90f","deltaLambda","deltaPhi","deltaGamma","$f7d73791d6cf97d0$var$rotationLambda","$f7d73791d6cf97d0$var$rotationPhiGamma","$f7d73791d6cf97d0$var$forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","$f7d73791d6cf97d0$export$2e2bcd8739ae039","forward","$d53290674478fba6$export$b5441eb324cd8d4e","direction","cosRadius","sinRadius","$d53290674478fba6$var$circleRadius","$d53290674478fba6$export$2e2bcd8739ae039","circle","$2f42e5268a6797f5$export$2e2bcd8739ae039","lines","rejoin","result","$f3f0691eeedc9e29$export$2e2bcd8739ae039","$b2af5411bf749438$var$Intersection","entry","$b2af5411bf749438$export$2e2bcd8739ae039","segments","compareIntersection","startInside","clip","segment","$b2af5411bf749438$var$link","current","isSubject","$3befe798acd13223$var$longitude","$3befe798acd13223$export$2e2bcd8739ae039","winding","phi0","sinPhi0","cosPhi0","sinPhi1","cosPhi1","point1","phi1","absDelta","intersection","phiArc","$fbd6c74debefbf49$export$2e2bcd8739ae039","pointVisible","clipLine","sink","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","$fbd6c74debefbf49$var$compareIntersection","pointLine","ringSegments","$fbd6c74debefbf49$var$validSegment","$6887d3a2b3b1b107$export$2e2bcd8739ae039","sign0","sign1","sinLambda0Lambda1","$6887d3a2b3b1b107$var$clipAntimeridianIntersect","to","$24a437a45f982759$export$2e2bcd8739ae039","cr","smallRadius","notHemisphere","visible","intersect","two","n2","n2n2","n1n2","determinant","c2","n1xn2","A","uu","polar","q1","code","v00","point2","$b55afac96a294cb9$export$2e2bcd8739ae039","$04b2d10238c6a44a$var$lengthSum","$04b2d10238c6a44a$var$lambda0","$04b2d10238c6a44a$var$sinPhi0","$04b2d10238c6a44a$var$cosPhi0","$7d62d240b7fd88a7$var$clipMax","$7d62d240b7fd88a7$var$clipMin","$7d62d240b7fd88a7$export$2e2bcd8739ae039","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","linePoint","b1","polygonInside","cleanInside","$5ad07cf3cad32926$export$2e2bcd8739ae039","cache","cacheStream","$04b2d10238c6a44a$var$lengthStream","$04b2d10238c6a44a$var$lengthPointFirst","$04b2d10238c6a44a$var$lengthLineEnd","$04b2d10238c6a44a$var$lengthPoint","cosDelta","$04b2d10238c6a44a$export$2e2bcd8739ae039","$1143abd7b4bdf4a0$var$coordinates","$1143abd7b4bdf4a0$var$object","$1143abd7b4bdf4a0$export$2e2bcd8739ae039","$ebfdf142729ef2d5$var$containsObjectType","$ebfdf142729ef2d5$var$containsGeometry","$ebfdf142729ef2d5$var$containsGeometryType","$ebfdf142729ef2d5$var$containsPoint","$ebfdf142729ef2d5$var$containsLine","$ebfdf142729ef2d5$var$containsPolygon","ao","bo","$ebfdf142729ef2d5$var$ringRadians","$ebfdf142729ef2d5$var$pointRadians","$ebfdf142729ef2d5$export$2e2bcd8739ae039","$d9594d9be57d8b1a$var$graticuleX","$d9594d9be57d8b1a$var$graticuleY","$d9594d9be57d8b1a$export$2e2bcd8739ae039","X1","X0","Y1","Y0","Y","DX","DY","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","$d9594d9be57d8b1a$export$b8db4e9403a5b6f1","$f1eb1080d4add1b6$export$2e2bcd8739ae039","cy0","cy1","kx0","ky0","kx1","ky1","B","$aac5fcedac7c8011$var$x00","$aac5fcedac7c8011$var$y00","$aac5fcedac7c8011$var$x0","$aac5fcedac7c8011$var$y0","$523470b6dc0fb943$export$2e2bcd8739ae039","$aac5fcedac7c8011$var$areaSum","$aac5fcedac7c8011$var$areaRingSum","$aac5fcedac7c8011$var$areaStream","$aac5fcedac7c8011$var$areaRingStart","$aac5fcedac7c8011$var$areaRingEnd","$aac5fcedac7c8011$var$areaPointFirst","$aac5fcedac7c8011$var$areaPoint","$aac5fcedac7c8011$export$2e2bcd8739ae039","$efdab2656f7d9ccc$var$x0","$efdab2656f7d9ccc$var$y0","$efdab2656f7d9ccc$var$x1","$efdab2656f7d9ccc$var$y1","$8d0804faef1e75f0$var$x00","$8d0804faef1e75f0$var$y00","$8d0804faef1e75f0$var$x0","$8d0804faef1e75f0$var$y0","$efdab2656f7d9ccc$export$2e2bcd8739ae039","$8d0804faef1e75f0$var$X0","$8d0804faef1e75f0$var$Y0","$8d0804faef1e75f0$var$Z0","$8d0804faef1e75f0$var$X1","$8d0804faef1e75f0$var$Y1","$8d0804faef1e75f0$var$Z1","$8d0804faef1e75f0$var$X2","$8d0804faef1e75f0$var$Y2","$8d0804faef1e75f0$var$Z2","$8d0804faef1e75f0$var$centroidStream","$8d0804faef1e75f0$var$centroidPoint","$8d0804faef1e75f0$var$centroidLineStart","$8d0804faef1e75f0$var$centroidLineEnd","$8d0804faef1e75f0$var$centroidRingStart","$8d0804faef1e75f0$var$centroidRingEnd","centroid","$8d0804faef1e75f0$var$centroidPointFirstLine","$8d0804faef1e75f0$var$centroidPointLine","$8d0804faef1e75f0$var$centroidPointFirstRing","$8d0804faef1e75f0$var$centroidPointRing","$8d0804faef1e75f0$export$2e2bcd8739ae039","$bc272bd0e70c3e89$export$2e2bcd8739ae039","_context","_radius","pointRadius","_line","_point","$9d42a1f4ad2437ef$var$lengthRing","$9d42a1f4ad2437ef$var$x00","$9d42a1f4ad2437ef$var$y00","$9d42a1f4ad2437ef$var$x0","$9d42a1f4ad2437ef$var$y0","$9d42a1f4ad2437ef$var$lengthSum","$9d42a1f4ad2437ef$var$lengthStream","$9d42a1f4ad2437ef$var$lengthPointFirst","$9d42a1f4ad2437ef$var$lengthPoint","$9d42a1f4ad2437ef$export$2e2bcd8739ae039","$eeca8dbd32c6e6b7$var$cacheDigits","$eeca8dbd32c6e6b7$var$cacheAppend","$eeca8dbd32c6e6b7$var$cacheRadius","$eeca8dbd32c6e6b7$var$cacheCircle","$eeca8dbd32c6e6b7$export$2e2bcd8739ae039","$eeca8dbd32c6e6b7$var$append","$eeca8dbd32c6e6b7$var$appendRound","$58c46562f4a8d739$export$2e2bcd8739ae039","projection","projectionStream","contextStream","measure","$0412b2d170387dff$export$2e2bcd8739ae039","methods","$0412b2d170387dff$export$6b468dcfb64c653c","$0412b2d170387dff$var$TransformStream","$f635eb16c9b15b07$var$fit","fitBounds","clipExtent","$f635eb16c9b15b07$export$e450184041869e7f","$f635eb16c9b15b07$export$33a367fa1728c3ba","$f635eb16c9b15b07$export$7d8f2192ef31c5a7","$f635eb16c9b15b07$export$7069bab0d2ced675","$64af1b85c5f97f77$var$maxDepth","$64af1b85c5f97f77$var$cosMinDistance","$64af1b85c5f97f77$export$2e2bcd8739ae039","project","delta2","resampleLineTo","depth","phi2","lambda2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","$64af1b85c5f97f77$var$resample","$64af1b85c5f97f77$var$resampleNone","$5ee116a807460c55$var$transformRadians","$5ee116a807460c55$var$scaleTranslateRotate","$5ee116a807460c55$var$scaleTranslate","cosAlpha","sinAlpha","fi","$5ee116a807460c55$export$2e2bcd8739ae039","$5ee116a807460c55$export$155d5a6fa6fddeba","projectAt","projectResample","projectTransform","projectRotateTransform","preclip","postclip","recenter","reset","$5ee116a807460c55$var$transformRotate","clipAngle","reflectX","reflectY","fitExtent","fitSize","fitWidth","fitHeight","$91fc065f2c677322$export$228272587c4d24d8","parallels","$5474082c8e90dfac$export$ae68c6db8b65046a","$be3cbe5874066802$export$75409dad1c406288","r0","r0y","$be3cbe5874066802$export$2e2bcd8739ae039","$189dcd4c41cb3d8a$export$2e2bcd8739ae039","$dae3a16b5ba78504$export$2e2bcd8739ae039","lower48Point","alaskaPoint","hawaiiPoint","lower48","alaska","hawaii","pointStream","albersUsa","streams","$8549f9238ecb0bb6$export$f1211ac1bdb0796","$8549f9238ecb0bb6$export$3cee429f13e44eac","sc","cc","$cde1dad42250dd7d$export$5e11f94fc4a8d2c6","cxcy","$cde1dad42250dd7d$export$2e2bcd8739ae039","$7a9894a70b3e10e2$export$b94a4d6aa3dd25c","$7a9894a70b3e10e2$export$2e2bcd8739ae039","$ff090f04ba81e8e2$export$94ff8a57e9b91cc3","$ff090f04ba81e8e2$export$2e2bcd8739ae039","$ff090f04ba81e8e2$export$44b9b66a01f2127b","reclip","$c71ea640260518ba$var$tany","$c71ea640260518ba$export$2b1bc913962ed170","$c71ea640260518ba$export$2e2bcd8739ae039","$b150c6d84b26cddf$export$f5fee52180f2f058","$b150c6d84b26cddf$export$2e2bcd8739ae039","$d8f5b846585bb1cd$export$24f604fe80e5f192","gy","nx","$d8f5b846585bb1cd$export$2e2bcd8739ae039","$fc041bd5ad9011bc$var$A1","$fc041bd5ad9011bc$var$A2","$fc041bd5ad9011bc$var$A3","$fc041bd5ad9011bc$var$A4","$fc041bd5ad9011bc$var$M","$fc041bd5ad9011bc$export$a320734067e7a731","l2","l6","$fc041bd5ad9011bc$export$2e2bcd8739ae039","$ec357a35bfb88504$export$dc8c6ddfc8b22c85","$ec357a35bfb88504$export$2e2bcd8739ae039","$15e2e8eada86334f$export$2e2bcd8739ae039","sa","tx","ty","kx","ky","$e77a13f6018ce2d0$export$acb6def22fe878e6","phi4","$e77a13f6018ce2d0$export$2e2bcd8739ae039","$5bed72effbe81a9c$export$1cd9c2eb846182a","$5bed72effbe81a9c$export$2e2bcd8739ae039","$30512e786dc906d9$export$f9ccbb0dcb3dcd2b","$30512e786dc906d9$export$2e2bcd8739ae039","$75766842dfa94e14$export$e84942adec6de533","$75766842dfa94e14$export$2e2bcd8739ae039","$72960a09a94aecc9$var$defaultSeparation","$72960a09a94aecc9$var$meanXReduce","$72960a09a94aecc9$var$maxYReduce","$72960a09a94aecc9$export$2e2bcd8739ae039","separation","nodeSize","cluster","previousNode","eachAfter","$72960a09a94aecc9$var$meanX","$72960a09a94aecc9$var$maxY","$72960a09a94aecc9$var$leafLeft","$72960a09a94aecc9$var$leafRight","$06713b77db0b884a$var$count","$9a60c0761eaba32b$export$2e2bcd8739ae039","$9a60c0761eaba32b$var$mapChildren","$9a60c0761eaba32b$var$objectChildren","childs","$9a60c0761eaba32b$export$85c928794f8d04d4","eachBefore","$9a60c0761eaba32b$export$5af32d52ab5dfd57","$9a60c0761eaba32b$var$copyData","$90128989f18a9a47$export$516e28dec6a4b6d4","$90128989f18a9a47$export$a7a0278c004aac3f","$4ecbd2dc481264b5$export$99e2e371aa6a9db","$4ecbd2dc481264b5$export$2e2bcd8739ae039","ancestor","aNodes","ancestors","bNodes","$b87aaeb3b6fa0399$var$leastCommonAncestor","descendants","leaves","$a2ff0f94b9ee8fb6$var$a","$a2ff0f94b9ee8fb6$var$c","$a2ff0f94b9ee8fb6$var$m","$a2ff0f94b9ee8fb6$export$2e2bcd8739ae039","$b99145bc2d4353db$export$448332262467e042","$ea1b36d15ec8a0dd$export$2e2bcd8739ae039","circles","$ea1b36d15ec8a0dd$export$55712536b4d8ce73","$ea1b36d15ec8a0dd$var$enclosesWeak","$ea1b36d15ec8a0dd$var$encloseBasis","$ea1b36d15ec8a0dd$var$extendBasis","$ea1b36d15ec8a0dd$var$enclosesWeakAll","$ea1b36d15ec8a0dd$var$enclosesNot","$ea1b36d15ec8a0dd$var$encloseBasis2","$ea1b36d15ec8a0dd$var$encloseBasis3","dr","r1","r2","r21","r3","a2","a3","b2","b3","c3","d1","d3","C","$6594768d72e976ec$var$place","$6594768d72e976ec$var$intersects","$6594768d72e976ec$var$score","$6594768d72e976ec$var$Node","$6594768d72e976ec$export$5390336473d877c8","aa","sj","sk","pack","$6594768d72e976ec$export$2e2bcd8739ae039","$2c146828ae9cce7b$var$defaultRadius","$2c146828ae9cce7b$export$2e2bcd8739ae039","$2c146828ae9cce7b$var$radiusLeaf","$2c146828ae9cce7b$var$packChildrenRandom","$2c146828ae9cce7b$var$translateChild","$aed60e160d4ee5c0$export$2e2bcd8739ae039","$41d50c80388e33d8$export$2e2bcd8739ae039","$33157bf754db4825$export$2e2bcd8739ae039","partition","positionNode","$380ae89231a1c1f0$var$preroot","$380ae89231a1c1f0$var$ambiguous","$380ae89231a1c1f0$var$imputed","$380ae89231a1c1f0$var$defaultId","$380ae89231a1c1f0$var$defaultParentId","parentId","$380ae89231a1c1f0$export$2e2bcd8739ae039","stratify","nodeKey","currentId","currentParentId","nodeByKey","$380ae89231a1c1f0$var$slash","$380ae89231a1c1f0$var$normalize","$380ae89231a1c1f0$var$parentof","$5dd6fb578301fa88$var$defaultSeparation","$5dd6fb578301fa88$var$nextLeft","$5dd6fb578301fa88$var$nextRight","$5dd6fb578301fa88$var$moveSubtree","wm","wp","change","$5dd6fb578301fa88$var$nextAncestor","vim","$5dd6fb578301fa88$var$TreeNode","$5dd6fb578301fa88$export$2e2bcd8739ae039","$5dd6fb578301fa88$var$treeRoot","firstWalk","secondWalk","sizeNode","siblings","$5dd6fb578301fa88$var$executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","$e510cc16795bdea9$export$2e2bcd8739ae039","$b59b7ec66acd2122$export$324943737027944a","$b59b7ec66acd2122$export$9ff1217655212093","ratio","nodeValue","sumValue","newRatio","minRatio","beta","dice","$b59b7ec66acd2122$export$2e2bcd8739ae039","squarify","$eaa8edfadbfdf0f7$export$2e2bcd8739ae039","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","paddingOuter","$db77ef44c1b1abd6$export$2e2bcd8739ae039","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","$4cdb51c023cf32ea$export$2e2bcd8739ae039","$7d7ebb8fcbd38e77$export$2e2bcd8739ae039","resquarify","_squarify","$56de3e3c7b7fc500$export$2e2bcd8739ae039","$e62510ebe0cc0f51$export$2e2bcd8739ae039","$c0f8a9efb1caa699$export$2e2bcd8739ae039","$e4199827a75856fd$var$cosh","$e4199827a75856fd$export$2e2bcd8739ae039","zoomRho","rho","rho2","rho4","zoom","ux0","uy0","ux1","uy1","coshr0","$e4199827a75856fd$var$sinh","SQRT2","_2","$852106acfdc40efe$var$hsl","hue","$852106acfdc40efe$export$2e2bcd8739ae039","$852106acfdc40efe$export$a2c535e270a59256","$5eb07f15d29dfb2b$export$2e2bcd8739ae039","$86158b7019ca6112$var$hcl","$86158b7019ca6112$export$2e2bcd8739ae039","$86158b7019ca6112$export$5aaa50f7615f9b70","$ffc3b01ae2663238$var$cubehelix","cubehelixGamma","cubehelix","$ffc3b01ae2663238$export$2e2bcd8739ae039","$ffc3b01ae2663238$export$934fa09ad474a1b4","$25f2a121ae5a240e$export$2e2bcd8739ae039","$4f501ce7bede8755$export$2e2bcd8739ae039","interpolator","samples","$deaab42f8ba89893$export$2e2bcd8739ae039","$e647516d223f0095$export$2e2bcd8739ae039","$061b6e9b6f8eb82d$var$lexicographicOrder","$061b6e9b6f8eb82d$var$computeUpperHullIndexes","indexes","$061b6e9b6f8eb82d$export$2e2bcd8739ae039","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","$909fc8bab4d5ea35$export$2e2bcd8739ae039","inside","$0cd8c52cc110161f$export$2e2bcd8739ae039","perimeter","$47e50bac224ef074$export$2e2bcd8739ae039","$6f2138f117e664d5$export$2e2bcd8739ae039","sourceRandomUniform","randomUniform","$cce324d019e80e63$export$2e2bcd8739ae039","sourceRandomInt","randomInt","$84a8341e7a81af75$export$2e2bcd8739ae039","sourceRandomNormal","randomNormal","mu","sigma","$b55220c14c05b678$export$2e2bcd8739ae039","sourceRandomLogNormal","randomLogNormal","$239f1e07ebca197f$export$2e2bcd8739ae039","sourceRandomIrwinHall","randomIrwinHall","$ec31e64bd24fe1c3$export$2e2bcd8739ae039","sourceRandomBates","randomBates","$82c98442936778b2$export$2e2bcd8739ae039","sourceRandomExponential","randomExponential","log1p","$60171e9cac65c5e1$export$2e2bcd8739ae039","sourceRandomPareto","randomPareto","$13367c09e2c8c99b$export$2e2bcd8739ae039","sourceRandomBernoulli","randomBernoulli","$f24477a6937e046c$export$2e2bcd8739ae039","sourceRandomGeometric","randomGeometric","$ac591d038f437b3d$export$2e2bcd8739ae039","sourceRandomGamma","randomGamma","multiplier","$a230a5e9d2cb8df9$export$2e2bcd8739ae039","sourceRandomBeta","G","randomBeta","$c99ad4cc56366c49$export$2e2bcd8739ae039","sourceRandomBinomial","randomBinomial","acc","nn","pp","$b46f5c685343eb72$export$2e2bcd8739ae039","sourceRandomWeibull","randomWeibull","outerFunc","$4ac13d60ee4ab12c$export$2e2bcd8739ae039","sourceRandomCauchy","randomCauchy","$cc20134327df03f7$export$2e2bcd8739ae039","sourceRandomLogistic","randomLogistic","$55aa7f6e5b96a11a$export$2e2bcd8739ae039","sourceRandomPoisson","randomPoisson","$e8a0bfad26e955e5$var$mul","$e8a0bfad26e955e5$var$inc","$e8a0bfad26e955e5$var$eps","$e8a0bfad26e955e5$export$2e2bcd8739ae039","seed","$5b694e64f5326630$export$23c7bb9e6558da2a","$5b694e64f5326630$export$7d6b419e59e83f3d","$38404d762c7ac827$export$e4f898ab14d9d460","$38404d762c7ac827$export$2e2bcd8739ae039","unknown","$c1f2fa2a7653ca3a$export$2e2bcd8739ae039","ordinalRange","rescale","rangeRound","$c1f2fa2a7653ca3a$var$pointish","$c1f2fa2a7653ca3a$export$105684a3041cb6f3","$6cab7aea8ef8b40b$export$2e2bcd8739ae039","$afe237385175446a$var$unit","$afe237385175446a$export$f0954fd7d5368655","$afe237385175446a$var$normalize","$afe237385175446a$var$bimap","$afe237385175446a$var$polymap","$afe237385175446a$export$784d13d8ee351f07","$afe237385175446a$export$6b468dcfb64c653c","untransform","piecewise","$afe237385175446a$export$2e2bcd8739ae039","$b0a07d06c8b316c1$export$2e2bcd8739ae039","$db1dd3c66a0cbf94$export$16a5d4b4a61a274d","nice","maxIter","$db1dd3c66a0cbf94$export$2e2bcd8739ae039","$dcfca0550ace1fe6$export$2e2bcd8739ae039","$0c42deabcdb569d9$export$2e2bcd8739ae039","interval","$5bf2f979a0299157$var$transformLog","$5bf2f979a0299157$var$transformExp","$5bf2f979a0299157$var$transformLogn","$5bf2f979a0299157$var$transformExpn","$5bf2f979a0299157$var$pow10","$5bf2f979a0299157$var$reflect","$5bf2f979a0299157$export$860836db074028f0","logs","pows","base","log2","$5bf2f979a0299157$var$logp","$5bf2f979a0299157$var$powp","$5bf2f979a0299157$export$2e2bcd8739ae039","$cb758ed0dff37844$var$transformSymlog","$cb758ed0dff37844$var$transformSymexp","expm1","$cb758ed0dff37844$export$4602684e614eba38","constant","$cb758ed0dff37844$export$2e2bcd8739ae039","$d97c146f4f811488$var$transformPow","$d97c146f4f811488$var$transformSqrt","$d97c146f4f811488$var$transformSquare","$d97c146f4f811488$export$34695211ec403a46","$d97c146f4f811488$export$2e2bcd8739ae039","$d97c146f4f811488$export$eba8049fb5020b81","$649799b8497b3636$var$square","$649799b8497b3636$export$2e2bcd8739ae039","squared","$649799b8497b3636$var$unsquare","$96238d247b54f1ee$export$2e2bcd8739ae039","invertExtent","quantiles","$a6fd4026648153e5$export$2e2bcd8739ae039","$8058838348a44fed$export$2e2bcd8739ae039","$f26fc9b6912de968$var$t0","$f26fc9b6912de968$var$t1","$f26fc9b6912de968$export$1a539c8b2950ab40","floori","offseti","field","$a28c7a35eadfe1f6$export$79ef0e34099623dc","$a28c7a35eadfe1f6$export$683905d551c33fa9","$a28c7a35eadfe1f6$export$4157bf0c8e241659","$a28c7a35eadfe1f6$export$353686095f4fbf45","$a28c7a35eadfe1f6$export$c241eb88520d5016","$a28c7a35eadfe1f6$export$ab95684df7020b26","$a28c7a35eadfe1f6$export$61f8ee2d834c6959","$51fe2e20810fcb40$export$8888529b966033e5","setHours","setDate","getDate","getTimezoneOffset","$51fe2e20810fcb40$export$6657a54f3034cf45","$51fe2e20810fcb40$export$c8cbc42cefd47140","setUTCHours","setUTCDate","$51fe2e20810fcb40$export$d277e198508549a1","$51fe2e20810fcb40$export$fb065be2d7ea4a71","$51fe2e20810fcb40$export$a491caaf5e9481aa","$9472e71f07850dab$export$46c68a5833bc315b","getMilliseconds","getSeconds","getMinutes","$9472e71f07850dab$export$fb843f9087cd5235","$9472e71f07850dab$export$31f6f2b3c63ac75e","setUTCMinutes","$9472e71f07850dab$export$6e7a76cd5f50b719","$292297f992a3b17e$export$a7e4c34a52f0576","$292297f992a3b17e$export$186d65358374c0a2","$292297f992a3b17e$export$efe6712d6003761b","setUTCSeconds","$292297f992a3b17e$export$cedd563624e8ee50","$031c190f93ea3efa$export$7e1084fb688591c1","setMonth","getMonth","getFullYear","$031c190f93ea3efa$export$3e24aa839cd0f1c4","$031c190f93ea3efa$export$cd49b3d2bcfe50d5","setUTCMonth","$031c190f93ea3efa$export$49159f585997498","$490d5c36270b8fcb$export$3d3c77ce7df7d30d","$490d5c36270b8fcb$export$4792e48abc550fa1","$79ec6c01997bf022$export$edc5e5cb87280477","$79ec6c01997bf022$export$9a27fac83d67afd3","$7f6029921eecd017$var$timeWeekday","getDay","$7f6029921eecd017$export$22ee6205b762968c","$7f6029921eecd017$export$e79bbe0177cf1b01","$7f6029921eecd017$export$57c0658c29f77708","$7f6029921eecd017$export$3fbeef226c256e43","$7f6029921eecd017$export$608689422d5cf9f4","$7f6029921eecd017$export$548e5227aa183dca","$7f6029921eecd017$export$c56a3ad248908e19","$7f6029921eecd017$export$eac514c8a8674eba","$7f6029921eecd017$export$f7219b1481948356","$7f6029921eecd017$export$77e22b12c5bed05b","$7f6029921eecd017$export$b85d407a471809e8","$7f6029921eecd017$export$c1bc1c49254c8855","$7f6029921eecd017$export$3691a1557fff46f1","$7f6029921eecd017$export$b755452d02cba8d2","$7f6029921eecd017$var$utcWeekday","getUTCDay","$7f6029921eecd017$export$4898b06303a92011","$7f6029921eecd017$export$9cfc53b9cfafd080","$7f6029921eecd017$export$2a6d545f77eceb15","$7f6029921eecd017$export$a5c25d8ed64433c4","$7f6029921eecd017$export$1db08111baec2f53","$7f6029921eecd017$export$29265e34dd5921f7","$7f6029921eecd017$export$85b74dad05049604","$7f6029921eecd017$export$6f3e1c2b0f7d7880","$7f6029921eecd017$export$1d2d8b858bb366f9","$7f6029921eecd017$export$1d5f6785fc7f30f8","$7f6029921eecd017$export$7a75faf0e37ef4af","$7f6029921eecd017$export$417eb959611b2f2f","$7f6029921eecd017$export$59d308db7af08c64","$7f6029921eecd017$export$a124108a0a7f34c8","$dd6e0f506bfbbd03$export$cd17cfe45df0c046","setFullYear","$dd6e0f506bfbbd03$export$69a4e90dd2cc3bd1","$dd6e0f506bfbbd03$export$d5c3802e389714c4","setUTCFullYear","$dd6e0f506bfbbd03$export$3e24d311e17f5802","$047ba3ec3f41562e$var$ticker","month","week","day","hour","minute","tickIntervals","tickInterval","$047ba3ec3f41562e$export$826ba5ae907e9767","$047ba3ec3f41562e$export$6262d8d056ea44c4","$047ba3ec3f41562e$export$60c76498552d28a6","$047ba3ec3f41562e$export$69511150134dd174","$463505b9d968caf4$var$localDate","H","M","L","$463505b9d968caf4$var$utcDate","UTC","$463505b9d968caf4$var$newDate","$463505b9d968caf4$export$2e2bcd8739ae039","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","$463505b9d968caf4$var$formatRe","periodLookup","$463505b9d968caf4$var$formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","$463505b9d968caf4$var$formatDayOfMonth","$463505b9d968caf4$var$formatMicroseconds","$463505b9d968caf4$var$formatYearISO","$463505b9d968caf4$var$formatFullYearISO","$463505b9d968caf4$var$formatHour24","$463505b9d968caf4$var$formatHour12","$463505b9d968caf4$var$formatDayOfYear","$463505b9d968caf4$var$formatMilliseconds","$463505b9d968caf4$var$formatMonthNumber","$463505b9d968caf4$var$formatMinutes","$463505b9d968caf4$var$formatUnixTimestamp","$463505b9d968caf4$var$formatUnixTimestampSeconds","$463505b9d968caf4$var$formatSeconds","$463505b9d968caf4$var$formatWeekdayNumberMonday","U","$463505b9d968caf4$var$formatWeekNumberSunday","$463505b9d968caf4$var$formatWeekNumberISO","$463505b9d968caf4$var$formatWeekdayNumberSunday","$463505b9d968caf4$var$formatWeekNumberMonday","$463505b9d968caf4$var$formatYear","$463505b9d968caf4$var$formatFullYear","Z","$463505b9d968caf4$var$formatZone","$463505b9d968caf4$var$formatLiteralPercent","utcFormats","$463505b9d968caf4$var$formatUTCDayOfMonth","$463505b9d968caf4$var$formatUTCMicroseconds","$463505b9d968caf4$var$formatUTCYearISO","$463505b9d968caf4$var$formatUTCFullYearISO","$463505b9d968caf4$var$formatUTCHour24","$463505b9d968caf4$var$formatUTCHour12","$463505b9d968caf4$var$formatUTCDayOfYear","$463505b9d968caf4$var$formatUTCMilliseconds","$463505b9d968caf4$var$formatUTCMonthNumber","$463505b9d968caf4$var$formatUTCMinutes","$463505b9d968caf4$var$formatUTCSeconds","$463505b9d968caf4$var$formatUTCWeekdayNumberMonday","$463505b9d968caf4$var$formatUTCWeekNumberSunday","$463505b9d968caf4$var$formatUTCWeekNumberISO","$463505b9d968caf4$var$formatUTCWeekdayNumberSunday","$463505b9d968caf4$var$formatUTCWeekNumberMonday","$463505b9d968caf4$var$formatUTCYear","$463505b9d968caf4$var$formatUTCFullYear","$463505b9d968caf4$var$formatUTCZone","parses","parseSpecifier","$463505b9d968caf4$var$parseDayOfMonth","$463505b9d968caf4$var$parseMicroseconds","$463505b9d968caf4$var$parseYear","$463505b9d968caf4$var$parseFullYear","$463505b9d968caf4$var$parseHour24","$463505b9d968caf4$var$parseDayOfYear","$463505b9d968caf4$var$parseMilliseconds","$463505b9d968caf4$var$parseMonthNumber","$463505b9d968caf4$var$parseMinutes","$463505b9d968caf4$var$parseQuarter","$463505b9d968caf4$var$parseUnixTimestamp","$463505b9d968caf4$var$parseUnixTimestampSeconds","$463505b9d968caf4$var$parseSeconds","$463505b9d968caf4$var$parseWeekdayNumberMonday","$463505b9d968caf4$var$parseWeekNumberSunday","$463505b9d968caf4$var$parseWeekNumberISO","$463505b9d968caf4$var$parseWeekdayNumberSunday","$463505b9d968caf4$var$parseWeekNumberMonday","$463505b9d968caf4$var$parseZone","$463505b9d968caf4$var$parseLiteralPercent","pad","$463505b9d968caf4$var$pads","charAt","newParse","utcFormat","utcParse","$0a9ce0165786feda$var$locale","$0a9ce0165786feda$export$94f4d87fad5dcf9a","$0a9ce0165786feda$export$32b9cd16e1b8c8d2","$0a9ce0165786feda$export$1a08fe38f63ebbbb","$0a9ce0165786feda$export$3edae9cf8e233729","$463505b9d968caf4$var$numberRe","$463505b9d968caf4$var$percentRe","$463505b9d968caf4$var$requoteRe","$463505b9d968caf4$var$pad","$463505b9d968caf4$var$requote","$463505b9d968caf4$var$dISO","dow","$463505b9d968caf4$var$UTCdISO","$0a9ce0165786feda$export$2e2bcd8739ae039","$304372357472b2a4$var$date","$304372357472b2a4$var$number","$304372357472b2a4$export$56bbcdb8aca31149","second","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","$304372357472b2a4$export$2e2bcd8739ae039","$f4e8dbe80a3143de$export$2e2bcd8739ae039","$f9c43af42f8b19e4$var$transformer","k10","$f9c43af42f8b19e4$export$784d13d8ee351f07","$f9c43af42f8b19e4$export$2e2bcd8739ae039","$f9c43af42f8b19e4$export$6843e08bf2ff981f","$f9c43af42f8b19e4$export$9d4af4de62c81941","$f9c43af42f8b19e4$export$de9f78581b4f2405","$f9c43af42f8b19e4$export$413d935127ed466e","$52fcf35202383c14$export$2e2bcd8739ae039","$19e76371916c670d$var$transformer","k21","$19e76371916c670d$export$2e2bcd8739ae039","$19e76371916c670d$export$5f0266a9159c47fb","$19e76371916c670d$export$50b3da713cf557c6","$19e76371916c670d$export$d6cedcc63bf26e7e","$19e76371916c670d$export$33ddefb5c4ab9e9c","$fe769d98421e6dac$export$2e2bcd8739ae039","$b0a93f4c47fccf6f$export$2e2bcd8739ae039","$5c89bc3d03077aec$export$2e2bcd8739ae039","$8720e88c6715774d$export$2e2bcd8739ae039","$892d66d4b4370fa9$export$2e2bcd8739ae039","$8b74c2f853351d4b$export$2e2bcd8739ae039","$21804f83495238ab$export$2e2bcd8739ae039","$067ed124de63e363$export$2e2bcd8739ae039","$0b28fee23808bb16$export$2e2bcd8739ae039","$2c32d07a5d4299df$export$2e2bcd8739ae039","$4fe0d67c4ca00f70$export$2e2bcd8739ae039","$c38bc04632290fce$export$2e2bcd8739ae039","scheme","$923009811f34a285$export$3005042704f95a69","$923009811f34a285$export$2e2bcd8739ae039","$bebec87caf5c9753$export$3005042704f95a69","$bebec87caf5c9753$export$2e2bcd8739ae039","$cd2b06ef8006df98$export$3005042704f95a69","$cd2b06ef8006df98$export$2e2bcd8739ae039","$fa43973b0e53adde$export$3005042704f95a69","$fa43973b0e53adde$export$2e2bcd8739ae039","$459633cf9cf535bb$export$3005042704f95a69","$459633cf9cf535bb$export$2e2bcd8739ae039","$d593cda9522f5e9b$export$3005042704f95a69","$d593cda9522f5e9b$export$2e2bcd8739ae039","$cc75fec219df38fc$export$3005042704f95a69","$cc75fec219df38fc$export$2e2bcd8739ae039","$34bd5cca956fffae$export$3005042704f95a69","$34bd5cca956fffae$export$2e2bcd8739ae039","$9f2dc97368c5eb16$export$3005042704f95a69","$9f2dc97368c5eb16$export$2e2bcd8739ae039","$1346c9d2a50a7688$export$3005042704f95a69","$1346c9d2a50a7688$export$2e2bcd8739ae039","$c6eb5bbbe1fe33f2$export$3005042704f95a69","$c6eb5bbbe1fe33f2$export$2e2bcd8739ae039","$54d7f7dcce705495$export$3005042704f95a69","$54d7f7dcce705495$export$2e2bcd8739ae039","$eeccadfeb064b2e3$export$3005042704f95a69","$eeccadfeb064b2e3$export$2e2bcd8739ae039","$256ade4440a037db$export$3005042704f95a69","$256ade4440a037db$export$2e2bcd8739ae039","$378e987a98dccf42$export$3005042704f95a69","$378e987a98dccf42$export$2e2bcd8739ae039","$5387771dbbae7a61$export$3005042704f95a69","$5387771dbbae7a61$export$2e2bcd8739ae039","$c0b866951e59a25a$export$3005042704f95a69","$c0b866951e59a25a$export$2e2bcd8739ae039","$59f93d7737a98115$export$3005042704f95a69","$59f93d7737a98115$export$2e2bcd8739ae039","$9f35832fa0e76f1c$export$3005042704f95a69","$9f35832fa0e76f1c$export$2e2bcd8739ae039","$8ba4ac8d08f3d776$export$3005042704f95a69","$8ba4ac8d08f3d776$export$2e2bcd8739ae039","$f3f63506e2889591$export$3005042704f95a69","$f3f63506e2889591$export$2e2bcd8739ae039","$145b892380fd2d31$export$3005042704f95a69","$145b892380fd2d31$export$2e2bcd8739ae039","$8f3c9c616b880108$export$3005042704f95a69","$8f3c9c616b880108$export$2e2bcd8739ae039","$7bfe5c88f8446526$export$3005042704f95a69","$7bfe5c88f8446526$export$2e2bcd8739ae039","$1d375f28523a6def$export$3005042704f95a69","$1d375f28523a6def$export$2e2bcd8739ae039","$1061f70ec19e6f6b$export$3005042704f95a69","$1061f70ec19e6f6b$export$2e2bcd8739ae039","$595eb3851ff257d2$export$3005042704f95a69","$595eb3851ff257d2$export$2e2bcd8739ae039","$9952aaaded0c8a28$export$2e2bcd8739ae039","$29d6cb6ff87ef07d$export$2e2bcd8739ae039","$99c57285242dd2ea$export$fc70efcec537be98","$99c57285242dd2ea$export$c5cedbc1ab3be2c3","$99c57285242dd2ea$var$c","$99c57285242dd2ea$export$2e2bcd8739ae039","ts","$8a82e5e51ab56b0d$var$c","$8a82e5e51ab56b0d$var$pi_1_3","$8a82e5e51ab56b0d$var$pi_2_3","$8a82e5e51ab56b0d$export$2e2bcd8739ae039","$b6e6a61cd0d5bfcf$export$2e2bcd8739ae039","$c1e92c032cb158e3$var$ramp","$c1e92c032cb158e3$export$2e2bcd8739ae039","$c1e92c032cb158e3$export$c41e69203f572e8d","$c1e92c032cb158e3$export$ad0c8285c8ea6dbd","$c1e92c032cb158e3$export$6664860a633d9daf","$1df142200d400520$export$2e2bcd8739ae039","$83f7984d0c2930db$var$nextId","$83f7984d0c2930db$export$2e2bcd8739ae039","$83f7984d0c2930db$var$Local","$072c439c93c95916$export$2e2bcd8739ae039","events","$e5dfdc386da08eff$export$2e2bcd8739ae039","$59cb0344df9474fa$export$2e2bcd8739ae039","$f0560c970166d25b$export$2335f513bbd82c6d","$f0560c970166d25b$export$b8b770ee6a0d9760","$f0560c970166d25b$export$50d414a77b60d802","$f0560c970166d25b$export$8960430cfd85939f","$f0560c970166d25b$export$96ec731ed4dcb222","$f0560c970166d25b$export$5de3937cb4b592ed","$f0560c970166d25b$export$eba8049fb5020b81","$f0560c970166d25b$export$6c421550c66a327d","$f0560c970166d25b$export$18c7bea995a110f","$f0560c970166d25b$export$e51408a300e8929a","$f0560c970166d25b$export$a4b4b4d4d776fe92","$f0560c970166d25b$export$41726bdb1fc63f","$5c3aa3aea2c844cf$export$fb6e83118a5dcd45","shape","$b196a0c5210e8c70$var$arcInnerRadius","innerRadius","$b196a0c5210e8c70$var$arcOuterRadius","outerRadius","$b196a0c5210e8c70$var$arcStartAngle","$b196a0c5210e8c70$var$arcEndAngle","$b196a0c5210e8c70$var$arcPadAngle","$b196a0c5210e8c70$var$cornerTangents","rc","ox","oy","x11","y11","x10","y10","D","cx0","cx1","dx0","dy0","dx1","dy1","$b196a0c5210e8c70$export$2e2bcd8739ae039","cornerRadius","padRadius","a01","a11","a10","da0","da1","rp","rc0","rc1","oc","x32","y32","$b196a0c5210e8c70$var$intersect","kc","lc","$b1edd492c2923d6f$export$58adb3bec8346d0f","$b1edd492c2923d6f$export$2e2bcd8739ae039","$c1e9e09d9174b864$var$Linear","$c1e9e09d9174b864$export$2e2bcd8739ae039","$ebec7ab58e49c436$export$d141bba7fdc215a3","$ebec7ab58e49c436$export$4a5767248b18ef41","$3fbda81220c6ea9c$export$2e2bcd8739ae039","curve","defined0","$b654034e6c52569c$export$2e2bcd8739ae039","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","$afcf5628442ed482$export$2e2bcd8739ae039","$b802d97edd5fe3af$export$2e2bcd8739ae039","$b3395c44b48089b3$export$2e2bcd8739ae039","sortValues","pie","arcs","pa","$da46f1219e1ec848$export$22d25ffb9fb15b6f","$da46f1219e1ec848$export$2e2bcd8739ae039","$da46f1219e1ec848$var$Radial","_curve","radial","$2a786db3fa594b9b$export$4d8815a75dc8cd4d","$2a786db3fa594b9b$export$2e2bcd8739ae039","$593a6c9db6c01801$export$2e2bcd8739ae039","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","$8bd0ba086b92e84b$export$2e2bcd8739ae039","$bf3175dc82ec4a49$var$Bump","$bf3175dc82ec4a49$var$BumpRadial","p2","p3","$bf3175dc82ec4a49$export$2c099b5096f70ce6","$bf3175dc82ec4a49$export$908da9dfa54cbed6","$bf3175dc82ec4a49$export$8c82a77a5061b331","$3cf76165ec7f8ace$var$linkSource","$3cf76165ec7f8ace$var$linkTarget","$3cf76165ec7f8ace$export$9c30223ca0a664fb","$3cf76165ec7f8ace$export$e7c381889b2cd14d","$3cf76165ec7f8ace$export$75de4c8c66884e04","$3cf76165ec7f8ace$export$7739cfe68d4e0799","$134055608cfdbbf1$var$sqrt3","$134055608cfdbbf1$export$2e2bcd8739ae039","draw","$77cd44e2ac6dc1c2$export$2e2bcd8739ae039","$6389eccbe795c95c$export$2e2bcd8739ae039","$42af998bb354705d$var$tan30","$42af998bb354705d$var$tan30_2","$42af998bb354705d$export$2e2bcd8739ae039","$f2564dd3ed0020e5$export$2e2bcd8739ae039","$6eee48c5df32b70c$export$2e2bcd8739ae039","$1dda04e919c4f021$export$2e2bcd8739ae039","$efaaae86227c5844$export$2e2bcd8739ae039","$4ff326387f52757d$var$kr","$4ff326387f52757d$var$kx","$4ff326387f52757d$var$ky","$4ff326387f52757d$export$2e2bcd8739ae039","$d45526fd1ffbd617$var$sqrt3","$d45526fd1ffbd617$export$2e2bcd8739ae039","$70a1b9646572faf7$var$sqrt3","$70a1b9646572faf7$export$2e2bcd8739ae039","$6b5c98530d683be5$var$c","$6b5c98530d683be5$var$s","$6b5c98530d683be5$var$k","$6b5c98530d683be5$var$a","$6b5c98530d683be5$export$2e2bcd8739ae039","$91f4a6205a1a3d92$export$2e2bcd8739ae039","$497fe223f0c7b3e8$export$19158c96a6700c15","$497fe223f0c7b3e8$export$915e06de6acf8fe","$497fe223f0c7b3e8$export$2e2bcd8739ae039","$72ccadd7b0a5f010$export$2e2bcd8739ae039","$4fcc1327a5d07e55$export$105684a3041cb6f3","$4fcc1327a5d07e55$export$957f7263e89bedd2","$4fcc1327a5d07e55$export$2e2bcd8739ae039","$183ce554afe8c6f0$var$BasisClosed","$183ce554afe8c6f0$export$2e2bcd8739ae039","$a34a32e088f640bf$var$BasisOpen","$a34a32e088f640bf$export$2e2bcd8739ae039","$f6400194fd6a0bdb$var$Bundle","_basis","_beta","_x2","_x3","_x4","_y2","_y3","_y4","$f6400194fd6a0bdb$export$2e2bcd8739ae039","bundle","$c90bcdedc71457ea$export$105684a3041cb6f3","_k","$c90bcdedc71457ea$export$ee51ff373511cbeb","tension","$c90bcdedc71457ea$export$2e2bcd8739ae039","cardinal","$73ff40c99770ef6d$export$da3940d7e9162858","_x5","_y5","$73ff40c99770ef6d$export$2e2bcd8739ae039","$a213115754da7990$export$cd7d1a617282f2f1","$a213115754da7990$export$2e2bcd8739ae039","$4db5f4f17c3a16b3$export$105684a3041cb6f3","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","$4db5f4f17c3a16b3$var$CatmullRom","_alpha","x23","y23","$4db5f4f17c3a16b3$export$2e2bcd8739ae039","catmullRom","$f936d5ffcfb25824$var$CatmullRomClosed","$f936d5ffcfb25824$export$2e2bcd8739ae039","$341349acb9991726$var$CatmullRomOpen","$341349acb9991726$export$2e2bcd8739ae039","$35e56ad4997e8f65$var$LinearClosed","$35e56ad4997e8f65$export$2e2bcd8739ae039","$cab75dc01e66b193$var$sign","$cab75dc01e66b193$var$slope3","$cab75dc01e66b193$var$slope2","$cab75dc01e66b193$var$point","$cab75dc01e66b193$var$MonotoneX","$cab75dc01e66b193$var$MonotoneY","$cab75dc01e66b193$var$ReflectContext","$cab75dc01e66b193$export$99563b5420dbdc55","$cab75dc01e66b193$export$8b5360456d6bdb88","$ecaddebfc9069a1b$var$Natural","$ecaddebfc9069a1b$var$controlPoints","$ecaddebfc9069a1b$export$2e2bcd8739ae039","$1262f1c88e9696b5$var$Step","_t","$1262f1c88e9696b5$export$2e2bcd8739ae039","$1262f1c88e9696b5$export$10eafa5b7478b343","$1262f1c88e9696b5$export$793b3db073781cbb","$c64e8c12a3952a1f$export$2e2bcd8739ae039","series","$6392d700c6254b89$export$2e2bcd8739ae039","$73c272f50974b1c6$var$stackValue","$73c272f50974b1c6$var$stackSeries","$73c272f50974b1c6$export$2e2bcd8739ae039","stack","oz","sz","$51565f53ec41433e$export$2e2bcd8739ae039","$d09434863b8b6e3d$export$2e2bcd8739ae039","yn","$95481d90954f4963$export$2e2bcd8739ae039","$ffb6de494d457d9e$export$2e2bcd8739ae039","s2","si","sij0","s3","$e4e2d1e78c331793$export$2e2bcd8739ae039","peaks","$e4e2d1e78c331793$var$peak","vi","vj","$913764245d665e2c$export$2e2bcd8739ae039","$913764245d665e2c$export$8a63f25cc62965f1","$68d1e6105a476da6$export$2e2bcd8739ae039","$ce234225308b920e$export$2e2bcd8739ae039","tops","bottoms","$ba9e5360bfebb59e$export$2e2bcd8739ae039","_t0","$33cd1bbab5277664$export$491f7bf2e88d83ce","$33cd1bbab5277664$export$2e2bcd8739ae039","toISOString","$a83cd7f3979a4bad$export$2e2bcd8739ae039","$a3747dc08dcc0650$export$2e2bcd8739ae039","total","_restart","$4aeb7326706b2467$export$2e2bcd8739ae039","$7a8a51016481311d$export$2e2bcd8739ae039","$a3c1094a2e8782d7$export$563a914cafbdc389","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","$a3c1094a2e8782d7$export$f0954fd7d5368655","$a3c1094a2e8782d7$export$2e2bcd8739ae039","__zoom","$b2e4663bd9fbfcc1$export$2e2561858db9bf47","$b2e4663bd9fbfcc1$export$2e2bcd8739ae039","$91e02783b8b1c24a$var$defaultFilter","$91e02783b8b1c24a$var$defaultExtent","SVGElement","clientWidth","clientHeight","$91e02783b8b1c24a$var$defaultTransform","$91e02783b8b1c24a$var$defaultWheelDelta","deltaY","deltaMode","$91e02783b8b1c24a$var$defaultTouchable","$91e02783b8b1c24a$var$defaultConstrain","translateExtent","$91e02783b8b1c24a$export$2e2bcd8739ae039","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","__zooming","Gesture","taps","wheel","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","translateBy","translateTo","$cfae44f0dfdf62c0$var$cachedSetTimeout","$cfae44f0dfdf62c0$var$cachedClearTimeout","$cfae44f0dfdf62c0$var$process","$cfae44f0dfdf62c0$exports","$cfae44f0dfdf62c0$var$defaultSetTimout","$cfae44f0dfdf62c0$var$defaultClearTimeout","$cfae44f0dfdf62c0$var$runTimeout","fun","$cfae44f0dfdf62c0$var$currentQueue","$cfae44f0dfdf62c0$var$queue","$cfae44f0dfdf62c0$var$draining","$cfae44f0dfdf62c0$var$queueIndex","$cfae44f0dfdf62c0$var$cleanUpNextTick","$cfae44f0dfdf62c0$var$drainQueue","timeout","len","run","marker","$cfae44f0dfdf62c0$var$runClearTimeout","$cfae44f0dfdf62c0$var$Item","$cfae44f0dfdf62c0$var$noop","nextTick","title","browser","env","version","versions","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","$ad07a536a7534694$exports","hr","uptime","getTime","$9161a37c5225314c$var$root","$parcel$global","$9161a37c5225314c$var$vendors","$9161a37c5225314c$var$suffix","$9161a37c5225314c$var$raf","$9161a37c5225314c$var$caf","$9161a37c5225314c$var$i","$9161a37c5225314c$var$last","$9161a37c5225314c$var$id","$9161a37c5225314c$var$queue","_now","cancelled","$9161a37c5225314c$exports","fn","polyfill","cancelAnimationFrame","$396f605711fc18d5$exports","color_string","substr","simple_colors","feldspar","lightslateblue","violetred","color_defs","re","example","process","bits","parseFloat","processor","toRGB","toRGBA","toHex","getHelpXML","examples","list_item","list_color","RGBColor","example_div","cssText","createTextNode","list_item_value","extendStatics","setPrototypeOf","__proto__","__extends","__","str","_a","rad","assertNumbers","numbers","annotateArcCommand","lArcFlag","sweepFlag","rX","rY","xRot","x1_","y1_","testValue","c_ScaleTemp","c_Scale","cx_","cy_","cRot","cX","cY","intersectionUnitCircleLine","termSqr","term","SVGPathDataTransformer","DEG","lerp","arcAt","phiDeg","bezierRoot","EPS","x12","PRECISION","discriminantX4","bezierAt","TO_ABS","INFO","command","prevX","prevY","relative","NORMALIZE_ST","prevCurveC2X","prevCurveC2Y","prevQuadCX","prevQuadCY","SVGPathData","SMOOTH_CURVE_TO","CURVE_TO","SMOOTH_QUAD_TO","QUAD_TO","QT_TO_C","prevQuadX1","prevQuadY1","prevXAbs","prevYAbs","pathStartXAbs","pathStartYAbs","MOVE_TO","CLOSE_PATH","MATRIX","pathStartX","origX1","origX2","comRel","sqr","HORIZ_LINE_TO","LINE_TO","VERT_LINE_TO","sinRot","cosRot","xCurve","yCurve","A1","B1","C1","newXRot","newSinRot","newCosRot","roundVal","rf","val","normalizeZ","normalizeH","normalizeV","pathStartY","ARC","skip","x1Rel","y1Rel","LINE_COMMANDS","xRel","yRel","x2Rel","y2Rel","dX","dY","xOffset","yOffset","phiMin","partCount","phiStart","phiEnd","deltaPhi_1","_e","_f","_g","xTemp","yTemp","_b","_c","_d","toAbs","qtToC","normST","fixX","absX","fixY","absY","DRAWING_COMMANDS","xDerivRoots_1","derivRoot","yDerivRoots_1","xRotRad","x90","y90","phiMin_1","phiMax","normalizeXiEta","eta","xDerivRoots_2","yDerivRoots_2","$476e72a94ce3adba$var$O","$476e72a94ce3adba$var$l","TransformableSVG","ROUND","TO_REL","NORMALIZE_HVZ","A_TO_C","eps","SANITIZE","TRANSLATE","SCALE","ROTATE","SKEW_X","SKEW_Y","X_AXIS_SYMMETRY","Y_AXIS_SYMMETRY","ANNOTATE_ARCS","isWhiteSpace","isDigit","$476e72a94ce3adba$export$93ceea106e074429","_super","_this","SVGPathDataParser","commands","curArgs","canParseCommandOrComma","SyntaxError","finishCommand","isAArcFlag","curCommandType","curNumber","isEndingDigit","curNumberHasExp","curNumberHasExpDigits","curNumberHasDecimal","COMMAND_ARG_COUNTS","curCommandRelative","chunk","parsedCommands_1","getPrototypeOf","cT","content","encode","boundsTransform","CALCULATE_BOUNDS","transformFunction","newCommands","transformedCommand","encodeSVGPath","parser","finish","$a03863992cdf6103$var$_typeof","obj","$a03863992cdf6103$var$mulTable","$a03863992cdf6103$var$shgTable","$a03863992cdf6103$var$getImageDataFromCanvas","canvas","topX","topY","getElementById","getContext","getImageData","$a03863992cdf6103$export$2dd10362761f44f5","imageData","stackEnd","pixels","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","$a03863992cdf6103$export$c7ee5523f3ead121","stackIn","stackOut","yw","mulSum","shgSum","pg","pb","rInSum","gInSum","bInSum","aInSum","rOutSum","gOutSum","bOutSum","aOutSum","rSum","gSum","bSum","aSum","_i2","rbs","paInitial","_a2","_p","_stackOut","_r","_pr","_pg","_pb","_pa","_rOutSum","_gOutSum","_bOutSum","_aOutSum","_rSum","_gSum","_bSum","_aSum","_i3","_gInSum","_bInSum","_aInSum","_rInSum","_i4","_rbs","_p2","$a03863992cdf6103$export$95ea1a5e72bf4fa5","putImageData","BlurStack","instance","Constructor","$a03863992cdf6103$var$_classCallCheck","compressSpaces","toNumbers","allUppercase","parseExternalUrl","url","urlMatch","attributeRegex","idRegex","classRegex","pseudoElementRegex","pseudoClassWithBracketsRegex","pseudoClassRegex","elementRegex","findSelectorMatch","regex","PSEUDO_ZERO","vectorMagnitude","vectorsRatio","vectorsAngle","CB1","CB2","CB3","CB4","QB1","QB2","QB3","Property","separator","getString","hasValue","zeroIsValue","isString","regexp","isUrlDefinition","isPixels","asString","endsWith","setValue","getValue","def","getNumber","getColor","isNormalizedColor","normalizeColor","startsWith","rgbParts","num","isFloat","getDpi","getRem","rootEmSize","getEm","emSize","getUnits","getPixels","axisOrIsFontSize","processPercent","isFontSize","viewPort","screen","computeSize","getRadians","getDefinition","definitions","getFillStyleDefinition","createGradient","ctx","createPattern","getHrefAttribute","patternTransform","getTextBaseline","textBaselineMapping","addOpacity","commas","baseline","middle","central","ideographic","alphabetic","hanging","mathematical","ViewPort","viewPorts","setCurrent","removeCurrent","getRoot","getDefault","getCurrent","DEFAULT_VIEWPORT_WIDTH","DEFAULT_VIEWPORT_HEIGHT","defaultValue","parseScale","parsePath","pathPoints","angleTo","applyTransform","Mouse","isWorking","working","onClick","onMouseMove","onclick","onmousemove","hasEvents","runEvents","eventElements","cursor","param","checkPath","isPointInPath","checkBoundingBox","boundingBox","isPointInBox","mapXY","offsetLeft","offsetTop","offsetParent","scrollX","scrollY","eventTarget","defaultWindow","defaultFetch","Screen","wait","checker","waits","ready","readyPromise","isReady","isReadyLock","resolveReady","setDefaults","strokeStyle","lineCap","lineJoin","miterLimit","setViewBox","aspectRatio","desiredWidth","desiredHeight","refX","refY","clipX","clipY","cleanAspectRatio","aspectRatioAlign","aspectRatioMeetOrSlice","meetOrSlice","scaleMin","scaleMax","finalDesiredWidth","finalDesiredHeight","refXProp","refYProp","hasRefs","scaledClipX","scaledClipY","beginPath","isMeetMinY","isSliceMaxY","isMeetMinX","isSliceMaxX","enableRedraw","ignoreMouse","ignoreAnimation","ignoreDimensions","ignoreClear","forceRedraw","scaleWidth","scaleHeight","offsetX","offsetY","frameDuration","FRAMERATE","shouldUpdate","intervalId","animations","animation","isFirstRender","widthStyle","getStyle","heightStyle","cWidth","cHeight","xRatio","yRatio","transformStyle","clearRect","MAX_VIRTUAL_PIXELS","DefaultDOMParser","Parser","resource","load","checkDocument","err","parserError","getElementsByTagName","Matrix","originX","originY","unapply","applyToPoint","transformOrigin","toMatrixValue","Skew","skew","Transform","fromElement","transformOriginXProperty","transformOriginYProperty","transforms","parseTransform","TransformType","transformTypes","Translate","Rotate","Scale","scaleSize","SkewX","skewY","SkewY","Element","createIfNotExists","attributes","href","skipAncestors","styles","parentStyle","save","mask","applyEffects","setContext","renderChildren","clearContext","restore","clipPathStyleProp","addChild","childNode","ignoreChildTypes","includes","matchesSelector","styleClasses","styleClass","addStylesFromStyleDefinition","stylesSpecificity","styleProp","specificity","existingSpecificity","removeStyles","ignoreStyles","toRestore","restoreStyles","isFirstChild","ref","captureTextNodes","animationFrozen","animationFrozenValue","nodeType","attribute","nodeName","normalizeAttributeName","childNodes","textNode","getText","UnknownElement","wrapFontFamily","fontFamily","trimmed","prepareFontStyle","fontStyle","targetFontStyle","prepareFontWeight","fontWeight","targetFontWeight","Font","font","fontVariant","fontSize","parts","part","variants","weights","prepareFontFamily","inheritFont","BoundingBox","addPoint","addX","addY","addBoundingBox","sumCubic","bezierCurveAdd","forX","b2ac","addBezierCurve","p0x","p0y","p1x","p1y","p2x","p2y","p3x","p3y","addQuadraticCurve","cp1x","cp1y","cp2x","cp2y","RenderedElement","calculateOpacity","opacityStyle","fromMeasure","fillStyleProp","fillOpacityStyleProp","strokeStyleProp","strokeOpacityProp","fillStyle","strokeWidthStyleProp","newLineWidth","lineWidth","strokeLinecapStyleProp","strokeLinejoinStyleProp","strokeMiterlimitProp","strokeDasharrayStyleProp","strokeDashoffsetProp","gaps","setLineDash","webkitLineDash","mozDash","lineDashOffset","webkitLineDashOffset","mozDashOffset","modifiedEmSizeStack","fontStyleProp","fontStyleStyleProp","fontVariantStyleProp","fontWeightStyleProp","fontSizeStyleProp","fontFamilyStyleProp","globalAlpha","popEmSize","TextElement","textBaseline","initializeCoordinates","leafTexts","textChunkStart","POSITIVE_INFINITY","NEGATIVE_INFINITY","getBoundingBox","getTElementBoundingBox","adjustChildCoordinatesRecursive","childBoundingBox","getChildBoundingBox","getFontSize","inheritFontSize","measureText","getGlyph","char","glyph","isArabic","prevChar","nextChar","arabicForm","arabicGlyphs","glyphs","missingGlyph","getTextFromNode","trimRight","renderTElementChildren","renderChild","renderText","customFont","unitsPerEm","fontFace","ctxFont","isRTL","lw","horizAdvX","fillText","strokeText","applyAnchoring","firstElement","textAnchor","adjustChildCoordinatesRecursiveCore","textParent","adjustChildCoordinates","xAttr","yAttr","dxAttr","dyAttr","Boolean","getInheritedAttribute","measureCache","measureTargetText","targetText","parentAttr","TSpanElement","TextNode","PathParser","previousCommand","control","angles","isEnd","getPoint","xProp","yProp","makeAbsolute","getAsControlPoint","getAsCurrentPoint","getReflectedControlPoint","addMarker","priorTo","addMarkerAngle","getMarkerPoints","getMarkerAngles","PathElement","pathParser","pathM","pathL","pathH","pathV","pathC","pathS","pathQ","pathT","pathA","pathZ","_ctx","getMarkers","fillRuleStyleProp","setTransform","stroke","markers","markersLastIndex","markerStartStyleProp","markerMidStyleProp","markerEndStyleProp","controlPoint","currentPoint","xAxisRotation","currp","cpp","centp","ad","ah","halfWay","fontSizeProp","refXAttr","refYAttr","viewBoxAttr","preserveAspectRatio","widthAttr","heightAttr","styleAttr","originWidth","originHeight","preserveAspectRatioAttr","RectElement","rxAttr","ryAttr","KAPPA","PolylineElement","GElement","GradientElement","getGradientUnits","parentOpacityProp","stopsContainer","inheritStopContainer","stops","gradient","getGradient","addParentOpacity","addColorStop","rootView","patternSvg","patternCanvas","createCanvas","patternCtx","attributesToInherit","attributeToInherit","AnimateElement","getProperty","attributeType","attributeName","calcValue","initialUnits","progress","getProgress","newValue","prop","initialValue","maxDuration","frozen","removed","updated","begin","typeAttr","lb","ub","valuesAttr","FontFaceElement","ascent","descent","GlyphElement","unicode","MissingGlyphElement","dataUriRegex","SVGFontLoader","fonts","canvg","fontNode","console","loaded","StyleElement","cssParts","cssClasses","cssProps","cssClass","props","cssProp","getSelectorSpecificity","currentSelector","imGet","img","_height","rgba","imSet","m3","FeColorMatrixElement","includeOpacity","srcData","nr","ng","MaskElement","ignoredStyles","maskCanvas","maskCtx","tmpCanvas","tmpCtx","globalCompositeOperation","fillRect","noop","FilterElement","efd","extraFilterDistance","tmpCanvasWidth","tmpCanvasHeight","drawImage","elements","CircleElement","ellipse","EllipseElement","LineElement","getPoints","polyline","PolygonElement","pattern","PatternElement","Reflect","deleteProperty","MarkerElement","markerUnits","markerSvg","overflow","defs","DefsElement","linearGradient","LinearGradientElement","isBoundingBoxUnits","createLinearGradient","radialGradient","RadialGradientElement","fr","createRadialGradient","StopElement","stopOpacity","stopColor","animate","animateColor","AnimateColorElement","colorFrom","colorTo","animateTransform","AnimateTransformElement","transformFrom","transformTo","FontElement","fontFamilyStyle","arabicGlyph","tspan","tref","TRefElement","AElement","hasText","open","textPath","TextPathElement","dataArray","dTheta","psi","fs","setTextData","textDecoration","glyphInfo","partialText","getLetterSpacingAt","idx","letterSpacingCache","findSegmentToFitChar","anchor","textFullWidth","fullPathWidth","spacesNumber","inputOffset","charI","glyphWidth","splineStep","textHeight","getEquidistantPointOnPath","dyX","dyY","measuresCache","chars","thisSpacing","parentSpacing","letterSpacing","textLen","dxSum","textWidth","getPathLength","startOffset","nextOffset","parsePathData","pathLength","pathCommands","startX","startY","nextCommandType","calcLength","commandType","getLineLength","getPointOnCubicBezier","getPointOnQuadraticBezier","getPointOnEllipticalArc","getPointOnLine","dist","fromX","fromY","rise","pt","ix","iy","pRise","pRun","getPointOnPath","fullLen","cumulativePathLength","currentT","pct","p4x","p4y","cosPsi","sinPsi","buildEquidistantCache","inputStep","inputPrecision","equidistantCache","targetDistance","pathElement","ImageElement","loadImage","createImage","loadSvg","atob","decodeURIComponent","subDocument","forkString","complete","isSvg","images","SymbolElement","use","UseElement","tempSvg","oldParent","elementTransform","cachedElement","clipPath","ClipPathElement","contextProto","feDropShadow","FeDropShadowElement","_width","feMorphology","FeMorphologyElement","feComposite","FeCompositeElement","feColorMatrix","feGaussianBlur","FeGaussianBlurElement","blurRadius","body","getUniqueId","display","canvasRGBA","TitleElement","desc","DescElement","Document","bindCreateImage","anonymousCrossOrigin","forceAnonymousCrossOrigin","emSizeStack","uniqueId","isImagesLoaded","isFontsLoaded","createDocumentElement","elementType","ElementType","elementTypes","config","DEFAULT_EM_SIZE","crossOrigin","_event","_source","_lineno","_colno","Canvg","svgDocument","fromString","fork","baseOptions","$a6df9c40ba402dc9$export$91cdf2d44352938c","encoded","$a6df9c40ba402dc9$var$toUserData","originalData","userData","selected","$a6df9c40ba402dc9$export$15ff1df8f24a7755","URL","searchParams","btoa","$a6df9c40ba402dc9$export$74cddf083a9b9631","clipboard","writeText","$a6df9c40ba402dc9$export$5e3bc6f9d5e187a3","userDataForDownload","createObjectURL","Blob","$a6df9c40ba402dc9$var$downloadFile","file","$a6df9c40ba402dc9$export$cf629b29f6b8313d","async","chartWidth","chartHeight","svgData","XMLSerializer","serializeToString","$93fc0d1658f0115d$export$c401b789680a0e53","dataUrl","toDataURL","download","click","$613de9ab76ae1b70$exports","$dde3d2082d2857ac$exports","$22b18e23564de7e8$exports","$parcel$interopDefault","getKeyElement","getKeyCol","getKeyRow","selectionMargin","selectionGroup","renderSelection","selectionWidth","selectionHeight","alert","$388b617130f03bd4$var$renderChart"],"version":3,"file":"index.9a11273a.js.map"}